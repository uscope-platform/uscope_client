var s6=Object.defineProperty;var l6=(e,t,r)=>t in e?s6(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var xr=(e,t,r)=>(l6(e,typeof t!="symbol"?t+"":t,r),r);function u6(e,t){for(var r=0;r<t.length;r++){const i=t[r];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in e)){const n=Object.getOwnPropertyDescriptor(i,o);n&&Object.defineProperty(e,o,n.get?n:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function r(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(o){if(o.ep)return;o.ep=!0;const n=r(o);fetch(o.href,n)}})();var Ba=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function cl(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function RS(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function i(){if(this instanceof i){var o=[null];o.push.apply(o,arguments);var n=Function.bind.apply(t,o);return new n}return t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var o=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(r,i,o.get?o:{enumerable:!0,get:function(){return e[i]}})}),r}var OS={exports:{}},fp={},IS={exports:{}},nn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ff=Symbol.for("react.element"),c6=Symbol.for("react.portal"),f6=Symbol.for("react.fragment"),d6=Symbol.for("react.strict_mode"),h6=Symbol.for("react.profiler"),p6=Symbol.for("react.provider"),v6=Symbol.for("react.context"),m6=Symbol.for("react.forward_ref"),g6=Symbol.for("react.suspense"),y6=Symbol.for("react.memo"),_6=Symbol.for("react.lazy"),T2=Symbol.iterator;function b6(e){return e===null||typeof e!="object"?null:(e=T2&&e[T2]||e["@@iterator"],typeof e=="function"?e:null)}var NS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},FS=Object.assign,$S={};function wu(e,t,r){this.props=e,this.context=t,this.refs=$S,this.updater=r||NS}wu.prototype.isReactComponent={};wu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};wu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function zS(){}zS.prototype=wu.prototype;function Ey(e,t,r){this.props=e,this.context=t,this.refs=$S,this.updater=r||NS}var Ly=Ey.prototype=new zS;Ly.constructor=Ey;FS(Ly,wu.prototype);Ly.isPureReactComponent=!0;var A2=Array.isArray,HS=Object.prototype.hasOwnProperty,Dy={current:null},BS={key:!0,ref:!0,__self:!0,__source:!0};function jS(e,t,r){var i,o={},n=null,a=null;if(t!=null)for(i in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(n=""+t.key),t)HS.call(t,i)&&!BS.hasOwnProperty(i)&&(o[i]=t[i]);var s=arguments.length-2;if(s===1)o.children=r;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];o.children=l}if(e&&e.defaultProps)for(i in s=e.defaultProps,s)o[i]===void 0&&(o[i]=s[i]);return{$$typeof:ff,type:e,key:n,ref:a,props:o,_owner:Dy.current}}function w6(e,t){return{$$typeof:ff,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Py(e){return typeof e=="object"&&e!==null&&e.$$typeof===ff}function x6(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var k2=/\/+/g;function rm(e,t){return typeof e=="object"&&e!==null&&e.key!=null?x6(""+e.key):t.toString(36)}function Dd(e,t,r,i,o){var n=typeof e;(n==="undefined"||n==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(n){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case ff:case c6:a=!0}}if(a)return a=e,o=o(a),e=i===""?"."+rm(a,0):i,A2(o)?(r="",e!=null&&(r=e.replace(k2,"$&/")+"/"),Dd(o,t,r,"",function(u){return u})):o!=null&&(Py(o)&&(o=w6(o,r+(!o.key||a&&a.key===o.key?"":(""+o.key).replace(k2,"$&/")+"/")+e)),t.push(o)),1;if(a=0,i=i===""?".":i+":",A2(e))for(var s=0;s<e.length;s++){n=e[s];var l=i+rm(n,s);a+=Dd(n,t,r,l,o)}else if(l=b6(e),typeof l=="function")for(e=l.call(e),s=0;!(n=e.next()).done;)n=n.value,l=i+rm(n,s++),a+=Dd(n,t,r,l,o);else if(n==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Yf(e,t,r){if(e==null)return e;var i=[],o=0;return Dd(e,i,"","",function(n){return t.call(r,n,o++)}),i}function S6(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ni={current:null},Pd={transition:null},C6={ReactCurrentDispatcher:Ni,ReactCurrentBatchConfig:Pd,ReactCurrentOwner:Dy};nn.Children={map:Yf,forEach:function(e,t,r){Yf(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Yf(e,function(){t++}),t},toArray:function(e){return Yf(e,function(t){return t})||[]},only:function(e){if(!Py(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};nn.Component=wu;nn.Fragment=f6;nn.Profiler=h6;nn.PureComponent=Ey;nn.StrictMode=d6;nn.Suspense=g6;nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=C6;nn.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=FS({},e.props),o=e.key,n=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(n=t.ref,a=Dy.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)HS.call(t,l)&&!BS.hasOwnProperty(l)&&(i[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];i.children=s}return{$$typeof:ff,type:e.type,key:o,ref:n,props:i,_owner:a}};nn.createContext=function(e){return e={$$typeof:v6,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:p6,_context:e},e.Consumer=e};nn.createElement=jS;nn.createFactory=function(e){var t=jS.bind(null,e);return t.type=e,t};nn.createRef=function(){return{current:null}};nn.forwardRef=function(e){return{$$typeof:m6,render:e}};nn.isValidElement=Py;nn.lazy=function(e){return{$$typeof:_6,_payload:{_status:-1,_result:e},_init:S6}};nn.memo=function(e,t){return{$$typeof:y6,type:e,compare:t===void 0?null:t}};nn.startTransition=function(e){var t=Pd.transition;Pd.transition={};try{e()}finally{Pd.transition=t}};nn.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};nn.useCallback=function(e,t){return Ni.current.useCallback(e,t)};nn.useContext=function(e){return Ni.current.useContext(e)};nn.useDebugValue=function(){};nn.useDeferredValue=function(e){return Ni.current.useDeferredValue(e)};nn.useEffect=function(e,t){return Ni.current.useEffect(e,t)};nn.useId=function(){return Ni.current.useId()};nn.useImperativeHandle=function(e,t,r){return Ni.current.useImperativeHandle(e,t,r)};nn.useInsertionEffect=function(e,t){return Ni.current.useInsertionEffect(e,t)};nn.useLayoutEffect=function(e,t){return Ni.current.useLayoutEffect(e,t)};nn.useMemo=function(e,t){return Ni.current.useMemo(e,t)};nn.useReducer=function(e,t,r){return Ni.current.useReducer(e,t,r)};nn.useRef=function(e){return Ni.current.useRef(e)};nn.useState=function(e){return Ni.current.useState(e)};nn.useSyncExternalStore=function(e,t,r){return Ni.current.useSyncExternalStore(e,t,r)};nn.useTransition=function(){return Ni.current.useTransition()};nn.version="18.2.0";IS.exports=nn;var ot=IS.exports;const Fn=cl(ot),Oc=u6({__proto__:null,default:Fn},[ot]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T6=ot,A6=Symbol.for("react.element"),k6=Symbol.for("react.fragment"),M6=Object.prototype.hasOwnProperty,E6=T6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,L6={key:!0,ref:!0,__self:!0,__source:!0};function US(e,t,r){var i,o={},n=null,a=null;r!==void 0&&(n=""+r),t.key!==void 0&&(n=""+t.key),t.ref!==void 0&&(a=t.ref);for(i in t)M6.call(t,i)&&!L6.hasOwnProperty(i)&&(o[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps,t)o[i]===void 0&&(o[i]=t[i]);return{$$typeof:A6,type:e,key:n,ref:a,props:o,_owner:E6.current}}fp.Fragment=k6;fp.jsx=US;fp.jsxs=US;OS.exports=fp;var Je=OS.exports,WS={exports:{}},ua={},VS={exports:{}},GS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(U,V){var Z=U.length;U.push(V);e:for(;0<Z;){var z=Z-1>>>1,H=U[z];if(0<o(H,V))U[z]=V,U[Z]=H,Z=z;else break e}}function r(U){return U.length===0?null:U[0]}function i(U){if(U.length===0)return null;var V=U[0],Z=U.pop();if(Z!==V){U[0]=Z;e:for(var z=0,H=U.length,B=H>>>1;z<B;){var W=2*(z+1)-1,F=U[W],K=W+1,fe=U[K];if(0>o(F,Z))K<H&&0>o(fe,F)?(U[z]=fe,U[K]=Z,z=K):(U[z]=F,U[W]=Z,z=W);else if(K<H&&0>o(fe,Z))U[z]=fe,U[K]=Z,z=K;else break e}}return V}function o(U,V){var Z=U.sortIndex-V.sortIndex;return Z!==0?Z:U.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var n=performance;e.unstable_now=function(){return n.now()}}else{var a=Date,s=a.now();e.unstable_now=function(){return a.now()-s}}var l=[],u=[],c=1,h=null,v=3,f=!1,m=!1,_=!1,g=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(U){for(var V=r(u);V!==null;){if(V.callback===null)i(u);else if(V.startTime<=U)i(u),V.sortIndex=V.expirationTime,t(l,V);else break;V=r(u)}}function y(U){if(_=!1,b(U),!m)if(r(l)!==null)m=!0,O(x);else{var V=r(u);V!==null&&I(y,V.startTime-U)}}function x(U,V){m=!1,_&&(_=!1,p(S),S=-1),f=!0;var Z=v;try{for(b(V),h=r(l);h!==null&&(!(h.expirationTime>V)||U&&!D());){var z=h.callback;if(typeof z=="function"){h.callback=null,v=h.priorityLevel;var H=z(h.expirationTime<=V);V=e.unstable_now(),typeof H=="function"?h.callback=H:h===r(l)&&i(l),b(V)}else i(l);h=r(l)}if(h!==null)var B=!0;else{var W=r(u);W!==null&&I(y,W.startTime-V),B=!1}return B}finally{h=null,v=Z,f=!1}}var w=!1,C=null,S=-1,T=5,M=-1;function D(){return!(e.unstable_now()-M<T)}function k(){if(C!==null){var U=e.unstable_now();M=U;var V=!0;try{V=C(!0,U)}finally{V?R():(w=!1,C=null)}}else w=!1}var R;if(typeof d=="function")R=function(){d(k)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,E=P.port2;P.port1.onmessage=k,R=function(){E.postMessage(null)}}else R=function(){g(k,0)};function O(U){C=U,w||(w=!0,R())}function I(U,V){S=g(function(){U(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_continueExecution=function(){m||f||(m=!0,O(x))},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(U){switch(v){case 1:case 2:case 3:var V=3;break;default:V=v}var Z=v;v=V;try{return U()}finally{v=Z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(U,V){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var Z=v;v=U;try{return V()}finally{v=Z}},e.unstable_scheduleCallback=function(U,V,Z){var z=e.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?z+Z:z):Z=z,U){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=Z+H,U={id:c++,callback:V,priorityLevel:U,startTime:Z,expirationTime:H,sortIndex:-1},Z>z?(U.sortIndex=Z,t(u,U),r(l)===null&&U===r(u)&&(_?(p(S),S=-1):_=!0,I(y,Z-z))):(U.sortIndex=H,t(l,U),m||f||(m=!0,O(x))),U},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(U){var V=v;return function(){var Z=v;v=V;try{return U.apply(this,arguments)}finally{v=Z}}}})(GS);VS.exports=GS;var D6=VS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YS=ot,oa=D6;function ur(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var KS=new Set,Ic={};function fl(e,t){ru(e,t),ru(e+"Capture",t)}function ru(e,t){for(Ic[e]=t,e=0;e<t.length;e++)KS.add(t[e])}var Ao=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),L0=Object.prototype.hasOwnProperty,P6=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,M2={},E2={};function R6(e){return L0.call(E2,e)?!0:L0.call(M2,e)?!1:P6.test(e)?E2[e]=!0:(M2[e]=!0,!1)}function O6(e,t,r,i){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function I6(e,t,r,i){if(t===null||typeof t>"u"||O6(e,t,r,i))return!0;if(i)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Fi(e,t,r,i,o,n,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=o,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=n,this.removeEmptyString=a}var mi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){mi[e]=new Fi(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];mi[t]=new Fi(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){mi[e]=new Fi(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){mi[e]=new Fi(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){mi[e]=new Fi(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){mi[e]=new Fi(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){mi[e]=new Fi(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){mi[e]=new Fi(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){mi[e]=new Fi(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ry=/[\-:]([a-z])/g;function Oy(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ry,Oy);mi[t]=new Fi(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ry,Oy);mi[t]=new Fi(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ry,Oy);mi[t]=new Fi(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){mi[e]=new Fi(e,1,!1,e.toLowerCase(),null,!1,!1)});mi.xlinkHref=new Fi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){mi[e]=new Fi(e,1,!1,e.toLowerCase(),null,!0,!0)});function Iy(e,t,r,i){var o=mi.hasOwnProperty(t)?mi[t]:null;(o!==null?o.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(I6(t,r,o,i)&&(r=null),i||o===null?R6(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):o.mustUseProperty?e[o.propertyName]=r===null?o.type===3?!1:"":r:(t=o.attributeName,i=o.attributeNamespace,r===null?e.removeAttribute(t):(o=o.type,r=o===3||o===4&&r===!0?"":""+r,i?e.setAttributeNS(i,t,r):e.setAttribute(t,r))))}var Ro=YS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Kf=Symbol.for("react.element"),Ml=Symbol.for("react.portal"),El=Symbol.for("react.fragment"),Ny=Symbol.for("react.strict_mode"),D0=Symbol.for("react.profiler"),XS=Symbol.for("react.provider"),ZS=Symbol.for("react.context"),Fy=Symbol.for("react.forward_ref"),P0=Symbol.for("react.suspense"),R0=Symbol.for("react.suspense_list"),$y=Symbol.for("react.memo"),Vo=Symbol.for("react.lazy"),JS=Symbol.for("react.offscreen"),L2=Symbol.iterator;function Wu(e){return e===null||typeof e!="object"?null:(e=L2&&e[L2]||e["@@iterator"],typeof e=="function"?e:null)}var In=Object.assign,nm;function lc(e){if(nm===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);nm=t&&t[1]||""}return`
`+nm+e}var im=!1;function am(e,t){if(!e||im)return"";im=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var i=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){i=u}e.call(t.prototype)}else{try{throw Error()}catch(u){i=u}e()}}catch(u){if(u&&i&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),n=i.stack.split(`
`),a=o.length-1,s=n.length-1;1<=a&&0<=s&&o[a]!==n[s];)s--;for(;1<=a&&0<=s;a--,s--)if(o[a]!==n[s]){if(a!==1||s!==1)do if(a--,s--,0>s||o[a]!==n[s]){var l=`
`+o[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=s);break}}}finally{im=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?lc(e):""}function N6(e){switch(e.tag){case 5:return lc(e.type);case 16:return lc("Lazy");case 13:return lc("Suspense");case 19:return lc("SuspenseList");case 0:case 2:case 15:return e=am(e.type,!1),e;case 11:return e=am(e.type.render,!1),e;case 1:return e=am(e.type,!0),e;default:return""}}function O0(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case El:return"Fragment";case Ml:return"Portal";case D0:return"Profiler";case Ny:return"StrictMode";case P0:return"Suspense";case R0:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ZS:return(e.displayName||"Context")+".Consumer";case XS:return(e._context.displayName||"Context")+".Provider";case Fy:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case $y:return t=e.displayName||null,t!==null?t:O0(e.type)||"Memo";case Vo:t=e._payload,e=e._init;try{return O0(e(t))}catch{}}return null}function F6(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return O0(t);case 8:return t===Ny?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function hs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function QS(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function $6(e){var t=QS(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var o=r.get,n=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(a){i=""+a,n.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(a){i=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Xf(e){e._valueTracker||(e._valueTracker=$6(e))}function qS(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),i="";return e&&(i=QS(e)?e.checked?"true":"false":e.value),e=i,e!==r?(t.setValue(e),!0):!1}function oh(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function I0(e,t){var r=t.checked;return In({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function D2(e,t){var r=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;r=hs(t.value!=null?t.value:r),e._wrapperState={initialChecked:i,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function eC(e,t){t=t.checked,t!=null&&Iy(e,"checked",t,!1)}function N0(e,t){eC(e,t);var r=hs(t.value),i=t.type;if(r!=null)i==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?F0(e,t.type,r):t.hasOwnProperty("defaultValue")&&F0(e,t.type,hs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function P2(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function F0(e,t,r){(t!=="number"||oh(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var uc=Array.isArray;function jl(e,t,r,i){if(e=e.options,t){t={};for(var o=0;o<r.length;o++)t["$"+r[o]]=!0;for(r=0;r<e.length;r++)o=t.hasOwnProperty("$"+e[r].value),e[r].selected!==o&&(e[r].selected=o),o&&i&&(e[r].defaultSelected=!0)}else{for(r=""+hs(r),t=null,o=0;o<e.length;o++){if(e[o].value===r){e[o].selected=!0,i&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function $0(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ur(91));return In({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function R2(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ur(92));if(uc(r)){if(1<r.length)throw Error(ur(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:hs(r)}}function tC(e,t){var r=hs(t.value),i=hs(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),i!=null&&(e.defaultValue=""+i)}function O2(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function rC(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function z0(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?rC(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Zf,nC=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,i,o){MSApp.execUnsafeLocalFunction(function(){return e(t,r,i,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Zf=Zf||document.createElement("div"),Zf.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Zf.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Nc(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var mc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},z6=["Webkit","ms","Moz","O"];Object.keys(mc).forEach(function(e){z6.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),mc[t]=mc[e]})});function iC(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||mc.hasOwnProperty(e)&&mc[e]?(""+t).trim():t+"px"}function aC(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var i=r.indexOf("--")===0,o=iC(r,t[r],i);r==="float"&&(r="cssFloat"),i?e.setProperty(r,o):e[r]=o}}var H6=In({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function H0(e,t){if(t){if(H6[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ur(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ur(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ur(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ur(62))}}function B0(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var j0=null;function zy(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var U0=null,Ul=null,Wl=null;function I2(e){if(e=pf(e)){if(typeof U0!="function")throw Error(ur(280));var t=e.stateNode;t&&(t=mp(t),U0(e.stateNode,e.type,t))}}function oC(e){Ul?Wl?Wl.push(e):Wl=[e]:Ul=e}function sC(){if(Ul){var e=Ul,t=Wl;if(Wl=Ul=null,I2(e),t)for(e=0;e<t.length;e++)I2(t[e])}}function lC(e,t){return e(t)}function uC(){}var om=!1;function cC(e,t,r){if(om)return e(t,r);om=!0;try{return lC(e,t,r)}finally{om=!1,(Ul!==null||Wl!==null)&&(uC(),sC())}}function Fc(e,t){var r=e.stateNode;if(r===null)return null;var i=mp(r);if(i===null)return null;r=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ur(231,t,typeof r));return r}var W0=!1;if(Ao)try{var Vu={};Object.defineProperty(Vu,"passive",{get:function(){W0=!0}}),window.addEventListener("test",Vu,Vu),window.removeEventListener("test",Vu,Vu)}catch{W0=!1}function B6(e,t,r,i,o,n,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(c){this.onError(c)}}var gc=!1,sh=null,lh=!1,V0=null,j6={onError:function(e){gc=!0,sh=e}};function U6(e,t,r,i,o,n,a,s,l){gc=!1,sh=null,B6.apply(j6,arguments)}function W6(e,t,r,i,o,n,a,s,l){if(U6.apply(this,arguments),gc){if(gc){var u=sh;gc=!1,sh=null}else throw Error(ur(198));lh||(lh=!0,V0=u)}}function dl(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function fC(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function N2(e){if(dl(e)!==e)throw Error(ur(188))}function V6(e){var t=e.alternate;if(!t){if(t=dl(e),t===null)throw Error(ur(188));return t!==e?null:e}for(var r=e,i=t;;){var o=r.return;if(o===null)break;var n=o.alternate;if(n===null){if(i=o.return,i!==null){r=i;continue}break}if(o.child===n.child){for(n=o.child;n;){if(n===r)return N2(o),e;if(n===i)return N2(o),t;n=n.sibling}throw Error(ur(188))}if(r.return!==i.return)r=o,i=n;else{for(var a=!1,s=o.child;s;){if(s===r){a=!0,r=o,i=n;break}if(s===i){a=!0,i=o,r=n;break}s=s.sibling}if(!a){for(s=n.child;s;){if(s===r){a=!0,r=n,i=o;break}if(s===i){a=!0,i=n,r=o;break}s=s.sibling}if(!a)throw Error(ur(189))}}if(r.alternate!==i)throw Error(ur(190))}if(r.tag!==3)throw Error(ur(188));return r.stateNode.current===r?e:t}function dC(e){return e=V6(e),e!==null?hC(e):null}function hC(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=hC(e);if(t!==null)return t;e=e.sibling}return null}var pC=oa.unstable_scheduleCallback,F2=oa.unstable_cancelCallback,G6=oa.unstable_shouldYield,Y6=oa.unstable_requestPaint,jn=oa.unstable_now,K6=oa.unstable_getCurrentPriorityLevel,Hy=oa.unstable_ImmediatePriority,vC=oa.unstable_UserBlockingPriority,uh=oa.unstable_NormalPriority,X6=oa.unstable_LowPriority,mC=oa.unstable_IdlePriority,dp=null,ao=null;function Z6(e){if(ao&&typeof ao.onCommitFiberRoot=="function")try{ao.onCommitFiberRoot(dp,e,void 0,(e.current.flags&128)===128)}catch{}}var ja=Math.clz32?Math.clz32:q6,J6=Math.log,Q6=Math.LN2;function q6(e){return e>>>=0,e===0?32:31-(J6(e)/Q6|0)|0}var Jf=64,Qf=4194304;function cc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ch(e,t){var r=e.pendingLanes;if(r===0)return 0;var i=0,o=e.suspendedLanes,n=e.pingedLanes,a=r&268435455;if(a!==0){var s=a&~o;s!==0?i=cc(s):(n&=a,n!==0&&(i=cc(n)))}else a=r&~o,a!==0?i=cc(a):n!==0&&(i=cc(n));if(i===0)return 0;if(t!==0&&t!==i&&!(t&o)&&(o=i&-i,n=t&-t,o>=n||o===16&&(n&4194240)!==0))return t;if(i&4&&(i|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)r=31-ja(t),o=1<<r,i|=e[r],t&=~o;return i}function eL(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tL(e,t){for(var r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,n=e.pendingLanes;0<n;){var a=31-ja(n),s=1<<a,l=o[a];l===-1?(!(s&r)||s&i)&&(o[a]=eL(s,t)):l<=t&&(e.expiredLanes|=s),n&=~s}}function G0(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function gC(){var e=Jf;return Jf<<=1,!(Jf&4194240)&&(Jf=64),e}function sm(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function df(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ja(t),e[t]=r}function rL(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<r;){var o=31-ja(r),n=1<<o;t[o]=0,i[o]=-1,e[o]=-1,r&=~n}}function By(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var i=31-ja(r),o=1<<i;o&t|e[i]&t&&(e[i]|=t),r&=~o}}var gn=0;function yC(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var _C,jy,bC,wC,xC,Y0=!1,qf=[],es=null,ts=null,rs=null,$c=new Map,zc=new Map,Yo=[],nL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $2(e,t){switch(e){case"focusin":case"focusout":es=null;break;case"dragenter":case"dragleave":ts=null;break;case"mouseover":case"mouseout":rs=null;break;case"pointerover":case"pointerout":$c.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zc.delete(t.pointerId)}}function Gu(e,t,r,i,o,n){return e===null||e.nativeEvent!==n?(e={blockedOn:t,domEventName:r,eventSystemFlags:i,nativeEvent:n,targetContainers:[o]},t!==null&&(t=pf(t),t!==null&&jy(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function iL(e,t,r,i,o){switch(t){case"focusin":return es=Gu(es,e,t,r,i,o),!0;case"dragenter":return ts=Gu(ts,e,t,r,i,o),!0;case"mouseover":return rs=Gu(rs,e,t,r,i,o),!0;case"pointerover":var n=o.pointerId;return $c.set(n,Gu($c.get(n)||null,e,t,r,i,o)),!0;case"gotpointercapture":return n=o.pointerId,zc.set(n,Gu(zc.get(n)||null,e,t,r,i,o)),!0}return!1}function SC(e){var t=Vs(e.target);if(t!==null){var r=dl(t);if(r!==null){if(t=r.tag,t===13){if(t=fC(r),t!==null){e.blockedOn=t,xC(e.priority,function(){bC(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Rd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=K0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var i=new r.constructor(r.type,r);j0=i,r.target.dispatchEvent(i),j0=null}else return t=pf(r),t!==null&&jy(t),e.blockedOn=r,!1;t.shift()}return!0}function z2(e,t,r){Rd(e)&&r.delete(t)}function aL(){Y0=!1,es!==null&&Rd(es)&&(es=null),ts!==null&&Rd(ts)&&(ts=null),rs!==null&&Rd(rs)&&(rs=null),$c.forEach(z2),zc.forEach(z2)}function Yu(e,t){e.blockedOn===t&&(e.blockedOn=null,Y0||(Y0=!0,oa.unstable_scheduleCallback(oa.unstable_NormalPriority,aL)))}function Hc(e){function t(o){return Yu(o,e)}if(0<qf.length){Yu(qf[0],e);for(var r=1;r<qf.length;r++){var i=qf[r];i.blockedOn===e&&(i.blockedOn=null)}}for(es!==null&&Yu(es,e),ts!==null&&Yu(ts,e),rs!==null&&Yu(rs,e),$c.forEach(t),zc.forEach(t),r=0;r<Yo.length;r++)i=Yo[r],i.blockedOn===e&&(i.blockedOn=null);for(;0<Yo.length&&(r=Yo[0],r.blockedOn===null);)SC(r),r.blockedOn===null&&Yo.shift()}var Vl=Ro.ReactCurrentBatchConfig,fh=!0;function oL(e,t,r,i){var o=gn,n=Vl.transition;Vl.transition=null;try{gn=1,Uy(e,t,r,i)}finally{gn=o,Vl.transition=n}}function sL(e,t,r,i){var o=gn,n=Vl.transition;Vl.transition=null;try{gn=4,Uy(e,t,r,i)}finally{gn=o,Vl.transition=n}}function Uy(e,t,r,i){if(fh){var o=K0(e,t,r,i);if(o===null)gm(e,t,i,dh,r),$2(e,i);else if(iL(o,e,t,r,i))i.stopPropagation();else if($2(e,i),t&4&&-1<nL.indexOf(e)){for(;o!==null;){var n=pf(o);if(n!==null&&_C(n),n=K0(e,t,r,i),n===null&&gm(e,t,i,dh,r),n===o)break;o=n}o!==null&&i.stopPropagation()}else gm(e,t,i,null,r)}}var dh=null;function K0(e,t,r,i){if(dh=null,e=zy(i),e=Vs(e),e!==null)if(t=dl(e),t===null)e=null;else if(r=t.tag,r===13){if(e=fC(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return dh=e,null}function CC(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(K6()){case Hy:return 1;case vC:return 4;case uh:case X6:return 16;case mC:return 536870912;default:return 16}default:return 16}}var Xo=null,Wy=null,Od=null;function TC(){if(Od)return Od;var e,t=Wy,r=t.length,i,o="value"in Xo?Xo.value:Xo.textContent,n=o.length;for(e=0;e<r&&t[e]===o[e];e++);var a=r-e;for(i=1;i<=a&&t[r-i]===o[n-i];i++);return Od=o.slice(e,1<i?1-i:void 0)}function Id(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ed(){return!0}function H2(){return!1}function ca(e){function t(r,i,o,n,a){this._reactName=r,this._targetInst=o,this.type=i,this.nativeEvent=n,this.target=a,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(r=e[s],this[s]=r?r(n):n[s]);return this.isDefaultPrevented=(n.defaultPrevented!=null?n.defaultPrevented:n.returnValue===!1)?ed:H2,this.isPropagationStopped=H2,this}return In(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ed)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ed)},persist:function(){},isPersistent:ed}),t}var xu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vy=ca(xu),hf=In({},xu,{view:0,detail:0}),lL=ca(hf),lm,um,Ku,hp=In({},hf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gy,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ku&&(Ku&&e.type==="mousemove"?(lm=e.screenX-Ku.screenX,um=e.screenY-Ku.screenY):um=lm=0,Ku=e),lm)},movementY:function(e){return"movementY"in e?e.movementY:um}}),B2=ca(hp),uL=In({},hp,{dataTransfer:0}),cL=ca(uL),fL=In({},hf,{relatedTarget:0}),cm=ca(fL),dL=In({},xu,{animationName:0,elapsedTime:0,pseudoElement:0}),hL=ca(dL),pL=In({},xu,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vL=ca(pL),mL=In({},xu,{data:0}),j2=ca(mL),gL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_L={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bL(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=_L[e])?!!t[e]:!1}function Gy(){return bL}var wL=In({},hf,{key:function(e){if(e.key){var t=gL[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Id(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?yL[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gy,charCode:function(e){return e.type==="keypress"?Id(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Id(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),xL=ca(wL),SL=In({},hp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),U2=ca(SL),CL=In({},hf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gy}),TL=ca(CL),AL=In({},xu,{propertyName:0,elapsedTime:0,pseudoElement:0}),kL=ca(AL),ML=In({},hp,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),EL=ca(ML),LL=[9,13,27,32],Yy=Ao&&"CompositionEvent"in window,yc=null;Ao&&"documentMode"in document&&(yc=document.documentMode);var DL=Ao&&"TextEvent"in window&&!yc,AC=Ao&&(!Yy||yc&&8<yc&&11>=yc),W2=String.fromCharCode(32),V2=!1;function kC(e,t){switch(e){case"keyup":return LL.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function MC(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ll=!1;function PL(e,t){switch(e){case"compositionend":return MC(t);case"keypress":return t.which!==32?null:(V2=!0,W2);case"textInput":return e=t.data,e===W2&&V2?null:e;default:return null}}function RL(e,t){if(Ll)return e==="compositionend"||!Yy&&kC(e,t)?(e=TC(),Od=Wy=Xo=null,Ll=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return AC&&t.locale!=="ko"?null:t.data;default:return null}}var OL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function G2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!OL[e.type]:t==="textarea"}function EC(e,t,r,i){oC(i),t=hh(t,"onChange"),0<t.length&&(r=new Vy("onChange","change",null,r,i),e.push({event:r,listeners:t}))}var _c=null,Bc=null;function IL(e){HC(e,0)}function pp(e){var t=Rl(e);if(qS(t))return e}function NL(e,t){if(e==="change")return t}var LC=!1;if(Ao){var fm;if(Ao){var dm="oninput"in document;if(!dm){var Y2=document.createElement("div");Y2.setAttribute("oninput","return;"),dm=typeof Y2.oninput=="function"}fm=dm}else fm=!1;LC=fm&&(!document.documentMode||9<document.documentMode)}function K2(){_c&&(_c.detachEvent("onpropertychange",DC),Bc=_c=null)}function DC(e){if(e.propertyName==="value"&&pp(Bc)){var t=[];EC(t,Bc,e,zy(e)),cC(IL,t)}}function FL(e,t,r){e==="focusin"?(K2(),_c=t,Bc=r,_c.attachEvent("onpropertychange",DC)):e==="focusout"&&K2()}function $L(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return pp(Bc)}function zL(e,t){if(e==="click")return pp(t)}function HL(e,t){if(e==="input"||e==="change")return pp(t)}function BL(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Va=typeof Object.is=="function"?Object.is:BL;function jc(e,t){if(Va(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(i=0;i<r.length;i++){var o=r[i];if(!L0.call(t,o)||!Va(e[o],t[o]))return!1}return!0}function X2(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Z2(e,t){var r=X2(e);e=0;for(var i;r;){if(r.nodeType===3){if(i=e+r.textContent.length,e<=t&&i>=t)return{node:r,offset:t-e};e=i}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=X2(r)}}function PC(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?PC(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function RC(){for(var e=window,t=oh();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=oh(e.document)}return t}function Ky(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function jL(e){var t=RC(),r=e.focusedElem,i=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&PC(r.ownerDocument.documentElement,r)){if(i!==null&&Ky(r)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=r.textContent.length,n=Math.min(i.start,o);i=i.end===void 0?n:Math.min(i.end,o),!e.extend&&n>i&&(o=i,i=n,n=o),o=Z2(r,n);var a=Z2(r,i);o&&a&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),n>i?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var UL=Ao&&"documentMode"in document&&11>=document.documentMode,Dl=null,X0=null,bc=null,Z0=!1;function J2(e,t,r){var i=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Z0||Dl==null||Dl!==oh(i)||(i=Dl,"selectionStart"in i&&Ky(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),bc&&jc(bc,i)||(bc=i,i=hh(X0,"onSelect"),0<i.length&&(t=new Vy("onSelect","select",null,t,r),e.push({event:t,listeners:i}),t.target=Dl)))}function td(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Pl={animationend:td("Animation","AnimationEnd"),animationiteration:td("Animation","AnimationIteration"),animationstart:td("Animation","AnimationStart"),transitionend:td("Transition","TransitionEnd")},hm={},OC={};Ao&&(OC=document.createElement("div").style,"AnimationEvent"in window||(delete Pl.animationend.animation,delete Pl.animationiteration.animation,delete Pl.animationstart.animation),"TransitionEvent"in window||delete Pl.transitionend.transition);function vp(e){if(hm[e])return hm[e];if(!Pl[e])return e;var t=Pl[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in OC)return hm[e]=t[r];return e}var IC=vp("animationend"),NC=vp("animationiteration"),FC=vp("animationstart"),$C=vp("transitionend"),zC=new Map,Q2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _s(e,t){zC.set(e,t),fl(t,[e])}for(var pm=0;pm<Q2.length;pm++){var vm=Q2[pm],WL=vm.toLowerCase(),VL=vm[0].toUpperCase()+vm.slice(1);_s(WL,"on"+VL)}_s(IC,"onAnimationEnd");_s(NC,"onAnimationIteration");_s(FC,"onAnimationStart");_s("dblclick","onDoubleClick");_s("focusin","onFocus");_s("focusout","onBlur");_s($C,"onTransitionEnd");ru("onMouseEnter",["mouseout","mouseover"]);ru("onMouseLeave",["mouseout","mouseover"]);ru("onPointerEnter",["pointerout","pointerover"]);ru("onPointerLeave",["pointerout","pointerover"]);fl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fl("onBeforeInput",["compositionend","keypress","textInput","paste"]);fl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GL=new Set("cancel close invalid load scroll toggle".split(" ").concat(fc));function q2(e,t,r){var i=e.type||"unknown-event";e.currentTarget=r,W6(i,t,void 0,e),e.currentTarget=null}function HC(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var i=e[r],o=i.event;i=i.listeners;e:{var n=void 0;if(t)for(var a=i.length-1;0<=a;a--){var s=i[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==n&&o.isPropagationStopped())break e;q2(o,s,u),n=l}else for(a=0;a<i.length;a++){if(s=i[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==n&&o.isPropagationStopped())break e;q2(o,s,u),n=l}}}if(lh)throw e=V0,lh=!1,V0=null,e}function Sn(e,t){var r=t[tg];r===void 0&&(r=t[tg]=new Set);var i=e+"__bubble";r.has(i)||(BC(t,e,2,!1),r.add(i))}function mm(e,t,r){var i=0;t&&(i|=4),BC(r,e,i,t)}var rd="_reactListening"+Math.random().toString(36).slice(2);function Uc(e){if(!e[rd]){e[rd]=!0,KS.forEach(function(r){r!=="selectionchange"&&(GL.has(r)||mm(r,!1,e),mm(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[rd]||(t[rd]=!0,mm("selectionchange",!1,t))}}function BC(e,t,r,i){switch(CC(t)){case 1:var o=oL;break;case 4:o=sL;break;default:o=Uy}r=o.bind(null,t,r,e),o=void 0,!W0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),i?o!==void 0?e.addEventListener(t,r,{capture:!0,passive:o}):e.addEventListener(t,r,!0):o!==void 0?e.addEventListener(t,r,{passive:o}):e.addEventListener(t,r,!1)}function gm(e,t,r,i,o){var n=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var s=i.stateNode.containerInfo;if(s===o||s.nodeType===8&&s.parentNode===o)break;if(a===4)for(a=i.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===o||l.nodeType===8&&l.parentNode===o))return;a=a.return}for(;s!==null;){if(a=Vs(s),a===null)return;if(l=a.tag,l===5||l===6){i=n=a;continue e}s=s.parentNode}}i=i.return}cC(function(){var u=n,c=zy(r),h=[];e:{var v=zC.get(e);if(v!==void 0){var f=Vy,m=e;switch(e){case"keypress":if(Id(r)===0)break e;case"keydown":case"keyup":f=xL;break;case"focusin":m="focus",f=cm;break;case"focusout":m="blur",f=cm;break;case"beforeblur":case"afterblur":f=cm;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=B2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=cL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=TL;break;case IC:case NC:case FC:f=hL;break;case $C:f=kL;break;case"scroll":f=lL;break;case"wheel":f=EL;break;case"copy":case"cut":case"paste":f=vL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=U2}var _=(t&4)!==0,g=!_&&e==="scroll",p=_?v!==null?v+"Capture":null:v;_=[];for(var d=u,b;d!==null;){b=d;var y=b.stateNode;if(b.tag===5&&y!==null&&(b=y,p!==null&&(y=Fc(d,p),y!=null&&_.push(Wc(d,y,b)))),g)break;d=d.return}0<_.length&&(v=new f(v,m,null,r,c),h.push({event:v,listeners:_}))}}if(!(t&7)){e:{if(v=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",v&&r!==j0&&(m=r.relatedTarget||r.fromElement)&&(Vs(m)||m[ko]))break e;if((f||v)&&(v=c.window===c?c:(v=c.ownerDocument)?v.defaultView||v.parentWindow:window,f?(m=r.relatedTarget||r.toElement,f=u,m=m?Vs(m):null,m!==null&&(g=dl(m),m!==g||m.tag!==5&&m.tag!==6)&&(m=null)):(f=null,m=u),f!==m)){if(_=B2,y="onMouseLeave",p="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(_=U2,y="onPointerLeave",p="onPointerEnter",d="pointer"),g=f==null?v:Rl(f),b=m==null?v:Rl(m),v=new _(y,d+"leave",f,r,c),v.target=g,v.relatedTarget=b,y=null,Vs(c)===u&&(_=new _(p,d+"enter",m,r,c),_.target=b,_.relatedTarget=g,y=_),g=y,f&&m)t:{for(_=f,p=m,d=0,b=_;b;b=_l(b))d++;for(b=0,y=p;y;y=_l(y))b++;for(;0<d-b;)_=_l(_),d--;for(;0<b-d;)p=_l(p),b--;for(;d--;){if(_===p||p!==null&&_===p.alternate)break t;_=_l(_),p=_l(p)}_=null}else _=null;f!==null&&ew(h,v,f,_,!1),m!==null&&g!==null&&ew(h,g,m,_,!0)}}e:{if(v=u?Rl(u):window,f=v.nodeName&&v.nodeName.toLowerCase(),f==="select"||f==="input"&&v.type==="file")var x=NL;else if(G2(v))if(LC)x=HL;else{x=$L;var w=FL}else(f=v.nodeName)&&f.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(x=zL);if(x&&(x=x(e,u))){EC(h,x,r,c);break e}w&&w(e,v,u),e==="focusout"&&(w=v._wrapperState)&&w.controlled&&v.type==="number"&&F0(v,"number",v.value)}switch(w=u?Rl(u):window,e){case"focusin":(G2(w)||w.contentEditable==="true")&&(Dl=w,X0=u,bc=null);break;case"focusout":bc=X0=Dl=null;break;case"mousedown":Z0=!0;break;case"contextmenu":case"mouseup":case"dragend":Z0=!1,J2(h,r,c);break;case"selectionchange":if(UL)break;case"keydown":case"keyup":J2(h,r,c)}var C;if(Yy)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Ll?kC(e,r)&&(S="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(AC&&r.locale!=="ko"&&(Ll||S!=="onCompositionStart"?S==="onCompositionEnd"&&Ll&&(C=TC()):(Xo=c,Wy="value"in Xo?Xo.value:Xo.textContent,Ll=!0)),w=hh(u,S),0<w.length&&(S=new j2(S,e,null,r,c),h.push({event:S,listeners:w}),C?S.data=C:(C=MC(r),C!==null&&(S.data=C)))),(C=DL?PL(e,r):RL(e,r))&&(u=hh(u,"onBeforeInput"),0<u.length&&(c=new j2("onBeforeInput","beforeinput",null,r,c),h.push({event:c,listeners:u}),c.data=C))}HC(h,t)})}function Wc(e,t,r){return{instance:e,listener:t,currentTarget:r}}function hh(e,t){for(var r=t+"Capture",i=[];e!==null;){var o=e,n=o.stateNode;o.tag===5&&n!==null&&(o=n,n=Fc(e,r),n!=null&&i.unshift(Wc(e,n,o)),n=Fc(e,t),n!=null&&i.push(Wc(e,n,o))),e=e.return}return i}function _l(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ew(e,t,r,i,o){for(var n=t._reactName,a=[];r!==null&&r!==i;){var s=r,l=s.alternate,u=s.stateNode;if(l!==null&&l===i)break;s.tag===5&&u!==null&&(s=u,o?(l=Fc(r,n),l!=null&&a.unshift(Wc(r,l,s))):o||(l=Fc(r,n),l!=null&&a.push(Wc(r,l,s)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var YL=/\r\n?/g,KL=/\u0000|\uFFFD/g;function tw(e){return(typeof e=="string"?e:""+e).replace(YL,`
`).replace(KL,"")}function nd(e,t,r){if(t=tw(t),tw(e)!==t&&r)throw Error(ur(425))}function ph(){}var J0=null,Q0=null;function q0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var eg=typeof setTimeout=="function"?setTimeout:void 0,XL=typeof clearTimeout=="function"?clearTimeout:void 0,rw=typeof Promise=="function"?Promise:void 0,ZL=typeof queueMicrotask=="function"?queueMicrotask:typeof rw<"u"?function(e){return rw.resolve(null).then(e).catch(JL)}:eg;function JL(e){setTimeout(function(){throw e})}function ym(e,t){var r=t,i=0;do{var o=r.nextSibling;if(e.removeChild(r),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(i===0){e.removeChild(o),Hc(t);return}i--}else r!=="$"&&r!=="$?"&&r!=="$!"||i++;r=o}while(r);Hc(t)}function ns(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function nw(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Su=Math.random().toString(36).slice(2),to="__reactFiber$"+Su,Vc="__reactProps$"+Su,ko="__reactContainer$"+Su,tg="__reactEvents$"+Su,QL="__reactListeners$"+Su,qL="__reactHandles$"+Su;function Vs(e){var t=e[to];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ko]||r[to]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=nw(e);e!==null;){if(r=e[to])return r;e=nw(e)}return t}e=r,r=e.parentNode}return null}function pf(e){return e=e[to]||e[ko],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Rl(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ur(33))}function mp(e){return e[Vc]||null}var rg=[],Ol=-1;function bs(e){return{current:e}}function An(e){0>Ol||(e.current=rg[Ol],rg[Ol]=null,Ol--)}function wn(e,t){Ol++,rg[Ol]=e.current,e.current=t}var ps={},Ei=bs(ps),Yi=bs(!1),el=ps;function nu(e,t){var r=e.type.contextTypes;if(!r)return ps;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var o={},n;for(n in r)o[n]=t[n];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ki(e){return e=e.childContextTypes,e!=null}function vh(){An(Yi),An(Ei)}function iw(e,t,r){if(Ei.current!==ps)throw Error(ur(168));wn(Ei,t),wn(Yi,r)}function jC(e,t,r){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return r;i=i.getChildContext();for(var o in i)if(!(o in t))throw Error(ur(108,F6(e)||"Unknown",o));return In({},r,i)}function mh(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ps,el=Ei.current,wn(Ei,e),wn(Yi,Yi.current),!0}function aw(e,t,r){var i=e.stateNode;if(!i)throw Error(ur(169));r?(e=jC(e,t,el),i.__reactInternalMemoizedMergedChildContext=e,An(Yi),An(Ei),wn(Ei,e)):An(Yi),wn(Yi,r)}var yo=null,gp=!1,_m=!1;function UC(e){yo===null?yo=[e]:yo.push(e)}function eD(e){gp=!0,UC(e)}function ws(){if(!_m&&yo!==null){_m=!0;var e=0,t=gn;try{var r=yo;for(gn=1;e<r.length;e++){var i=r[e];do i=i(!0);while(i!==null)}yo=null,gp=!1}catch(o){throw yo!==null&&(yo=yo.slice(e+1)),pC(Hy,ws),o}finally{gn=t,_m=!1}}return null}var Il=[],Nl=0,gh=null,yh=0,ba=[],wa=0,tl=null,_o=1,bo="";function $s(e,t){Il[Nl++]=yh,Il[Nl++]=gh,gh=e,yh=t}function WC(e,t,r){ba[wa++]=_o,ba[wa++]=bo,ba[wa++]=tl,tl=e;var i=_o;e=bo;var o=32-ja(i)-1;i&=~(1<<o),r+=1;var n=32-ja(t)+o;if(30<n){var a=o-o%5;n=(i&(1<<a)-1).toString(32),i>>=a,o-=a,_o=1<<32-ja(t)+o|r<<o|i,bo=n+e}else _o=1<<n|r<<o|i,bo=e}function Xy(e){e.return!==null&&($s(e,1),WC(e,1,0))}function Zy(e){for(;e===gh;)gh=Il[--Nl],Il[Nl]=null,yh=Il[--Nl],Il[Nl]=null;for(;e===tl;)tl=ba[--wa],ba[wa]=null,bo=ba[--wa],ba[wa]=null,_o=ba[--wa],ba[wa]=null}var na=null,ra=null,Dn=!1,$a=null;function VC(e,t){var r=xa(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function ow(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,na=e,ra=ns(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,na=e,ra=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=tl!==null?{id:_o,overflow:bo}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=xa(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,na=e,ra=null,!0):!1;default:return!1}}function ng(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ig(e){if(Dn){var t=ra;if(t){var r=t;if(!ow(e,t)){if(ng(e))throw Error(ur(418));t=ns(r.nextSibling);var i=na;t&&ow(e,t)?VC(i,r):(e.flags=e.flags&-4097|2,Dn=!1,na=e)}}else{if(ng(e))throw Error(ur(418));e.flags=e.flags&-4097|2,Dn=!1,na=e}}}function sw(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;na=e}function id(e){if(e!==na)return!1;if(!Dn)return sw(e),Dn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!q0(e.type,e.memoizedProps)),t&&(t=ra)){if(ng(e))throw GC(),Error(ur(418));for(;t;)VC(e,t),t=ns(t.nextSibling)}if(sw(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ur(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ra=ns(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ra=null}}else ra=na?ns(e.stateNode.nextSibling):null;return!0}function GC(){for(var e=ra;e;)e=ns(e.nextSibling)}function iu(){ra=na=null,Dn=!1}function Jy(e){$a===null?$a=[e]:$a.push(e)}var tD=Ro.ReactCurrentBatchConfig;function Oa(e,t){if(e&&e.defaultProps){t=In({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}var _h=bs(null),bh=null,Fl=null,Qy=null;function qy(){Qy=Fl=bh=null}function e1(e){var t=_h.current;An(_h),e._currentValue=t}function ag(e,t,r){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===r)break;e=e.return}}function Gl(e,t){bh=e,Qy=Fl=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Gi=!0),e.firstContext=null)}function Ca(e){var t=e._currentValue;if(Qy!==e)if(e={context:e,memoizedValue:t,next:null},Fl===null){if(bh===null)throw Error(ur(308));Fl=e,bh.dependencies={lanes:0,firstContext:e}}else Fl=Fl.next=e;return t}var Gs=null;function t1(e){Gs===null?Gs=[e]:Gs.push(e)}function YC(e,t,r,i){var o=t.interleaved;return o===null?(r.next=r,t1(t)):(r.next=o.next,o.next=r),t.interleaved=r,Mo(e,i)}function Mo(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Go=!1;function r1(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function KC(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function wo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function is(e,t,r){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,fn&2){var o=i.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),i.pending=t,Mo(e,r)}return o=i.interleaved,o===null?(t.next=t,t1(i)):(t.next=o.next,o.next=t),i.interleaved=t,Mo(e,r)}function Nd(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,r|=i,t.lanes=r,By(e,r)}}function lw(e,t){var r=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,r===i)){var o=null,n=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};n===null?o=n=a:n=n.next=a,r=r.next}while(r!==null);n===null?o=n=t:n=n.next=t}else o=n=t;r={baseState:i.baseState,firstBaseUpdate:o,lastBaseUpdate:n,shared:i.shared,effects:i.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function wh(e,t,r,i){var o=e.updateQueue;Go=!1;var n=o.firstBaseUpdate,a=o.lastBaseUpdate,s=o.shared.pending;if(s!==null){o.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?n=u:a.next=u,a=l;var c=e.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==a&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(n!==null){var h=o.baseState;a=0,c=u=l=null,s=n;do{var v=s.lane,f=s.eventTime;if((i&v)===v){c!==null&&(c=c.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var m=e,_=s;switch(v=t,f=r,_.tag){case 1:if(m=_.payload,typeof m=="function"){h=m.call(f,h,v);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=_.payload,v=typeof m=="function"?m.call(f,h,v):m,v==null)break e;h=In({},h,v);break e;case 2:Go=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,v=o.effects,v===null?o.effects=[s]:v.push(s))}else f={eventTime:f,lane:v,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=f,l=h):c=c.next=f,a|=v;if(s=s.next,s===null){if(s=o.shared.pending,s===null)break;v=s,s=v.next,v.next=null,o.lastBaseUpdate=v,o.shared.pending=null}}while(1);if(c===null&&(l=h),o.baseState=l,o.firstBaseUpdate=u,o.lastBaseUpdate=c,t=o.shared.interleaved,t!==null){o=t;do a|=o.lane,o=o.next;while(o!==t)}else n===null&&(o.shared.lanes=0);nl|=a,e.lanes=a,e.memoizedState=h}}function uw(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],o=i.callback;if(o!==null){if(i.callback=null,i=r,typeof o!="function")throw Error(ur(191,o));o.call(i)}}}var XC=new YS.Component().refs;function og(e,t,r,i){t=e.memoizedState,r=r(i,t),r=r==null?t:In({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var yp={isMounted:function(e){return(e=e._reactInternals)?dl(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var i=Ii(),o=os(e),n=wo(i,o);n.payload=t,r!=null&&(n.callback=r),t=is(e,n,o),t!==null&&(Ua(t,e,o,i),Nd(t,e,o))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var i=Ii(),o=os(e),n=wo(i,o);n.tag=1,n.payload=t,r!=null&&(n.callback=r),t=is(e,n,o),t!==null&&(Ua(t,e,o,i),Nd(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ii(),i=os(e),o=wo(r,i);o.tag=2,t!=null&&(o.callback=t),t=is(e,o,i),t!==null&&(Ua(t,e,i,r),Nd(t,e,i))}};function cw(e,t,r,i,o,n,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,n,a):t.prototype&&t.prototype.isPureReactComponent?!jc(r,i)||!jc(o,n):!0}function ZC(e,t,r){var i=!1,o=ps,n=t.contextType;return typeof n=="object"&&n!==null?n=Ca(n):(o=Ki(t)?el:Ei.current,i=t.contextTypes,n=(i=i!=null)?nu(e,o):ps),t=new t(r,n),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=yp,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=n),t}function fw(e,t,r,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,i),t.state!==e&&yp.enqueueReplaceState(t,t.state,null)}function sg(e,t,r,i){var o=e.stateNode;o.props=r,o.state=e.memoizedState,o.refs=XC,r1(e);var n=t.contextType;typeof n=="object"&&n!==null?o.context=Ca(n):(n=Ki(t)?el:Ei.current,o.context=nu(e,n)),o.state=e.memoizedState,n=t.getDerivedStateFromProps,typeof n=="function"&&(og(e,t,n,r),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&yp.enqueueReplaceState(o,o.state,null),wh(e,r,o,i),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Xu(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ur(309));var i=r.stateNode}if(!i)throw Error(ur(147,e));var o=i,n=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===n?t.ref:(t=function(a){var s=o.refs;s===XC&&(s=o.refs={}),a===null?delete s[n]:s[n]=a},t._stringRef=n,t)}if(typeof e!="string")throw Error(ur(284));if(!r._owner)throw Error(ur(290,e))}return e}function ad(e,t){throw e=Object.prototype.toString.call(t),Error(ur(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function dw(e){var t=e._init;return t(e._payload)}function JC(e){function t(p,d){if(e){var b=p.deletions;b===null?(p.deletions=[d],p.flags|=16):b.push(d)}}function r(p,d){if(!e)return null;for(;d!==null;)t(p,d),d=d.sibling;return null}function i(p,d){for(p=new Map;d!==null;)d.key!==null?p.set(d.key,d):p.set(d.index,d),d=d.sibling;return p}function o(p,d){return p=ss(p,d),p.index=0,p.sibling=null,p}function n(p,d,b){return p.index=b,e?(b=p.alternate,b!==null?(b=b.index,b<d?(p.flags|=2,d):b):(p.flags|=2,d)):(p.flags|=1048576,d)}function a(p){return e&&p.alternate===null&&(p.flags|=2),p}function s(p,d,b,y){return d===null||d.tag!==6?(d=Am(b,p.mode,y),d.return=p,d):(d=o(d,b),d.return=p,d)}function l(p,d,b,y){var x=b.type;return x===El?c(p,d,b.props.children,y,b.key):d!==null&&(d.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Vo&&dw(x)===d.type)?(y=o(d,b.props),y.ref=Xu(p,d,b),y.return=p,y):(y=jd(b.type,b.key,b.props,null,p.mode,y),y.ref=Xu(p,d,b),y.return=p,y)}function u(p,d,b,y){return d===null||d.tag!==4||d.stateNode.containerInfo!==b.containerInfo||d.stateNode.implementation!==b.implementation?(d=km(b,p.mode,y),d.return=p,d):(d=o(d,b.children||[]),d.return=p,d)}function c(p,d,b,y,x){return d===null||d.tag!==7?(d=Zs(b,p.mode,y,x),d.return=p,d):(d=o(d,b),d.return=p,d)}function h(p,d,b){if(typeof d=="string"&&d!==""||typeof d=="number")return d=Am(""+d,p.mode,b),d.return=p,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case Kf:return b=jd(d.type,d.key,d.props,null,p.mode,b),b.ref=Xu(p,null,d),b.return=p,b;case Ml:return d=km(d,p.mode,b),d.return=p,d;case Vo:var y=d._init;return h(p,y(d._payload),b)}if(uc(d)||Wu(d))return d=Zs(d,p.mode,b,null),d.return=p,d;ad(p,d)}return null}function v(p,d,b,y){var x=d!==null?d.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return x!==null?null:s(p,d,""+b,y);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Kf:return b.key===x?l(p,d,b,y):null;case Ml:return b.key===x?u(p,d,b,y):null;case Vo:return x=b._init,v(p,d,x(b._payload),y)}if(uc(b)||Wu(b))return x!==null?null:c(p,d,b,y,null);ad(p,b)}return null}function f(p,d,b,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return p=p.get(b)||null,s(d,p,""+y,x);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Kf:return p=p.get(y.key===null?b:y.key)||null,l(d,p,y,x);case Ml:return p=p.get(y.key===null?b:y.key)||null,u(d,p,y,x);case Vo:var w=y._init;return f(p,d,b,w(y._payload),x)}if(uc(y)||Wu(y))return p=p.get(b)||null,c(d,p,y,x,null);ad(d,y)}return null}function m(p,d,b,y){for(var x=null,w=null,C=d,S=d=0,T=null;C!==null&&S<b.length;S++){C.index>S?(T=C,C=null):T=C.sibling;var M=v(p,C,b[S],y);if(M===null){C===null&&(C=T);break}e&&C&&M.alternate===null&&t(p,C),d=n(M,d,S),w===null?x=M:w.sibling=M,w=M,C=T}if(S===b.length)return r(p,C),Dn&&$s(p,S),x;if(C===null){for(;S<b.length;S++)C=h(p,b[S],y),C!==null&&(d=n(C,d,S),w===null?x=C:w.sibling=C,w=C);return Dn&&$s(p,S),x}for(C=i(p,C);S<b.length;S++)T=f(C,p,S,b[S],y),T!==null&&(e&&T.alternate!==null&&C.delete(T.key===null?S:T.key),d=n(T,d,S),w===null?x=T:w.sibling=T,w=T);return e&&C.forEach(function(D){return t(p,D)}),Dn&&$s(p,S),x}function _(p,d,b,y){var x=Wu(b);if(typeof x!="function")throw Error(ur(150));if(b=x.call(b),b==null)throw Error(ur(151));for(var w=x=null,C=d,S=d=0,T=null,M=b.next();C!==null&&!M.done;S++,M=b.next()){C.index>S?(T=C,C=null):T=C.sibling;var D=v(p,C,M.value,y);if(D===null){C===null&&(C=T);break}e&&C&&D.alternate===null&&t(p,C),d=n(D,d,S),w===null?x=D:w.sibling=D,w=D,C=T}if(M.done)return r(p,C),Dn&&$s(p,S),x;if(C===null){for(;!M.done;S++,M=b.next())M=h(p,M.value,y),M!==null&&(d=n(M,d,S),w===null?x=M:w.sibling=M,w=M);return Dn&&$s(p,S),x}for(C=i(p,C);!M.done;S++,M=b.next())M=f(C,p,S,M.value,y),M!==null&&(e&&M.alternate!==null&&C.delete(M.key===null?S:M.key),d=n(M,d,S),w===null?x=M:w.sibling=M,w=M);return e&&C.forEach(function(k){return t(p,k)}),Dn&&$s(p,S),x}function g(p,d,b,y){if(typeof b=="object"&&b!==null&&b.type===El&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Kf:e:{for(var x=b.key,w=d;w!==null;){if(w.key===x){if(x=b.type,x===El){if(w.tag===7){r(p,w.sibling),d=o(w,b.props.children),d.return=p,p=d;break e}}else if(w.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Vo&&dw(x)===w.type){r(p,w.sibling),d=o(w,b.props),d.ref=Xu(p,w,b),d.return=p,p=d;break e}r(p,w);break}else t(p,w);w=w.sibling}b.type===El?(d=Zs(b.props.children,p.mode,y,b.key),d.return=p,p=d):(y=jd(b.type,b.key,b.props,null,p.mode,y),y.ref=Xu(p,d,b),y.return=p,p=y)}return a(p);case Ml:e:{for(w=b.key;d!==null;){if(d.key===w)if(d.tag===4&&d.stateNode.containerInfo===b.containerInfo&&d.stateNode.implementation===b.implementation){r(p,d.sibling),d=o(d,b.children||[]),d.return=p,p=d;break e}else{r(p,d);break}else t(p,d);d=d.sibling}d=km(b,p.mode,y),d.return=p,p=d}return a(p);case Vo:return w=b._init,g(p,d,w(b._payload),y)}if(uc(b))return m(p,d,b,y);if(Wu(b))return _(p,d,b,y);ad(p,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,d!==null&&d.tag===6?(r(p,d.sibling),d=o(d,b),d.return=p,p=d):(r(p,d),d=Am(b,p.mode,y),d.return=p,p=d),a(p)):r(p,d)}return g}var au=JC(!0),QC=JC(!1),vf={},oo=bs(vf),Gc=bs(vf),Yc=bs(vf);function Ys(e){if(e===vf)throw Error(ur(174));return e}function n1(e,t){switch(wn(Yc,t),wn(Gc,e),wn(oo,vf),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:z0(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=z0(t,e)}An(oo),wn(oo,t)}function ou(){An(oo),An(Gc),An(Yc)}function qC(e){Ys(Yc.current);var t=Ys(oo.current),r=z0(t,e.type);t!==r&&(wn(Gc,e),wn(oo,r))}function i1(e){Gc.current===e&&(An(oo),An(Gc))}var Rn=bs(0);function xh(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var bm=[];function a1(){for(var e=0;e<bm.length;e++)bm[e]._workInProgressVersionPrimary=null;bm.length=0}var Fd=Ro.ReactCurrentDispatcher,wm=Ro.ReactCurrentBatchConfig,rl=0,On=null,Xn=null,ti=null,Sh=!1,wc=!1,Kc=0,rD=0;function wi(){throw Error(ur(321))}function o1(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Va(e[r],t[r]))return!1;return!0}function s1(e,t,r,i,o,n){if(rl=n,On=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Fd.current=e===null||e.memoizedState===null?oD:sD,e=r(i,o),wc){n=0;do{if(wc=!1,Kc=0,25<=n)throw Error(ur(301));n+=1,ti=Xn=null,t.updateQueue=null,Fd.current=lD,e=r(i,o)}while(wc)}if(Fd.current=Ch,t=Xn!==null&&Xn.next!==null,rl=0,ti=Xn=On=null,Sh=!1,t)throw Error(ur(300));return e}function l1(){var e=Kc!==0;return Kc=0,e}function Ja(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ti===null?On.memoizedState=ti=e:ti=ti.next=e,ti}function Ta(){if(Xn===null){var e=On.alternate;e=e!==null?e.memoizedState:null}else e=Xn.next;var t=ti===null?On.memoizedState:ti.next;if(t!==null)ti=t,Xn=e;else{if(e===null)throw Error(ur(310));Xn=e,e={memoizedState:Xn.memoizedState,baseState:Xn.baseState,baseQueue:Xn.baseQueue,queue:Xn.queue,next:null},ti===null?On.memoizedState=ti=e:ti=ti.next=e}return ti}function Xc(e,t){return typeof t=="function"?t(e):t}function xm(e){var t=Ta(),r=t.queue;if(r===null)throw Error(ur(311));r.lastRenderedReducer=e;var i=Xn,o=i.baseQueue,n=r.pending;if(n!==null){if(o!==null){var a=o.next;o.next=n.next,n.next=a}i.baseQueue=o=n,r.pending=null}if(o!==null){n=o.next,i=i.baseState;var s=a=null,l=null,u=n;do{var c=u.lane;if((rl&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:e(i,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=h,a=i):l=l.next=h,On.lanes|=c,nl|=c}u=u.next}while(u!==null&&u!==n);l===null?a=i:l.next=s,Va(i,t.memoizedState)||(Gi=!0),t.memoizedState=i,t.baseState=a,t.baseQueue=l,r.lastRenderedState=i}if(e=r.interleaved,e!==null){o=e;do n=o.lane,On.lanes|=n,nl|=n,o=o.next;while(o!==e)}else o===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Sm(e){var t=Ta(),r=t.queue;if(r===null)throw Error(ur(311));r.lastRenderedReducer=e;var i=r.dispatch,o=r.pending,n=t.memoizedState;if(o!==null){r.pending=null;var a=o=o.next;do n=e(n,a.action),a=a.next;while(a!==o);Va(n,t.memoizedState)||(Gi=!0),t.memoizedState=n,t.baseQueue===null&&(t.baseState=n),r.lastRenderedState=n}return[n,i]}function e5(){}function t5(e,t){var r=On,i=Ta(),o=t(),n=!Va(i.memoizedState,o);if(n&&(i.memoizedState=o,Gi=!0),i=i.queue,u1(i5.bind(null,r,i,e),[e]),i.getSnapshot!==t||n||ti!==null&&ti.memoizedState.tag&1){if(r.flags|=2048,Zc(9,n5.bind(null,r,i,o,t),void 0,null),ai===null)throw Error(ur(349));rl&30||r5(r,t,o)}return o}function r5(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=On.updateQueue,t===null?(t={lastEffect:null,stores:null},On.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function n5(e,t,r,i){t.value=r,t.getSnapshot=i,a5(t)&&o5(e)}function i5(e,t,r){return r(function(){a5(t)&&o5(e)})}function a5(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Va(e,r)}catch{return!0}}function o5(e){var t=Mo(e,1);t!==null&&Ua(t,e,1,-1)}function hw(e){var t=Ja();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xc,lastRenderedState:e},t.queue=e,e=e.dispatch=aD.bind(null,On,e),[t.memoizedState,e]}function Zc(e,t,r,i){return e={tag:e,create:t,destroy:r,deps:i,next:null},t=On.updateQueue,t===null?(t={lastEffect:null,stores:null},On.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(i=r.next,r.next=e,e.next=i,t.lastEffect=e)),e}function s5(){return Ta().memoizedState}function $d(e,t,r,i){var o=Ja();On.flags|=e,o.memoizedState=Zc(1|t,r,void 0,i===void 0?null:i)}function _p(e,t,r,i){var o=Ta();i=i===void 0?null:i;var n=void 0;if(Xn!==null){var a=Xn.memoizedState;if(n=a.destroy,i!==null&&o1(i,a.deps)){o.memoizedState=Zc(t,r,n,i);return}}On.flags|=e,o.memoizedState=Zc(1|t,r,n,i)}function pw(e,t){return $d(8390656,8,e,t)}function u1(e,t){return _p(2048,8,e,t)}function l5(e,t){return _p(4,2,e,t)}function u5(e,t){return _p(4,4,e,t)}function c5(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function f5(e,t,r){return r=r!=null?r.concat([e]):null,_p(4,4,c5.bind(null,t,e),r)}function c1(){}function d5(e,t){var r=Ta();t=t===void 0?null:t;var i=r.memoizedState;return i!==null&&t!==null&&o1(t,i[1])?i[0]:(r.memoizedState=[e,t],e)}function h5(e,t){var r=Ta();t=t===void 0?null:t;var i=r.memoizedState;return i!==null&&t!==null&&o1(t,i[1])?i[0]:(e=e(),r.memoizedState=[e,t],e)}function p5(e,t,r){return rl&21?(Va(r,t)||(r=gC(),On.lanes|=r,nl|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Gi=!0),e.memoizedState=r)}function nD(e,t){var r=gn;gn=r!==0&&4>r?r:4,e(!0);var i=wm.transition;wm.transition={};try{e(!1),t()}finally{gn=r,wm.transition=i}}function v5(){return Ta().memoizedState}function iD(e,t,r){var i=os(e);if(r={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null},m5(e))g5(t,r);else if(r=YC(e,t,r,i),r!==null){var o=Ii();Ua(r,e,i,o),y5(r,t,i)}}function aD(e,t,r){var i=os(e),o={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null};if(m5(e))g5(t,o);else{var n=e.alternate;if(e.lanes===0&&(n===null||n.lanes===0)&&(n=t.lastRenderedReducer,n!==null))try{var a=t.lastRenderedState,s=n(a,r);if(o.hasEagerState=!0,o.eagerState=s,Va(s,a)){var l=t.interleaved;l===null?(o.next=o,t1(t)):(o.next=l.next,l.next=o),t.interleaved=o;return}}catch{}finally{}r=YC(e,t,o,i),r!==null&&(o=Ii(),Ua(r,e,i,o),y5(r,t,i))}}function m5(e){var t=e.alternate;return e===On||t!==null&&t===On}function g5(e,t){wc=Sh=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function y5(e,t,r){if(r&4194240){var i=t.lanes;i&=e.pendingLanes,r|=i,t.lanes=r,By(e,r)}}var Ch={readContext:Ca,useCallback:wi,useContext:wi,useEffect:wi,useImperativeHandle:wi,useInsertionEffect:wi,useLayoutEffect:wi,useMemo:wi,useReducer:wi,useRef:wi,useState:wi,useDebugValue:wi,useDeferredValue:wi,useTransition:wi,useMutableSource:wi,useSyncExternalStore:wi,useId:wi,unstable_isNewReconciler:!1},oD={readContext:Ca,useCallback:function(e,t){return Ja().memoizedState=[e,t===void 0?null:t],e},useContext:Ca,useEffect:pw,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,$d(4194308,4,c5.bind(null,t,e),r)},useLayoutEffect:function(e,t){return $d(4194308,4,e,t)},useInsertionEffect:function(e,t){return $d(4,2,e,t)},useMemo:function(e,t){var r=Ja();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var i=Ja();return t=r!==void 0?r(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=iD.bind(null,On,e),[i.memoizedState,e]},useRef:function(e){var t=Ja();return e={current:e},t.memoizedState=e},useState:hw,useDebugValue:c1,useDeferredValue:function(e){return Ja().memoizedState=e},useTransition:function(){var e=hw(!1),t=e[0];return e=nD.bind(null,e[1]),Ja().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var i=On,o=Ja();if(Dn){if(r===void 0)throw Error(ur(407));r=r()}else{if(r=t(),ai===null)throw Error(ur(349));rl&30||r5(i,t,r)}o.memoizedState=r;var n={value:r,getSnapshot:t};return o.queue=n,pw(i5.bind(null,i,n,e),[e]),i.flags|=2048,Zc(9,n5.bind(null,i,n,r,t),void 0,null),r},useId:function(){var e=Ja(),t=ai.identifierPrefix;if(Dn){var r=bo,i=_o;r=(i&~(1<<32-ja(i)-1)).toString(32)+r,t=":"+t+"R"+r,r=Kc++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=rD++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},sD={readContext:Ca,useCallback:d5,useContext:Ca,useEffect:u1,useImperativeHandle:f5,useInsertionEffect:l5,useLayoutEffect:u5,useMemo:h5,useReducer:xm,useRef:s5,useState:function(){return xm(Xc)},useDebugValue:c1,useDeferredValue:function(e){var t=Ta();return p5(t,Xn.memoizedState,e)},useTransition:function(){var e=xm(Xc)[0],t=Ta().memoizedState;return[e,t]},useMutableSource:e5,useSyncExternalStore:t5,useId:v5,unstable_isNewReconciler:!1},lD={readContext:Ca,useCallback:d5,useContext:Ca,useEffect:u1,useImperativeHandle:f5,useInsertionEffect:l5,useLayoutEffect:u5,useMemo:h5,useReducer:Sm,useRef:s5,useState:function(){return Sm(Xc)},useDebugValue:c1,useDeferredValue:function(e){var t=Ta();return Xn===null?t.memoizedState=e:p5(t,Xn.memoizedState,e)},useTransition:function(){var e=Sm(Xc)[0],t=Ta().memoizedState;return[e,t]},useMutableSource:e5,useSyncExternalStore:t5,useId:v5,unstable_isNewReconciler:!1};function su(e,t){try{var r="",i=t;do r+=N6(i),i=i.return;while(i);var o=r}catch(n){o=`
Error generating stack: `+n.message+`
`+n.stack}return{value:e,source:t,stack:o,digest:null}}function Cm(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function lg(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var uD=typeof WeakMap=="function"?WeakMap:Map;function _5(e,t,r){r=wo(-1,r),r.tag=3,r.payload={element:null};var i=t.value;return r.callback=function(){Ah||(Ah=!0,yg=i),lg(e,t)},r}function b5(e,t,r){r=wo(-1,r),r.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var o=t.value;r.payload=function(){return i(o)},r.callback=function(){lg(e,t)}}var n=e.stateNode;return n!==null&&typeof n.componentDidCatch=="function"&&(r.callback=function(){lg(e,t),typeof i!="function"&&(as===null?as=new Set([this]):as.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function vw(e,t,r){var i=e.pingCache;if(i===null){i=e.pingCache=new uD;var o=new Set;i.set(t,o)}else o=i.get(t),o===void 0&&(o=new Set,i.set(t,o));o.has(r)||(o.add(r),e=SD.bind(null,e,t,r),t.then(e,e))}function mw(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function gw(e,t,r,i,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=wo(-1,1),t.tag=2,is(r,t,1))),r.lanes|=1),e)}var cD=Ro.ReactCurrentOwner,Gi=!1;function Di(e,t,r,i){t.child=e===null?QC(t,null,r,i):au(t,e.child,r,i)}function yw(e,t,r,i,o){r=r.render;var n=t.ref;return Gl(t,o),i=s1(e,t,r,i,n,o),r=l1(),e!==null&&!Gi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Eo(e,t,o)):(Dn&&r&&Xy(t),t.flags|=1,Di(e,t,i,o),t.child)}function _w(e,t,r,i,o){if(e===null){var n=r.type;return typeof n=="function"&&!y1(n)&&n.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=n,w5(e,t,n,i,o)):(e=jd(r.type,null,i,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(n=e.child,!(e.lanes&o)){var a=n.memoizedProps;if(r=r.compare,r=r!==null?r:jc,r(a,i)&&e.ref===t.ref)return Eo(e,t,o)}return t.flags|=1,e=ss(n,i),e.ref=t.ref,e.return=t,t.child=e}function w5(e,t,r,i,o){if(e!==null){var n=e.memoizedProps;if(jc(n,i)&&e.ref===t.ref)if(Gi=!1,t.pendingProps=i=n,(e.lanes&o)!==0)e.flags&131072&&(Gi=!0);else return t.lanes=e.lanes,Eo(e,t,o)}return ug(e,t,r,i,o)}function x5(e,t,r){var i=t.pendingProps,o=i.children,n=e!==null?e.memoizedState:null;if(i.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},wn(zl,ta),ta|=r;else{if(!(r&1073741824))return e=n!==null?n.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,wn(zl,ta),ta|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=n!==null?n.baseLanes:r,wn(zl,ta),ta|=i}else n!==null?(i=n.baseLanes|r,t.memoizedState=null):i=r,wn(zl,ta),ta|=i;return Di(e,t,o,r),t.child}function S5(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function ug(e,t,r,i,o){var n=Ki(r)?el:Ei.current;return n=nu(t,n),Gl(t,o),r=s1(e,t,r,i,n,o),i=l1(),e!==null&&!Gi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Eo(e,t,o)):(Dn&&i&&Xy(t),t.flags|=1,Di(e,t,r,o),t.child)}function bw(e,t,r,i,o){if(Ki(r)){var n=!0;mh(t)}else n=!1;if(Gl(t,o),t.stateNode===null)zd(e,t),ZC(t,r,i),sg(t,r,i,o),i=!0;else if(e===null){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=Ca(u):(u=Ki(r)?el:Ei.current,u=nu(t,u));var c=r.getDerivedStateFromProps,h=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==i||l!==u)&&fw(t,a,i,u),Go=!1;var v=t.memoizedState;a.state=v,wh(t,i,a,o),l=t.memoizedState,s!==i||v!==l||Yi.current||Go?(typeof c=="function"&&(og(t,r,c,i),l=t.memoizedState),(s=Go||cw(t,r,s,i,v,l,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=l),a.props=i,a.state=l,a.context=u,i=s):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{a=t.stateNode,KC(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:Oa(t.type,s),a.props=u,h=t.pendingProps,v=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=Ca(l):(l=Ki(r)?el:Ei.current,l=nu(t,l));var f=r.getDerivedStateFromProps;(c=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==h||v!==l)&&fw(t,a,i,l),Go=!1,v=t.memoizedState,a.state=v,wh(t,i,a,o);var m=t.memoizedState;s!==h||v!==m||Yi.current||Go?(typeof f=="function"&&(og(t,r,f,i),m=t.memoizedState),(u=Go||cw(t,r,u,i,v,m,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,m,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,m,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=m),a.props=i,a.state=m,a.context=l,i=u):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),i=!1)}return cg(e,t,r,i,n,o)}function cg(e,t,r,i,o,n){S5(e,t);var a=(t.flags&128)!==0;if(!i&&!a)return o&&aw(t,r,!1),Eo(e,t,n);i=t.stateNode,cD.current=t;var s=a&&typeof r.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&a?(t.child=au(t,e.child,null,n),t.child=au(t,null,s,n)):Di(e,t,s,n),t.memoizedState=i.state,o&&aw(t,r,!0),t.child}function C5(e){var t=e.stateNode;t.pendingContext?iw(e,t.pendingContext,t.pendingContext!==t.context):t.context&&iw(e,t.context,!1),n1(e,t.containerInfo)}function ww(e,t,r,i,o){return iu(),Jy(o),t.flags|=256,Di(e,t,r,i),t.child}var fg={dehydrated:null,treeContext:null,retryLane:0};function dg(e){return{baseLanes:e,cachePool:null,transitions:null}}function T5(e,t,r){var i=t.pendingProps,o=Rn.current,n=!1,a=(t.flags&128)!==0,s;if((s=a)||(s=e!==null&&e.memoizedState===null?!1:(o&2)!==0),s?(n=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),wn(Rn,o&1),e===null)return ig(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=i.children,e=i.fallback,n?(i=t.mode,n=t.child,a={mode:"hidden",children:a},!(i&1)&&n!==null?(n.childLanes=0,n.pendingProps=a):n=xp(a,i,0,null),e=Zs(e,i,r,null),n.return=t,e.return=t,n.sibling=e,t.child=n,t.child.memoizedState=dg(r),t.memoizedState=fg,e):f1(t,a));if(o=e.memoizedState,o!==null&&(s=o.dehydrated,s!==null))return fD(e,t,a,i,s,o,r);if(n){n=i.fallback,a=t.mode,o=e.child,s=o.sibling;var l={mode:"hidden",children:i.children};return!(a&1)&&t.child!==o?(i=t.child,i.childLanes=0,i.pendingProps=l,t.deletions=null):(i=ss(o,l),i.subtreeFlags=o.subtreeFlags&14680064),s!==null?n=ss(s,n):(n=Zs(n,a,r,null),n.flags|=2),n.return=t,i.return=t,i.sibling=n,t.child=i,i=n,n=t.child,a=e.child.memoizedState,a=a===null?dg(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},n.memoizedState=a,n.childLanes=e.childLanes&~r,t.memoizedState=fg,i}return n=e.child,e=n.sibling,i=ss(n,{mode:"visible",children:i.children}),!(t.mode&1)&&(i.lanes=r),i.return=t,i.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=i,t.memoizedState=null,i}function f1(e,t){return t=xp({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function od(e,t,r,i){return i!==null&&Jy(i),au(t,e.child,null,r),e=f1(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function fD(e,t,r,i,o,n,a){if(r)return t.flags&256?(t.flags&=-257,i=Cm(Error(ur(422))),od(e,t,a,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(n=i.fallback,o=t.mode,i=xp({mode:"visible",children:i.children},o,0,null),n=Zs(n,o,a,null),n.flags|=2,i.return=t,n.return=t,i.sibling=n,t.child=i,t.mode&1&&au(t,e.child,null,a),t.child.memoizedState=dg(a),t.memoizedState=fg,n);if(!(t.mode&1))return od(e,t,a,null);if(o.data==="$!"){if(i=o.nextSibling&&o.nextSibling.dataset,i)var s=i.dgst;return i=s,n=Error(ur(419)),i=Cm(n,i,void 0),od(e,t,a,i)}if(s=(a&e.childLanes)!==0,Gi||s){if(i=ai,i!==null){switch(a&-a){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(i.suspendedLanes|a)?0:o,o!==0&&o!==n.retryLane&&(n.retryLane=o,Mo(e,o),Ua(i,e,o,-1))}return g1(),i=Cm(Error(ur(421))),od(e,t,a,i)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=CD.bind(null,e),o._reactRetry=t,null):(e=n.treeContext,ra=ns(o.nextSibling),na=t,Dn=!0,$a=null,e!==null&&(ba[wa++]=_o,ba[wa++]=bo,ba[wa++]=tl,_o=e.id,bo=e.overflow,tl=t),t=f1(t,i.children),t.flags|=4096,t)}function xw(e,t,r){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),ag(e.return,t,r)}function Tm(e,t,r,i,o){var n=e.memoizedState;n===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:r,tailMode:o}:(n.isBackwards=t,n.rendering=null,n.renderingStartTime=0,n.last=i,n.tail=r,n.tailMode=o)}function A5(e,t,r){var i=t.pendingProps,o=i.revealOrder,n=i.tail;if(Di(e,t,i.children,r),i=Rn.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&xw(e,r,t);else if(e.tag===19)xw(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(wn(Rn,i),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(r=t.child,o=null;r!==null;)e=r.alternate,e!==null&&xh(e)===null&&(o=r),r=r.sibling;r=o,r===null?(o=t.child,t.child=null):(o=r.sibling,r.sibling=null),Tm(t,!1,o,r,n);break;case"backwards":for(r=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&xh(e)===null){t.child=o;break}e=o.sibling,o.sibling=r,r=o,o=e}Tm(t,!0,r,null,n);break;case"together":Tm(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Eo(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),nl|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ur(153));if(t.child!==null){for(e=t.child,r=ss(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ss(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function dD(e,t,r){switch(t.tag){case 3:C5(t),iu();break;case 5:qC(t);break;case 1:Ki(t.type)&&mh(t);break;case 4:n1(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,o=t.memoizedProps.value;wn(_h,i._currentValue),i._currentValue=o;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(wn(Rn,Rn.current&1),t.flags|=128,null):r&t.child.childLanes?T5(e,t,r):(wn(Rn,Rn.current&1),e=Eo(e,t,r),e!==null?e.sibling:null);wn(Rn,Rn.current&1);break;case 19:if(i=(r&t.childLanes)!==0,e.flags&128){if(i)return A5(e,t,r);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),wn(Rn,Rn.current),i)break;return null;case 22:case 23:return t.lanes=0,x5(e,t,r)}return Eo(e,t,r)}var k5,hg,M5,E5;k5=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};hg=function(){};M5=function(e,t,r,i){var o=e.memoizedProps;if(o!==i){e=t.stateNode,Ys(oo.current);var n=null;switch(r){case"input":o=I0(e,o),i=I0(e,i),n=[];break;case"select":o=In({},o,{value:void 0}),i=In({},i,{value:void 0}),n=[];break;case"textarea":o=$0(e,o),i=$0(e,i),n=[];break;default:typeof o.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=ph)}H0(r,i);var a;r=null;for(u in o)if(!i.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var s=o[u];for(a in s)s.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ic.hasOwnProperty(u)?n||(n=[]):(n=n||[]).push(u,null));for(u in i){var l=i[u];if(s=o!=null?o[u]:void 0,i.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(n||(n=[]),n.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(n=n||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(n=n||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ic.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Sn("scroll",e),n||s===l||(n=[])):(n=n||[]).push(u,l))}r&&(n=n||[]).push("style",r);var u=n;(t.updateQueue=u)&&(t.flags|=4)}};E5=function(e,t,r,i){r!==i&&(t.flags|=4)};function Zu(e,t){if(!Dn)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function xi(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,i=0;if(t)for(var o=e.child;o!==null;)r|=o.lanes|o.childLanes,i|=o.subtreeFlags&14680064,i|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)r|=o.lanes|o.childLanes,i|=o.subtreeFlags,i|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=i,e.childLanes=r,t}function hD(e,t,r){var i=t.pendingProps;switch(Zy(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xi(t),null;case 1:return Ki(t.type)&&vh(),xi(t),null;case 3:return i=t.stateNode,ou(),An(Yi),An(Ei),a1(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(id(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,$a!==null&&(wg($a),$a=null))),hg(e,t),xi(t),null;case 5:i1(t);var o=Ys(Yc.current);if(r=t.type,e!==null&&t.stateNode!=null)M5(e,t,r,i,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(ur(166));return xi(t),null}if(e=Ys(oo.current),id(t)){i=t.stateNode,r=t.type;var n=t.memoizedProps;switch(i[to]=t,i[Vc]=n,e=(t.mode&1)!==0,r){case"dialog":Sn("cancel",i),Sn("close",i);break;case"iframe":case"object":case"embed":Sn("load",i);break;case"video":case"audio":for(o=0;o<fc.length;o++)Sn(fc[o],i);break;case"source":Sn("error",i);break;case"img":case"image":case"link":Sn("error",i),Sn("load",i);break;case"details":Sn("toggle",i);break;case"input":D2(i,n),Sn("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!n.multiple},Sn("invalid",i);break;case"textarea":R2(i,n),Sn("invalid",i)}H0(r,n),o=null;for(var a in n)if(n.hasOwnProperty(a)){var s=n[a];a==="children"?typeof s=="string"?i.textContent!==s&&(n.suppressHydrationWarning!==!0&&nd(i.textContent,s,e),o=["children",s]):typeof s=="number"&&i.textContent!==""+s&&(n.suppressHydrationWarning!==!0&&nd(i.textContent,s,e),o=["children",""+s]):Ic.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&Sn("scroll",i)}switch(r){case"input":Xf(i),P2(i,n,!0);break;case"textarea":Xf(i),O2(i);break;case"select":case"option":break;default:typeof n.onClick=="function"&&(i.onclick=ph)}i=o,t.updateQueue=i,i!==null&&(t.flags|=4)}else{a=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=rC(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=a.createElement(r,{is:i.is}):(e=a.createElement(r),r==="select"&&(a=e,i.multiple?a.multiple=!0:i.size&&(a.size=i.size))):e=a.createElementNS(e,r),e[to]=t,e[Vc]=i,k5(e,t,!1,!1),t.stateNode=e;e:{switch(a=B0(r,i),r){case"dialog":Sn("cancel",e),Sn("close",e),o=i;break;case"iframe":case"object":case"embed":Sn("load",e),o=i;break;case"video":case"audio":for(o=0;o<fc.length;o++)Sn(fc[o],e);o=i;break;case"source":Sn("error",e),o=i;break;case"img":case"image":case"link":Sn("error",e),Sn("load",e),o=i;break;case"details":Sn("toggle",e),o=i;break;case"input":D2(e,i),o=I0(e,i),Sn("invalid",e);break;case"option":o=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},o=In({},i,{value:void 0}),Sn("invalid",e);break;case"textarea":R2(e,i),o=$0(e,i),Sn("invalid",e);break;default:o=i}H0(r,o),s=o;for(n in s)if(s.hasOwnProperty(n)){var l=s[n];n==="style"?aC(e,l):n==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&nC(e,l)):n==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Nc(e,l):typeof l=="number"&&Nc(e,""+l):n!=="suppressContentEditableWarning"&&n!=="suppressHydrationWarning"&&n!=="autoFocus"&&(Ic.hasOwnProperty(n)?l!=null&&n==="onScroll"&&Sn("scroll",e):l!=null&&Iy(e,n,l,a))}switch(r){case"input":Xf(e),P2(e,i,!1);break;case"textarea":Xf(e),O2(e);break;case"option":i.value!=null&&e.setAttribute("value",""+hs(i.value));break;case"select":e.multiple=!!i.multiple,n=i.value,n!=null?jl(e,!!i.multiple,n,!1):i.defaultValue!=null&&jl(e,!!i.multiple,i.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=ph)}switch(r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return xi(t),null;case 6:if(e&&t.stateNode!=null)E5(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(ur(166));if(r=Ys(Yc.current),Ys(oo.current),id(t)){if(i=t.stateNode,r=t.memoizedProps,i[to]=t,(n=i.nodeValue!==r)&&(e=na,e!==null))switch(e.tag){case 3:nd(i.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&nd(i.nodeValue,r,(e.mode&1)!==0)}n&&(t.flags|=4)}else i=(r.nodeType===9?r:r.ownerDocument).createTextNode(i),i[to]=t,t.stateNode=i}return xi(t),null;case 13:if(An(Rn),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Dn&&ra!==null&&t.mode&1&&!(t.flags&128))GC(),iu(),t.flags|=98560,n=!1;else if(n=id(t),i!==null&&i.dehydrated!==null){if(e===null){if(!n)throw Error(ur(318));if(n=t.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(ur(317));n[to]=t}else iu(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;xi(t),n=!1}else $a!==null&&(wg($a),$a=null),n=!0;if(!n)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,t.mode&1&&(e===null||Rn.current&1?Zn===0&&(Zn=3):g1())),t.updateQueue!==null&&(t.flags|=4),xi(t),null);case 4:return ou(),hg(e,t),e===null&&Uc(t.stateNode.containerInfo),xi(t),null;case 10:return e1(t.type._context),xi(t),null;case 17:return Ki(t.type)&&vh(),xi(t),null;case 19:if(An(Rn),n=t.memoizedState,n===null)return xi(t),null;if(i=(t.flags&128)!==0,a=n.rendering,a===null)if(i)Zu(n,!1);else{if(Zn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=xh(e),a!==null){for(t.flags|=128,Zu(n,!1),i=a.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=r,r=t.child;r!==null;)n=r,e=i,n.flags&=14680066,a=n.alternate,a===null?(n.childLanes=0,n.lanes=e,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,e=a.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return wn(Rn,Rn.current&1|2),t.child}e=e.sibling}n.tail!==null&&jn()>lu&&(t.flags|=128,i=!0,Zu(n,!1),t.lanes=4194304)}else{if(!i)if(e=xh(a),e!==null){if(t.flags|=128,i=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Zu(n,!0),n.tail===null&&n.tailMode==="hidden"&&!a.alternate&&!Dn)return xi(t),null}else 2*jn()-n.renderingStartTime>lu&&r!==1073741824&&(t.flags|=128,i=!0,Zu(n,!1),t.lanes=4194304);n.isBackwards?(a.sibling=t.child,t.child=a):(r=n.last,r!==null?r.sibling=a:t.child=a,n.last=a)}return n.tail!==null?(t=n.tail,n.rendering=t,n.tail=t.sibling,n.renderingStartTime=jn(),t.sibling=null,r=Rn.current,wn(Rn,i?r&1|2:r&1),t):(xi(t),null);case 22:case 23:return m1(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&t.mode&1?ta&1073741824&&(xi(t),t.subtreeFlags&6&&(t.flags|=8192)):xi(t),null;case 24:return null;case 25:return null}throw Error(ur(156,t.tag))}function pD(e,t){switch(Zy(t),t.tag){case 1:return Ki(t.type)&&vh(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ou(),An(Yi),An(Ei),a1(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return i1(t),null;case 13:if(An(Rn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ur(340));iu()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return An(Rn),null;case 4:return ou(),null;case 10:return e1(t.type._context),null;case 22:case 23:return m1(),null;case 24:return null;default:return null}}var sd=!1,ki=!1,vD=typeof WeakSet=="function"?WeakSet:Set,wr=null;function $l(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(i){Nn(e,t,i)}else r.current=null}function pg(e,t,r){try{r()}catch(i){Nn(e,t,i)}}var Sw=!1;function mD(e,t){if(J0=fh,e=RC(),Ky(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var i=r.getSelection&&r.getSelection();if(i&&i.rangeCount!==0){r=i.anchorNode;var o=i.anchorOffset,n=i.focusNode;i=i.focusOffset;try{r.nodeType,n.nodeType}catch{r=null;break e}var a=0,s=-1,l=-1,u=0,c=0,h=e,v=null;t:for(;;){for(var f;h!==r||o!==0&&h.nodeType!==3||(s=a+o),h!==n||i!==0&&h.nodeType!==3||(l=a+i),h.nodeType===3&&(a+=h.nodeValue.length),(f=h.firstChild)!==null;)v=h,h=f;for(;;){if(h===e)break t;if(v===r&&++u===o&&(s=a),v===n&&++c===i&&(l=a),(f=h.nextSibling)!==null)break;h=v,v=h.parentNode}h=f}r=s===-1||l===-1?null:{start:s,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Q0={focusedElem:e,selectionRange:r},fh=!1,wr=t;wr!==null;)if(t=wr,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,wr=e;else for(;wr!==null;){t=wr;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var _=m.memoizedProps,g=m.memoizedState,p=t.stateNode,d=p.getSnapshotBeforeUpdate(t.elementType===t.type?_:Oa(t.type,_),g);p.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ur(163))}}catch(y){Nn(t,t.return,y)}if(e=t.sibling,e!==null){e.return=t.return,wr=e;break}wr=t.return}return m=Sw,Sw=!1,m}function xc(e,t,r){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var o=i=i.next;do{if((o.tag&e)===e){var n=o.destroy;o.destroy=void 0,n!==void 0&&pg(t,r,n)}o=o.next}while(o!==i)}}function bp(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var i=r.create;r.destroy=i()}r=r.next}while(r!==t)}}function vg(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function L5(e){var t=e.alternate;t!==null&&(e.alternate=null,L5(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[to],delete t[Vc],delete t[tg],delete t[QL],delete t[qL])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function D5(e){return e.tag===5||e.tag===3||e.tag===4}function Cw(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||D5(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function mg(e,t,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ph));else if(i!==4&&(e=e.child,e!==null))for(mg(e,t,r),e=e.sibling;e!==null;)mg(e,t,r),e=e.sibling}function gg(e,t,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(gg(e,t,r),e=e.sibling;e!==null;)gg(e,t,r),e=e.sibling}var fi=null,Na=!1;function $o(e,t,r){for(r=r.child;r!==null;)P5(e,t,r),r=r.sibling}function P5(e,t,r){if(ao&&typeof ao.onCommitFiberUnmount=="function")try{ao.onCommitFiberUnmount(dp,r)}catch{}switch(r.tag){case 5:ki||$l(r,t);case 6:var i=fi,o=Na;fi=null,$o(e,t,r),fi=i,Na=o,fi!==null&&(Na?(e=fi,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):fi.removeChild(r.stateNode));break;case 18:fi!==null&&(Na?(e=fi,r=r.stateNode,e.nodeType===8?ym(e.parentNode,r):e.nodeType===1&&ym(e,r),Hc(e)):ym(fi,r.stateNode));break;case 4:i=fi,o=Na,fi=r.stateNode.containerInfo,Na=!0,$o(e,t,r),fi=i,Na=o;break;case 0:case 11:case 14:case 15:if(!ki&&(i=r.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){o=i=i.next;do{var n=o,a=n.destroy;n=n.tag,a!==void 0&&(n&2||n&4)&&pg(r,t,a),o=o.next}while(o!==i)}$o(e,t,r);break;case 1:if(!ki&&($l(r,t),i=r.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=r.memoizedProps,i.state=r.memoizedState,i.componentWillUnmount()}catch(s){Nn(r,t,s)}$o(e,t,r);break;case 21:$o(e,t,r);break;case 22:r.mode&1?(ki=(i=ki)||r.memoizedState!==null,$o(e,t,r),ki=i):$o(e,t,r);break;default:$o(e,t,r)}}function Tw(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new vD),t.forEach(function(i){var o=TD.bind(null,e,i);r.has(i)||(r.add(i),i.then(o,o))})}}function La(e,t){var r=t.deletions;if(r!==null)for(var i=0;i<r.length;i++){var o=r[i];try{var n=e,a=t,s=a;e:for(;s!==null;){switch(s.tag){case 5:fi=s.stateNode,Na=!1;break e;case 3:fi=s.stateNode.containerInfo,Na=!0;break e;case 4:fi=s.stateNode.containerInfo,Na=!0;break e}s=s.return}if(fi===null)throw Error(ur(160));P5(n,a,o),fi=null,Na=!1;var l=o.alternate;l!==null&&(l.return=null),o.return=null}catch(u){Nn(o,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)R5(t,e),t=t.sibling}function R5(e,t){var r=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(La(t,e),Xa(e),i&4){try{xc(3,e,e.return),bp(3,e)}catch(_){Nn(e,e.return,_)}try{xc(5,e,e.return)}catch(_){Nn(e,e.return,_)}}break;case 1:La(t,e),Xa(e),i&512&&r!==null&&$l(r,r.return);break;case 5:if(La(t,e),Xa(e),i&512&&r!==null&&$l(r,r.return),e.flags&32){var o=e.stateNode;try{Nc(o,"")}catch(_){Nn(e,e.return,_)}}if(i&4&&(o=e.stateNode,o!=null)){var n=e.memoizedProps,a=r!==null?r.memoizedProps:n,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&n.type==="radio"&&n.name!=null&&eC(o,n),B0(s,a);var u=B0(s,n);for(a=0;a<l.length;a+=2){var c=l[a],h=l[a+1];c==="style"?aC(o,h):c==="dangerouslySetInnerHTML"?nC(o,h):c==="children"?Nc(o,h):Iy(o,c,h,u)}switch(s){case"input":N0(o,n);break;case"textarea":tC(o,n);break;case"select":var v=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!n.multiple;var f=n.value;f!=null?jl(o,!!n.multiple,f,!1):v!==!!n.multiple&&(n.defaultValue!=null?jl(o,!!n.multiple,n.defaultValue,!0):jl(o,!!n.multiple,n.multiple?[]:"",!1))}o[Vc]=n}catch(_){Nn(e,e.return,_)}}break;case 6:if(La(t,e),Xa(e),i&4){if(e.stateNode===null)throw Error(ur(162));o=e.stateNode,n=e.memoizedProps;try{o.nodeValue=n}catch(_){Nn(e,e.return,_)}}break;case 3:if(La(t,e),Xa(e),i&4&&r!==null&&r.memoizedState.isDehydrated)try{Hc(t.containerInfo)}catch(_){Nn(e,e.return,_)}break;case 4:La(t,e),Xa(e);break;case 13:La(t,e),Xa(e),o=e.child,o.flags&8192&&(n=o.memoizedState!==null,o.stateNode.isHidden=n,!n||o.alternate!==null&&o.alternate.memoizedState!==null||(p1=jn())),i&4&&Tw(e);break;case 22:if(c=r!==null&&r.memoizedState!==null,e.mode&1?(ki=(u=ki)||c,La(t,e),ki=u):La(t,e),Xa(e),i&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(wr=e,c=e.child;c!==null;){for(h=wr=c;wr!==null;){switch(v=wr,f=v.child,v.tag){case 0:case 11:case 14:case 15:xc(4,v,v.return);break;case 1:$l(v,v.return);var m=v.stateNode;if(typeof m.componentWillUnmount=="function"){i=v,r=v.return;try{t=i,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(_){Nn(i,r,_)}}break;case 5:$l(v,v.return);break;case 22:if(v.memoizedState!==null){kw(h);continue}}f!==null?(f.return=v,wr=f):kw(h)}c=c.sibling}e:for(c=null,h=e;;){if(h.tag===5){if(c===null){c=h;try{o=h.stateNode,u?(n=o.style,typeof n.setProperty=="function"?n.setProperty("display","none","important"):n.display="none"):(s=h.stateNode,l=h.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=iC("display",a))}catch(_){Nn(e,e.return,_)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(_){Nn(e,e.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:La(t,e),Xa(e),i&4&&Tw(e);break;case 21:break;default:La(t,e),Xa(e)}}function Xa(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(D5(r)){var i=r;break e}r=r.return}throw Error(ur(160))}switch(i.tag){case 5:var o=i.stateNode;i.flags&32&&(Nc(o,""),i.flags&=-33);var n=Cw(e);gg(e,n,o);break;case 3:case 4:var a=i.stateNode.containerInfo,s=Cw(e);mg(e,s,a);break;default:throw Error(ur(161))}}catch(l){Nn(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function gD(e,t,r){wr=e,O5(e)}function O5(e,t,r){for(var i=(e.mode&1)!==0;wr!==null;){var o=wr,n=o.child;if(o.tag===22&&i){var a=o.memoizedState!==null||sd;if(!a){var s=o.alternate,l=s!==null&&s.memoizedState!==null||ki;s=sd;var u=ki;if(sd=a,(ki=l)&&!u)for(wr=o;wr!==null;)a=wr,l=a.child,a.tag===22&&a.memoizedState!==null?Mw(o):l!==null?(l.return=a,wr=l):Mw(o);for(;n!==null;)wr=n,O5(n),n=n.sibling;wr=o,sd=s,ki=u}Aw(e)}else o.subtreeFlags&8772&&n!==null?(n.return=o,wr=n):Aw(e)}}function Aw(e){for(;wr!==null;){var t=wr;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ki||bp(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!ki)if(r===null)i.componentDidMount();else{var o=t.elementType===t.type?r.memoizedProps:Oa(t.type,r.memoizedProps);i.componentDidUpdate(o,r.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var n=t.updateQueue;n!==null&&uw(t,n,i);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}uw(t,a,r)}break;case 5:var s=t.stateNode;if(r===null&&t.flags&4){r=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&Hc(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ur(163))}ki||t.flags&512&&vg(t)}catch(v){Nn(t,t.return,v)}}if(t===e){wr=null;break}if(r=t.sibling,r!==null){r.return=t.return,wr=r;break}wr=t.return}}function kw(e){for(;wr!==null;){var t=wr;if(t===e){wr=null;break}var r=t.sibling;if(r!==null){r.return=t.return,wr=r;break}wr=t.return}}function Mw(e){for(;wr!==null;){var t=wr;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{bp(4,t)}catch(l){Nn(t,r,l)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var o=t.return;try{i.componentDidMount()}catch(l){Nn(t,o,l)}}var n=t.return;try{vg(t)}catch(l){Nn(t,n,l)}break;case 5:var a=t.return;try{vg(t)}catch(l){Nn(t,a,l)}}}catch(l){Nn(t,t.return,l)}if(t===e){wr=null;break}var s=t.sibling;if(s!==null){s.return=t.return,wr=s;break}wr=t.return}}var yD=Math.ceil,Th=Ro.ReactCurrentDispatcher,d1=Ro.ReactCurrentOwner,Sa=Ro.ReactCurrentBatchConfig,fn=0,ai=null,Vn=null,vi=0,ta=0,zl=bs(0),Zn=0,Jc=null,nl=0,wp=0,h1=0,Sc=null,Wi=null,p1=0,lu=1/0,go=null,Ah=!1,yg=null,as=null,ld=!1,Zo=null,kh=0,Cc=0,_g=null,Hd=-1,Bd=0;function Ii(){return fn&6?jn():Hd!==-1?Hd:Hd=jn()}function os(e){return e.mode&1?fn&2&&vi!==0?vi&-vi:tD.transition!==null?(Bd===0&&(Bd=gC()),Bd):(e=gn,e!==0||(e=window.event,e=e===void 0?16:CC(e.type)),e):1}function Ua(e,t,r,i){if(50<Cc)throw Cc=0,_g=null,Error(ur(185));df(e,r,i),(!(fn&2)||e!==ai)&&(e===ai&&(!(fn&2)&&(wp|=r),Zn===4&&Ko(e,vi)),Xi(e,i),r===1&&fn===0&&!(t.mode&1)&&(lu=jn()+500,gp&&ws()))}function Xi(e,t){var r=e.callbackNode;tL(e,t);var i=ch(e,e===ai?vi:0);if(i===0)r!==null&&F2(r),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(r!=null&&F2(r),t===1)e.tag===0?eD(Ew.bind(null,e)):UC(Ew.bind(null,e)),ZL(function(){!(fn&6)&&ws()}),r=null;else{switch(yC(i)){case 1:r=Hy;break;case 4:r=vC;break;case 16:r=uh;break;case 536870912:r=mC;break;default:r=uh}r=j5(r,I5.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function I5(e,t){if(Hd=-1,Bd=0,fn&6)throw Error(ur(327));var r=e.callbackNode;if(Yl()&&e.callbackNode!==r)return null;var i=ch(e,e===ai?vi:0);if(i===0)return null;if(i&30||i&e.expiredLanes||t)t=Mh(e,i);else{t=i;var o=fn;fn|=2;var n=F5();(ai!==e||vi!==t)&&(go=null,lu=jn()+500,Xs(e,t));do try{wD();break}catch(s){N5(e,s)}while(1);qy(),Th.current=n,fn=o,Vn!==null?t=0:(ai=null,vi=0,t=Zn)}if(t!==0){if(t===2&&(o=G0(e),o!==0&&(i=o,t=bg(e,o))),t===1)throw r=Jc,Xs(e,0),Ko(e,i),Xi(e,jn()),r;if(t===6)Ko(e,i);else{if(o=e.current.alternate,!(i&30)&&!_D(o)&&(t=Mh(e,i),t===2&&(n=G0(e),n!==0&&(i=n,t=bg(e,n))),t===1))throw r=Jc,Xs(e,0),Ko(e,i),Xi(e,jn()),r;switch(e.finishedWork=o,e.finishedLanes=i,t){case 0:case 1:throw Error(ur(345));case 2:zs(e,Wi,go);break;case 3:if(Ko(e,i),(i&130023424)===i&&(t=p1+500-jn(),10<t)){if(ch(e,0)!==0)break;if(o=e.suspendedLanes,(o&i)!==i){Ii(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=eg(zs.bind(null,e,Wi,go),t);break}zs(e,Wi,go);break;case 4:if(Ko(e,i),(i&4194240)===i)break;for(t=e.eventTimes,o=-1;0<i;){var a=31-ja(i);n=1<<a,a=t[a],a>o&&(o=a),i&=~n}if(i=o,i=jn()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*yD(i/1960))-i,10<i){e.timeoutHandle=eg(zs.bind(null,e,Wi,go),i);break}zs(e,Wi,go);break;case 5:zs(e,Wi,go);break;default:throw Error(ur(329))}}}return Xi(e,jn()),e.callbackNode===r?I5.bind(null,e):null}function bg(e,t){var r=Sc;return e.current.memoizedState.isDehydrated&&(Xs(e,t).flags|=256),e=Mh(e,t),e!==2&&(t=Wi,Wi=r,t!==null&&wg(t)),e}function wg(e){Wi===null?Wi=e:Wi.push.apply(Wi,e)}function _D(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var i=0;i<r.length;i++){var o=r[i],n=o.getSnapshot;o=o.value;try{if(!Va(n(),o))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ko(e,t){for(t&=~h1,t&=~wp,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ja(t),i=1<<r;e[r]=-1,t&=~i}}function Ew(e){if(fn&6)throw Error(ur(327));Yl();var t=ch(e,0);if(!(t&1))return Xi(e,jn()),null;var r=Mh(e,t);if(e.tag!==0&&r===2){var i=G0(e);i!==0&&(t=i,r=bg(e,i))}if(r===1)throw r=Jc,Xs(e,0),Ko(e,t),Xi(e,jn()),r;if(r===6)throw Error(ur(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,zs(e,Wi,go),Xi(e,jn()),null}function v1(e,t){var r=fn;fn|=1;try{return e(t)}finally{fn=r,fn===0&&(lu=jn()+500,gp&&ws())}}function il(e){Zo!==null&&Zo.tag===0&&!(fn&6)&&Yl();var t=fn;fn|=1;var r=Sa.transition,i=gn;try{if(Sa.transition=null,gn=1,e)return e()}finally{gn=i,Sa.transition=r,fn=t,!(fn&6)&&ws()}}function m1(){ta=zl.current,An(zl)}function Xs(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,XL(r)),Vn!==null)for(r=Vn.return;r!==null;){var i=r;switch(Zy(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&vh();break;case 3:ou(),An(Yi),An(Ei),a1();break;case 5:i1(i);break;case 4:ou();break;case 13:An(Rn);break;case 19:An(Rn);break;case 10:e1(i.type._context);break;case 22:case 23:m1()}r=r.return}if(ai=e,Vn=e=ss(e.current,null),vi=ta=t,Zn=0,Jc=null,h1=wp=nl=0,Wi=Sc=null,Gs!==null){for(t=0;t<Gs.length;t++)if(r=Gs[t],i=r.interleaved,i!==null){r.interleaved=null;var o=i.next,n=r.pending;if(n!==null){var a=n.next;n.next=o,i.next=a}r.pending=i}Gs=null}return e}function N5(e,t){do{var r=Vn;try{if(qy(),Fd.current=Ch,Sh){for(var i=On.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}Sh=!1}if(rl=0,ti=Xn=On=null,wc=!1,Kc=0,d1.current=null,r===null||r.return===null){Zn=1,Jc=t,Vn=null;break}e:{var n=e,a=r.return,s=r,l=t;if(t=vi,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var v=c.alternate;v?(c.updateQueue=v.updateQueue,c.memoizedState=v.memoizedState,c.lanes=v.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=mw(a);if(f!==null){f.flags&=-257,gw(f,a,s,n,t),f.mode&1&&vw(n,u,t),t=f,l=u;var m=t.updateQueue;if(m===null){var _=new Set;_.add(l),t.updateQueue=_}else m.add(l);break e}else{if(!(t&1)){vw(n,u,t),g1();break e}l=Error(ur(426))}}else if(Dn&&s.mode&1){var g=mw(a);if(g!==null){!(g.flags&65536)&&(g.flags|=256),gw(g,a,s,n,t),Jy(su(l,s));break e}}n=l=su(l,s),Zn!==4&&(Zn=2),Sc===null?Sc=[n]:Sc.push(n),n=a;do{switch(n.tag){case 3:n.flags|=65536,t&=-t,n.lanes|=t;var p=_5(n,l,t);lw(n,p);break e;case 1:s=l;var d=n.type,b=n.stateNode;if(!(n.flags&128)&&(typeof d.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(as===null||!as.has(b)))){n.flags|=65536,t&=-t,n.lanes|=t;var y=b5(n,s,t);lw(n,y);break e}}n=n.return}while(n!==null)}z5(r)}catch(x){t=x,Vn===r&&r!==null&&(Vn=r=r.return);continue}break}while(1)}function F5(){var e=Th.current;return Th.current=Ch,e===null?Ch:e}function g1(){(Zn===0||Zn===3||Zn===2)&&(Zn=4),ai===null||!(nl&268435455)&&!(wp&268435455)||Ko(ai,vi)}function Mh(e,t){var r=fn;fn|=2;var i=F5();(ai!==e||vi!==t)&&(go=null,Xs(e,t));do try{bD();break}catch(o){N5(e,o)}while(1);if(qy(),fn=r,Th.current=i,Vn!==null)throw Error(ur(261));return ai=null,vi=0,Zn}function bD(){for(;Vn!==null;)$5(Vn)}function wD(){for(;Vn!==null&&!G6();)$5(Vn)}function $5(e){var t=B5(e.alternate,e,ta);e.memoizedProps=e.pendingProps,t===null?z5(e):Vn=t,d1.current=null}function z5(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=pD(r,t),r!==null){r.flags&=32767,Vn=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Zn=6,Vn=null;return}}else if(r=hD(r,t,ta),r!==null){Vn=r;return}if(t=t.sibling,t!==null){Vn=t;return}Vn=t=e}while(t!==null);Zn===0&&(Zn=5)}function zs(e,t,r){var i=gn,o=Sa.transition;try{Sa.transition=null,gn=1,xD(e,t,r,i)}finally{Sa.transition=o,gn=i}return null}function xD(e,t,r,i){do Yl();while(Zo!==null);if(fn&6)throw Error(ur(327));r=e.finishedWork;var o=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ur(177));e.callbackNode=null,e.callbackPriority=0;var n=r.lanes|r.childLanes;if(rL(e,n),e===ai&&(Vn=ai=null,vi=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ld||(ld=!0,j5(uh,function(){return Yl(),null})),n=(r.flags&15990)!==0,r.subtreeFlags&15990||n){n=Sa.transition,Sa.transition=null;var a=gn;gn=1;var s=fn;fn|=4,d1.current=null,mD(e,r),R5(r,e),jL(Q0),fh=!!J0,Q0=J0=null,e.current=r,gD(r),Y6(),fn=s,gn=a,Sa.transition=n}else e.current=r;if(ld&&(ld=!1,Zo=e,kh=o),n=e.pendingLanes,n===0&&(as=null),Z6(r.stateNode),Xi(e,jn()),t!==null)for(i=e.onRecoverableError,r=0;r<t.length;r++)o=t[r],i(o.value,{componentStack:o.stack,digest:o.digest});if(Ah)throw Ah=!1,e=yg,yg=null,e;return kh&1&&e.tag!==0&&Yl(),n=e.pendingLanes,n&1?e===_g?Cc++:(Cc=0,_g=e):Cc=0,ws(),null}function Yl(){if(Zo!==null){var e=yC(kh),t=Sa.transition,r=gn;try{if(Sa.transition=null,gn=16>e?16:e,Zo===null)var i=!1;else{if(e=Zo,Zo=null,kh=0,fn&6)throw Error(ur(331));var o=fn;for(fn|=4,wr=e.current;wr!==null;){var n=wr,a=n.child;if(wr.flags&16){var s=n.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(wr=u;wr!==null;){var c=wr;switch(c.tag){case 0:case 11:case 15:xc(8,c,n)}var h=c.child;if(h!==null)h.return=c,wr=h;else for(;wr!==null;){c=wr;var v=c.sibling,f=c.return;if(L5(c),c===u){wr=null;break}if(v!==null){v.return=f,wr=v;break}wr=f}}}var m=n.alternate;if(m!==null){var _=m.child;if(_!==null){m.child=null;do{var g=_.sibling;_.sibling=null,_=g}while(_!==null)}}wr=n}}if(n.subtreeFlags&2064&&a!==null)a.return=n,wr=a;else e:for(;wr!==null;){if(n=wr,n.flags&2048)switch(n.tag){case 0:case 11:case 15:xc(9,n,n.return)}var p=n.sibling;if(p!==null){p.return=n.return,wr=p;break e}wr=n.return}}var d=e.current;for(wr=d;wr!==null;){a=wr;var b=a.child;if(a.subtreeFlags&2064&&b!==null)b.return=a,wr=b;else e:for(a=d;wr!==null;){if(s=wr,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:bp(9,s)}}catch(x){Nn(s,s.return,x)}if(s===a){wr=null;break e}var y=s.sibling;if(y!==null){y.return=s.return,wr=y;break e}wr=s.return}}if(fn=o,ws(),ao&&typeof ao.onPostCommitFiberRoot=="function")try{ao.onPostCommitFiberRoot(dp,e)}catch{}i=!0}return i}finally{gn=r,Sa.transition=t}}return!1}function Lw(e,t,r){t=su(r,t),t=_5(e,t,1),e=is(e,t,1),t=Ii(),e!==null&&(df(e,1,t),Xi(e,t))}function Nn(e,t,r){if(e.tag===3)Lw(e,e,r);else for(;t!==null;){if(t.tag===3){Lw(t,e,r);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(as===null||!as.has(i))){e=su(r,e),e=b5(t,e,1),t=is(t,e,1),e=Ii(),t!==null&&(df(t,1,e),Xi(t,e));break}}t=t.return}}function SD(e,t,r){var i=e.pingCache;i!==null&&i.delete(t),t=Ii(),e.pingedLanes|=e.suspendedLanes&r,ai===e&&(vi&r)===r&&(Zn===4||Zn===3&&(vi&130023424)===vi&&500>jn()-p1?Xs(e,0):h1|=r),Xi(e,t)}function H5(e,t){t===0&&(e.mode&1?(t=Qf,Qf<<=1,!(Qf&130023424)&&(Qf=4194304)):t=1);var r=Ii();e=Mo(e,t),e!==null&&(df(e,t,r),Xi(e,r))}function CD(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),H5(e,r)}function TD(e,t){var r=0;switch(e.tag){case 13:var i=e.stateNode,o=e.memoizedState;o!==null&&(r=o.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(ur(314))}i!==null&&i.delete(t),H5(e,r)}var B5;B5=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Yi.current)Gi=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Gi=!1,dD(e,t,r);Gi=!!(e.flags&131072)}else Gi=!1,Dn&&t.flags&1048576&&WC(t,yh,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;zd(e,t),e=t.pendingProps;var o=nu(t,Ei.current);Gl(t,r),o=s1(null,t,i,e,o,r);var n=l1();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ki(i)?(n=!0,mh(t)):n=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,r1(t),o.updater=yp,t.stateNode=o,o._reactInternals=t,sg(t,i,e,r),t=cg(null,t,i,!0,n,r)):(t.tag=0,Dn&&n&&Xy(t),Di(null,t,o,r),t=t.child),t;case 16:i=t.elementType;e:{switch(zd(e,t),e=t.pendingProps,o=i._init,i=o(i._payload),t.type=i,o=t.tag=kD(i),e=Oa(i,e),o){case 0:t=ug(null,t,i,e,r);break e;case 1:t=bw(null,t,i,e,r);break e;case 11:t=yw(null,t,i,e,r);break e;case 14:t=_w(null,t,i,Oa(i.type,e),r);break e}throw Error(ur(306,i,""))}return t;case 0:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:Oa(i,o),ug(e,t,i,o,r);case 1:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:Oa(i,o),bw(e,t,i,o,r);case 3:e:{if(C5(t),e===null)throw Error(ur(387));i=t.pendingProps,n=t.memoizedState,o=n.element,KC(e,t),wh(t,i,null,r);var a=t.memoizedState;if(i=a.element,n.isDehydrated)if(n={element:i,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=n,t.memoizedState=n,t.flags&256){o=su(Error(ur(423)),t),t=ww(e,t,i,r,o);break e}else if(i!==o){o=su(Error(ur(424)),t),t=ww(e,t,i,r,o);break e}else for(ra=ns(t.stateNode.containerInfo.firstChild),na=t,Dn=!0,$a=null,r=QC(t,null,i,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(iu(),i===o){t=Eo(e,t,r);break e}Di(e,t,i,r)}t=t.child}return t;case 5:return qC(t),e===null&&ig(t),i=t.type,o=t.pendingProps,n=e!==null?e.memoizedProps:null,a=o.children,q0(i,o)?a=null:n!==null&&q0(i,n)&&(t.flags|=32),S5(e,t),Di(e,t,a,r),t.child;case 6:return e===null&&ig(t),null;case 13:return T5(e,t,r);case 4:return n1(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=au(t,null,i,r):Di(e,t,i,r),t.child;case 11:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:Oa(i,o),yw(e,t,i,o,r);case 7:return Di(e,t,t.pendingProps,r),t.child;case 8:return Di(e,t,t.pendingProps.children,r),t.child;case 12:return Di(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(i=t.type._context,o=t.pendingProps,n=t.memoizedProps,a=o.value,wn(_h,i._currentValue),i._currentValue=a,n!==null)if(Va(n.value,a)){if(n.children===o.children&&!Yi.current){t=Eo(e,t,r);break e}}else for(n=t.child,n!==null&&(n.return=t);n!==null;){var s=n.dependencies;if(s!==null){a=n.child;for(var l=s.firstContext;l!==null;){if(l.context===i){if(n.tag===1){l=wo(-1,r&-r),l.tag=2;var u=n.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}n.lanes|=r,l=n.alternate,l!==null&&(l.lanes|=r),ag(n.return,r,t),s.lanes|=r;break}l=l.next}}else if(n.tag===10)a=n.type===t.type?null:n.child;else if(n.tag===18){if(a=n.return,a===null)throw Error(ur(341));a.lanes|=r,s=a.alternate,s!==null&&(s.lanes|=r),ag(a,r,t),a=n.sibling}else a=n.child;if(a!==null)a.return=n;else for(a=n;a!==null;){if(a===t){a=null;break}if(n=a.sibling,n!==null){n.return=a.return,a=n;break}a=a.return}n=a}Di(e,t,o.children,r),t=t.child}return t;case 9:return o=t.type,i=t.pendingProps.children,Gl(t,r),o=Ca(o),i=i(o),t.flags|=1,Di(e,t,i,r),t.child;case 14:return i=t.type,o=Oa(i,t.pendingProps),o=Oa(i.type,o),_w(e,t,i,o,r);case 15:return w5(e,t,t.type,t.pendingProps,r);case 17:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:Oa(i,o),zd(e,t),t.tag=1,Ki(i)?(e=!0,mh(t)):e=!1,Gl(t,r),ZC(t,i,o),sg(t,i,o,r),cg(null,t,i,!0,e,r);case 19:return A5(e,t,r);case 22:return x5(e,t,r)}throw Error(ur(156,t.tag))};function j5(e,t){return pC(e,t)}function AD(e,t,r,i){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xa(e,t,r,i){return new AD(e,t,r,i)}function y1(e){return e=e.prototype,!(!e||!e.isReactComponent)}function kD(e){if(typeof e=="function")return y1(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Fy)return 11;if(e===$y)return 14}return 2}function ss(e,t){var r=e.alternate;return r===null?(r=xa(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function jd(e,t,r,i,o,n){var a=2;if(i=e,typeof e=="function")y1(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case El:return Zs(r.children,o,n,t);case Ny:a=8,o|=8;break;case D0:return e=xa(12,r,t,o|2),e.elementType=D0,e.lanes=n,e;case P0:return e=xa(13,r,t,o),e.elementType=P0,e.lanes=n,e;case R0:return e=xa(19,r,t,o),e.elementType=R0,e.lanes=n,e;case JS:return xp(r,o,n,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case XS:a=10;break e;case ZS:a=9;break e;case Fy:a=11;break e;case $y:a=14;break e;case Vo:a=16,i=null;break e}throw Error(ur(130,e==null?e:typeof e,""))}return t=xa(a,r,t,o),t.elementType=e,t.type=i,t.lanes=n,t}function Zs(e,t,r,i){return e=xa(7,e,i,t),e.lanes=r,e}function xp(e,t,r,i){return e=xa(22,e,i,t),e.elementType=JS,e.lanes=r,e.stateNode={isHidden:!1},e}function Am(e,t,r){return e=xa(6,e,null,t),e.lanes=r,e}function km(e,t,r){return t=xa(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function MD(e,t,r,i,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sm(0),this.expirationTimes=sm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sm(0),this.identifierPrefix=i,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function _1(e,t,r,i,o,n,a,s,l){return e=new MD(e,t,r,s,l),t===1?(t=1,n===!0&&(t|=8)):t=0,n=xa(3,null,null,t),e.current=n,n.stateNode=e,n.memoizedState={element:i,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},r1(n),e}function ED(e,t,r){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ml,key:i==null?null:""+i,children:e,containerInfo:t,implementation:r}}function U5(e){if(!e)return ps;e=e._reactInternals;e:{if(dl(e)!==e||e.tag!==1)throw Error(ur(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ki(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ur(171))}if(e.tag===1){var r=e.type;if(Ki(r))return jC(e,r,t)}return t}function W5(e,t,r,i,o,n,a,s,l){return e=_1(r,i,!0,e,o,n,a,s,l),e.context=U5(null),r=e.current,i=Ii(),o=os(r),n=wo(i,o),n.callback=t??null,is(r,n,o),e.current.lanes=o,df(e,o,i),Xi(e,i),e}function Sp(e,t,r,i){var o=t.current,n=Ii(),a=os(o);return r=U5(r),t.context===null?t.context=r:t.pendingContext=r,t=wo(n,a),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=is(o,t,a),e!==null&&(Ua(e,o,a,n),Nd(e,o,a)),a}function Eh(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Dw(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function b1(e,t){Dw(e,t),(e=e.alternate)&&Dw(e,t)}function LD(){return null}var V5=typeof reportError=="function"?reportError:function(e){console.error(e)};function w1(e){this._internalRoot=e}Cp.prototype.render=w1.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ur(409));Sp(e,t,null,null)};Cp.prototype.unmount=w1.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;il(function(){Sp(null,e,null,null)}),t[ko]=null}};function Cp(e){this._internalRoot=e}Cp.prototype.unstable_scheduleHydration=function(e){if(e){var t=wC();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Yo.length&&t!==0&&t<Yo[r].priority;r++);Yo.splice(r,0,e),r===0&&SC(e)}};function x1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Tp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Pw(){}function DD(e,t,r,i,o){if(o){if(typeof i=="function"){var n=i;i=function(){var u=Eh(a);n.call(u)}}var a=W5(t,i,e,0,null,!1,!1,"",Pw);return e._reactRootContainer=a,e[ko]=a.current,Uc(e.nodeType===8?e.parentNode:e),il(),a}for(;o=e.lastChild;)e.removeChild(o);if(typeof i=="function"){var s=i;i=function(){var u=Eh(l);s.call(u)}}var l=_1(e,0,!1,null,null,!1,!1,"",Pw);return e._reactRootContainer=l,e[ko]=l.current,Uc(e.nodeType===8?e.parentNode:e),il(function(){Sp(t,l,r,i)}),l}function Ap(e,t,r,i,o){var n=r._reactRootContainer;if(n){var a=n;if(typeof o=="function"){var s=o;o=function(){var l=Eh(a);s.call(l)}}Sp(t,a,e,o)}else a=DD(r,t,e,o,i);return Eh(a)}_C=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=cc(t.pendingLanes);r!==0&&(By(t,r|1),Xi(t,jn()),!(fn&6)&&(lu=jn()+500,ws()))}break;case 13:il(function(){var i=Mo(e,1);if(i!==null){var o=Ii();Ua(i,e,1,o)}}),b1(e,1)}};jy=function(e){if(e.tag===13){var t=Mo(e,134217728);if(t!==null){var r=Ii();Ua(t,e,134217728,r)}b1(e,134217728)}};bC=function(e){if(e.tag===13){var t=os(e),r=Mo(e,t);if(r!==null){var i=Ii();Ua(r,e,t,i)}b1(e,t)}};wC=function(){return gn};xC=function(e,t){var r=gn;try{return gn=e,t()}finally{gn=r}};U0=function(e,t,r){switch(t){case"input":if(N0(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var i=r[t];if(i!==e&&i.form===e.form){var o=mp(i);if(!o)throw Error(ur(90));qS(i),N0(i,o)}}}break;case"textarea":tC(e,r);break;case"select":t=r.value,t!=null&&jl(e,!!r.multiple,t,!1)}};lC=v1;uC=il;var PD={usingClientEntryPoint:!1,Events:[pf,Rl,mp,oC,sC,v1]},Ju={findFiberByHostInstance:Vs,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},RD={bundleType:Ju.bundleType,version:Ju.version,rendererPackageName:Ju.rendererPackageName,rendererConfig:Ju.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ro.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=dC(e),e===null?null:e.stateNode},findFiberByHostInstance:Ju.findFiberByHostInstance||LD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ud=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ud.isDisabled&&ud.supportsFiber)try{dp=ud.inject(RD),ao=ud}catch{}}ua.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=PD;ua.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x1(t))throw Error(ur(200));return ED(e,t,null,r)};ua.createRoot=function(e,t){if(!x1(e))throw Error(ur(299));var r=!1,i="",o=V5;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=_1(e,1,!1,null,null,r,!1,i,o),e[ko]=t.current,Uc(e.nodeType===8?e.parentNode:e),new w1(t)};ua.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ur(188)):(e=Object.keys(e).join(","),Error(ur(268,e)));return e=dC(t),e=e===null?null:e.stateNode,e};ua.flushSync=function(e){return il(e)};ua.hydrate=function(e,t,r){if(!Tp(t))throw Error(ur(200));return Ap(null,e,t,!0,r)};ua.hydrateRoot=function(e,t,r){if(!x1(e))throw Error(ur(405));var i=r!=null&&r.hydratedSources||null,o=!1,n="",a=V5;if(r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(n=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=W5(t,null,e,1,r??null,o,!1,n,a),e[ko]=t.current,Uc(e),i)for(e=0;e<i.length;e++)r=i[e],o=r._getVersion,o=o(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,o]:t.mutableSourceEagerHydrationData.push(r,o);return new Cp(t)};ua.render=function(e,t,r){if(!Tp(t))throw Error(ur(200));return Ap(null,e,t,!1,r)};ua.unmountComponentAtNode=function(e){if(!Tp(e))throw Error(ur(40));return e._reactRootContainer?(il(function(){Ap(null,null,e,!1,function(){e._reactRootContainer=null,e[ko]=null})}),!0):!1};ua.unstable_batchedUpdates=v1;ua.unstable_renderSubtreeIntoContainer=function(e,t,r,i){if(!Tp(r))throw Error(ur(200));if(e==null||e._reactInternals===void 0)throw Error(ur(38));return Ap(e,t,r,!1,i)};ua.version="18.2.0-next-9e3b772b8-20220608";function G5(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(G5)}catch(e){console.error(e)}}G5(),WS.exports=ua;var Cu=WS.exports;const lX=cl(Cu);var Y5,Rw=Cu;Y5=Rw.createRoot,Rw.hydrateRoot;/**
 * @remix-run/router v1.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Lh(){return Lh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Lh.apply(this,arguments)}var Jo;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Jo||(Jo={}));const Ow="popstate";function OD(e){e===void 0&&(e={});function t(i,o){let{pathname:n,search:a,hash:s}=i.location;return xg("",{pathname:n,search:a,hash:s},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(i,o){return typeof o=="string"?o:Sg(o)}return ND(t,r,null,e)}function ID(){return Math.random().toString(36).substr(2,8)}function Iw(e){return{usr:e.state,key:e.key}}function xg(e,t,r,i){return r===void 0&&(r=null),Lh({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Tu(t):t,{state:r,key:t&&t.key||i||ID()})}function Sg(e){let{pathname:t="/",search:r="",hash:i=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),i&&i!=="#"&&(t+=i.charAt(0)==="#"?i:"#"+i),t}function Tu(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let i=e.indexOf("?");i>=0&&(t.search=e.substr(i),e=e.substr(0,i)),e&&(t.pathname=e)}return t}function ND(e,t,r,i){i===void 0&&(i={});let{window:o=document.defaultView,v5Compat:n=!1}=i,a=o.history,s=Jo.Pop,l=null;function u(){s=Jo.Pop,l&&l({action:s,location:v.location})}function c(f,m){s=Jo.Push;let _=xg(v.location,f,m);r&&r(_,f);let g=Iw(_),p=v.createHref(_);try{a.pushState(g,"",p)}catch{o.location.assign(p)}n&&l&&l({action:s,location:_})}function h(f,m){s=Jo.Replace;let _=xg(v.location,f,m);r&&r(_,f);let g=Iw(_),p=v.createHref(_);a.replaceState(g,"",p),n&&l&&l({action:s,location:_})}let v={get action(){return s},get location(){return e(o,a)},listen(f){if(l)throw new Error("A history only accepts one active listener");return o.addEventListener(Ow,u),l=f,()=>{o.removeEventListener(Ow,u),l=null}},createHref(f){return t(o,f)},push:c,replace:h,go(f){return a.go(f)}};return v}var Nw;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Nw||(Nw={}));function FD(e,t,r){r===void 0&&(r="/");let i=typeof t=="string"?Tu(t):t,o=X5(i.pathname||"/",r);if(o==null)return null;let n=K5(e);$D(n);let a=null;for(let s=0;a==null&&s<n.length;++s)a=YD(n[s],o);return a}function K5(e,t,r,i){return t===void 0&&(t=[]),r===void 0&&(r=[]),i===void 0&&(i=""),e.forEach((o,n)=>{let a={relativePath:o.path||"",caseSensitive:o.caseSensitive===!0,childrenIndex:n,route:o};a.relativePath.startsWith("/")&&(Jn(a.relativePath.startsWith(i),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(i.length));let s=ls([i,a.relativePath]),l=r.concat(a);o.children&&o.children.length>0&&(Jn(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+s+'".')),K5(o.children,t,l,s)),!(o.path==null&&!o.index)&&t.push({path:s,score:VD(s,o.index),routesMeta:l})}),t}function $D(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:GD(t.routesMeta.map(i=>i.childrenIndex),r.routesMeta.map(i=>i.childrenIndex)))}const zD=/^:\w+$/,HD=3,BD=2,jD=1,UD=10,WD=-2,Fw=e=>e==="*";function VD(e,t){let r=e.split("/"),i=r.length;return r.some(Fw)&&(i+=WD),t&&(i+=BD),r.filter(o=>!Fw(o)).reduce((o,n)=>o+(zD.test(n)?HD:n===""?jD:UD),i)}function GD(e,t){return e.length===t.length&&e.slice(0,-1).every((i,o)=>i===t[o])?e[e.length-1]-t[t.length-1]:0}function YD(e,t){let{routesMeta:r}=e,i={},o="/",n=[];for(let a=0;a<r.length;++a){let s=r[a],l=a===r.length-1,u=o==="/"?t:t.slice(o.length)||"/",c=S1({path:s.relativePath,caseSensitive:s.caseSensitive,end:l},u);if(!c)return null;Object.assign(i,c.params);let h=s.route;n.push({params:i,pathname:ls([o,c.pathname]),pathnameBase:QD(ls([o,c.pathnameBase])),route:h}),c.pathnameBase!=="/"&&(o=ls([o,c.pathnameBase]))}return n}function S1(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,i]=KD(e.path,e.caseSensitive,e.end),o=t.match(r);if(!o)return null;let n=o[0],a=n.replace(/(.)\/+$/,"$1"),s=o.slice(1);return{params:i.reduce((u,c,h)=>{if(c==="*"){let v=s[h]||"";a=n.slice(0,n.length-v.length).replace(/(.)\/+$/,"$1")}return u[c]=XD(s[h]||"",c),u},{}),pathname:n,pathnameBase:a,pattern:e}}function KD(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Z5(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let i=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(a,s)=>(i.push(s),"([^\\/]+)"));return e.endsWith("*")?(i.push("*"),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),i]}function XD(e,t){try{return decodeURIComponent(e)}catch(r){return Z5(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+r+").")),e}}function X5(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,i=e.charAt(r);return i&&i!=="/"?null:e.slice(r)||"/"}function Jn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Z5(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ZD(e,t){t===void 0&&(t="/");let{pathname:r,search:i="",hash:o=""}=typeof e=="string"?Tu(e):e;return{pathname:r?r.startsWith("/")?r:JD(r,t):t,search:qD(i),hash:eP(o)}}function JD(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function Mm(e,t,r,i){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function J5(e,t,r,i){i===void 0&&(i=!1);let o;typeof e=="string"?o=Tu(e):(o=Lh({},e),Jn(!o.pathname||!o.pathname.includes("?"),Mm("?","pathname","search",o)),Jn(!o.pathname||!o.pathname.includes("#"),Mm("#","pathname","hash",o)),Jn(!o.search||!o.search.includes("#"),Mm("#","search","hash",o)));let n=e===""||o.pathname==="",a=n?"/":o.pathname,s;if(i||a==null)s=r;else{let h=t.length-1;if(a.startsWith("..")){let v=a.split("/");for(;v[0]==="..";)v.shift(),h-=1;o.pathname=v.join("/")}s=h>=0?t[h]:"/"}let l=ZD(o,s),u=a&&a!=="/"&&a.endsWith("/"),c=(n||a===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const ls=e=>e.join("/").replace(/\/\/+/g,"/"),QD=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),qD=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,eP=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class tP{constructor(t,r,i){this.status=t,this.statusText=r||"",this.data=i}}function rP(e){return e instanceof tP}/**
 * React Router v6.4.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cg(){return Cg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Cg.apply(this,arguments)}function nP(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}const iP=typeof Object.is=="function"?Object.is:nP,{useState:aP,useEffect:oP,useLayoutEffect:sP,useDebugValue:lP}=Oc;function uP(e,t,r){const i=t(),[{inst:o},n]=aP({inst:{value:i,getSnapshot:t}});return sP(()=>{o.value=i,o.getSnapshot=t,Em(o)&&n({inst:o})},[e,i,t]),oP(()=>(Em(o)&&n({inst:o}),e(()=>{Em(o)&&n({inst:o})})),[e]),lP(i),i}function Em(e){const t=e.getSnapshot,r=e.value;try{const i=t();return!iP(r,i)}catch{return!0}}function cP(e,t,r){return t()}const fP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",dP=!fP,hP=dP?cP:uP;"useSyncExternalStore"in Oc&&(e=>e.useSyncExternalStore)(Oc);const pP=ot.createContext(null),vP=ot.createContext(null),C1=ot.createContext(null),T1=ot.createContext(null),kp=ot.createContext(null),mf=ot.createContext({outlet:null,matches:[]}),Q5=ot.createContext(null);function mP(e,t){let{relative:r}=t===void 0?{}:t;Au()||Jn(!1);let{basename:i,navigator:o}=ot.useContext(T1),{hash:n,pathname:a,search:s}=Dh(e,{relative:r}),l=a;return i!=="/"&&(l=a==="/"?i:ls([i,a])),o.createHref({pathname:l,search:s,hash:n})}function Au(){return ot.useContext(kp)!=null}function hl(){return Au()||Jn(!1),ot.useContext(kp).location}function gP(e){Au()||Jn(!1);let{pathname:t}=hl();return ot.useMemo(()=>S1(e,t),[t,e])}function q5(e){return e.filter((t,r)=>r===0||!t.route.index&&t.pathnameBase!==e[r-1].pathnameBase)}function yP(){Au()||Jn(!1);let{basename:e,navigator:t}=ot.useContext(T1),{matches:r}=ot.useContext(mf),{pathname:i}=hl(),o=JSON.stringify(q5(r).map(s=>s.pathnameBase)),n=ot.useRef(!1);return ot.useEffect(()=>{n.current=!0}),ot.useCallback(function(s,l){if(l===void 0&&(l={}),!n.current)return;if(typeof s=="number"){t.go(s);return}let u=J5(s,JSON.parse(o),i,l.relative==="path");e!=="/"&&(u.pathname=u.pathname==="/"?e:ls([e,u.pathname])),(l.replace?t.replace:t.push)(u,l.state,l)},[e,t,o,i])}function Dh(e,t){let{relative:r}=t===void 0?{}:t,{matches:i}=ot.useContext(mf),{pathname:o}=hl(),n=JSON.stringify(q5(i).map(a=>a.pathnameBase));return ot.useMemo(()=>J5(e,JSON.parse(n),o,r==="path"),[e,n,o,r])}function _P(e,t){Au()||Jn(!1);let r=ot.useContext(C1),{matches:i}=ot.useContext(mf),o=i[i.length-1],n=o?o.params:{};o&&o.pathname;let a=o?o.pathnameBase:"/";o&&o.route;let s=hl(),l;if(t){var u;let m=typeof t=="string"?Tu(t):t;a==="/"||(u=m.pathname)!=null&&u.startsWith(a)||Jn(!1),l=m}else l=s;let c=l.pathname||"/",h=a==="/"?c:c.slice(a.length)||"/",v=FD(e,{pathname:h}),f=SP(v&&v.map(m=>Object.assign({},m,{params:Object.assign({},n,m.params),pathname:ls([a,m.pathname]),pathnameBase:m.pathnameBase==="/"?a:ls([a,m.pathnameBase])})),i,r||void 0);return t?ot.createElement(kp.Provider,{value:{location:Cg({pathname:"/",search:"",hash:"",state:null,key:"default"},l),navigationType:Jo.Pop}},f):f}function bP(){let e=TP(),t=rP(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},n={padding:"2px 4px",backgroundColor:i};return ot.createElement(ot.Fragment,null,ot.createElement("h2",null,"Unhandled Thrown Error!"),ot.createElement("h3",{style:{fontStyle:"italic"}},t),r?ot.createElement("pre",{style:o},r):null,ot.createElement("p",null,"💿 Hey developer 👋"),ot.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",ot.createElement("code",{style:n},"errorElement")," props on ",ot.createElement("code",{style:n},"<Route>")))}class wP extends ot.Component{constructor(t){super(t),this.state={location:t.location,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location?{error:t.error,location:t.location}:{error:t.error||r.error,location:r.location}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error?ot.createElement(Q5.Provider,{value:this.state.error,children:this.props.component}):this.props.children}}function xP(e){let{routeContext:t,match:r,children:i}=e,o=ot.useContext(pP);return o&&r.route.errorElement&&(o._deepestRenderedBoundaryId=r.route.id),ot.createElement(mf.Provider,{value:t},i)}function SP(e,t,r){if(t===void 0&&(t=[]),e==null)if(r!=null&&r.errors)e=r.matches;else return null;let i=e,o=r==null?void 0:r.errors;if(o!=null){let n=i.findIndex(a=>a.route.id&&(o==null?void 0:o[a.route.id]));n>=0||Jn(!1),i=i.slice(0,Math.min(i.length,n+1))}return i.reduceRight((n,a,s)=>{let l=a.route.id?o==null?void 0:o[a.route.id]:null,u=r?a.route.errorElement||ot.createElement(bP,null):null,c=()=>ot.createElement(xP,{match:a,routeContext:{outlet:n,matches:t.concat(i.slice(0,s+1))}},l?u:a.route.element!==void 0?a.route.element:n);return r&&(a.route.errorElement||s===0)?ot.createElement(wP,{location:r.location,component:u,error:l,children:c()}):c()},null)}var $w;(function(e){e.UseRevalidator="useRevalidator"})($w||($w={}));var Tg;(function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"})(Tg||(Tg={}));function CP(e){let t=ot.useContext(C1);return t||Jn(!1),t}function TP(){var e;let t=ot.useContext(Q5),r=CP(Tg.UseRouteError),i=ot.useContext(mf),o=i.matches[i.matches.length-1];return t||(i||Jn(!1),o.route.id||Jn(!1),(e=r.errors)==null?void 0:e[o.route.id])}function Uo(e){Jn(!1)}function AP(e){let{basename:t="/",children:r=null,location:i,navigationType:o=Jo.Pop,navigator:n,static:a=!1}=e;Au()&&Jn(!1);let s=t.replace(/^\/*/,"/"),l=ot.useMemo(()=>({basename:s,navigator:n,static:a}),[s,n,a]);typeof i=="string"&&(i=Tu(i));let{pathname:u="/",search:c="",hash:h="",state:v=null,key:f="default"}=i,m=ot.useMemo(()=>{let _=X5(u,s);return _==null?null:{pathname:_,search:c,hash:h,state:v,key:f}},[s,u,c,h,v,f]);return m==null?null:ot.createElement(T1.Provider,{value:l},ot.createElement(kp.Provider,{children:r,value:{location:m,navigationType:o}}))}function kP(e){let{children:t,location:r}=e,i=ot.useContext(vP),o=i&&!t?i.router.routes:Ag(t);return _P(o,r)}var zw;(function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"})(zw||(zw={}));new Promise(()=>{});function Ag(e,t){t===void 0&&(t=[]);let r=[];return ot.Children.forEach(e,(i,o)=>{if(!ot.isValidElement(i))return;if(i.type===ot.Fragment){r.push.apply(r,Ag(i.props.children,t));return}i.type!==Uo&&Jn(!1),!i.props.index||!i.props.children||Jn(!1);let n=[...t,o],a={id:i.props.id||n.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,hasErrorBoundary:i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle};i.props.children&&(a.children=Ag(i.props.children,n)),r.push(a)}),r}/**
 * React Router DOM v6.4.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ph(){return Ph=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Ph.apply(this,arguments)}function eT(e,t){if(e==null)return{};var r={},i=Object.keys(e),o,n;for(n=0;n<i.length;n++)o=i[n],!(t.indexOf(o)>=0)&&(r[o]=e[o]);return r}function MP(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function EP(e,t){return e.button===0&&(!t||t==="_self")&&!MP(e)}const LP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],DP=["aria-current","caseSensitive","className","end","style","to","children"];function PP(e){let{basename:t,children:r,window:i}=e,o=ot.useRef();o.current==null&&(o.current=OD({window:i,v5Compat:!0}));let n=o.current,[a,s]=ot.useState({action:n.action,location:n.location});return ot.useLayoutEffect(()=>n.listen(s),[n]),ot.createElement(AP,{basename:t,children:r,location:a.location,navigationType:a.action,navigator:n})}const RP=ot.forwardRef(function(t,r){let{onClick:i,relative:o,reloadDocument:n,replace:a,state:s,target:l,to:u,preventScrollReset:c}=t,h=eT(t,LP),v=mP(u,{relative:o}),f=OP(u,{replace:a,state:s,target:l,preventScrollReset:c,relative:o});function m(_){i&&i(_),_.defaultPrevented||f(_)}return ot.createElement("a",Ph({},h,{href:v,onClick:n?i:m,ref:r,target:l}))}),Ls=ot.forwardRef(function(t,r){let{"aria-current":i="page",caseSensitive:o=!1,className:n="",end:a=!1,style:s,to:l,children:u}=t,c=eT(t,DP),h=Dh(l),v=gP({path:h.pathname,end:a,caseSensitive:o}),f=ot.useContext(C1),m=f==null?void 0:f.navigation.location,_=Dh(m||""),p=ot.useMemo(()=>m?S1({path:h.pathname,end:a,caseSensitive:o},_.pathname):null,[m,h.pathname,o,a,_.pathname])!=null,d=v!=null,b=d?i:void 0,y;typeof n=="function"?y=n({isActive:d,isPending:p}):y=[n,d?"active":null,p?"pending":null].filter(Boolean).join(" ");let x=typeof s=="function"?s({isActive:d,isPending:p}):s;return ot.createElement(RP,Ph({},c,{"aria-current":b,className:y,ref:r,style:x,to:l}),typeof u=="function"?u({isActive:d,isPending:p}):u)});var Hw;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(Hw||(Hw={}));var Bw;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Bw||(Bw={}));function OP(e,t){let{target:r,replace:i,state:o,preventScrollReset:n,relative:a}=t===void 0?{}:t,s=yP(),l=hl(),u=Dh(e,{relative:a});return ot.useCallback(c=>{if(EP(c,r)){c.preventDefault();let h=i!==void 0?i:Sg(l)===Sg(u);s(e,{replace:h,state:o,preventScrollReset:n,relative:a})}},[l,s,u,i,o,r,e,n,a])}var tT={exports:{}},rT={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uu=ot;function IP(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var NP=typeof Object.is=="function"?Object.is:IP,FP=uu.useState,$P=uu.useEffect,zP=uu.useLayoutEffect,HP=uu.useDebugValue;function BP(e,t){var r=t(),i=FP({inst:{value:r,getSnapshot:t}}),o=i[0].inst,n=i[1];return zP(function(){o.value=r,o.getSnapshot=t,Lm(o)&&n({inst:o})},[e,r,t]),$P(function(){return Lm(o)&&n({inst:o}),e(function(){Lm(o)&&n({inst:o})})},[e]),HP(r),r}function Lm(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!NP(e,r)}catch{return!0}}function jP(e,t){return t()}var UP=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?jP:BP;rT.useSyncExternalStore=uu.useSyncExternalStore!==void 0?uu.useSyncExternalStore:UP;tT.exports=rT;var WP=tT.exports,nT={exports:{}},iT={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mp=ot,VP=WP;function GP(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var YP=typeof Object.is=="function"?Object.is:GP,KP=VP.useSyncExternalStore,XP=Mp.useRef,ZP=Mp.useEffect,JP=Mp.useMemo,QP=Mp.useDebugValue;iT.useSyncExternalStoreWithSelector=function(e,t,r,i,o){var n=XP(null);if(n.current===null){var a={hasValue:!1,value:null};n.current=a}else a=n.current;n=JP(function(){function l(f){if(!u){if(u=!0,c=f,f=i(f),o!==void 0&&a.hasValue){var m=a.value;if(o(m,f))return h=m}return h=f}if(m=h,YP(c,f))return m;var _=i(f);return o!==void 0&&o(m,_)?m:(c=f,h=_)}var u=!1,c,h,v=r===void 0?null:r;return[function(){return l(t())},v===null?void 0:function(){return l(v())}]},[t,r,i,o]);var s=KP(e,n[0],n[1]);return ZP(function(){a.hasValue=!0,a.value=s},[s]),QP(s),s};nT.exports=iT;var qP=nT.exports;function eR(e){e()}let aT=eR;const tR=e=>aT=e,rR=()=>aT,vs=ot.createContext(null);function oT(){return ot.useContext(vs)}const nR=()=>{throw new Error("uSES not initialized!")};let sT=nR;const iR=e=>{sT=e},aR=(e,t)=>e===t;function oR(e=vs){const t=e===vs?oT:()=>ot.useContext(e);return function(i,o=aR){const{store:n,subscription:a,getServerState:s}=t(),l=sT(a.addNestedSub,n.getState,s||n.getState,i,o);return ot.useDebugValue(l),l}}const an=oR();function Ir(){return Ir=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Ir.apply(this,arguments)}function sR(e,t){if(e==null)return{};var r={},i=Object.keys(e),o,n;for(n=0;n<i.length;n++)o=i[n],!(t.indexOf(o)>=0)&&(r[o]=e[o]);return r}var lT={exports:{}},yn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oi=typeof Symbol=="function"&&Symbol.for,A1=oi?Symbol.for("react.element"):60103,k1=oi?Symbol.for("react.portal"):60106,Ep=oi?Symbol.for("react.fragment"):60107,Lp=oi?Symbol.for("react.strict_mode"):60108,Dp=oi?Symbol.for("react.profiler"):60114,Pp=oi?Symbol.for("react.provider"):60109,Rp=oi?Symbol.for("react.context"):60110,M1=oi?Symbol.for("react.async_mode"):60111,Op=oi?Symbol.for("react.concurrent_mode"):60111,Ip=oi?Symbol.for("react.forward_ref"):60112,Np=oi?Symbol.for("react.suspense"):60113,lR=oi?Symbol.for("react.suspense_list"):60120,Fp=oi?Symbol.for("react.memo"):60115,$p=oi?Symbol.for("react.lazy"):60116,uR=oi?Symbol.for("react.block"):60121,cR=oi?Symbol.for("react.fundamental"):60117,fR=oi?Symbol.for("react.responder"):60118,dR=oi?Symbol.for("react.scope"):60119;function fa(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case A1:switch(e=e.type,e){case M1:case Op:case Ep:case Dp:case Lp:case Np:return e;default:switch(e=e&&e.$$typeof,e){case Rp:case Ip:case $p:case Fp:case Pp:return e;default:return t}}case k1:return t}}}function uT(e){return fa(e)===Op}yn.AsyncMode=M1;yn.ConcurrentMode=Op;yn.ContextConsumer=Rp;yn.ContextProvider=Pp;yn.Element=A1;yn.ForwardRef=Ip;yn.Fragment=Ep;yn.Lazy=$p;yn.Memo=Fp;yn.Portal=k1;yn.Profiler=Dp;yn.StrictMode=Lp;yn.Suspense=Np;yn.isAsyncMode=function(e){return uT(e)||fa(e)===M1};yn.isConcurrentMode=uT;yn.isContextConsumer=function(e){return fa(e)===Rp};yn.isContextProvider=function(e){return fa(e)===Pp};yn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===A1};yn.isForwardRef=function(e){return fa(e)===Ip};yn.isFragment=function(e){return fa(e)===Ep};yn.isLazy=function(e){return fa(e)===$p};yn.isMemo=function(e){return fa(e)===Fp};yn.isPortal=function(e){return fa(e)===k1};yn.isProfiler=function(e){return fa(e)===Dp};yn.isStrictMode=function(e){return fa(e)===Lp};yn.isSuspense=function(e){return fa(e)===Np};yn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Ep||e===Op||e===Dp||e===Lp||e===Np||e===lR||typeof e=="object"&&e!==null&&(e.$$typeof===$p||e.$$typeof===Fp||e.$$typeof===Pp||e.$$typeof===Rp||e.$$typeof===Ip||e.$$typeof===cR||e.$$typeof===fR||e.$$typeof===dR||e.$$typeof===uR)};yn.typeOf=fa;lT.exports=yn;var hR=lT.exports,E1=hR,pR={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},vR={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},mR={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},cT={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},L1={};L1[E1.ForwardRef]=mR;L1[E1.Memo]=cT;function jw(e){return E1.isMemo(e)?cT:L1[e.$$typeof]||pR}var gR=Object.defineProperty,yR=Object.getOwnPropertyNames,Uw=Object.getOwnPropertySymbols,_R=Object.getOwnPropertyDescriptor,bR=Object.getPrototypeOf,Ww=Object.prototype;function fT(e,t,r){if(typeof t!="string"){if(Ww){var i=bR(t);i&&i!==Ww&&fT(e,i,r)}var o=yR(t);Uw&&(o=o.concat(Uw(t)));for(var n=jw(e),a=jw(t),s=0;s<o.length;++s){var l=o[s];if(!vR[l]&&!(r&&r[l])&&!(a&&a[l])&&!(n&&n[l])){var u=_R(t,l);try{gR(e,l,u)}catch{}}}}return e}var wR=fT;const xR=cl(wR);var dT={exports:{}},_n={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D1=Symbol.for("react.element"),P1=Symbol.for("react.portal"),zp=Symbol.for("react.fragment"),Hp=Symbol.for("react.strict_mode"),Bp=Symbol.for("react.profiler"),jp=Symbol.for("react.provider"),Up=Symbol.for("react.context"),SR=Symbol.for("react.server_context"),Wp=Symbol.for("react.forward_ref"),Vp=Symbol.for("react.suspense"),Gp=Symbol.for("react.suspense_list"),Yp=Symbol.for("react.memo"),Kp=Symbol.for("react.lazy"),CR=Symbol.for("react.offscreen"),hT;hT=Symbol.for("react.module.reference");function Aa(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case D1:switch(e=e.type,e){case zp:case Bp:case Hp:case Vp:case Gp:return e;default:switch(e=e&&e.$$typeof,e){case SR:case Up:case Wp:case Kp:case Yp:case jp:return e;default:return t}}case P1:return t}}}_n.ContextConsumer=Up;_n.ContextProvider=jp;_n.Element=D1;_n.ForwardRef=Wp;_n.Fragment=zp;_n.Lazy=Kp;_n.Memo=Yp;_n.Portal=P1;_n.Profiler=Bp;_n.StrictMode=Hp;_n.Suspense=Vp;_n.SuspenseList=Gp;_n.isAsyncMode=function(){return!1};_n.isConcurrentMode=function(){return!1};_n.isContextConsumer=function(e){return Aa(e)===Up};_n.isContextProvider=function(e){return Aa(e)===jp};_n.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===D1};_n.isForwardRef=function(e){return Aa(e)===Wp};_n.isFragment=function(e){return Aa(e)===zp};_n.isLazy=function(e){return Aa(e)===Kp};_n.isMemo=function(e){return Aa(e)===Yp};_n.isPortal=function(e){return Aa(e)===P1};_n.isProfiler=function(e){return Aa(e)===Bp};_n.isStrictMode=function(e){return Aa(e)===Hp};_n.isSuspense=function(e){return Aa(e)===Vp};_n.isSuspenseList=function(e){return Aa(e)===Gp};_n.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===zp||e===Bp||e===Hp||e===Vp||e===Gp||e===CR||typeof e=="object"&&e!==null&&(e.$$typeof===Kp||e.$$typeof===Yp||e.$$typeof===jp||e.$$typeof===Up||e.$$typeof===Wp||e.$$typeof===hT||e.getModuleId!==void 0)};_n.typeOf=Aa;dT.exports=_n;var pT=dT.exports;function TR(){const e=rR();let t=null,r=null;return{clear(){t=null,r=null},notify(){e(()=>{let i=t;for(;i;)i.callback(),i=i.next})},get(){let i=[],o=t;for(;o;)i.push(o),o=o.next;return i},subscribe(i){let o=!0,n=r={callback:i,next:null,prev:r};return n.prev?n.prev.next=n:t=n,function(){!o||t===null||(o=!1,n.next?n.next.prev=n.prev:r=n.prev,n.prev?n.prev.next=n.next:t=n.next)}}}}const Vw={notify(){},get:()=>[]};function AR(e,t){let r,i=Vw;function o(h){return l(),i.subscribe(h)}function n(){i.notify()}function a(){c.onStateChange&&c.onStateChange()}function s(){return!!r}function l(){r||(r=t?t.addNestedSub(a):e.subscribe(a),i=TR())}function u(){r&&(r(),r=void 0,i.clear(),i=Vw)}const c={addNestedSub:o,notifyNestedSubs:n,handleChangeWrapper:a,isSubscribed:s,trySubscribe:l,tryUnsubscribe:u,getListeners:()=>i};return c}const kR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",MR=kR?ot.useLayoutEffect:ot.useEffect;function ER({store:e,context:t,children:r,serverState:i}){const o=ot.useMemo(()=>{const s=AR(e);return{store:e,subscription:s,getServerState:i?()=>i:void 0}},[e,i]),n=ot.useMemo(()=>e.getState(),[e]);MR(()=>{const{subscription:s}=o;return s.onStateChange=s.notifyNestedSubs,s.trySubscribe(),n!==e.getState()&&s.notifyNestedSubs(),()=>{s.tryUnsubscribe(),s.onStateChange=void 0}},[o,n]);const a=t||vs;return Fn.createElement(a.Provider,{value:o},r)}function vT(e=vs){const t=e===vs?oT:()=>ot.useContext(e);return function(){const{store:i}=t();return i}}const LR=vT();function DR(e=vs){const t=e===vs?LR:vT(e);return function(){return t().dispatch}}const ka=DR();iR(qP.useSyncExternalStoreWithSelector);tR(Cu.unstable_batchedUpdates);const PR="modulepreload",RR=function(e){return"/"+e},Gw={},ku=function(t,r,i){if(!r||r.length===0)return t();const o=document.getElementsByTagName("link");return Promise.all(r.map(n=>{if(n=RR(n),n in Gw)return;Gw[n]=!0;const a=n.endsWith(".css"),s=a?'[rel="stylesheet"]':"";if(!!i)for(let c=o.length-1;c>=0;c--){const h=o[c];if(h.href===n&&(!a||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${n}"]${s}`))return;const u=document.createElement("link");if(u.rel=a?"stylesheet":PR,a||(u.as="script",u.crossOrigin=""),u.href=n,document.head.appendChild(u),a)return new Promise((c,h)=>{u.addEventListener("load",c),u.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${n}`)))})})).then(()=>t())};var OR={},mT={},Xp={exports:{}},dc={exports:{}};(function(){var e,t,r,i,o,n;typeof performance<"u"&&performance!==null&&performance.now?dc.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(dc.exports=function(){return(e()-o)/1e6},t=process.hrtime,e=function(){var a;return a=t(),a[0]*1e9+a[1]},i=e(),n=process.uptime()*1e9,o=i-n):Date.now?(dc.exports=function(){return Date.now()-r},r=Date.now()):(dc.exports=function(){return new Date().getTime()-r},r=new Date().getTime())}).call(Ba);var IR=dc.exports,NR=IR,xo=typeof window>"u"?Ba:window,cd=["moz","webkit"],Kl="AnimationFrame",cu=xo["request"+Kl],Qc=xo["cancel"+Kl]||xo["cancelRequest"+Kl];for(var Qu=0;!cu&&Qu<cd.length;Qu++)cu=xo[cd[Qu]+"Request"+Kl],Qc=xo[cd[Qu]+"Cancel"+Kl]||xo[cd[Qu]+"CancelRequest"+Kl];if(!cu||!Qc){var Dm=0,Yw=0,Ds=[],FR=1e3/60;cu=function(e){if(Ds.length===0){var t=NR(),r=Math.max(0,FR-(t-Dm));Dm=r+t,setTimeout(function(){var i=Ds.slice(0);Ds.length=0;for(var o=0;o<i.length;o++)if(!i[o].cancelled)try{i[o].callback(Dm)}catch(n){setTimeout(function(){throw n},0)}},Math.round(r))}return Ds.push({handle:++Yw,callback:e,cancelled:!1}),Yw},Qc=function(e){for(var t=0;t<Ds.length;t++)Ds[t].handle===e&&(Ds[t].cancelled=!0)}}Xp.exports=function(e){return cu.call(xo,e)};Xp.exports.cancel=function(){Qc.apply(xo,arguments)};Xp.exports.polyfill=function(e){e||(e=xo),e.requestAnimationFrame=cu,e.cancelAnimationFrame=Qc};var $R=Xp.exports,Zp={exports:{}},Pm=null,Kw=["Webkit","Moz","O","ms"],zR=function(t){Pm||(Pm=document.createElement("div"));var r=Pm.style;if(t in r)return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),o=Kw.length;o>=0;o--){var n=Kw[o]+i;if(n in r)return n}return!1},HR=WR,BR=/\s/,jR=/(_|-|\.|:)/,UR=/([a-z][A-Z]|[A-Z][a-z])/;function WR(e){return BR.test(e)?e.toLowerCase():jR.test(e)?(GR(e)||e).toLowerCase():UR.test(e)?KR(e).toLowerCase():e.toLowerCase()}var VR=/[\W_]+(.|$)/g;function GR(e){return e.replace(VR,function(t,r){return r?" "+r:""})}var YR=/(.)([A-Z]+)/g;function KR(e){return e.replace(YR,function(t,r,i){return r+" "+i.toLowerCase().split("").join(" ")})}var XR=HR,ZR=JR;function JR(e){return XR(e).replace(/[\W_]+(.|$)/g,function(t,r){return r?" "+r:""}).trim()}var QR=ZR,qR=e7;function e7(e){return QR(e).replace(/\s(\w)/g,function(t,r){return r.toUpperCase()})}var t7={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,stopOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0},r7=function(e,t){return typeof t=="number"&&!t7[e]?t+"px":t},n7=zR,i7=qR,Ud={float:"cssFloat"},a7=r7;function Rh(e,t,r){var i=Ud[t];if(typeof i>"u"&&(i=s7(t)),i){if(r===void 0)return e.style[i];e.style[i]=a7(i,r)}}function o7(e,t){for(var r in t)t.hasOwnProperty(r)&&Rh(e,r,t[r])}function s7(e){var t=i7(e),r=n7(t);return Ud[t]=Ud[e]=Ud[r]=r,r}function gT(){arguments.length===2?typeof arguments[1]=="string"?arguments[0].style.cssText=arguments[1]:o7(arguments[0],arguments[1]):Rh(arguments[0],arguments[1],arguments[2])}Zp.exports=gT;Zp.exports.set=gT;Zp.exports.get=function(e,t){return Array.isArray(t)?t.reduce(function(r,i){return r[i]=Rh(e,i||""),r},{}):Rh(e,t||"")};var yT=Zp.exports,_T={exports:{}},l7="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",u7=l7,c7=u7;function bT(){}function wT(){}wT.resetWarningCache=bT;var f7=function(){function e(i,o,n,a,s,l){if(l!==c7){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:wT,resetWarningCache:bT};return r.PropTypes=r,r};_T.exports=f7();var co=_T.exports,xT={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(r){return typeof r=="string"}})(xT);var ST={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;var t=yT,r=i(t);function i(a){return a&&a.__esModule?a:{default:a}}var o=!1;function n(){if(o!==!1)return o;if(typeof document<"u"){var a=document.createElement("div");(0,r.default)(a,{width:100,height:100,position:"absolute",top:-9999,overflow:"scroll",MsOverflowStyle:"scrollbar"}),document.body.appendChild(a),o=a.offsetWidth-a.clientWidth,document.body.removeChild(a)}else o=0;return o||0}})(ST);var CT={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(){return!1}})(CT);var TT={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(r){var i=r.clientWidth,o=getComputedStyle(r),n=o.paddingLeft,a=o.paddingRight;return i-parseFloat(n)-parseFloat(a)}})(TT);var AT={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(r){var i=r.clientHeight,o=getComputedStyle(r),n=o.paddingTop,a=o.paddingBottom;return i-parseFloat(n)-parseFloat(a)}})(AT);var da={};Object.defineProperty(da,"__esModule",{value:!0});da.containerStyleDefault={position:"relative",overflow:"hidden",width:"100%",height:"100%"};da.containerStyleAutoHeight={height:"auto"};da.viewStyleDefault={position:"absolute",top:0,left:0,right:0,bottom:0,overflow:"scroll",WebkitOverflowScrolling:"touch"};da.viewStyleAutoHeight={position:"relative",top:void 0,left:void 0,right:void 0,bottom:void 0};da.viewStyleUniversalInitial={overflow:"hidden",marginRight:0,marginBottom:0};da.trackHorizontalStyleDefault={position:"absolute",height:6};da.trackVerticalStyleDefault={position:"absolute",width:6};da.thumbHorizontalStyleDefault={position:"relative",display:"block",height:"100%"};da.thumbVerticalStyleDefault={position:"relative",display:"block",width:"100%"};da.disableSelectStyle={userSelect:"none"};da.disableSelectStyleReset={userSelect:""};var pl={};Object.defineProperty(pl,"__esModule",{value:!0});var ms=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};pl.renderViewDefault=p7;pl.renderTrackHorizontalDefault=v7;pl.renderTrackVerticalDefault=m7;pl.renderThumbHorizontalDefault=g7;pl.renderThumbVerticalDefault=y7;var d7=ot,gf=h7(d7);function h7(e){return e&&e.__esModule?e:{default:e}}function Jp(e,t){var r={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i]);return r}function p7(e){return gf.default.createElement("div",e)}function v7(e){var t=e.style,r=Jp(e,["style"]),i=ms({},t,{right:2,bottom:2,left:2,borderRadius:3});return gf.default.createElement("div",ms({style:i},r))}function m7(e){var t=e.style,r=Jp(e,["style"]),i=ms({},t,{right:2,bottom:2,top:2,borderRadius:3});return gf.default.createElement("div",ms({style:i},r))}function g7(e){var t=e.style,r=Jp(e,["style"]),i=ms({},t,{cursor:"pointer",borderRadius:"inherit",backgroundColor:"rgba(0,0,0,.2)"});return gf.default.createElement("div",ms({style:i},r))}function y7(e){var t=e.style,r=Jp(e,["style"]),i=ms({},t,{cursor:"pointer",borderRadius:"inherit",backgroundColor:"rgba(0,0,0,.2)"});return gf.default.createElement("div",ms({style:i},r))}(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=Object.assign||function(k){for(var R=1;R<arguments.length;R++){var P=arguments[R];for(var E in P)Object.prototype.hasOwnProperty.call(P,E)&&(k[E]=P[E])}return k},r=function(){function k(R,P){for(var E=0;E<P.length;E++){var O=P[E];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(R,O.key,O)}}return function(R,P,E){return P&&k(R.prototype,P),E&&k(R,E),R}}(),i=$R,o=w(i),n=yT,a=w(n),s=ot,l=co,u=w(l),c=xT,h=w(c),v=ST,f=w(v),m=CT,_=w(m),g=TT,p=w(g),d=AT,b=w(d),y=da,x=pl;function w(k){return k&&k.__esModule?k:{default:k}}function C(k,R){var P={};for(var E in k)R.indexOf(E)>=0||Object.prototype.hasOwnProperty.call(k,E)&&(P[E]=k[E]);return P}function S(k,R){if(!(k instanceof R))throw new TypeError("Cannot call a class as a function")}function T(k,R){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R&&(typeof R=="object"||typeof R=="function")?R:k}function M(k,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);k.prototype=Object.create(R&&R.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(k,R):k.__proto__=R)}var D=function(k){M(R,k);function R(P){var E;S(this,R);for(var O=arguments.length,I=Array(O>1?O-1:0),U=1;U<O;U++)I[U-1]=arguments[U];var V=T(this,(E=R.__proto__||Object.getPrototypeOf(R)).call.apply(E,[this,P].concat(I)));return V.getScrollLeft=V.getScrollLeft.bind(V),V.getScrollTop=V.getScrollTop.bind(V),V.getScrollWidth=V.getScrollWidth.bind(V),V.getScrollHeight=V.getScrollHeight.bind(V),V.getClientWidth=V.getClientWidth.bind(V),V.getClientHeight=V.getClientHeight.bind(V),V.getValues=V.getValues.bind(V),V.getThumbHorizontalWidth=V.getThumbHorizontalWidth.bind(V),V.getThumbVerticalHeight=V.getThumbVerticalHeight.bind(V),V.getScrollLeftForOffset=V.getScrollLeftForOffset.bind(V),V.getScrollTopForOffset=V.getScrollTopForOffset.bind(V),V.scrollLeft=V.scrollLeft.bind(V),V.scrollTop=V.scrollTop.bind(V),V.scrollToLeft=V.scrollToLeft.bind(V),V.scrollToTop=V.scrollToTop.bind(V),V.scrollToRight=V.scrollToRight.bind(V),V.scrollToBottom=V.scrollToBottom.bind(V),V.handleTrackMouseEnter=V.handleTrackMouseEnter.bind(V),V.handleTrackMouseLeave=V.handleTrackMouseLeave.bind(V),V.handleHorizontalTrackMouseDown=V.handleHorizontalTrackMouseDown.bind(V),V.handleVerticalTrackMouseDown=V.handleVerticalTrackMouseDown.bind(V),V.handleHorizontalThumbMouseDown=V.handleHorizontalThumbMouseDown.bind(V),V.handleVerticalThumbMouseDown=V.handleVerticalThumbMouseDown.bind(V),V.handleWindowResize=V.handleWindowResize.bind(V),V.handleScroll=V.handleScroll.bind(V),V.handleDrag=V.handleDrag.bind(V),V.handleDragEnd=V.handleDragEnd.bind(V),V.state={didMountUniversal:!1},V}return r(R,[{key:"componentDidMount",value:function(){this.addListeners(),this.update(),this.componentDidMountUniversal()}},{key:"componentDidMountUniversal",value:function(){var E=this.props.universal;E&&this.setState({didMountUniversal:!0})}},{key:"componentDidUpdate",value:function(){this.update()}},{key:"componentWillUnmount",value:function(){this.removeListeners(),(0,i.cancel)(this.requestFrame),clearTimeout(this.hideTracksTimeout),clearInterval(this.detectScrollingInterval)}},{key:"getScrollLeft",value:function(){return this.view?this.view.scrollLeft:0}},{key:"getScrollTop",value:function(){return this.view?this.view.scrollTop:0}},{key:"getScrollWidth",value:function(){return this.view?this.view.scrollWidth:0}},{key:"getScrollHeight",value:function(){return this.view?this.view.scrollHeight:0}},{key:"getClientWidth",value:function(){return this.view?this.view.clientWidth:0}},{key:"getClientHeight",value:function(){return this.view?this.view.clientHeight:0}},{key:"getValues",value:function(){var E=this.view||{},O=E.scrollLeft,I=O===void 0?0:O,U=E.scrollTop,V=U===void 0?0:U,Z=E.scrollWidth,z=Z===void 0?0:Z,H=E.scrollHeight,B=H===void 0?0:H,W=E.clientWidth,F=W===void 0?0:W,K=E.clientHeight,fe=K===void 0?0:K;return{left:I/(z-F)||0,top:V/(B-fe)||0,scrollLeft:I,scrollTop:V,scrollWidth:z,scrollHeight:B,clientWidth:F,clientHeight:fe}}},{key:"getThumbHorizontalWidth",value:function(){var E=this.props,O=E.thumbSize,I=E.thumbMinSize,U=this.view,V=U.scrollWidth,Z=U.clientWidth,z=(0,p.default)(this.trackHorizontal),H=Math.ceil(Z/V*z);return z===H?0:O||Math.max(H,I)}},{key:"getThumbVerticalHeight",value:function(){var E=this.props,O=E.thumbSize,I=E.thumbMinSize,U=this.view,V=U.scrollHeight,Z=U.clientHeight,z=(0,b.default)(this.trackVertical),H=Math.ceil(Z/V*z);return z===H?0:O||Math.max(H,I)}},{key:"getScrollLeftForOffset",value:function(E){var O=this.view,I=O.scrollWidth,U=O.clientWidth,V=(0,p.default)(this.trackHorizontal),Z=this.getThumbHorizontalWidth();return E/(V-Z)*(I-U)}},{key:"getScrollTopForOffset",value:function(E){var O=this.view,I=O.scrollHeight,U=O.clientHeight,V=(0,b.default)(this.trackVertical),Z=this.getThumbVerticalHeight();return E/(V-Z)*(I-U)}},{key:"scrollLeft",value:function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.view&&(this.view.scrollLeft=E)}},{key:"scrollTop",value:function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.view&&(this.view.scrollTop=E)}},{key:"scrollToLeft",value:function(){this.view&&(this.view.scrollLeft=0)}},{key:"scrollToTop",value:function(){this.view&&(this.view.scrollTop=0)}},{key:"scrollToRight",value:function(){this.view&&(this.view.scrollLeft=this.view.scrollWidth)}},{key:"scrollToBottom",value:function(){this.view&&(this.view.scrollTop=this.view.scrollHeight)}},{key:"addListeners",value:function(){if(!(typeof document>"u"||!this.view)){var E=this.view,O=this.trackHorizontal,I=this.trackVertical,U=this.thumbHorizontal,V=this.thumbVertical;E.addEventListener("scroll",this.handleScroll),(0,f.default)()&&(O.addEventListener("mouseenter",this.handleTrackMouseEnter),O.addEventListener("mouseleave",this.handleTrackMouseLeave),O.addEventListener("mousedown",this.handleHorizontalTrackMouseDown),I.addEventListener("mouseenter",this.handleTrackMouseEnter),I.addEventListener("mouseleave",this.handleTrackMouseLeave),I.addEventListener("mousedown",this.handleVerticalTrackMouseDown),U.addEventListener("mousedown",this.handleHorizontalThumbMouseDown),V.addEventListener("mousedown",this.handleVerticalThumbMouseDown),window.addEventListener("resize",this.handleWindowResize))}}},{key:"removeListeners",value:function(){if(!(typeof document>"u"||!this.view)){var E=this.view,O=this.trackHorizontal,I=this.trackVertical,U=this.thumbHorizontal,V=this.thumbVertical;E.removeEventListener("scroll",this.handleScroll),(0,f.default)()&&(O.removeEventListener("mouseenter",this.handleTrackMouseEnter),O.removeEventListener("mouseleave",this.handleTrackMouseLeave),O.removeEventListener("mousedown",this.handleHorizontalTrackMouseDown),I.removeEventListener("mouseenter",this.handleTrackMouseEnter),I.removeEventListener("mouseleave",this.handleTrackMouseLeave),I.removeEventListener("mousedown",this.handleVerticalTrackMouseDown),U.removeEventListener("mousedown",this.handleHorizontalThumbMouseDown),V.removeEventListener("mousedown",this.handleVerticalThumbMouseDown),window.removeEventListener("resize",this.handleWindowResize),this.teardownDragging())}}},{key:"handleScroll",value:function(E){var O=this,I=this.props,U=I.onScroll,V=I.onScrollFrame;U&&U(E),this.update(function(Z){var z=Z.scrollLeft,H=Z.scrollTop;O.viewScrollLeft=z,O.viewScrollTop=H,V&&V(Z)}),this.detectScrolling()}},{key:"handleScrollStart",value:function(){var E=this.props.onScrollStart;E&&E(),this.handleScrollStartAutoHide()}},{key:"handleScrollStartAutoHide",value:function(){var E=this.props.autoHide;E&&this.showTracks()}},{key:"handleScrollStop",value:function(){var E=this.props.onScrollStop;E&&E(),this.handleScrollStopAutoHide()}},{key:"handleScrollStopAutoHide",value:function(){var E=this.props.autoHide;E&&this.hideTracks()}},{key:"handleWindowResize",value:function(){this.update()}},{key:"handleHorizontalTrackMouseDown",value:function(E){E.preventDefault();var O=E.target,I=E.clientX,U=O.getBoundingClientRect(),V=U.left,Z=this.getThumbHorizontalWidth(),z=Math.abs(V-I)-Z/2;this.view.scrollLeft=this.getScrollLeftForOffset(z)}},{key:"handleVerticalTrackMouseDown",value:function(E){E.preventDefault();var O=E.target,I=E.clientY,U=O.getBoundingClientRect(),V=U.top,Z=this.getThumbVerticalHeight(),z=Math.abs(V-I)-Z/2;this.view.scrollTop=this.getScrollTopForOffset(z)}},{key:"handleHorizontalThumbMouseDown",value:function(E){E.preventDefault(),this.handleDragStart(E);var O=E.target,I=E.clientX,U=O.offsetWidth,V=O.getBoundingClientRect(),Z=V.left;this.prevPageX=U-(I-Z)}},{key:"handleVerticalThumbMouseDown",value:function(E){E.preventDefault(),this.handleDragStart(E);var O=E.target,I=E.clientY,U=O.offsetHeight,V=O.getBoundingClientRect(),Z=V.top;this.prevPageY=U-(I-Z)}},{key:"setupDragging",value:function(){(0,a.default)(document.body,y.disableSelectStyle),document.addEventListener("mousemove",this.handleDrag),document.addEventListener("mouseup",this.handleDragEnd),document.onselectstart=_.default}},{key:"teardownDragging",value:function(){(0,a.default)(document.body,y.disableSelectStyleReset),document.removeEventListener("mousemove",this.handleDrag),document.removeEventListener("mouseup",this.handleDragEnd),document.onselectstart=void 0}},{key:"handleDragStart",value:function(E){this.dragging=!0,E.stopImmediatePropagation(),this.setupDragging()}},{key:"handleDrag",value:function(E){if(this.prevPageX){var O=E.clientX,I=this.trackHorizontal.getBoundingClientRect(),U=I.left,V=this.getThumbHorizontalWidth(),Z=V-this.prevPageX,z=-U+O-Z;this.view.scrollLeft=this.getScrollLeftForOffset(z)}if(this.prevPageY){var H=E.clientY,B=this.trackVertical.getBoundingClientRect(),W=B.top,F=this.getThumbVerticalHeight(),K=F-this.prevPageY,fe=-W+H-K;this.view.scrollTop=this.getScrollTopForOffset(fe)}return!1}},{key:"handleDragEnd",value:function(){this.dragging=!1,this.prevPageX=this.prevPageY=0,this.teardownDragging(),this.handleDragEndAutoHide()}},{key:"handleDragEndAutoHide",value:function(){var E=this.props.autoHide;E&&this.hideTracks()}},{key:"handleTrackMouseEnter",value:function(){this.trackMouseOver=!0,this.handleTrackMouseEnterAutoHide()}},{key:"handleTrackMouseEnterAutoHide",value:function(){var E=this.props.autoHide;E&&this.showTracks()}},{key:"handleTrackMouseLeave",value:function(){this.trackMouseOver=!1,this.handleTrackMouseLeaveAutoHide()}},{key:"handleTrackMouseLeaveAutoHide",value:function(){var E=this.props.autoHide;E&&this.hideTracks()}},{key:"showTracks",value:function(){clearTimeout(this.hideTracksTimeout),(0,a.default)(this.trackHorizontal,{opacity:1}),(0,a.default)(this.trackVertical,{opacity:1})}},{key:"hideTracks",value:function(){var E=this;if(!this.dragging&&!this.scrolling&&!this.trackMouseOver){var O=this.props.autoHideTimeout;clearTimeout(this.hideTracksTimeout),this.hideTracksTimeout=setTimeout(function(){(0,a.default)(E.trackHorizontal,{opacity:0}),(0,a.default)(E.trackVertical,{opacity:0})},O)}}},{key:"detectScrolling",value:function(){var E=this;this.scrolling||(this.scrolling=!0,this.handleScrollStart(),this.detectScrollingInterval=setInterval(function(){E.lastViewScrollLeft===E.viewScrollLeft&&E.lastViewScrollTop===E.viewScrollTop&&(clearInterval(E.detectScrollingInterval),E.scrolling=!1,E.handleScrollStop()),E.lastViewScrollLeft=E.viewScrollLeft,E.lastViewScrollTop=E.viewScrollTop},100))}},{key:"raf",value:function(E){var O=this;this.requestFrame&&o.default.cancel(this.requestFrame),this.requestFrame=(0,o.default)(function(){O.requestFrame=void 0,E()})}},{key:"update",value:function(E){var O=this;this.raf(function(){return O._update(E)})}},{key:"_update",value:function(E){var O=this.props,I=O.onUpdate,U=O.hideTracksWhenNotNeeded,V=this.getValues();if((0,f.default)()){var Z=V.scrollLeft,z=V.clientWidth,H=V.scrollWidth,B=(0,p.default)(this.trackHorizontal),W=this.getThumbHorizontalWidth(),F=Z/(H-z)*(B-W),K={width:W,transform:"translateX("+F+"px)"},fe=V.scrollTop,se=V.clientHeight,ee=V.scrollHeight,ie=(0,b.default)(this.trackVertical),J=this.getThumbVerticalHeight(),te=fe/(ee-se)*(ie-J),L={height:J,transform:"translateY("+te+"px)"};if(U){var N={visibility:H>z?"visible":"hidden"},G={visibility:ee>se?"visible":"hidden"};(0,a.default)(this.trackHorizontal,N),(0,a.default)(this.trackVertical,G)}(0,a.default)(this.thumbHorizontal,K),(0,a.default)(this.thumbVertical,L)}I&&I(V),typeof E=="function"&&E(V)}},{key:"render",value:function(){var E=this,O=(0,f.default)(),I=this.props;I.onScroll,I.onScrollFrame,I.onScrollStart,I.onScrollStop,I.onUpdate;var U=I.renderView,V=I.renderTrackHorizontal,Z=I.renderTrackVertical,z=I.renderThumbHorizontal,H=I.renderThumbVertical,B=I.tagName;I.hideTracksWhenNotNeeded;var W=I.autoHide;I.autoHideTimeout;var F=I.autoHideDuration;I.thumbSize,I.thumbMinSize;var K=I.universal,fe=I.autoHeight,se=I.autoHeightMin,ee=I.autoHeightMax,ie=I.style,J=I.children,te=C(I,["onScroll","onScrollFrame","onScrollStart","onScrollStop","onUpdate","renderView","renderTrackHorizontal","renderTrackVertical","renderThumbHorizontal","renderThumbVertical","tagName","hideTracksWhenNotNeeded","autoHide","autoHideTimeout","autoHideDuration","thumbSize","thumbMinSize","universal","autoHeight","autoHeightMin","autoHeightMax","style","children"]),L=this.state.didMountUniversal,N=t({},y.containerStyleDefault,fe&&t({},y.containerStyleAutoHeight,{minHeight:se,maxHeight:ee}),ie),G=t({},y.viewStyleDefault,{marginRight:O?-O:0,marginBottom:O?-O:0},fe&&t({},y.viewStyleAutoHeight,{minHeight:(0,h.default)(se)?"calc("+se+" + "+O+"px)":se+O,maxHeight:(0,h.default)(ee)?"calc("+ee+" + "+O+"px)":ee+O}),fe&&K&&!L&&{minHeight:se,maxHeight:ee},K&&!L&&y.viewStyleUniversalInitial),Y={transition:"opacity "+F+"ms",opacity:0},j=t({},y.trackHorizontalStyleDefault,W&&Y,(!O||K&&!L)&&{display:"none"}),Q=t({},y.trackVerticalStyleDefault,W&&Y,(!O||K&&!L)&&{display:"none"});return(0,s.createElement)(B,t({},te,{style:N,ref:function(re){E.container=re}}),[(0,s.cloneElement)(U({style:G}),{key:"view",ref:function(re){E.view=re}},J),(0,s.cloneElement)(V({style:j}),{key:"trackHorizontal",ref:function(re){E.trackHorizontal=re}},(0,s.cloneElement)(z({style:y.thumbHorizontalStyleDefault}),{ref:function(re){E.thumbHorizontal=re}})),(0,s.cloneElement)(Z({style:Q}),{key:"trackVertical",ref:function(re){E.trackVertical=re}},(0,s.cloneElement)(H({style:y.thumbVerticalStyleDefault}),{ref:function(re){E.thumbVertical=re}}))])}}]),R}(s.Component);e.default=D,D.propTypes={onScroll:u.default.func,onScrollFrame:u.default.func,onScrollStart:u.default.func,onScrollStop:u.default.func,onUpdate:u.default.func,renderView:u.default.func,renderTrackHorizontal:u.default.func,renderTrackVertical:u.default.func,renderThumbHorizontal:u.default.func,renderThumbVertical:u.default.func,tagName:u.default.string,thumbSize:u.default.number,thumbMinSize:u.default.number,hideTracksWhenNotNeeded:u.default.bool,autoHide:u.default.bool,autoHideTimeout:u.default.number,autoHideDuration:u.default.number,autoHeight:u.default.bool,autoHeightMin:u.default.oneOfType([u.default.number,u.default.string]),autoHeightMax:u.default.oneOfType([u.default.number,u.default.string]),universal:u.default.bool,style:u.default.object,children:u.default.node},D.defaultProps={renderView:x.renderViewDefault,renderTrackHorizontal:x.renderTrackHorizontalDefault,renderTrackVertical:x.renderTrackVerticalDefault,renderThumbHorizontal:x.renderThumbHorizontalDefault,renderThumbVertical:x.renderThumbVerticalDefault,tagName:"div",thumbMinSize:30,hideTracksWhenNotNeeded:!1,autoHide:!1,autoHideTimeout:1e3,autoHideDuration:200,autoHeight:!1,autoHeightMin:0,autoHeightMax:200,universal:!1}})(mT);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Scrollbars=void 0;var t=mT,r=i(t);function i(o){return o&&o.__esModule?o:{default:o}}e.default=r.default,e.Scrollbars=r.default})(OR);const Hr={global:{colors:{icon:"#666666"}},icon:{size:{small:"12px",medium:"24px",large:"48px",xlarge:"96px"},extend:void 0},background:{level_1:"#121212",level_2:"rgba(255,255,255,0.07)",level_3:"rgba(255,255,255,0.08)",level_4:"rgba(255,255,255,0.11)",level_5:"rgba(255,255,255,0.11)",accents:"rgba(255,181,69,1)",transparent_accents:"rgba(255,181,69,0.7)",select_background:"#444444",borders:"#434343",bordersLight:"#636363"},text:"rgba(255, 255, 255, 0.87)",icons_color:"rgba(255, 255, 255, 0.87)",icons_size:"2em",plot_palette:["rgb(161, 201,244)","rgb(141, 229,161)","rgb(255, 159,155)","rgb(208, 187,255)","rgb(255, 254,163)","rgb(185, 242,240)"]};function _7(e){function t(H,B,W,F,K){for(var fe=0,se=0,ee=0,ie=0,J,te,L=0,N=0,G,Y=G=J=0,j=0,Q=0,q=0,re=0,ue=W.length,de=ue-1,me,pe="",ge="",Te="",He="",Oe;j<ue;){if(te=W.charCodeAt(j),j===de&&se+ie+ee+fe!==0&&(se!==0&&(te=se===47?10:47),ie=ee=fe=0,ue++,de++),se+ie+ee+fe===0){if(j===de&&(0<Q&&(pe=pe.replace(v,"")),0<pe.trim().length)){switch(te){case 32:case 9:case 59:case 13:case 10:break;default:pe+=W.charAt(j)}te=59}switch(te){case 123:for(pe=pe.trim(),J=pe.charCodeAt(0),G=1,re=++j;j<ue;){switch(te=W.charCodeAt(j)){case 123:G++;break;case 125:G--;break;case 47:switch(te=W.charCodeAt(j+1)){case 42:case 47:e:{for(Y=j+1;Y<de;++Y)switch(W.charCodeAt(Y)){case 47:if(te===42&&W.charCodeAt(Y-1)===42&&j+2!==Y){j=Y+1;break e}break;case 10:if(te===47){j=Y+1;break e}}j=Y}}break;case 91:te++;case 40:te++;case 34:case 39:for(;j++<de&&W.charCodeAt(j)!==te;);}if(G===0)break;j++}switch(G=W.substring(re,j),J===0&&(J=(pe=pe.replace(h,"").trim()).charCodeAt(0)),J){case 64:switch(0<Q&&(pe=pe.replace(v,"")),te=pe.charCodeAt(1),te){case 100:case 109:case 115:case 45:Q=B;break;default:Q=O}if(G=t(B,Q,G,te,K+1),re=G.length,0<U&&(Q=r(O,pe,q),Oe=s(3,G,Q,B,R,k,re,te,K,F),pe=Q.join(""),Oe!==void 0&&(re=(G=Oe.trim()).length)===0&&(te=0,G="")),0<re)switch(te){case 115:pe=pe.replace(w,a);case 100:case 109:case 45:G=pe+"{"+G+"}";break;case 107:pe=pe.replace(d,"$1 $2"),G=pe+"{"+G+"}",G=E===1||E===2&&n("@"+G,3)?"@-webkit-"+G+"@"+G:"@"+G;break;default:G=pe+G,F===112&&(G=(ge+=G,""))}else G="";break;default:G=t(B,r(B,pe,q),G,F,K+1)}Te+=G,G=q=Q=Y=J=0,pe="",te=W.charCodeAt(++j);break;case 125:case 59:if(pe=(0<Q?pe.replace(v,""):pe).trim(),1<(re=pe.length))switch(Y===0&&(J=pe.charCodeAt(0),J===45||96<J&&123>J)&&(re=(pe=pe.replace(" ",":")).length),0<U&&(Oe=s(1,pe,B,H,R,k,ge.length,F,K,F))!==void 0&&(re=(pe=Oe.trim()).length)===0&&(pe="\0\0"),J=pe.charCodeAt(0),te=pe.charCodeAt(1),J){case 0:break;case 64:if(te===105||te===99){He+=pe+W.charAt(j);break}default:pe.charCodeAt(re-1)!==58&&(ge+=o(pe,J,te,pe.charCodeAt(2)))}q=Q=Y=J=0,pe="",te=W.charCodeAt(++j)}}switch(te){case 13:case 10:se===47?se=0:1+J===0&&F!==107&&0<pe.length&&(Q=1,pe+="\0"),0<U*Z&&s(0,pe,B,H,R,k,ge.length,F,K,F),k=1,R++;break;case 59:case 125:if(se+ie+ee+fe===0){k++;break}default:switch(k++,me=W.charAt(j),te){case 9:case 32:if(ie+fe+se===0)switch(L){case 44:case 58:case 9:case 32:me="";break;default:te!==32&&(me=" ")}break;case 0:me="\\0";break;case 12:me="\\f";break;case 11:me="\\v";break;case 38:ie+se+fe===0&&(Q=q=1,me="\f"+me);break;case 108:if(ie+se+fe+P===0&&0<Y)switch(j-Y){case 2:L===112&&W.charCodeAt(j-3)===58&&(P=L);case 8:N===111&&(P=N)}break;case 58:ie+se+fe===0&&(Y=j);break;case 44:se+ee+ie+fe===0&&(Q=1,me+="\r");break;case 34:case 39:se===0&&(ie=ie===te?0:ie===0?te:ie);break;case 91:ie+se+ee===0&&fe++;break;case 93:ie+se+ee===0&&fe--;break;case 41:ie+se+fe===0&&ee--;break;case 40:if(ie+se+fe===0){if(J===0)switch(2*L+3*N){case 533:break;default:J=1}ee++}break;case 64:se+ee+ie+fe+Y+G===0&&(G=1);break;case 42:case 47:if(!(0<ie+fe+ee))switch(se){case 0:switch(2*te+3*W.charCodeAt(j+1)){case 235:se=47;break;case 220:re=j,se=42}break;case 42:te===47&&L===42&&re+2!==j&&(W.charCodeAt(re+2)===33&&(ge+=W.substring(re,j+1)),me="",se=0)}}se===0&&(pe+=me)}N=L,L=te,j++}if(re=ge.length,0<re){if(Q=B,0<U&&(Oe=s(2,ge,Q,H,R,k,re,F,K,F),Oe!==void 0&&(ge=Oe).length===0))return He+ge+Te;if(ge=Q.join(",")+"{"+ge+"}",E*P!==0){switch(E!==2||n(ge,2)||(P=0),P){case 111:ge=ge.replace(y,":-moz-$1")+ge;break;case 112:ge=ge.replace(b,"::-webkit-input-$1")+ge.replace(b,"::-moz-$1")+ge.replace(b,":-ms-input-$1")+ge}P=0}}return He+ge+Te}function r(H,B,W){var F=B.trim().split(g);B=F;var K=F.length,fe=H.length;switch(fe){case 0:case 1:var se=0;for(H=fe===0?"":H[0]+" ";se<K;++se)B[se]=i(H,B[se],W).trim();break;default:var ee=se=0;for(B=[];se<K;++se)for(var ie=0;ie<fe;++ie)B[ee++]=i(H[ie]+" ",F[se],W).trim()}return B}function i(H,B,W){var F=B.charCodeAt(0);switch(33>F&&(F=(B=B.trim()).charCodeAt(0)),F){case 38:return B.replace(p,"$1"+H.trim());case 58:return H.trim()+B.replace(p,"$1"+H.trim());default:if(0<1*W&&0<B.indexOf("\f"))return B.replace(p,(H.charCodeAt(0)===58?"":"$1")+H.trim())}return H+B}function o(H,B,W,F){var K=H+";",fe=2*B+3*W+4*F;if(fe===944){H=K.indexOf(":",9)+1;var se=K.substring(H,K.length-1).trim();return se=K.substring(0,H).trim()+se+";",E===1||E===2&&n(se,1)?"-webkit-"+se+se:se}if(E===0||E===2&&!n(K,1))return K;switch(fe){case 1015:return K.charCodeAt(10)===97?"-webkit-"+K+K:K;case 951:return K.charCodeAt(3)===116?"-webkit-"+K+K:K;case 963:return K.charCodeAt(5)===110?"-webkit-"+K+K:K;case 1009:if(K.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+K+K;case 978:return"-webkit-"+K+"-moz-"+K+K;case 1019:case 983:return"-webkit-"+K+"-moz-"+K+"-ms-"+K+K;case 883:if(K.charCodeAt(8)===45)return"-webkit-"+K+K;if(0<K.indexOf("image-set(",11))return K.replace(D,"$1-webkit-$2")+K;break;case 932:if(K.charCodeAt(4)===45)switch(K.charCodeAt(5)){case 103:return"-webkit-box-"+K.replace("-grow","")+"-webkit-"+K+"-ms-"+K.replace("grow","positive")+K;case 115:return"-webkit-"+K+"-ms-"+K.replace("shrink","negative")+K;case 98:return"-webkit-"+K+"-ms-"+K.replace("basis","preferred-size")+K}return"-webkit-"+K+"-ms-"+K+K;case 964:return"-webkit-"+K+"-ms-flex-"+K+K;case 1023:if(K.charCodeAt(8)!==99)break;return se=K.substring(K.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+se+"-webkit-"+K+"-ms-flex-pack"+se+K;case 1005:return m.test(K)?K.replace(f,":-webkit-")+K.replace(f,":-moz-")+K:K;case 1e3:switch(se=K.substring(13).trim(),B=se.indexOf("-")+1,se.charCodeAt(0)+se.charCodeAt(B)){case 226:se=K.replace(x,"tb");break;case 232:se=K.replace(x,"tb-rl");break;case 220:se=K.replace(x,"lr");break;default:return K}return"-webkit-"+K+"-ms-"+se+K;case 1017:if(K.indexOf("sticky",9)===-1)break;case 975:switch(B=(K=H).length-10,se=(K.charCodeAt(B)===33?K.substring(0,B):K).substring(H.indexOf(":",7)+1).trim(),fe=se.charCodeAt(0)+(se.charCodeAt(7)|0)){case 203:if(111>se.charCodeAt(8))break;case 115:K=K.replace(se,"-webkit-"+se)+";"+K;break;case 207:case 102:K=K.replace(se,"-webkit-"+(102<fe?"inline-":"")+"box")+";"+K.replace(se,"-webkit-"+se)+";"+K.replace(se,"-ms-"+se+"box")+";"+K}return K+";";case 938:if(K.charCodeAt(5)===45)switch(K.charCodeAt(6)){case 105:return se=K.replace("-items",""),"-webkit-"+K+"-webkit-box-"+se+"-ms-flex-"+se+K;case 115:return"-webkit-"+K+"-ms-flex-item-"+K.replace(S,"")+K;default:return"-webkit-"+K+"-ms-flex-line-pack"+K.replace("align-content","").replace(S,"")+K}break;case 973:case 989:if(K.charCodeAt(3)!==45||K.charCodeAt(4)===122)break;case 931:case 953:if(M.test(H)===!0)return(se=H.substring(H.indexOf(":")+1)).charCodeAt(0)===115?o(H.replace("stretch","fill-available"),B,W,F).replace(":fill-available",":stretch"):K.replace(se,"-webkit-"+se)+K.replace(se,"-moz-"+se.replace("fill-",""))+K;break;case 962:if(K="-webkit-"+K+(K.charCodeAt(5)===102?"-ms-"+K:"")+K,W+F===211&&K.charCodeAt(13)===105&&0<K.indexOf("transform",10))return K.substring(0,K.indexOf(";",27)+1).replace(_,"$1-webkit-$2")+K}return K}function n(H,B){var W=H.indexOf(B===1?":":"{"),F=H.substring(0,B!==3?W:10);return W=H.substring(W+1,H.length-1),V(B!==2?F:F.replace(T,"$1"),W,B)}function a(H,B){var W=o(B,B.charCodeAt(0),B.charCodeAt(1),B.charCodeAt(2));return W!==B+";"?W.replace(C," or ($1)").substring(4):"("+B+")"}function s(H,B,W,F,K,fe,se,ee,ie,J){for(var te=0,L=B,N;te<U;++te)switch(N=I[te].call(c,H,L,W,F,K,fe,se,ee,ie,J)){case void 0:case!1:case!0:case null:break;default:L=N}if(L!==B)return L}function l(H){switch(H){case void 0:case null:U=I.length=0;break;default:if(typeof H=="function")I[U++]=H;else if(typeof H=="object")for(var B=0,W=H.length;B<W;++B)l(H[B]);else Z=!!H|0}return l}function u(H){return H=H.prefix,H!==void 0&&(V=null,H?typeof H!="function"?E=1:(E=2,V=H):E=0),u}function c(H,B){var W=H;if(33>W.charCodeAt(0)&&(W=W.trim()),z=W,W=[z],0<U){var F=s(-1,B,W,W,R,k,0,0,0,0);F!==void 0&&typeof F=="string"&&(B=F)}var K=t(O,W,B,0,0);return 0<U&&(F=s(-2,K,W,W,R,k,K.length,0,0,0),F!==void 0&&(K=F)),z="",P=0,k=R=1,K}var h=/^\0+/g,v=/[\0\r\f]/g,f=/: */g,m=/zoo|gra/,_=/([,: ])(transform)/g,g=/,\r+?/g,p=/([\t\r\n ])*\f?&/g,d=/@(k\w+)\s*(\S*)\s*/,b=/::(place)/g,y=/:(read-only)/g,x=/[svh]\w+-[tblr]{2}/,w=/\(\s*(.*)\s*\)/g,C=/([\s\S]*?);/g,S=/-self|flex-/g,T=/[^]*?(:[rp][el]a[\w-]+)[^]*/,M=/stretch|:\s*\w+\-(?:conte|avail)/,D=/([^-])(image-set\()/,k=1,R=1,P=0,E=1,O=[],I=[],U=0,V=null,Z=0,z="";return c.use=l,c.set=u,e!==void 0&&u(e),c}var b7={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function kT(e){var t=Object.create(null);return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}var w7=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Xw=kT(function(e){return w7.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91});function no(){return(no=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}).apply(this,arguments)}var Zw=function(e,t){for(var r=[e[0]],i=0,o=t.length;i<o;i+=1)r.push(t[i],e[i+1]);return r},kg=function(e){return e!==null&&typeof e=="object"&&(e.toString?e.toString():Object.prototype.toString.call(e))==="[object Object]"&&!pT.typeOf(e)},Oh=Object.freeze([]),us=Object.freeze({});function fu(e){return typeof e=="function"}function Jw(e){return e.displayName||e.name||"Component"}function R1(e){return e&&typeof e.styledComponentId=="string"}var du=typeof process<"u"&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",O1=typeof window<"u"&&"HTMLElement"in window,x7=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&{}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==""&&{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY);function al(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(r.length>0?" Args: "+r.join(", "):""))}var S7=function(){function e(r){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=r}var t=e.prototype;return t.indexOfGroup=function(r){for(var i=0,o=0;o<r;o++)i+=this.groupSizes[o];return i},t.insertRules=function(r,i){if(r>=this.groupSizes.length){for(var o=this.groupSizes,n=o.length,a=n;r>=a;)(a<<=1)<0&&al(16,""+r);this.groupSizes=new Uint32Array(a),this.groupSizes.set(o),this.length=a;for(var s=n;s<a;s++)this.groupSizes[s]=0}for(var l=this.indexOfGroup(r+1),u=0,c=i.length;u<c;u++)this.tag.insertRule(l,i[u])&&(this.groupSizes[r]++,l++)},t.clearGroup=function(r){if(r<this.length){var i=this.groupSizes[r],o=this.indexOfGroup(r),n=o+i;this.groupSizes[r]=0;for(var a=o;a<n;a++)this.tag.deleteRule(o)}},t.getGroup=function(r){var i="";if(r>=this.length||this.groupSizes[r]===0)return i;for(var o=this.groupSizes[r],n=this.indexOfGroup(r),a=n+o,s=n;s<a;s++)i+=this.tag.getRule(s)+`/*!sc*/
`;return i},e}(),Wd=new Map,Ih=new Map,Tc=1,fd=function(e){if(Wd.has(e))return Wd.get(e);for(;Ih.has(Tc);)Tc++;var t=Tc++;return Wd.set(e,t),Ih.set(t,e),t},C7=function(e){return Ih.get(e)},T7=function(e,t){t>=Tc&&(Tc=t+1),Wd.set(e,t),Ih.set(t,e)},A7="style["+du+'][data-styled-version="5.3.6"]',k7=new RegExp("^"+du+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),M7=function(e,t,r){for(var i,o=r.split(","),n=0,a=o.length;n<a;n++)(i=o[n])&&e.registerName(t,i)},E7=function(e,t){for(var r=(t.textContent||"").split(`/*!sc*/
`),i=[],o=0,n=r.length;o<n;o++){var a=r[o].trim();if(a){var s=a.match(k7);if(s){var l=0|parseInt(s[1],10),u=s[2];l!==0&&(T7(u,l),M7(e,u,s[3]),e.getTag().insertRules(l,i)),i.length=0}else i.push(a)}}},L7=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null},MT=function(e){var t=document.head,r=e||t,i=document.createElement("style"),o=function(s){for(var l=s.childNodes,u=l.length;u>=0;u--){var c=l[u];if(c&&c.nodeType===1&&c.hasAttribute(du))return c}}(r),n=o!==void 0?o.nextSibling:null;i.setAttribute(du,"active"),i.setAttribute("data-styled-version","5.3.6");var a=L7();return a&&i.setAttribute("nonce",a),r.insertBefore(i,n),i},D7=function(){function e(r){var i=this.element=MT(r);i.appendChild(document.createTextNode("")),this.sheet=function(o){if(o.sheet)return o.sheet;for(var n=document.styleSheets,a=0,s=n.length;a<s;a++){var l=n[a];if(l.ownerNode===o)return l}al(17)}(i),this.length=0}var t=e.prototype;return t.insertRule=function(r,i){try{return this.sheet.insertRule(i,r),this.length++,!0}catch{return!1}},t.deleteRule=function(r){this.sheet.deleteRule(r),this.length--},t.getRule=function(r){var i=this.sheet.cssRules[r];return i!==void 0&&typeof i.cssText=="string"?i.cssText:""},e}(),P7=function(){function e(r){var i=this.element=MT(r);this.nodes=i.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(r,i){if(r<=this.length&&r>=0){var o=document.createTextNode(i),n=this.nodes[r];return this.element.insertBefore(o,n||null),this.length++,!0}return!1},t.deleteRule=function(r){this.element.removeChild(this.nodes[r]),this.length--},t.getRule=function(r){return r<this.length?this.nodes[r].textContent:""},e}(),R7=function(){function e(r){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(r,i){return r<=this.length&&(this.rules.splice(r,0,i),this.length++,!0)},t.deleteRule=function(r){this.rules.splice(r,1),this.length--},t.getRule=function(r){return r<this.length?this.rules[r]:""},e}(),Qw=O1,O7={isServer:!O1,useCSSOMInjection:!x7},ET=function(){function e(r,i,o){r===void 0&&(r=us),i===void 0&&(i={}),this.options=no({},O7,{},r),this.gs=i,this.names=new Map(o),this.server=!!r.isServer,!this.server&&O1&&Qw&&(Qw=!1,function(n){for(var a=document.querySelectorAll(A7),s=0,l=a.length;s<l;s++){var u=a[s];u&&u.getAttribute(du)!=="active"&&(E7(n,u),u.parentNode&&u.parentNode.removeChild(u))}}(this))}e.registerId=function(r){return fd(r)};var t=e.prototype;return t.reconstructWithOptions=function(r,i){return i===void 0&&(i=!0),new e(no({},this.options,{},r),this.gs,i&&this.names||void 0)},t.allocateGSInstance=function(r){return this.gs[r]=(this.gs[r]||0)+1},t.getTag=function(){return this.tag||(this.tag=(o=(i=this.options).isServer,n=i.useCSSOMInjection,a=i.target,r=o?new R7(a):n?new D7(a):new P7(a),new S7(r)));var r,i,o,n,a},t.hasNameForId=function(r,i){return this.names.has(r)&&this.names.get(r).has(i)},t.registerName=function(r,i){if(fd(r),this.names.has(r))this.names.get(r).add(i);else{var o=new Set;o.add(i),this.names.set(r,o)}},t.insertRules=function(r,i,o){this.registerName(r,i),this.getTag().insertRules(fd(r),o)},t.clearNames=function(r){this.names.has(r)&&this.names.get(r).clear()},t.clearRules=function(r){this.getTag().clearGroup(fd(r)),this.clearNames(r)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(r){for(var i=r.getTag(),o=i.length,n="",a=0;a<o;a++){var s=C7(a);if(s!==void 0){var l=r.names.get(s),u=i.getGroup(a);if(l&&u&&l.size){var c=du+".g"+a+'[id="'+s+'"]',h="";l!==void 0&&l.forEach(function(v){v.length>0&&(h+=v+",")}),n+=""+u+c+'{content:"'+h+`"}/*!sc*/
`}}}return n}(this)},e}(),I7=/(a)(d)/gi,qw=function(e){return String.fromCharCode(e+(e>25?39:97))};function Mg(e){var t,r="";for(t=Math.abs(e);t>52;t=t/52|0)r=qw(t%52)+r;return(qw(t%52)+r).replace(I7,"$1-$2")}var Hl=function(e,t){for(var r=t.length;r;)e=33*e^t.charCodeAt(--r);return e},LT=function(e){return Hl(5381,e)};function N7(e){for(var t=0;t<e.length;t+=1){var r=e[t];if(fu(r)&&!R1(r))return!1}return!0}var F7=LT("5.3.6"),$7=function(){function e(t,r,i){this.rules=t,this.staticRulesId="",this.isStatic=(i===void 0||i.isStatic)&&N7(t),this.componentId=r,this.baseHash=Hl(F7,r),this.baseStyle=i,ET.registerId(r)}return e.prototype.generateAndInjectStyles=function(t,r,i){var o=this.componentId,n=[];if(this.baseStyle&&n.push(this.baseStyle.generateAndInjectStyles(t,r,i)),this.isStatic&&!i.hash)if(this.staticRulesId&&r.hasNameForId(o,this.staticRulesId))n.push(this.staticRulesId);else{var a=hu(this.rules,t,r,i).join(""),s=Mg(Hl(this.baseHash,a)>>>0);if(!r.hasNameForId(o,s)){var l=i(a,"."+s,void 0,o);r.insertRules(o,s,l)}n.push(s),this.staticRulesId=s}else{for(var u=this.rules.length,c=Hl(this.baseHash,i.hash),h="",v=0;v<u;v++){var f=this.rules[v];if(typeof f=="string")h+=f;else if(f){var m=hu(f,t,r,i),_=Array.isArray(m)?m.join(""):m;c=Hl(c,_+v),h+=_}}if(h){var g=Mg(c>>>0);if(!r.hasNameForId(o,g)){var p=i(h,"."+g,void 0,o);r.insertRules(o,g,p)}n.push(g)}}return n.join(" ")},e}(),z7=/^\s*\/\/.*$/gm,H7=[":","[",".","#"];function B7(e){var t,r,i,o,n=e===void 0?us:e,a=n.options,s=a===void 0?us:a,l=n.plugins,u=l===void 0?Oh:l,c=new _7(s),h=[],v=function(_){function g(p){if(p)try{_(p+"}")}catch{}}return function(p,d,b,y,x,w,C,S,T,M){switch(p){case 1:if(T===0&&d.charCodeAt(0)===64)return _(d+";"),"";break;case 2:if(S===0)return d+"/*|*/";break;case 3:switch(S){case 102:case 112:return _(b[0]+d),"";default:return d+(M===0?"/*|*/":"")}case-2:d.split("/*|*/}").forEach(g)}}}(function(_){h.push(_)}),f=function(_,g,p){return g===0&&H7.indexOf(p[r.length])!==-1||p.match(o)?_:"."+t};function m(_,g,p,d){d===void 0&&(d="&");var b=_.replace(z7,""),y=g&&p?p+" "+g+" { "+b+" }":b;return t=d,r=g,i=new RegExp("\\"+r+"\\b","g"),o=new RegExp("(\\"+r+"\\b){2,}"),c(p||!g?"":g,y)}return c.use([].concat(u,[function(_,g,p){_===2&&p.length&&p[0].lastIndexOf(r)>0&&(p[0]=p[0].replace(i,f))},v,function(_){if(_===-2){var g=h;return h=[],g}}])),m.hash=u.length?u.reduce(function(_,g){return g.name||al(15),Hl(_,g.name)},5381).toString():"",m}var DT=Fn.createContext();DT.Consumer;var PT=Fn.createContext(),j7=(PT.Consumer,new ET),Eg=B7();function U7(){return ot.useContext(DT)||j7}function W7(){return ot.useContext(PT)||Eg}var V7=function(){function e(t,r){var i=this;this.inject=function(o,n){n===void 0&&(n=Eg);var a=i.name+n.hash;o.hasNameForId(i.id,a)||o.insertRules(i.id,a,n(i.rules,a,"@keyframes"))},this.toString=function(){return al(12,String(i.name))},this.name=t,this.id="sc-keyframes-"+t,this.rules=r}return e.prototype.getName=function(t){return t===void 0&&(t=Eg),this.name+t.hash},e}(),G7=/([A-Z])/,Y7=/([A-Z])/g,K7=/^ms-/,X7=function(e){return"-"+e.toLowerCase()};function ex(e){return G7.test(e)?e.replace(Y7,X7).replace(K7,"-ms-"):e}var tx=function(e){return e==null||e===!1||e===""};function hu(e,t,r,i){if(Array.isArray(e)){for(var o,n=[],a=0,s=e.length;a<s;a+=1)(o=hu(e[a],t,r,i))!==""&&(Array.isArray(o)?n.push.apply(n,o):n.push(o));return n}if(tx(e))return"";if(R1(e))return"."+e.styledComponentId;if(fu(e)){if(typeof(u=e)!="function"||u.prototype&&u.prototype.isReactComponent||!t)return e;var l=e(t);return hu(l,t,r,i)}var u;return e instanceof V7?r?(e.inject(r,i),e.getName(i)):e:kg(e)?function c(h,v){var f,m,_=[];for(var g in h)h.hasOwnProperty(g)&&!tx(h[g])&&(Array.isArray(h[g])&&h[g].isCss||fu(h[g])?_.push(ex(g)+":",h[g],";"):kg(h[g])?_.push.apply(_,c(h[g],g)):_.push(ex(g)+": "+(f=g,(m=h[g])==null||typeof m=="boolean"||m===""?"":typeof m!="number"||m===0||f in b7?String(m).trim():m+"px")+";"));return v?[v+" {"].concat(_,["}"]):_}(e):e.toString()}var rx=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function Z7(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return fu(e)||kg(e)?rx(hu(Zw(Oh,[e].concat(r)))):r.length===0&&e.length===1&&typeof e[0]=="string"?e:rx(hu(Zw(e,r)))}var J7=function(e,t,r){return r===void 0&&(r=us),e.theme!==r.theme&&e.theme||t||r.theme},Q7=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,q7=/(^-|-$)/g;function Rm(e){return e.replace(Q7,"-").replace(q7,"")}var e8=function(e){return Mg(LT(e)>>>0)};function dd(e){return typeof e=="string"&&!0}var Lg=function(e){return typeof e=="function"||typeof e=="object"&&e!==null&&!Array.isArray(e)},t8=function(e){return e!=="__proto__"&&e!=="constructor"&&e!=="prototype"};function r8(e,t,r){var i=e[r];Lg(t)&&Lg(i)?RT(i,t):e[r]=t}function RT(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];for(var o=0,n=r;o<n.length;o++){var a=n[o];if(Lg(a))for(var s in a)t8(s)&&r8(e,a[s],s)}return e}var Nh=Fn.createContext();Nh.Consumer;function n8(e){var t=ot.useContext(Nh),r=ot.useMemo(function(){return function(i,o){if(!i)return al(14);if(fu(i)){var n=i(o);return n}return Array.isArray(i)||typeof i!="object"?al(8):o?no({},o,{},i):i}(e.theme,t)},[e.theme,t]);return e.children?Fn.createElement(Nh.Provider,{value:r},e.children):null}var Om={};function OT(e,t,r){var i=R1(e),o=!dd(e),n=t.attrs,a=n===void 0?Oh:n,s=t.componentId,l=s===void 0?function(d,b){var y=typeof d!="string"?"sc":Rm(d);Om[y]=(Om[y]||0)+1;var x=y+"-"+e8("5.3.6"+y+Om[y]);return b?b+"-"+x:x}(t.displayName,t.parentComponentId):s,u=t.displayName,c=u===void 0?function(d){return dd(d)?"styled."+d:"Styled("+Jw(d)+")"}(e):u,h=t.displayName&&t.componentId?Rm(t.displayName)+"-"+t.componentId:t.componentId||l,v=i&&e.attrs?Array.prototype.concat(e.attrs,a).filter(Boolean):a,f=t.shouldForwardProp;i&&e.shouldForwardProp&&(f=t.shouldForwardProp?function(d,b,y){return e.shouldForwardProp(d,b,y)&&t.shouldForwardProp(d,b,y)}:e.shouldForwardProp);var m,_=new $7(r,h,i?e.componentStyle:void 0),g=_.isStatic&&a.length===0,p=function(d,b){return function(y,x,w,C){var S=y.attrs,T=y.componentStyle,M=y.defaultProps,D=y.foldedComponentIds,k=y.shouldForwardProp,R=y.styledComponentId,P=y.target,E=function(F,K,fe){F===void 0&&(F=us);var se=no({},K,{theme:F}),ee={};return fe.forEach(function(ie){var J,te,L,N=ie;for(J in fu(N)&&(N=N(se)),N)se[J]=ee[J]=J==="className"?(te=ee[J],L=N[J],te&&L?te+" "+L:te||L):N[J]}),[se,ee]}(J7(x,ot.useContext(Nh),M)||us,x,S),O=E[0],I=E[1],U=function(F,K,fe,se){var ee=U7(),ie=W7(),J=K?F.generateAndInjectStyles(us,ee,ie):F.generateAndInjectStyles(fe,ee,ie);return J}(T,C,O),V=w,Z=I.$as||x.$as||I.as||x.as||P,z=dd(Z),H=I!==x?no({},x,{},I):x,B={};for(var W in H)W[0]!=="$"&&W!=="as"&&(W==="forwardedAs"?B.as=H[W]:(k?k(W,Xw,Z):!z||Xw(W))&&(B[W]=H[W]));return x.style&&I.style!==x.style&&(B.style=no({},x.style,{},I.style)),B.className=Array.prototype.concat(D,R,U!==R?U:null,x.className,I.className).filter(Boolean).join(" "),B.ref=V,ot.createElement(Z,B)}(m,d,b,g)};return p.displayName=c,(m=Fn.forwardRef(p)).attrs=v,m.componentStyle=_,m.displayName=c,m.shouldForwardProp=f,m.foldedComponentIds=i?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):Oh,m.styledComponentId=h,m.target=i?e.target:e,m.withComponent=function(d){var b=t.componentId,y=function(w,C){if(w==null)return{};var S,T,M={},D=Object.keys(w);for(T=0;T<D.length;T++)S=D[T],C.indexOf(S)>=0||(M[S]=w[S]);return M}(t,["componentId"]),x=b&&b+"-"+(dd(d)?d:Rm(Jw(d)));return OT(d,no({},y,{attrs:v,componentId:x}),r)},Object.defineProperty(m,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(d){this._foldedDefaultProps=i?RT({},e.defaultProps,d):d}}),m.toString=function(){return"."+m.styledComponentId},o&&xR(m,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),m}var Dg=function(e){return function t(r,i,o){if(o===void 0&&(o=us),!pT.isValidElementType(i))return al(1,String(i));var n=function(){return r(i,o,Z7.apply(void 0,arguments))};return n.withConfig=function(a){return t(r,i,no({},o,{},a))},n.attrs=function(a){return t(r,i,no({},o,{attrs:Array.prototype.concat(o.attrs,a).filter(Boolean)}))},n}(OT,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(e){Dg[e]=Dg(e)});const Xr=Dg,Lo=Xr.label`
width: fit-content;
font-family: Roboto,Helvetica,Arial,sans-serif;
margin: 0;
padding-right: 0.5rem;
`;function i8(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function a8(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var o8=function(){function e(r){var i=this;this._insertTag=function(o){var n;i.tags.length===0?i.insertionPoint?n=i.insertionPoint.nextSibling:i.prepend?n=i.container.firstChild:n=i.before:n=i.tags[i.tags.length-1].nextSibling,i.container.insertBefore(o,n),i.tags.push(o)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(i){i.forEach(this._insertTag)},t.insert=function(i){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(a8(this));var o=this.tags[this.tags.length-1];if(this.isSpeedy){var n=i8(o);try{n.insertRule(i,n.cssRules.length)}catch{}}else o.appendChild(document.createTextNode(i));this.ctr++},t.flush=function(){this.tags.forEach(function(i){return i.parentNode&&i.parentNode.removeChild(i)}),this.tags=[],this.ctr=0},e}(),Ti="-ms-",Fh="-moz-",hn="-webkit-",IT="comm",I1="rule",N1="decl",s8="@import",NT="@keyframes",l8=Math.abs,Qp=String.fromCharCode,u8=Object.assign;function c8(e,t){return(((t<<2^Ui(e,0))<<2^Ui(e,1))<<2^Ui(e,2))<<2^Ui(e,3)}function FT(e){return e.trim()}function f8(e,t){return(e=t.exec(e))?e[0]:e}function pn(e,t,r){return e.replace(t,r)}function Pg(e,t){return e.indexOf(t)}function Ui(e,t){return e.charCodeAt(t)|0}function qc(e,t,r){return e.slice(t,r)}function Qa(e){return e.length}function F1(e){return e.length}function hd(e,t){return t.push(e),e}function d8(e,t){return e.map(t).join("")}var qp=1,pu=1,$T=0,Zi=0,Wn=0,Mu="";function ev(e,t,r,i,o,n,a){return{value:e,root:t,parent:r,type:i,props:o,children:n,line:qp,column:pu,length:a,return:""}}function qu(e,t){return u8(ev("",null,null,"",null,null,0),e,{length:-e.length},t)}function h8(){return Wn}function p8(){return Wn=Zi>0?Ui(Mu,--Zi):0,pu--,Wn===10&&(pu=1,qp--),Wn}function ia(){return Wn=Zi<$T?Ui(Mu,Zi++):0,pu++,Wn===10&&(pu=1,qp++),Wn}function so(){return Ui(Mu,Zi)}function Vd(){return Zi}function yf(e,t){return qc(Mu,e,t)}function ef(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function zT(e){return qp=pu=1,$T=Qa(Mu=e),Zi=0,[]}function HT(e){return Mu="",e}function Gd(e){return FT(yf(Zi-1,Rg(e===91?e+2:e===40?e+1:e)))}function v8(e){for(;(Wn=so())&&Wn<33;)ia();return ef(e)>2||ef(Wn)>3?"":" "}function m8(e,t){for(;--t&&ia()&&!(Wn<48||Wn>102||Wn>57&&Wn<65||Wn>70&&Wn<97););return yf(e,Vd()+(t<6&&so()==32&&ia()==32))}function Rg(e){for(;ia();)switch(Wn){case e:return Zi;case 34:case 39:e!==34&&e!==39&&Rg(Wn);break;case 40:e===41&&Rg(e);break;case 92:ia();break}return Zi}function g8(e,t){for(;ia()&&e+Wn!==47+10;)if(e+Wn===42+42&&so()===47)break;return"/*"+yf(t,Zi-1)+"*"+Qp(e===47?e:ia())}function y8(e){for(;!ef(so());)ia();return yf(e,Zi)}function _8(e){return HT(Yd("",null,null,null,[""],e=zT(e),0,[0],e))}function Yd(e,t,r,i,o,n,a,s,l){for(var u=0,c=0,h=a,v=0,f=0,m=0,_=1,g=1,p=1,d=0,b="",y=o,x=n,w=i,C=b;g;)switch(m=d,d=ia()){case 40:if(m!=108&&C.charCodeAt(h-1)==58){Pg(C+=pn(Gd(d),"&","&\f"),"&\f")!=-1&&(p=-1);break}case 34:case 39:case 91:C+=Gd(d);break;case 9:case 10:case 13:case 32:C+=v8(m);break;case 92:C+=m8(Vd()-1,7);continue;case 47:switch(so()){case 42:case 47:hd(b8(g8(ia(),Vd()),t,r),l);break;default:C+="/"}break;case 123*_:s[u++]=Qa(C)*p;case 125*_:case 59:case 0:switch(d){case 0:case 125:g=0;case 59+c:f>0&&Qa(C)-h&&hd(f>32?ix(C+";",i,r,h-1):ix(pn(C," ","")+";",i,r,h-2),l);break;case 59:C+=";";default:if(hd(w=nx(C,t,r,u,c,o,s,b,y=[],x=[],h),n),d===123)if(c===0)Yd(C,t,w,w,y,n,h,s,x);else switch(v){case 100:case 109:case 115:Yd(e,w,w,i&&hd(nx(e,w,w,0,0,o,s,b,o,y=[],h),x),o,x,h,s,i?y:x);break;default:Yd(C,w,w,w,[""],x,0,s,x)}}u=c=f=0,_=p=1,b=C="",h=a;break;case 58:h=1+Qa(C),f=m;default:if(_<1){if(d==123)--_;else if(d==125&&_++==0&&p8()==125)continue}switch(C+=Qp(d),d*_){case 38:p=c>0?1:(C+="\f",-1);break;case 44:s[u++]=(Qa(C)-1)*p,p=1;break;case 64:so()===45&&(C+=Gd(ia())),v=so(),c=h=Qa(b=C+=y8(Vd())),d++;break;case 45:m===45&&Qa(C)==2&&(_=0)}}return n}function nx(e,t,r,i,o,n,a,s,l,u,c){for(var h=o-1,v=o===0?n:[""],f=F1(v),m=0,_=0,g=0;m<i;++m)for(var p=0,d=qc(e,h+1,h=l8(_=a[m])),b=e;p<f;++p)(b=FT(_>0?v[p]+" "+d:pn(d,/&\f/g,v[p])))&&(l[g++]=b);return ev(e,t,r,o===0?I1:s,l,u,c)}function b8(e,t,r){return ev(e,t,r,IT,Qp(h8()),qc(e,2,-2),0)}function ix(e,t,r,i){return ev(e,t,r,N1,qc(e,0,i),qc(e,i+1,-1),i)}function BT(e,t){switch(c8(e,t)){case 5103:return hn+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return hn+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return hn+e+Fh+e+Ti+e+e;case 6828:case 4268:return hn+e+Ti+e+e;case 6165:return hn+e+Ti+"flex-"+e+e;case 5187:return hn+e+pn(e,/(\w+).+(:[^]+)/,hn+"box-$1$2"+Ti+"flex-$1$2")+e;case 5443:return hn+e+Ti+"flex-item-"+pn(e,/flex-|-self/,"")+e;case 4675:return hn+e+Ti+"flex-line-pack"+pn(e,/align-content|flex-|-self/,"")+e;case 5548:return hn+e+Ti+pn(e,"shrink","negative")+e;case 5292:return hn+e+Ti+pn(e,"basis","preferred-size")+e;case 6060:return hn+"box-"+pn(e,"-grow","")+hn+e+Ti+pn(e,"grow","positive")+e;case 4554:return hn+pn(e,/([^-])(transform)/g,"$1"+hn+"$2")+e;case 6187:return pn(pn(pn(e,/(zoom-|grab)/,hn+"$1"),/(image-set)/,hn+"$1"),e,"")+e;case 5495:case 3959:return pn(e,/(image-set\([^]*)/,hn+"$1$`$1");case 4968:return pn(pn(e,/(.+:)(flex-)?(.*)/,hn+"box-pack:$3"+Ti+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+hn+e+e;case 4095:case 3583:case 4068:case 2532:return pn(e,/(.+)-inline(.+)/,hn+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Qa(e)-1-t>6)switch(Ui(e,t+1)){case 109:if(Ui(e,t+4)!==45)break;case 102:return pn(e,/(.+:)(.+)-([^]+)/,"$1"+hn+"$2-$3$1"+Fh+(Ui(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~Pg(e,"stretch")?BT(pn(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Ui(e,t+1)!==115)break;case 6444:switch(Ui(e,Qa(e)-3-(~Pg(e,"!important")&&10))){case 107:return pn(e,":",":"+hn)+e;case 101:return pn(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+hn+(Ui(e,14)===45?"inline-":"")+"box$3$1"+hn+"$2$3$1"+Ti+"$2box$3")+e}break;case 5936:switch(Ui(e,t+11)){case 114:return hn+e+Ti+pn(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return hn+e+Ti+pn(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return hn+e+Ti+pn(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return hn+e+Ti+e+e}return e}function Xl(e,t){for(var r="",i=F1(e),o=0;o<i;o++)r+=t(e[o],o,e,t)||"";return r}function w8(e,t,r,i){switch(e.type){case s8:case N1:return e.return=e.return||e.value;case IT:return"";case NT:return e.return=e.value+"{"+Xl(e.children,i)+"}";case I1:e.value=e.props.join(",")}return Qa(r=Xl(e.children,i))?e.return=e.value+"{"+r+"}":""}function x8(e){var t=F1(e);return function(r,i,o,n){for(var a="",s=0;s<t;s++)a+=e[s](r,i,o,n)||"";return a}}function S8(e){return function(t){t.root||(t=t.return)&&e(t)}}function C8(e,t,r,i){if(e.length>-1&&!e.return)switch(e.type){case N1:e.return=BT(e.value,e.length);break;case NT:return Xl([qu(e,{value:pn(e.value,"@","@"+hn)})],i);case I1:if(e.length)return d8(e.props,function(o){switch(f8(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Xl([qu(e,{props:[pn(o,/:(read-\w+)/,":"+Fh+"$1")]})],i);case"::placeholder":return Xl([qu(e,{props:[pn(o,/:(plac\w+)/,":"+hn+"input-$1")]}),qu(e,{props:[pn(o,/:(plac\w+)/,":"+Fh+"$1")]}),qu(e,{props:[pn(o,/:(plac\w+)/,Ti+"input-$1")]})],i)}return""})}}var T8=function(t,r,i){for(var o=0,n=0;o=n,n=so(),o===38&&n===12&&(r[i]=1),!ef(n);)ia();return yf(t,Zi)},A8=function(t,r){var i=-1,o=44;do switch(ef(o)){case 0:o===38&&so()===12&&(r[i]=1),t[i]+=T8(Zi-1,r,i);break;case 2:t[i]+=Gd(o);break;case 4:if(o===44){t[++i]=so()===58?"&\f":"",r[i]=t[i].length;break}default:t[i]+=Qp(o)}while(o=ia());return t},k8=function(t,r){return HT(A8(zT(t),r))},ax=new WeakMap,M8=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var r=t.value,i=t.parent,o=t.column===i.column&&t.line===i.line;i.type!=="rule";)if(i=i.parent,!i)return;if(!(t.props.length===1&&r.charCodeAt(0)!==58&&!ax.get(i))&&!o){ax.set(t,!0);for(var n=[],a=k8(r,n),s=i.props,l=0,u=0;l<a.length;l++)for(var c=0;c<s.length;c++,u++)t.props[u]=n[l]?a[l].replace(/&\f/g,s[c]):s[c]+" "+a[l]}}},E8=function(t){if(t.type==="decl"){var r=t.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(t.return="",t.value="")}},L8=[C8],D8=function(t){var r=t.key;if(r==="css"){var i=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(i,function(_){var g=_.getAttribute("data-emotion");g.indexOf(" ")!==-1&&(document.head.appendChild(_),_.setAttribute("data-s",""))})}var o=t.stylisPlugins||L8,n={},a,s=[];a=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(_){for(var g=_.getAttribute("data-emotion").split(" "),p=1;p<g.length;p++)n[g[p]]=!0;s.push(_)});var l,u=[M8,E8];{var c,h=[w8,S8(function(_){c.insert(_)})],v=x8(u.concat(o,h)),f=function(g){return Xl(_8(g),v)};l=function(g,p,d,b){c=d,f(g?g+"{"+p.styles+"}":p.styles),b&&(m.inserted[p.name]=!0)}}var m={key:r,sheet:new o8({key:r,container:a,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:n,registered:{},insert:l};return m.sheet.hydrate(s),m},P8=!0;function jT(e,t,r){var i="";return r.split(" ").forEach(function(o){e[o]!==void 0?t.push(e[o]+";"):i+=o+" "}),i}var $1=function(t,r,i){var o=t.key+"-"+r.name;(i===!1||P8===!1)&&t.registered[o]===void 0&&(t.registered[o]=r.styles)},UT=function(t,r,i){$1(t,r,i);var o=t.key+"-"+r.name;if(t.inserted[r.name]===void 0){var n=r;do t.insert(r===n?"."+o:"",n,t.sheet,!0),n=n.next;while(n!==void 0)}};function R8(e){for(var t=0,r,i=0,o=e.length;o>=4;++i,o-=4)r=e.charCodeAt(i)&255|(e.charCodeAt(++i)&255)<<8|(e.charCodeAt(++i)&255)<<16|(e.charCodeAt(++i)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(o){case 3:t^=(e.charCodeAt(i+2)&255)<<16;case 2:t^=(e.charCodeAt(i+1)&255)<<8;case 1:t^=e.charCodeAt(i)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var O8={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},I8=/[A-Z]|^ms/g,N8=/_EMO_([^_]+?)_([^]*?)_EMO_/g,WT=function(t){return t.charCodeAt(1)===45},ox=function(t){return t!=null&&typeof t!="boolean"},Im=kT(function(e){return WT(e)?e:e.replace(I8,"-$&").toLowerCase()}),sx=function(t,r){switch(t){case"animation":case"animationName":if(typeof r=="string")return r.replace(N8,function(i,o,n){return qa={name:o,styles:n,next:qa},o})}return O8[t]!==1&&!WT(t)&&typeof r=="number"&&r!==0?r+"px":r};function tf(e,t,r){if(r==null)return"";if(r.__emotion_styles!==void 0)return r;switch(typeof r){case"boolean":return"";case"object":{if(r.anim===1)return qa={name:r.name,styles:r.styles,next:qa},r.name;if(r.styles!==void 0){var i=r.next;if(i!==void 0)for(;i!==void 0;)qa={name:i.name,styles:i.styles,next:qa},i=i.next;var o=r.styles+";";return o}return F8(e,t,r)}case"function":{if(e!==void 0){var n=qa,a=r(e);return qa=n,tf(e,t,a)}break}}if(t==null)return r;var s=t[r];return s!==void 0?s:r}function F8(e,t,r){var i="";if(Array.isArray(r))for(var o=0;o<r.length;o++)i+=tf(e,t,r[o])+";";else for(var n in r){var a=r[n];if(typeof a!="object")t!=null&&t[a]!==void 0?i+=n+"{"+t[a]+"}":ox(a)&&(i+=Im(n)+":"+sx(n,a)+";");else if(Array.isArray(a)&&typeof a[0]=="string"&&(t==null||t[a[0]]===void 0))for(var s=0;s<a.length;s++)ox(a[s])&&(i+=Im(n)+":"+sx(n,a[s])+";");else{var l=tf(e,t,a);switch(n){case"animation":case"animationName":{i+=Im(n)+":"+l+";";break}default:i+=n+"{"+l+"}"}}}return i}var lx=/label:\s*([^\s;\n{]+)\s*(;|$)/g,qa,z1=function(t,r,i){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var o=!0,n="";qa=void 0;var a=t[0];a==null||a.raw===void 0?(o=!1,n+=tf(i,r,a)):n+=a[0];for(var s=1;s<t.length;s++)n+=tf(i,r,t[s]),o&&(n+=a[s]);lx.lastIndex=0;for(var l="",u;(u=lx.exec(n))!==null;)l+="-"+u[1];var c=R8(n)+l;return{name:c,styles:n,next:qa}},$8=function(t){return t()},z8=Oc["useInsertionEffect"]?Oc["useInsertionEffect"]:!1,VT=z8||$8,H1={}.hasOwnProperty,GT=ot.createContext(typeof HTMLElement<"u"?D8({key:"css"}):null);GT.Provider;var YT=function(t){return ot.forwardRef(function(r,i){var o=ot.useContext(GT);return t(r,o,i)})},KT=ot.createContext({}),Og="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",H8=function(t,r){var i={};for(var o in r)H1.call(r,o)&&(i[o]=r[o]);return i[Og]=t,i},B8=function(t){var r=t.cache,i=t.serialized,o=t.isStringTag;return $1(r,i,o),VT(function(){return UT(r,i,o)}),null},j8=YT(function(e,t,r){var i=e.css;typeof i=="string"&&t.registered[i]!==void 0&&(i=t.registered[i]);var o=e[Og],n=[i],a="";typeof e.className=="string"?a=jT(t.registered,n,e.className):e.className!=null&&(a=e.className+" ");var s=z1(n,void 0,ot.useContext(KT));a+=t.key+"-"+s.name;var l={};for(var u in e)H1.call(e,u)&&u!=="css"&&u!==Og&&(l[u]=e[u]);return l.ref=r,l.className=a,ot.createElement(ot.Fragment,null,ot.createElement(B8,{cache:t,serialized:s,isStringTag:typeof o=="string"}),ot.createElement(o,l))}),Dr=function(t,r){var i=arguments;if(r==null||!H1.call(r,"css"))return ot.createElement.apply(void 0,i);var o=i.length,n=new Array(o);n[0]=j8,n[1]=H8(t,r);for(var a=2;a<o;a++)n[a]=i[a];return ot.createElement.apply(null,n)};function B1(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return z1(t)}var U8=function(){var t=B1.apply(void 0,arguments),r="animation-"+t.name;return{name:r,styles:"@keyframes "+r+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},W8=function e(t){for(var r=t.length,i=0,o="";i<r;i++){var n=t[i];if(n!=null){var a=void 0;switch(typeof n){case"boolean":break;case"object":{if(Array.isArray(n))a=e(n);else{a="";for(var s in n)n[s]&&s&&(a&&(a+=" "),a+=s)}break}default:a=n}a&&(o&&(o+=" "),o+=a)}}return o};function V8(e,t,r){var i=[],o=jT(e,i,r);return i.length<2?r:o+t(i)}var G8=function(t){var r=t.cache,i=t.serializedArr;return VT(function(){for(var o=0;o<i.length;o++)UT(r,i[o],!1)}),null},Y8=YT(function(e,t){var r=!1,i=[],o=function(){for(var u=arguments.length,c=new Array(u),h=0;h<u;h++)c[h]=arguments[h];var v=z1(c,t.registered);return i.push(v),$1(t,v,!1),t.key+"-"+v.name},n=function(){for(var u=arguments.length,c=new Array(u),h=0;h<u;h++)c[h]=arguments[h];return V8(t.registered,o,W8(c))},a={css:o,cx:n,theme:ot.useContext(KT)},s=e.children(a);return r=!0,ot.createElement(ot.Fragment,null,ot.createElement(G8,{cache:t,serializedArr:i}),s)});function K8(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Eu(e,t){if(e==null)return{};var r=sR(e,t),i,o;if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}function X8(e){if(Array.isArray(e))return e}function Z8(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var i=[],o=!0,n=!1,a,s;try{for(r=r.call(e);!(o=(a=r.next()).done)&&(i.push(a.value),!(t&&i.length===t));o=!0);}catch(l){n=!0,s=l}finally{try{!o&&r.return!=null&&r.return()}finally{if(n)throw s}}return i}}function Ig(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}function XT(e,t){if(e){if(typeof e=="string")return Ig(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ig(e,t)}}function J8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ac(e,t){return X8(e)||Z8(e,t)||XT(e,t)||J8()}function Ng(e){return Ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ng(e)}function j1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ux(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function U1(e,t,r){return t&&ux(e.prototype,t),r&&ux(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Fg(e,t){return Fg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,o){return i.__proto__=o,i},Fg(e,t)}function W1(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fg(e,t)}function Za(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q8(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,i)}return r}function Cn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cx(Object(r),!0).forEach(function(i){Q8(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cx(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function $h(e){return $h=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},$h(e)}function q8(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function eO(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tO(e,t){return t&&(typeof t=="object"||typeof t=="function")?t:eO(e)}function V1(e){var t=q8();return function(){var i=$h(e),o;if(t){var n=$h(this).constructor;o=Reflect.construct(i,arguments,n)}else o=i.apply(this,arguments);return tO(this,o)}}var rO=["className","clearValue","cx","getStyles","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],zh=function(){};function nO(e,t){return t?t[0]==="-"?e+t:e+"__"+t:e}function iO(e,t,r){var i=[r];if(t&&e)for(var o in t)t.hasOwnProperty(o)&&t[o]&&i.push("".concat(nO(e,o)));return i.filter(function(n){return n}).map(function(n){return String(n).trim()}).join(" ")}var fx=function(t){return pO(t)?t.filter(Boolean):Ng(t)==="object"&&t!==null?[t]:[]},ZT=function(t){t.className,t.clearValue,t.cx,t.getStyles,t.getValue,t.hasValue,t.isMulti,t.isRtl,t.options,t.selectOption,t.selectProps,t.setValue,t.theme;var r=Eu(t,rO);return Cn({},r)};function tv(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function aO(e){return tv(e)?window.innerHeight:e.clientHeight}function JT(e){return tv(e)?window.pageYOffset:e.scrollTop}function Hh(e,t){if(tv(e)){window.scrollTo(0,t);return}e.scrollTop=t}function oO(e){var t=getComputedStyle(e),r=t.position==="absolute",i=/(auto|scroll)/;if(t.position==="fixed")return document.documentElement;for(var o=e;o=o.parentElement;)if(t=getComputedStyle(o),!(r&&t.position==="static")&&i.test(t.overflow+t.overflowY+t.overflowX))return o;return document.documentElement}function sO(e,t,r,i){return r*((e=e/i-1)*e*e+1)+t}function pd(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:zh,o=JT(e),n=t-o,a=10,s=0;function l(){s+=a;var u=sO(s,o,n,r);Hh(e,u),s<r?window.requestAnimationFrame(l):i(e)}l()}function lO(e,t){var r=e.getBoundingClientRect(),i=t.getBoundingClientRect(),o=t.offsetHeight/3;i.bottom+o>r.bottom?Hh(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+o,e.scrollHeight)):i.top-o<r.top&&Hh(e,Math.max(t.offsetTop-o,0))}function uO(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}function dx(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function cO(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var QT=!1,fO={get passive(){return QT=!0}},vd=typeof window<"u"?window:{};vd.addEventListener&&vd.removeEventListener&&(vd.addEventListener("p",zh,fO),vd.removeEventListener("p",zh,!1));var dO=QT;function hO(e){return e!=null}function pO(e){return Array.isArray(e)}function md(e,t,r){return e?t:r}var vO=function(t){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];var n=Object.entries(t).filter(function(a){var s=Ac(a,1),l=s[0];return!i.includes(l)});return n.reduce(function(a,s){var l=Ac(s,2),u=l[0],c=l[1];return a[u]=c,a},{})};function mO(e){var t=e.maxHeight,r=e.menuEl,i=e.minHeight,o=e.placement,n=e.shouldScroll,a=e.isFixedPosition,s=e.theme,l=s.spacing,u=oO(r),c={placement:"bottom",maxHeight:t};if(!r||!r.offsetParent)return c;var h=u.getBoundingClientRect(),v=h.height,f=r.getBoundingClientRect(),m=f.bottom,_=f.height,g=f.top,p=r.offsetParent.getBoundingClientRect(),d=p.top,b=a?window.innerHeight:aO(u),y=JT(u),x=parseInt(getComputedStyle(r).marginBottom,10),w=parseInt(getComputedStyle(r).marginTop,10),C=d-w,S=b-g,T=C+y,M=v-y-g,D=m-b+y+x,k=y+g-w,R=160;switch(o){case"auto":case"bottom":if(S>=_)return{placement:"bottom",maxHeight:t};if(M>=_&&!a)return n&&pd(u,D,R),{placement:"bottom",maxHeight:t};if(!a&&M>=i||a&&S>=i){n&&pd(u,D,R);var P=a?S-x:M-x;return{placement:"bottom",maxHeight:P}}if(o==="auto"||a){var E=t,O=a?C:T;return O>=i&&(E=Math.min(O-x-l.controlHeight,t)),{placement:"top",maxHeight:E}}if(o==="bottom")return n&&Hh(u,D),{placement:"bottom",maxHeight:t};break;case"top":if(C>=_)return{placement:"top",maxHeight:t};if(T>=_&&!a)return n&&pd(u,k,R),{placement:"top",maxHeight:t};if(!a&&T>=i||a&&C>=i){var I=t;return(!a&&T>=i||a&&C>=i)&&(I=a?C-w:T-w),n&&pd(u,k,R),{placement:"top",maxHeight:I}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(o,'".'))}return c}function gO(e){var t={bottom:"top",top:"bottom"};return e?t[e]:"bottom"}var $g=function(t){return t==="auto"?"bottom":t},yO=function(t){var r,i=t.placement,o=t.theme,n=o.borderRadius,a=o.spacing,s=o.colors;return r={label:"menu"},Za(r,gO(i),"100%"),Za(r,"backgroundColor",s.neutral0),Za(r,"borderRadius",n),Za(r,"boxShadow","0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)"),Za(r,"marginBottom",a.menuGutter),Za(r,"marginTop",a.menuGutter),Za(r,"position","absolute"),Za(r,"width","100%"),Za(r,"zIndex",1),r},qT=ot.createContext({getPortalPlacement:null}),eA=function(e){W1(r,e);var t=V1(r);function r(){var i;j1(this,r);for(var o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];return i=t.call.apply(t,[this].concat(n)),i.state={maxHeight:i.props.maxMenuHeight,placement:null},i.context=void 0,i.getPlacement=function(s){var l=i.props,u=l.minMenuHeight,c=l.maxMenuHeight,h=l.menuPlacement,v=l.menuPosition,f=l.menuShouldScrollIntoView,m=l.theme;if(s){var _=v==="fixed",g=f&&!_,p=mO({maxHeight:c,menuEl:s,minHeight:u,placement:h,shouldScroll:g,isFixedPosition:_,theme:m}),d=i.context.getPortalPlacement;d&&d(p),i.setState(p)}},i.getUpdatedProps=function(){var s=i.props.menuPlacement,l=i.state.placement||$g(s);return Cn(Cn({},i.props),{},{placement:l,maxHeight:i.state.maxHeight})},i}return U1(r,[{key:"render",value:function(){var o=this.props.children;return o({ref:this.getPlacement,placerProps:this.getUpdatedProps()})}}]),r}(ot.Component);eA.contextType=qT;var _O=function(t){var r=t.children,i=t.className,o=t.cx,n=t.getStyles,a=t.innerRef,s=t.innerProps;return Dr("div",Ir({css:n("menu",t),className:o({menu:!0},i),ref:a},s),r)},bO=function(t){var r=t.maxHeight,i=t.theme.spacing.baseUnit;return{maxHeight:r,overflowY:"auto",paddingBottom:i,paddingTop:i,position:"relative",WebkitOverflowScrolling:"touch"}},wO=function(t){var r=t.children,i=t.className,o=t.cx,n=t.getStyles,a=t.innerProps,s=t.innerRef,l=t.isMulti;return Dr("div",Ir({css:n("menuList",t),className:o({"menu-list":!0,"menu-list--is-multi":l},i),ref:s},a),r)},tA=function(t){var r=t.theme,i=r.spacing.baseUnit,o=r.colors;return{color:o.neutral40,padding:"".concat(i*2,"px ").concat(i*3,"px"),textAlign:"center"}},xO=tA,SO=tA,rA=function(t){var r=t.children,i=t.className,o=t.cx,n=t.getStyles,a=t.innerProps;return Dr("div",Ir({css:n("noOptionsMessage",t),className:o({"menu-notice":!0,"menu-notice--no-options":!0},i)},a),r)};rA.defaultProps={children:"No options"};var nA=function(t){var r=t.children,i=t.className,o=t.cx,n=t.getStyles,a=t.innerProps;return Dr("div",Ir({css:n("loadingMessage",t),className:o({"menu-notice":!0,"menu-notice--loading":!0},i)},a),r)};nA.defaultProps={children:"Loading..."};var CO=function(t){var r=t.rect,i=t.offset,o=t.position;return{left:r.left,position:o,top:i,width:r.width,zIndex:1}},TO=function(e){W1(r,e);var t=V1(r);function r(){var i;j1(this,r);for(var o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];return i=t.call.apply(t,[this].concat(n)),i.state={placement:null},i.getPortalPlacement=function(s){var l=s.placement,u=$g(i.props.menuPlacement);l!==u&&i.setState({placement:l})},i}return U1(r,[{key:"render",value:function(){var o=this.props,n=o.appendTo,a=o.children,s=o.className,l=o.controlElement,u=o.cx,c=o.innerProps,h=o.menuPlacement,v=o.menuPosition,f=o.getStyles,m=v==="fixed";if(!n&&!m||!l)return null;var _=this.state.placement||$g(h),g=uO(l),p=m?0:window.pageYOffset,d=g[_]+p,b={offset:d,position:v,rect:g},y=Dr("div",Ir({css:f("menuPortal",b),className:u({"menu-portal":!0},s)},c),a);return Dr(qT.Provider,{value:{getPortalPlacement:this.getPortalPlacement}},n?Cu.createPortal(y,n):y)}}]),r}(ot.Component),AO=function(t){var r=t.isDisabled,i=t.isRtl;return{label:"container",direction:i?"rtl":void 0,pointerEvents:r?"none":void 0,position:"relative"}},kO=function(t){var r=t.children,i=t.className,o=t.cx,n=t.getStyles,a=t.innerProps,s=t.isDisabled,l=t.isRtl;return Dr("div",Ir({css:n("container",t),className:o({"--is-disabled":s,"--is-rtl":l},i)},a),r)},MO=function(t){var r=t.theme.spacing,i=t.isMulti,o=t.hasValue,n=t.selectProps.controlShouldRenderValue;return{alignItems:"center",display:i&&o&&n?"flex":"grid",flex:1,flexWrap:"wrap",padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px"),WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"}},EO=function(t){var r=t.children,i=t.className,o=t.cx,n=t.innerProps,a=t.isMulti,s=t.getStyles,l=t.hasValue;return Dr("div",Ir({css:s("valueContainer",t),className:o({"value-container":!0,"value-container--is-multi":a,"value-container--has-value":l},i)},n),r)},LO=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},DO=function(t){var r=t.children,i=t.className,o=t.cx,n=t.innerProps,a=t.getStyles;return Dr("div",Ir({css:a("indicatorsContainer",t),className:o({indicators:!0},i)},n),r)},hx,PO=["size"],RO={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},iA=function(t){var r=t.size,i=Eu(t,PO);return Dr("svg",Ir({height:r,width:r,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:RO},i))},G1=function(t){return Dr(iA,Ir({size:20},t),Dr("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},aA=function(t){return Dr(iA,Ir({size:20},t),Dr("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},oA=function(t){var r=t.isFocused,i=t.theme,o=i.spacing.baseUnit,n=i.colors;return{label:"indicatorContainer",color:r?n.neutral60:n.neutral20,display:"flex",padding:o*2,transition:"color 150ms",":hover":{color:r?n.neutral80:n.neutral40}}},OO=oA,IO=function(t){var r=t.children,i=t.className,o=t.cx,n=t.getStyles,a=t.innerProps;return Dr("div",Ir({css:n("dropdownIndicator",t),className:o({indicator:!0,"dropdown-indicator":!0},i)},a),r||Dr(aA,null))},NO=oA,FO=function(t){var r=t.children,i=t.className,o=t.cx,n=t.getStyles,a=t.innerProps;return Dr("div",Ir({css:n("clearIndicator",t),className:o({indicator:!0,"clear-indicator":!0},i)},a),r||Dr(G1,null))},$O=function(t){var r=t.isDisabled,i=t.theme,o=i.spacing.baseUnit,n=i.colors;return{label:"indicatorSeparator",alignSelf:"stretch",backgroundColor:r?n.neutral10:n.neutral20,marginBottom:o*2,marginTop:o*2,width:1}},zO=function(t){var r=t.className,i=t.cx,o=t.getStyles,n=t.innerProps;return Dr("span",Ir({},n,{css:o("indicatorSeparator",t),className:i({"indicator-separator":!0},r)}))},HO=U8(hx||(hx=K8([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),BO=function(t){var r=t.isFocused,i=t.size,o=t.theme,n=o.colors,a=o.spacing.baseUnit;return{label:"loadingIndicator",color:r?n.neutral60:n.neutral20,display:"flex",padding:a*2,transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"}},Nm=function(t){var r=t.delay,i=t.offset;return Dr("span",{css:B1({animation:"".concat(HO," 1s ease-in-out ").concat(r,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:i?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},sA=function(t){var r=t.className,i=t.cx,o=t.getStyles,n=t.innerProps,a=t.isRtl;return Dr("div",Ir({css:o("loadingIndicator",t),className:i({indicator:!0,"loading-indicator":!0},r)},n),Dr(Nm,{delay:0,offset:a}),Dr(Nm,{delay:160,offset:!0}),Dr(Nm,{delay:320,offset:!a}))};sA.defaultProps={size:4};var jO=function(t){var r=t.isDisabled,i=t.isFocused,o=t.theme,n=o.colors,a=o.borderRadius,s=o.spacing;return{label:"control",alignItems:"center",backgroundColor:r?n.neutral5:n.neutral0,borderColor:r?n.neutral10:i?n.primary:n.neutral20,borderRadius:a,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(n.primary):void 0,cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:s.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms","&:hover":{borderColor:i?n.primary:n.neutral30}}},UO=function(t){var r=t.children,i=t.cx,o=t.getStyles,n=t.className,a=t.isDisabled,s=t.isFocused,l=t.innerRef,u=t.innerProps,c=t.menuIsOpen;return Dr("div",Ir({ref:l,css:o("control",t),className:i({control:!0,"control--is-disabled":a,"control--is-focused":s,"control--menu-is-open":c},n)},u),r)},WO=["data"],VO=function(t){var r=t.theme.spacing;return{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},GO=function(t){var r=t.children,i=t.className,o=t.cx,n=t.getStyles,a=t.Heading,s=t.headingProps,l=t.innerProps,u=t.label,c=t.theme,h=t.selectProps;return Dr("div",Ir({css:n("group",t),className:o({group:!0},i)},l),Dr(a,Ir({},s,{selectProps:h,theme:c,getStyles:n,cx:o}),u),Dr("div",null,r))},YO=function(t){var r=t.theme.spacing;return{label:"group",color:"#999",cursor:"default",display:"block",fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:r.baseUnit*3,paddingRight:r.baseUnit*3,textTransform:"uppercase"}},KO=function(t){var r=t.getStyles,i=t.cx,o=t.className,n=ZT(t);n.data;var a=Eu(n,WO);return Dr("div",Ir({css:r("groupHeading",t),className:i({"group-heading":!0},o)},a))},XO=["innerRef","isDisabled","isHidden","inputClassName"],ZO=function(t){var r=t.isDisabled,i=t.value,o=t.theme,n=o.spacing,a=o.colors;return Cn({margin:n.baseUnit/2,paddingBottom:n.baseUnit/2,paddingTop:n.baseUnit/2,visibility:r?"hidden":"visible",color:a.neutral80,transform:i?"translateZ(0)":""},JO)},lA={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},JO={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Cn({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},lA)},QO=function(t){return Cn({label:"input",color:"inherit",background:0,opacity:t?0:1,width:"100%"},lA)},qO=function(t){var r=t.className,i=t.cx,o=t.getStyles,n=t.value,a=ZT(t),s=a.innerRef,l=a.isDisabled,u=a.isHidden,c=a.inputClassName,h=Eu(a,XO);return Dr("div",{className:i({"input-container":!0},r),css:o("input",t),"data-value":n||""},Dr("input",Ir({className:i({input:!0},c),ref:s,style:QO(u),disabled:l},h)))},e9=function(t){var r=t.theme,i=r.spacing,o=r.borderRadius,n=r.colors;return{label:"multiValue",backgroundColor:n.neutral10,borderRadius:o/2,display:"flex",margin:i.baseUnit/2,minWidth:0}},t9=function(t){var r=t.theme,i=r.borderRadius,o=r.colors,n=t.cropWithEllipsis;return{borderRadius:i/2,color:o.neutral80,fontSize:"85%",overflow:"hidden",padding:3,paddingLeft:6,textOverflow:n||n===void 0?"ellipsis":void 0,whiteSpace:"nowrap"}},r9=function(t){var r=t.theme,i=r.spacing,o=r.borderRadius,n=r.colors,a=t.isFocused;return{alignItems:"center",borderRadius:o/2,backgroundColor:a?n.dangerLight:void 0,display:"flex",paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:n.dangerLight,color:n.danger}}},uA=function(t){var r=t.children,i=t.innerProps;return Dr("div",i,r)},n9=uA,i9=uA;function a9(e){var t=e.children,r=e.innerProps;return Dr("div",Ir({role:"button"},r),t||Dr(G1,{size:14}))}var o9=function(t){var r=t.children,i=t.className,o=t.components,n=t.cx,a=t.data,s=t.getStyles,l=t.innerProps,u=t.isDisabled,c=t.removeProps,h=t.selectProps,v=o.Container,f=o.Label,m=o.Remove;return Dr(Y8,null,function(_){var g=_.css,p=_.cx;return Dr(v,{data:a,innerProps:Cn({className:p(g(s("multiValue",t)),n({"multi-value":!0,"multi-value--is-disabled":u},i))},l),selectProps:h},Dr(f,{data:a,innerProps:{className:p(g(s("multiValueLabel",t)),n({"multi-value__label":!0},i))},selectProps:h},r),Dr(m,{data:a,innerProps:Cn({className:p(g(s("multiValueRemove",t)),n({"multi-value__remove":!0},i)),"aria-label":"Remove ".concat(r||"option")},c),selectProps:h}))})},s9=function(t){var r=t.isDisabled,i=t.isFocused,o=t.isSelected,n=t.theme,a=n.spacing,s=n.colors;return{label:"option",backgroundColor:o?s.primary:i?s.primary25:"transparent",color:r?s.neutral20:o?s.neutral0:"inherit",cursor:"default",display:"block",fontSize:"inherit",padding:"".concat(a.baseUnit*2,"px ").concat(a.baseUnit*3,"px"),width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",":active":{backgroundColor:r?void 0:o?s.primary:s.primary50}}},l9=function(t){var r=t.children,i=t.className,o=t.cx,n=t.getStyles,a=t.isDisabled,s=t.isFocused,l=t.isSelected,u=t.innerRef,c=t.innerProps;return Dr("div",Ir({css:n("option",t),className:o({option:!0,"option--is-disabled":a,"option--is-focused":s,"option--is-selected":l},i),ref:u,"aria-disabled":a},c),r)},u9=function(t){var r=t.theme,i=r.spacing,o=r.colors;return{label:"placeholder",color:o.neutral50,gridArea:"1 / 1 / 2 / 3",marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2}},c9=function(t){var r=t.children,i=t.className,o=t.cx,n=t.getStyles,a=t.innerProps;return Dr("div",Ir({css:n("placeholder",t),className:o({placeholder:!0},i)},a),r)},f9=function(t){var r=t.isDisabled,i=t.theme,o=i.spacing,n=i.colors;return{label:"singleValue",color:r?n.neutral40:n.neutral80,gridArea:"1 / 1 / 2 / 3",marginLeft:o.baseUnit/2,marginRight:o.baseUnit/2,maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},d9=function(t){var r=t.children,i=t.className,o=t.cx,n=t.getStyles,a=t.isDisabled,s=t.innerProps;return Dr("div",Ir({css:n("singleValue",t),className:o({"single-value":!0,"single-value--is-disabled":a},i)},s),r)},h9={ClearIndicator:FO,Control:UO,DropdownIndicator:IO,DownChevron:aA,CrossIcon:G1,Group:GO,GroupHeading:KO,IndicatorsContainer:DO,IndicatorSeparator:zO,Input:qO,LoadingIndicator:sA,Menu:_O,MenuList:wO,MenuPortal:TO,LoadingMessage:nA,NoOptionsMessage:rA,MultiValue:o9,MultiValueContainer:n9,MultiValueLabel:i9,MultiValueRemove:a9,Option:l9,Placeholder:c9,SelectContainer:kO,SingleValue:d9,ValueContainer:EO},p9=function(t){return Cn(Cn({},h9),t.components)},v9=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function m9(e){var t=e.defaultInputValue,r=t===void 0?"":t,i=e.defaultMenuIsOpen,o=i===void 0?!1:i,n=e.defaultValue,a=n===void 0?null:n,s=e.inputValue,l=e.menuIsOpen,u=e.onChange,c=e.onInputChange,h=e.onMenuClose,v=e.onMenuOpen,f=e.value,m=Eu(e,v9),_=ot.useState(s!==void 0?s:r),g=Ac(_,2),p=g[0],d=g[1],b=ot.useState(l!==void 0?l:o),y=Ac(b,2),x=y[0],w=y[1],C=ot.useState(f!==void 0?f:a),S=Ac(C,2),T=S[0],M=S[1],D=ot.useCallback(function(U,V){typeof u=="function"&&u(U,V),M(U)},[u]),k=ot.useCallback(function(U,V){var Z;typeof c=="function"&&(Z=c(U,V)),d(Z!==void 0?Z:U)},[c]),R=ot.useCallback(function(){typeof v=="function"&&v(),w(!0)},[v]),P=ot.useCallback(function(){typeof h=="function"&&h(),w(!1)},[h]),E=s!==void 0?s:p,O=l!==void 0?l:x,I=f!==void 0?f:T;return Cn(Cn({},m),{},{inputValue:E,menuIsOpen:O,onChange:D,onInputChange:k,onMenuClose:P,onMenuOpen:R,value:I})}function g9(e){if(Array.isArray(e))return Ig(e)}function y9(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cA(e){return g9(e)||y9(e)||XT(e)||_9()}var px=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function b9(e,t){return!!(e===t||px(e)&&px(t))}function w9(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!b9(e[r],t[r]))return!1;return!0}function x9(e,t){t===void 0&&(t=w9);var r,i=[],o,n=!1;function a(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];return n&&r===this&&t(s,i)||(o=e.apply(this,s),n=!0,r=this,i=s),o}return a}var S9={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},vx=function(t){return Dr("span",Ir({css:S9},t))},C9={guidance:function(t){var r=t.isSearchable,i=t.isMulti,o=t.isDisabled,n=t.tabSelectsValue,a=t.context;switch(a){case"menu":return"Use Up and Down to choose options".concat(o?"":", press Enter to select the currently focused option",", press Escape to exit the menu").concat(n?", press Tab to select the option and exit the menu":"",".");case"input":return"".concat(t["aria-label"]||"Select"," is focused ").concat(r?",type to refine list":"",", press Down to open the menu, ").concat(i?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(t){var r=t.action,i=t.label,o=i===void 0?"":i,n=t.labels,a=t.isDisabled;switch(r){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(o,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(n.length>1?"s":""," ").concat(n.join(","),", selected.");case"select-option":return a?"option ".concat(o," is disabled. Select another option."):"option ".concat(o,", selected.");default:return""}},onFocus:function(t){var r=t.context,i=t.focused,o=t.options,n=t.label,a=n===void 0?"":n,s=t.selectValue,l=t.isDisabled,u=t.isSelected,c=function(m,_){return m&&m.length?"".concat(m.indexOf(_)+1," of ").concat(m.length):""};if(r==="value"&&s)return"value ".concat(a," focused, ").concat(c(s,i),".");if(r==="menu"){var h=l?" disabled":"",v="".concat(u?"selected":"focused").concat(h);return"option ".concat(a," ").concat(v,", ").concat(c(o,i),".")}return""},onFilter:function(t){var r=t.inputValue,i=t.resultsMessage;return"".concat(i).concat(r?" for search term "+r:"",".")}},T9=function(t){var r=t.ariaSelection,i=t.focusedOption,o=t.focusedValue,n=t.focusableOptions,a=t.isFocused,s=t.selectValue,l=t.selectProps,u=t.id,c=l.ariaLiveMessages,h=l.getOptionLabel,v=l.inputValue,f=l.isMulti,m=l.isOptionDisabled,_=l.isSearchable,g=l.menuIsOpen,p=l.options,d=l.screenReaderStatus,b=l.tabSelectsValue,y=l["aria-label"],x=l["aria-live"],w=ot.useMemo(function(){return Cn(Cn({},C9),c||{})},[c]),C=ot.useMemo(function(){var P="";if(r&&w.onChange){var E=r.option,O=r.options,I=r.removedValue,U=r.removedValues,V=r.value,Z=function(fe){return Array.isArray(fe)?null:fe},z=I||E||Z(V),H=z?h(z):"",B=O||U||void 0,W=B?B.map(h):[],F=Cn({isDisabled:z&&m(z,s),label:H,labels:W},r);P=w.onChange(F)}return P},[r,w,m,s,h]),S=ot.useMemo(function(){var P="",E=i||o,O=!!(i&&s&&s.includes(i));if(E&&w.onFocus){var I={focused:E,label:h(E),isDisabled:m(E,s),isSelected:O,options:p,context:E===i?"menu":"value",selectValue:s};P=w.onFocus(I)}return P},[i,o,h,m,w,p,s]),T=ot.useMemo(function(){var P="";if(g&&p.length&&w.onFilter){var E=d({count:n.length});P=w.onFilter({inputValue:v,resultsMessage:E})}return P},[n,v,g,w,p,d]),M=ot.useMemo(function(){var P="";if(w.guidance){var E=o?"value":g?"menu":"input";P=w.guidance({"aria-label":y,context:E,isDisabled:i&&m(i,s),isMulti:f,isSearchable:_,tabSelectsValue:b})}return P},[y,i,o,f,m,_,g,w,s,b]),D="".concat(S," ").concat(T," ").concat(M),k=Dr(ot.Fragment,null,Dr("span",{id:"aria-selection"},C),Dr("span",{id:"aria-context"},D)),R=(r==null?void 0:r.action)==="initial-input-focus";return Dr(ot.Fragment,null,Dr(vx,{id:u},R&&k),Dr(vx,{"aria-live":x,"aria-atomic":"false","aria-relevant":"additions text"},a&&!R&&k))},zg=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],A9=new RegExp("["+zg.map(function(e){return e.letters}).join("")+"]","g"),fA={};for(var Fm=0;Fm<zg.length;Fm++)for(var $m=zg[Fm],zm=0;zm<$m.letters.length;zm++)fA[$m.letters[zm]]=$m.base;var dA=function(t){return t.replace(A9,function(r){return fA[r]})},k9=x9(dA),mx=function(t){return t.replace(/^\s+|\s+$/g,"")},M9=function(t){return"".concat(t.label," ").concat(t.value)},E9=function(t){return function(r,i){if(r.data.__isNew__)return!0;var o=Cn({ignoreCase:!0,ignoreAccents:!0,stringify:M9,trim:!0,matchFrom:"any"},t),n=o.ignoreCase,a=o.ignoreAccents,s=o.stringify,l=o.trim,u=o.matchFrom,c=l?mx(i):i,h=l?mx(s(r)):s(r);return n&&(c=c.toLowerCase(),h=h.toLowerCase()),a&&(c=k9(c),h=dA(h)),u==="start"?h.substr(0,c.length)===c:h.indexOf(c)>-1}},L9=["innerRef"];function D9(e){var t=e.innerRef,r=Eu(e,L9),i=vO(r,"onExited","in","enter","exit","appear");return Dr("input",Ir({ref:t},i,{css:B1({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var P9=function(t){t.preventDefault(),t.stopPropagation()};function R9(e){var t=e.isEnabled,r=e.onBottomArrive,i=e.onBottomLeave,o=e.onTopArrive,n=e.onTopLeave,a=ot.useRef(!1),s=ot.useRef(!1),l=ot.useRef(0),u=ot.useRef(null),c=ot.useCallback(function(g,p){if(u.current!==null){var d=u.current,b=d.scrollTop,y=d.scrollHeight,x=d.clientHeight,w=u.current,C=p>0,S=y-x-b,T=!1;S>p&&a.current&&(i&&i(g),a.current=!1),C&&s.current&&(n&&n(g),s.current=!1),C&&p>S?(r&&!a.current&&r(g),w.scrollTop=y,T=!0,a.current=!0):!C&&-p>b&&(o&&!s.current&&o(g),w.scrollTop=0,T=!0,s.current=!0),T&&P9(g)}},[r,i,o,n]),h=ot.useCallback(function(g){c(g,g.deltaY)},[c]),v=ot.useCallback(function(g){l.current=g.changedTouches[0].clientY},[]),f=ot.useCallback(function(g){var p=l.current-g.changedTouches[0].clientY;c(g,p)},[c]),m=ot.useCallback(function(g){if(g){var p=dO?{passive:!1}:!1;g.addEventListener("wheel",h,p),g.addEventListener("touchstart",v,p),g.addEventListener("touchmove",f,p)}},[f,v,h]),_=ot.useCallback(function(g){g&&(g.removeEventListener("wheel",h,!1),g.removeEventListener("touchstart",v,!1),g.removeEventListener("touchmove",f,!1))},[f,v,h]);return ot.useEffect(function(){if(t){var g=u.current;return m(g),function(){_(g)}}},[t,m,_]),function(g){u.current=g}}var gx=["boxSizing","height","overflow","paddingRight","position"],yx={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function _x(e){e.preventDefault()}function bx(e){e.stopPropagation()}function wx(){var e=this.scrollTop,t=this.scrollHeight,r=e+this.offsetHeight;e===0?this.scrollTop=1:r===t&&(this.scrollTop=e-1)}function xx(){return"ontouchstart"in window||navigator.maxTouchPoints}var Sx=!!(typeof window<"u"&&window.document&&window.document.createElement),ec=0,bl={capture:!1,passive:!1};function O9(e){var t=e.isEnabled,r=e.accountForScrollbars,i=r===void 0?!0:r,o=ot.useRef({}),n=ot.useRef(null),a=ot.useCallback(function(l){if(Sx){var u=document.body,c=u&&u.style;if(i&&gx.forEach(function(m){var _=c&&c[m];o.current[m]=_}),i&&ec<1){var h=parseInt(o.current.paddingRight,10)||0,v=document.body?document.body.clientWidth:0,f=window.innerWidth-v+h||0;Object.keys(yx).forEach(function(m){var _=yx[m];c&&(c[m]=_)}),c&&(c.paddingRight="".concat(f,"px"))}u&&xx()&&(u.addEventListener("touchmove",_x,bl),l&&(l.addEventListener("touchstart",wx,bl),l.addEventListener("touchmove",bx,bl))),ec+=1}},[i]),s=ot.useCallback(function(l){if(Sx){var u=document.body,c=u&&u.style;ec=Math.max(ec-1,0),i&&ec<1&&gx.forEach(function(h){var v=o.current[h];c&&(c[h]=v)}),u&&xx()&&(u.removeEventListener("touchmove",_x,bl),l&&(l.removeEventListener("touchstart",wx,bl),l.removeEventListener("touchmove",bx,bl)))}},[i]);return ot.useEffect(function(){if(t){var l=n.current;return a(l),function(){s(l)}}},[t,a,s]),function(l){n.current=l}}var I9=function(){return document.activeElement&&document.activeElement.blur()},N9={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function F9(e){var t=e.children,r=e.lockEnabled,i=e.captureEnabled,o=i===void 0?!0:i,n=e.onBottomArrive,a=e.onBottomLeave,s=e.onTopArrive,l=e.onTopLeave,u=R9({isEnabled:o,onBottomArrive:n,onBottomLeave:a,onTopArrive:s,onTopLeave:l}),c=O9({isEnabled:r}),h=function(f){u(f),c(f)};return Dr(ot.Fragment,null,r&&Dr("div",{onClick:I9,css:N9}),t(h))}var $9=function(t){return t.label},z9=function(t){return t.label},H9=function(t){return t.value},B9=function(t){return!!t.isDisabled},j9={clearIndicator:NO,container:AO,control:jO,dropdownIndicator:OO,group:VO,groupHeading:YO,indicatorsContainer:LO,indicatorSeparator:$O,input:ZO,loadingIndicator:BO,loadingMessage:SO,menu:yO,menuList:bO,menuPortal:CO,multiValue:e9,multiValueLabel:t9,multiValueRemove:r9,noOptionsMessage:xO,option:s9,placeholder:u9,singleValue:f9,valueContainer:MO},U9={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},W9=4,hA=4,V9=38,G9=hA*2,Y9={baseUnit:hA,controlHeight:V9,menuGutter:G9},Hm={borderRadius:W9,colors:U9,spacing:Y9},K9={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:dx(),captureMenuScroll:!dx(),closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:E9(),formatGroupLabel:$9,getOptionLabel:z9,getOptionValue:H9,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:B9,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!cO(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(t){var r=t.count;return"".concat(r," result").concat(r!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0};function Cx(e,t,r,i){var o=gA(e,t,r),n=yA(e,t,r),a=mA(e,t),s=Bh(e,t);return{type:"option",data:t,isDisabled:o,isSelected:n,label:a,value:s,index:i}}function pA(e,t){return e.options.map(function(r,i){if("options"in r){var o=r.options.map(function(a,s){return Cx(e,a,t,s)}).filter(function(a){return Tx(e,a)});return o.length>0?{type:"group",data:r,options:o,index:i}:void 0}var n=Cx(e,r,t,i);return Tx(e,n)?n:void 0}).filter(hO)}function vA(e){return e.reduce(function(t,r){return r.type==="group"?t.push.apply(t,cA(r.options.map(function(i){return i.data}))):t.push(r.data),t},[])}function X9(e,t){return vA(pA(e,t))}function Tx(e,t){var r=e.inputValue,i=r===void 0?"":r,o=t.data,n=t.isSelected,a=t.label,s=t.value;return(!bA(e)||!n)&&_A(e,{label:a,value:s,data:o},i)}function Z9(e,t){var r=e.focusedValue,i=e.selectValue,o=i.indexOf(r);if(o>-1){var n=t.indexOf(r);if(n>-1)return r;if(o<t.length)return t[o]}return null}function J9(e,t){var r=e.focusedOption;return r&&t.indexOf(r)>-1?r:t[0]}var mA=function(t,r){return t.getOptionLabel(r)},Bh=function(t,r){return t.getOptionValue(r)};function gA(e,t,r){return typeof e.isOptionDisabled=="function"?e.isOptionDisabled(t,r):!1}function yA(e,t,r){if(r.indexOf(t)>-1)return!0;if(typeof e.isOptionSelected=="function")return e.isOptionSelected(t,r);var i=Bh(e,t);return r.some(function(o){return Bh(e,o)===i})}function _A(e,t,r){return e.filterOption?e.filterOption(t,r):!0}var bA=function(t){var r=t.hideSelectedOptions,i=t.isMulti;return r===void 0?i:r},Q9=1,wA=function(e){W1(r,e);var t=V1(r);function r(i){var o;return j1(this,r),o=t.call(this,i),o.state={ariaSelection:null,focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0},o.blockOptionHover=!1,o.isComposing=!1,o.commonProps=void 0,o.initialTouchX=0,o.initialTouchY=0,o.instancePrefix="",o.openAfterFocus=!1,o.scrollToFocusedOptionOnUpdate=!1,o.userIsDragging=void 0,o.controlRef=null,o.getControlRef=function(n){o.controlRef=n},o.focusedOptionRef=null,o.getFocusedOptionRef=function(n){o.focusedOptionRef=n},o.menuListRef=null,o.getMenuListRef=function(n){o.menuListRef=n},o.inputRef=null,o.getInputRef=function(n){o.inputRef=n},o.focus=o.focusInput,o.blur=o.blurInput,o.onChange=function(n,a){var s=o.props,l=s.onChange,u=s.name;a.name=u,o.ariaOnChange(n,a),l(n,a)},o.setValue=function(n,a,s){var l=o.props,u=l.closeMenuOnSelect,c=l.isMulti,h=l.inputValue;o.onInputChange("",{action:"set-value",prevInputValue:h}),u&&(o.setState({inputIsHiddenAfterUpdate:!c}),o.onMenuClose()),o.setState({clearFocusValueOnUpdate:!0}),o.onChange(n,{action:a,option:s})},o.selectOption=function(n){var a=o.props,s=a.blurInputOnSelect,l=a.isMulti,u=a.name,c=o.state.selectValue,h=l&&o.isOptionSelected(n,c),v=o.isOptionDisabled(n,c);if(h){var f=o.getOptionValue(n);o.setValue(c.filter(function(m){return o.getOptionValue(m)!==f}),"deselect-option",n)}else if(!v)l?o.setValue([].concat(cA(c),[n]),"select-option",n):o.setValue(n,"select-option");else{o.ariaOnChange(n,{action:"select-option",option:n,name:u});return}s&&o.blurInput()},o.removeValue=function(n){var a=o.props.isMulti,s=o.state.selectValue,l=o.getOptionValue(n),u=s.filter(function(h){return o.getOptionValue(h)!==l}),c=md(a,u,u[0]||null);o.onChange(c,{action:"remove-value",removedValue:n}),o.focusInput()},o.clearValue=function(){var n=o.state.selectValue;o.onChange(md(o.props.isMulti,[],null),{action:"clear",removedValues:n})},o.popValue=function(){var n=o.props.isMulti,a=o.state.selectValue,s=a[a.length-1],l=a.slice(0,a.length-1),u=md(n,l,l[0]||null);o.onChange(u,{action:"pop-value",removedValue:s})},o.getValue=function(){return o.state.selectValue},o.cx=function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return iO.apply(void 0,[o.props.classNamePrefix].concat(a))},o.getOptionLabel=function(n){return mA(o.props,n)},o.getOptionValue=function(n){return Bh(o.props,n)},o.getStyles=function(n,a){var s=j9[n](a);s.boxSizing="border-box";var l=o.props.styles[n];return l?l(s,a):s},o.getElementId=function(n){return"".concat(o.instancePrefix,"-").concat(n)},o.getComponents=function(){return p9(o.props)},o.buildCategorizedOptions=function(){return pA(o.props,o.state.selectValue)},o.getCategorizedOptions=function(){return o.props.menuIsOpen?o.buildCategorizedOptions():[]},o.buildFocusableOptions=function(){return vA(o.buildCategorizedOptions())},o.getFocusableOptions=function(){return o.props.menuIsOpen?o.buildFocusableOptions():[]},o.ariaOnChange=function(n,a){o.setState({ariaSelection:Cn({value:n},a)})},o.onMenuMouseDown=function(n){n.button===0&&(n.stopPropagation(),n.preventDefault(),o.focusInput())},o.onMenuMouseMove=function(n){o.blockOptionHover=!1},o.onControlMouseDown=function(n){if(!n.defaultPrevented){var a=o.props.openMenuOnClick;o.state.isFocused?o.props.menuIsOpen?n.target.tagName!=="INPUT"&&n.target.tagName!=="TEXTAREA"&&o.onMenuClose():a&&o.openMenu("first"):(a&&(o.openAfterFocus=!0),o.focusInput()),n.target.tagName!=="INPUT"&&n.target.tagName!=="TEXTAREA"&&n.preventDefault()}},o.onDropdownIndicatorMouseDown=function(n){if(!(n&&n.type==="mousedown"&&n.button!==0)&&!o.props.isDisabled){var a=o.props,s=a.isMulti,l=a.menuIsOpen;o.focusInput(),l?(o.setState({inputIsHiddenAfterUpdate:!s}),o.onMenuClose()):o.openMenu("first"),n.preventDefault()}},o.onClearIndicatorMouseDown=function(n){n&&n.type==="mousedown"&&n.button!==0||(o.clearValue(),n.preventDefault(),o.openAfterFocus=!1,n.type==="touchend"?o.focusInput():setTimeout(function(){return o.focusInput()}))},o.onScroll=function(n){typeof o.props.closeMenuOnScroll=="boolean"?n.target instanceof HTMLElement&&tv(n.target)&&o.props.onMenuClose():typeof o.props.closeMenuOnScroll=="function"&&o.props.closeMenuOnScroll(n)&&o.props.onMenuClose()},o.onCompositionStart=function(){o.isComposing=!0},o.onCompositionEnd=function(){o.isComposing=!1},o.onTouchStart=function(n){var a=n.touches,s=a&&a.item(0);s&&(o.initialTouchX=s.clientX,o.initialTouchY=s.clientY,o.userIsDragging=!1)},o.onTouchMove=function(n){var a=n.touches,s=a&&a.item(0);if(s){var l=Math.abs(s.clientX-o.initialTouchX),u=Math.abs(s.clientY-o.initialTouchY),c=5;o.userIsDragging=l>c||u>c}},o.onTouchEnd=function(n){o.userIsDragging||(o.controlRef&&!o.controlRef.contains(n.target)&&o.menuListRef&&!o.menuListRef.contains(n.target)&&o.blurInput(),o.initialTouchX=0,o.initialTouchY=0)},o.onControlTouchEnd=function(n){o.userIsDragging||o.onControlMouseDown(n)},o.onClearIndicatorTouchEnd=function(n){o.userIsDragging||o.onClearIndicatorMouseDown(n)},o.onDropdownIndicatorTouchEnd=function(n){o.userIsDragging||o.onDropdownIndicatorMouseDown(n)},o.handleInputChange=function(n){var a=o.props.inputValue,s=n.currentTarget.value;o.setState({inputIsHiddenAfterUpdate:!1}),o.onInputChange(s,{action:"input-change",prevInputValue:a}),o.props.menuIsOpen||o.onMenuOpen()},o.onInputFocus=function(n){o.props.onFocus&&o.props.onFocus(n),o.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(o.openAfterFocus||o.props.openMenuOnFocus)&&o.openMenu("first"),o.openAfterFocus=!1},o.onInputBlur=function(n){var a=o.props.inputValue;if(o.menuListRef&&o.menuListRef.contains(document.activeElement)){o.inputRef.focus();return}o.props.onBlur&&o.props.onBlur(n),o.onInputChange("",{action:"input-blur",prevInputValue:a}),o.onMenuClose(),o.setState({focusedValue:null,isFocused:!1})},o.onOptionHover=function(n){o.blockOptionHover||o.state.focusedOption===n||o.setState({focusedOption:n})},o.shouldHideSelectedOptions=function(){return bA(o.props)},o.onKeyDown=function(n){var a=o.props,s=a.isMulti,l=a.backspaceRemovesValue,u=a.escapeClearsValue,c=a.inputValue,h=a.isClearable,v=a.isDisabled,f=a.menuIsOpen,m=a.onKeyDown,_=a.tabSelectsValue,g=a.openMenuOnFocus,p=o.state,d=p.focusedOption,b=p.focusedValue,y=p.selectValue;if(!v&&!(typeof m=="function"&&(m(n),n.defaultPrevented))){switch(o.blockOptionHover=!0,n.key){case"ArrowLeft":if(!s||c)return;o.focusValue("previous");break;case"ArrowRight":if(!s||c)return;o.focusValue("next");break;case"Delete":case"Backspace":if(c)return;if(b)o.removeValue(b);else{if(!l)return;s?o.popValue():h&&o.clearValue()}break;case"Tab":if(o.isComposing||n.shiftKey||!f||!_||!d||g&&o.isOptionSelected(d,y))return;o.selectOption(d);break;case"Enter":if(n.keyCode===229)break;if(f){if(!d||o.isComposing)return;o.selectOption(d);break}return;case"Escape":f?(o.setState({inputIsHiddenAfterUpdate:!1}),o.onInputChange("",{action:"menu-close",prevInputValue:c}),o.onMenuClose()):h&&u&&o.clearValue();break;case" ":if(c)return;if(!f){o.openMenu("first");break}if(!d)return;o.selectOption(d);break;case"ArrowUp":f?o.focusOption("up"):o.openMenu("last");break;case"ArrowDown":f?o.focusOption("down"):o.openMenu("first");break;case"PageUp":if(!f)return;o.focusOption("pageup");break;case"PageDown":if(!f)return;o.focusOption("pagedown");break;case"Home":if(!f)return;o.focusOption("first");break;case"End":if(!f)return;o.focusOption("last");break;default:return}n.preventDefault()}},o.instancePrefix="react-select-"+(o.props.instanceId||++Q9),o.state.selectValue=fx(i.value),o}return U1(r,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput()}},{key:"componentDidUpdate",value:function(o){var n=this.props,a=n.isDisabled,s=n.menuIsOpen,l=this.state.isFocused;(l&&!a&&o.isDisabled||l&&s&&!o.menuIsOpen)&&this.focusInput(),l&&a&&!o.isDisabled&&this.setState({isFocused:!1},this.onMenuClose),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(lO(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(o,n){this.props.onInputChange(o,n)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(o){var n=this,a=this.state,s=a.selectValue,l=a.isFocused,u=this.buildFocusableOptions(),c=o==="first"?0:u.length-1;if(!this.props.isMulti){var h=u.indexOf(s[0]);h>-1&&(c=h)}this.scrollToFocusedOptionOnUpdate=!(l&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:u[c]},function(){return n.onMenuOpen()})}},{key:"focusValue",value:function(o){var n=this.state,a=n.selectValue,s=n.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var l=a.indexOf(s);s||(l=-1);var u=a.length-1,c=-1;if(a.length){switch(o){case"previous":l===0?c=0:l===-1?c=u:c=l-1;break;case"next":l>-1&&l<u&&(c=l+1);break}this.setState({inputIsHidden:c!==-1,focusedValue:a[c]})}}}},{key:"focusOption",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",n=this.props.pageSize,a=this.state.focusedOption,s=this.getFocusableOptions();if(s.length){var l=0,u=s.indexOf(a);a||(u=-1),o==="up"?l=u>0?u-1:s.length-1:o==="down"?l=(u+1)%s.length:o==="pageup"?(l=u-n,l<0&&(l=0)):o==="pagedown"?(l=u+n,l>s.length-1&&(l=s.length-1)):o==="last"&&(l=s.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:s[l],focusedValue:null})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(Hm):Cn(Cn({},Hm),this.props.theme):Hm}},{key:"getCommonProps",value:function(){var o=this.clearValue,n=this.cx,a=this.getStyles,s=this.getValue,l=this.selectOption,u=this.setValue,c=this.props,h=c.isMulti,v=c.isRtl,f=c.options,m=this.hasValue();return{clearValue:o,cx:n,getStyles:a,getValue:s,hasValue:m,isMulti:h,isRtl:v,options:f,selectOption:l,selectProps:c,setValue:u,theme:this.getTheme()}}},{key:"hasValue",value:function(){var o=this.state.selectValue;return o.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var o=this.props,n=o.isClearable,a=o.isMulti;return n===void 0?a:n}},{key:"isOptionDisabled",value:function(o,n){return gA(this.props,o,n)}},{key:"isOptionSelected",value:function(o,n){return yA(this.props,o,n)}},{key:"filterOption",value:function(o,n){return _A(this.props,o,n)}},{key:"formatOptionLabel",value:function(o,n){if(typeof this.props.formatOptionLabel=="function"){var a=this.props.inputValue,s=this.state.selectValue;return this.props.formatOptionLabel(o,{context:n,inputValue:a,selectValue:s})}else return this.getOptionLabel(o)}},{key:"formatGroupLabel",value:function(o){return this.props.formatGroupLabel(o)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var o=this.props,n=o.isDisabled,a=o.isSearchable,s=o.inputId,l=o.inputValue,u=o.tabIndex,c=o.form,h=o.menuIsOpen,v=this.getComponents(),f=v.Input,m=this.state,_=m.inputIsHidden,g=m.ariaSelection,p=this.commonProps,d=s||this.getElementId("input"),b=Cn(Cn(Cn({"aria-autocomplete":"list","aria-expanded":h,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],role:"combobox"},h&&{"aria-controls":this.getElementId("listbox"),"aria-owns":this.getElementId("listbox")}),!a&&{"aria-readonly":!0}),this.hasValue()?(g==null?void 0:g.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return a?ot.createElement(f,Ir({},p,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:d,innerRef:this.getInputRef,isDisabled:n,isHidden:_,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:u,form:c,type:"text",value:l},b)):ot.createElement(D9,Ir({id:d,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:zh,onFocus:this.onInputFocus,disabled:n,tabIndex:u,inputMode:"none",form:c,value:""},b))}},{key:"renderPlaceholderOrValue",value:function(){var o=this,n=this.getComponents(),a=n.MultiValue,s=n.MultiValueContainer,l=n.MultiValueLabel,u=n.MultiValueRemove,c=n.SingleValue,h=n.Placeholder,v=this.commonProps,f=this.props,m=f.controlShouldRenderValue,_=f.isDisabled,g=f.isMulti,p=f.inputValue,d=f.placeholder,b=this.state,y=b.selectValue,x=b.focusedValue,w=b.isFocused;if(!this.hasValue()||!m)return p?null:ot.createElement(h,Ir({},v,{key:"placeholder",isDisabled:_,isFocused:w,innerProps:{id:this.getElementId("placeholder")}}),d);if(g)return y.map(function(S,T){var M=S===x,D="".concat(o.getOptionLabel(S),"-").concat(o.getOptionValue(S));return ot.createElement(a,Ir({},v,{components:{Container:s,Label:l,Remove:u},isFocused:M,isDisabled:_,key:D,index:T,removeProps:{onClick:function(){return o.removeValue(S)},onTouchEnd:function(){return o.removeValue(S)},onMouseDown:function(R){R.preventDefault()}},data:S}),o.formatOptionLabel(S,"value"))});if(p)return null;var C=y[0];return ot.createElement(c,Ir({},v,{data:C,isDisabled:_}),this.formatOptionLabel(C,"value"))}},{key:"renderClearIndicator",value:function(){var o=this.getComponents(),n=o.ClearIndicator,a=this.commonProps,s=this.props,l=s.isDisabled,u=s.isLoading,c=this.state.isFocused;if(!this.isClearable()||!n||l||!this.hasValue()||u)return null;var h={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return ot.createElement(n,Ir({},a,{innerProps:h,isFocused:c}))}},{key:"renderLoadingIndicator",value:function(){var o=this.getComponents(),n=o.LoadingIndicator,a=this.commonProps,s=this.props,l=s.isDisabled,u=s.isLoading,c=this.state.isFocused;if(!n||!u)return null;var h={"aria-hidden":"true"};return ot.createElement(n,Ir({},a,{innerProps:h,isDisabled:l,isFocused:c}))}},{key:"renderIndicatorSeparator",value:function(){var o=this.getComponents(),n=o.DropdownIndicator,a=o.IndicatorSeparator;if(!n||!a)return null;var s=this.commonProps,l=this.props.isDisabled,u=this.state.isFocused;return ot.createElement(a,Ir({},s,{isDisabled:l,isFocused:u}))}},{key:"renderDropdownIndicator",value:function(){var o=this.getComponents(),n=o.DropdownIndicator;if(!n)return null;var a=this.commonProps,s=this.props.isDisabled,l=this.state.isFocused,u={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return ot.createElement(n,Ir({},a,{innerProps:u,isDisabled:s,isFocused:l}))}},{key:"renderMenu",value:function(){var o=this,n=this.getComponents(),a=n.Group,s=n.GroupHeading,l=n.Menu,u=n.MenuList,c=n.MenuPortal,h=n.LoadingMessage,v=n.NoOptionsMessage,f=n.Option,m=this.commonProps,_=this.state.focusedOption,g=this.props,p=g.captureMenuScroll,d=g.inputValue,b=g.isLoading,y=g.loadingMessage,x=g.minMenuHeight,w=g.maxMenuHeight,C=g.menuIsOpen,S=g.menuPlacement,T=g.menuPosition,M=g.menuPortalTarget,D=g.menuShouldBlockScroll,k=g.menuShouldScrollIntoView,R=g.noOptionsMessage,P=g.onMenuScrollToTop,E=g.onMenuScrollToBottom;if(!C)return null;var O=function(B,W){var F=B.type,K=B.data,fe=B.isDisabled,se=B.isSelected,ee=B.label,ie=B.value,J=_===K,te=fe?void 0:function(){return o.onOptionHover(K)},L=fe?void 0:function(){return o.selectOption(K)},N="".concat(o.getElementId("option"),"-").concat(W),G={id:N,onClick:L,onMouseMove:te,onMouseOver:te,tabIndex:-1};return ot.createElement(f,Ir({},m,{innerProps:G,data:K,isDisabled:fe,isSelected:se,key:N,label:ee,type:F,value:ie,isFocused:J,innerRef:J?o.getFocusedOptionRef:void 0}),o.formatOptionLabel(B.data,"menu"))},I;if(this.hasOptions())I=this.getCategorizedOptions().map(function(H){if(H.type==="group"){var B=H.data,W=H.options,F=H.index,K="".concat(o.getElementId("group"),"-").concat(F),fe="".concat(K,"-heading");return ot.createElement(a,Ir({},m,{key:K,data:B,options:W,Heading:s,headingProps:{id:fe,data:H.data},label:o.formatGroupLabel(H.data)}),H.options.map(function(se){return O(se,"".concat(F,"-").concat(se.index))}))}else if(H.type==="option")return O(H,"".concat(H.index))});else if(b){var U=y({inputValue:d});if(U===null)return null;I=ot.createElement(h,m,U)}else{var V=R({inputValue:d});if(V===null)return null;I=ot.createElement(v,m,V)}var Z={minMenuHeight:x,maxMenuHeight:w,menuPlacement:S,menuPosition:T,menuShouldScrollIntoView:k},z=ot.createElement(eA,Ir({},m,Z),function(H){var B=H.ref,W=H.placerProps,F=W.placement,K=W.maxHeight;return ot.createElement(l,Ir({},m,Z,{innerRef:B,innerProps:{onMouseDown:o.onMenuMouseDown,onMouseMove:o.onMenuMouseMove,id:o.getElementId("listbox")},isLoading:b,placement:F}),ot.createElement(F9,{captureEnabled:p,onTopArrive:P,onBottomArrive:E,lockEnabled:D},function(fe){return ot.createElement(u,Ir({},m,{innerRef:function(ee){o.getMenuListRef(ee),fe(ee)},isLoading:b,maxHeight:K,focusedOption:_}),I)}))});return M||T==="fixed"?ot.createElement(c,Ir({},m,{appendTo:M,controlElement:this.controlRef,menuPlacement:S,menuPosition:T}),z):z}},{key:"renderFormField",value:function(){var o=this,n=this.props,a=n.delimiter,s=n.isDisabled,l=n.isMulti,u=n.name,c=this.state.selectValue;if(!(!u||s))if(l)if(a){var h=c.map(function(m){return o.getOptionValue(m)}).join(a);return ot.createElement("input",{name:u,type:"hidden",value:h})}else{var v=c.length>0?c.map(function(m,_){return ot.createElement("input",{key:"i-".concat(_),name:u,type:"hidden",value:o.getOptionValue(m)})}):ot.createElement("input",{name:u,type:"hidden"});return ot.createElement("div",null,v)}else{var f=c[0]?this.getOptionValue(c[0]):"";return ot.createElement("input",{name:u,type:"hidden",value:f})}}},{key:"renderLiveRegion",value:function(){var o=this.commonProps,n=this.state,a=n.ariaSelection,s=n.focusedOption,l=n.focusedValue,u=n.isFocused,c=n.selectValue,h=this.getFocusableOptions();return ot.createElement(T9,Ir({},o,{id:this.getElementId("live-region"),ariaSelection:a,focusedOption:s,focusedValue:l,isFocused:u,selectValue:c,focusableOptions:h}))}},{key:"render",value:function(){var o=this.getComponents(),n=o.Control,a=o.IndicatorsContainer,s=o.SelectContainer,l=o.ValueContainer,u=this.props,c=u.className,h=u.id,v=u.isDisabled,f=u.menuIsOpen,m=this.state.isFocused,_=this.commonProps=this.getCommonProps();return ot.createElement(s,Ir({},_,{className:c,innerProps:{id:h,onKeyDown:this.onKeyDown},isDisabled:v,isFocused:m}),this.renderLiveRegion(),ot.createElement(n,Ir({},_,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:v,isFocused:m,menuIsOpen:f}),ot.createElement(l,Ir({},_,{isDisabled:v}),this.renderPlaceholderOrValue(),this.renderInput()),ot.createElement(a,Ir({},_,{isDisabled:v}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(o,n){var a=n.prevProps,s=n.clearFocusValueOnUpdate,l=n.inputIsHiddenAfterUpdate,u=n.ariaSelection,c=n.isFocused,h=n.prevWasFocused,v=o.options,f=o.value,m=o.menuIsOpen,_=o.inputValue,g=o.isMulti,p=fx(f),d={};if(a&&(f!==a.value||v!==a.options||m!==a.menuIsOpen||_!==a.inputValue)){var b=m?X9(o,p):[],y=s?Z9(n,p):null,x=J9(n,b);d={selectValue:p,focusedOption:x,focusedValue:y,clearFocusValueOnUpdate:!1}}var w=l!=null&&o!==a?{inputIsHidden:l,inputIsHiddenAfterUpdate:void 0}:{},C=u,S=c&&h;return c&&!S&&(C={value:md(g,p,p[0]||null),options:p,action:"initial-input-focus"},S=!h),(u==null?void 0:u.action)==="initial-input-focus"&&(C=null),Cn(Cn(Cn({},d),w),{},{prevProps:o,ariaSelection:C,prevWasFocused:S})}}]),r}(ot.Component);wA.defaultProps=K9;var q9=ot.forwardRef(function(e,t){var r=m9(e);return ot.createElement(wA,Ir({ref:t},r))});const xA=q9,eI=Xr.div`
    display: grid;
    grid-template-columns: repeat(2, auto);
    grid-gap: 0.3rem;
    justify-content: space-between;
    align-items: start;
`;let rf=e=>{const t=e.color?e.color:Hr.background.select_background,r={control:(i,{data:o,isDisabled:n,isFocused:a,isSelected:s})=>({...i,backgroundColor:t}),menu:(i,{data:o,isDisabled:n,isFocused:a,isSelected:s})=>({...i,backgroundColor:t}),menuPortal:(i,{data:o,isDisabled:n,isFocused:a,isSelected:s})=>({...i}),option:(i,{data:o,isDisabled:n,isFocused:a,isSelected:s})=>({...i,backgroundColor:a?Hr.background.transparent_accents:void 0}),singleValue:(i,{data:o,isDisabled:n,isFocused:a,isSelected:s})=>({...i,color:Hr.text})};return Je.jsxs(eI,{children:[Je.jsx(Lo,{htmlFor:e.name,children:e.label}),Je.jsx(xA,{name:e.name,id:e.name,styles:r,defaultValue:e.defaultValue,value:e.value?e.value:void 0,menuPortalTarget:document.body,onChange:e.onChange,color:e.color?e.color:Hr.background.level_3,options:e.options})]})};const Bm=Xr.input`
  height: 2rem;
  border-radius: 5px;
  border-width: 2px;
  border-style: solid;
  margin-top: 0.25em;
  width: auto;
  background-color: ${e=>e.color};
  border-color: ${e=>e.theme.background.border};
  color: ${e=>e.theme.text};
`,tI=Xr.label`
width: fit-content;
font-family: Roboto,Helvetica,Arial,sans-serif;
font-size: 0.7rem;
margin-top: 0.15rem;
margin-left: 0.15rem;
`,Ax=Xr.div`
margin: 0 0.2rem;
display: grid;
grid-template-columns:  ${e=>e.inline?"1fr 1fr":"1fr"};
grid-auto-rows: auto;
justify-content: ${e=>e.inline?"space-between":"start"};
align-items: center;
flex-flow: wrap;
`;let Gn=e=>e.compact?Je.jsx(Bm,{id:e.ID,name:e.name,type:e.type?e.type:"text",placeholder:e.label,color:e.color?e.color:Hr.background.level_3,disabled:e.disabled?"disabled":"",onChange:t=>{e.onChange&&e.onChange(t)},onKeyDown:t=>{e.onKeyDown&&e.onKeyDown(t)},defaultValue:e.defaultValue,value:e.value?e.value:void 0}):e.description?Je.jsxs(Ax,{children:[Je.jsx(Lo,{htmlFor:e.ID,inline:e.inline,children:e.label}),Je.jsx(Bm,{name:e.name,placeholder:e.placeholder,id:e.ID,color:e.color?e.color:Hr.background.level_3,type:e.type?e.type:"text",disabled:e.disabled?"disabled":"",onChange:t=>{e.onChange&&e.onChange(t)},onKeyDown:t=>{e.onKeyDown&&e.onKeyDown(t)},defaultValue:e.defaultValue,value:e.value?e.value:void 0}),Je.jsx(tI,{children:e.description})]}):Je.jsxs(Ax,{inline:e.inline,children:[Je.jsx(Lo,{htmlFor:e.ID,inline:e.inline,children:e.label}),Je.jsx(Bm,{placeholder:e.placeholder,name:e.name,color:e.color?e.color:Hr.background.level_3,id:e.ID,type:e.type?e.type:"text",disabled:e.disabled?"disabled":"",onChange:t=>{e.onChange&&e.onChange(t)},onKeyDown:t=>{e.onKeyDown&&e.onKeyDown(t)},defaultValue:e.defaultValue,value:e.value?e.value:void 0})]});const Hg=Xr.img`
max-width: 100%;
max-height: 100%;
`;Xr.input`
`;Xr.div`
 display: inline-flex;
  flex-wrap: wrap;
  align-items: center;
`;const rI=Xr.input`
border-width: 0;
`,nI=Xr.div`
display: flex;
align-items: center;
flex-flow: wrap;
`;let jh=e=>Je.jsxs(nI,{children:[Je.jsx(Lo,{htmlFor:e.name,inline:e.inline,children:e.label}),Je.jsx(rI,{id:e.name,name:e.name,checked:!!e.value,type:"checkbox",onChange:t=>e.onChange(t),style:e.style})]});Xr.h1`
font-size: 24px;
text-align: center;
`;const xs=Xr.button`
  background: ${e=>e.theme.background.accents};
  border-color: ${e=>e.theme.background.accents};
  font-weight: bold;
  border-radius: 3px;
  border-style: solid;
  font-size: 16px;
  color: black;
  width: fit-content;
  height: fit-content;
  padding: 0.5em 1em;
`,iI=Xr.div`
margin: 0 0.2rem;
display: grid;
grid-template-columns: 1fr;
grid-auto-rows: auto;
justify-content:start;
align-items: center;
flex-flow: wrap;
`;let uX=e=>{const t=e.color?e.color:Hr.background.select_background,r={control:(i,{data:o,isDisabled:n,isFocused:a,isSelected:s})=>({...i,backgroundColor:t}),menu:(i,{data:o,isDisabled:n,isFocused:a,isSelected:s})=>({...i,backgroundColor:t}),menuPortal:(i,{data:o,isDisabled:n,isFocused:a,isSelected:s})=>({...i,backgroundColor:t}),option:(i,{data:o,isDisabled:n,isFocused:a,isSelected:s})=>({...i,backgroundColor:a?Hr.background.transparent_accents:void 0}),multiValue:(i,{data:o})=>({...i,backgroundColor:"#0000",borderColor:Hr.background.borders,borderWidth:"2px",borderStyle:"solid"}),multiValueLabel:(i,{data:o})=>({...i,color:o.color}),multiValueRemove:(i,{data:o})=>({...i,color:o.color,":hover":{backgroundColor:o.color,color:"red"}})};return Je.jsxs(iI,{inline:e.inline,children:[Je.jsx(Lo,{htmlFor:e.ID,inline:e.inline,children:e.label}),Je.jsx(xA,{name:e.ID,isMulti:!0,styles:r,options:e.options,menuPortalTarget:document.body,value:e.value,onChange:i=>{e.onChange&&e.onChange(i)}})]})};var SA={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},kx=Fn.createContext&&Fn.createContext(SA),cs=globalThis&&globalThis.__assign||function(){return cs=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},cs.apply(this,arguments)},aI=globalThis&&globalThis.__rest||function(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(r[i[o]]=e[i[o]]);return r};function CA(e){return e&&e.map(function(t,r){return Fn.createElement(t.tag,cs({key:r},t.attr),CA(t.child))})}function gi(e){return function(t){return Fn.createElement(oI,cs({attr:cs({},e.attr)},t),CA(e.child))}}function oI(e){var t=function(r){var i=e.attr,o=e.size,n=e.title,a=aI(e,["attr","size","title"]),s=o||r.size||"1em",l;return r.className&&(l=r.className),e.className&&(l=(l?l+" ":"")+e.className),Fn.createElement("svg",cs({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,i,a,{className:l,style:cs(cs({color:e.color||r.color},r.style),e.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),n&&Fn.createElement("title",null,n),e.children)};return kx!==void 0?Fn.createElement(kx.Consumer,null,function(r){return t(r)}):t(SA)}function cX(e){return gi({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z",clipRule:"evenodd"}},{tag:"path",attr:{d:"M22.7 19l-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4z"}}]})(e)}function rv(e){return gi({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}}]})(e)}function sI(e){return gi({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 14h-3v3h-2v-3H8v-2h3v-3h2v3h3v2zm-3-7V3.5L18.5 9H13z"}}]})(e)}function lI(e){return gi({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"}}]})(e)}function uI(e){return gi({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M8 5v14l11-7z"}}]})(e)}function cI(e){return gi({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M6 6h12v12H6z"}}]})(e)}function fI(e){return gi({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}}]})(e)}function dI(e){return gi({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M19 13H5v-2h14v2z"}}]})(e)}function fX(e){return gi({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M17 3H5a2 2 0 00-2 2v14a2 2 0 002 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}}]})(e)}function dX(e){return gi({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M20 5V4c0-.55-.45-1-1-1h-2c-.55 0-1 .45-1 1v1h-1v4c0 .55.45 1 1 1h1v7c0 1.1-.9 2-2 2s-2-.9-2-2V7c0-2.21-1.79-4-4-4S5 4.79 5 7v7H4c-.55 0-1 .45-1 1v4h1v1c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-1h1v-4c0-.55-.45-1-1-1H7V7c0-1.1.9-2 2-2s2 .9 2 2v10c0 2.21 1.79 4 4 4s4-1.79 4-4v-7h1c.55 0 1-.45 1-1V5h-1z"}}]})(e)}function TA(e){return gi({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M5 20h14v-2H5v2zM19 9h-4V3H9v6H5l7 7 7-7z"}}]})(e)}function AA(e){return gi({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M5 20h14v-2H5v2zm0-10h4v6h6v-6h4l-7-7-7 7z"}}]})(e)}function hX(e){return gi({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M15 9H9v6h6V9zm-2 4h-2v-2h2v2zm8-2V9h-2V7c0-1.1-.9-2-2-2h-2V3h-2v2h-2V3H9v2H7c-1.1 0-2 .9-2 2v2H3v2h2v2H3v2h2v2c0 1.1.9 2 2 2h2v2h2v-2h2v2h2v-2h2c1.1 0 2-.9 2-2v-2h2v-2h-2v-2h2zm-4 6H7V7h10v10z"}}]})(e)}function hI(e){return gi({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04a.996.996 0 000-1.41l-2.34-2.34a.996.996 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}}]})(e)}function pI(e){return gi({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M7 10l5 5 5-5z"}}]})(e)}function vI(e){return gi({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M7 14l5-5 5 5z"}}]})(e)}function mI(e){return gi({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}}]})(e)}const gI=Xr.div`
    display: flex;
    align-items: center;
    gap: 0.5em;
    background: ${e=>e.selected?e.theme.background.transparent_accents:"#0000"}
`;let kA=e=>{const t="assets/selector_icons/"+e.icon+".svg";let r={selected:e.selected};const i=e.icon+"language icon";let[o,n]=ot.useState("white"),[a,s]=ot.useState(!1),l=()=>{e.onSelect(e.name)},u=()=>{n("red"),a?e.onRemove(e.name):(s(!0),setTimeout(()=>{s(!1),n("white")},1500))},c=f=>{if(e.icon)return typeof f=="string"?Je.jsx(Hg,{style:{width:"2em"},src:t,alt:i}):f},h=()=>{if(e.delete)return Je.jsx(rv,{size:e.iconSize?e.iconSize:Hr.icons_size,onClick:u,color:o})},v=()=>{e.onMouseEnter&&e.onMouseEnter(e.name)};return Je.jsxs(gI,{...r,children:[Je.jsx("div",{}),Je.jsxs("div",{onMouseEnter:v,onClick:l,style:{display:"flex",flexGrow:1},children:[c(e.icon),Je.jsx("p",{style:{marginLeft:"0.5em",paddingTop:"6px",cursor:"default"},children:e.name})]}),h()]})};const yI=Xr.div`
    display: flex;
    flex-direction: column;
    gap: 0.25em;
    margin: 0.5em;
`;let Lu=e=>{let t=(r,i)=>{let o=[];for(let n=0;n<r.length;n++)o.push(Je.jsx(kA,{delete:!0,onRemove:e.onRemove,onSelect:e.onSelect,selected:e.selected_item===r[n],icon:i[n],name:r[n]},r[n]));return o};return Je.jsx(yI,{children:t(e.items,e.types)})},_I=e=>{let[t,r]=ot.useState("white"),[i,o]=ot.useState(!1),n=()=>{r("red"),i?e.onRemove():(o(!0),setTimeout(()=>{o(!1),r("white")},1500))};return Je.jsx(rv,{style:{marginLeft:"auto"},size:Hr.icons_size,onClick:n,color:t})},bI=e=>{let[t,r]=ot.useState(e.value),i=()=>{let n=!t;r(n),e.onClick({name:e.name,checked:n})},o=t?Hr.background.accents:Hr.background.level_3;return Je.jsx("div",{style:{marginLeft:"auto",paddingLeft:"0.3em",paddingRight:"0.3em",alignContent:"baseline",borderStyle:"solid",borderColor:o,backgroundColor:o,borderRadius:"30px"},onClick:i,children:Je.jsx("p",{style:{cursor:"default"},children:e.label})})};const wI=Xr.div`
    display: flex;
    align-items: center;
    gap: 0.5em;
`;let pX=e=>{let[t,r]=ot.useState("white"),[i,o]=ot.useState(!1),n=()=>{r("red"),i?e.onRemove({type:e.type,name:e.name}):(o(!0),setTimeout(()=>{o(!1),r("white")},1500))},a=()=>{if(e.delete)return Je.jsx(rv,{onClick:n,color:t})};return Je.jsxs(wI,{children:[Je.jsx("div",{style:{display:"flex",flexGrow:1},children:Je.jsx("p",{style:{marginLeft:"0.5em",paddingTop:"6px",cursor:"default"},children:e.name})}),a()]})};const nv=Xr.div`
    display: grid;
    margin: 1em;
    grid-template-rows: auto;
    grid-auto-columns: auto;
    grid-gap: 0.4rem;
    align-items: start;
`,xI=Xr.div`
margin-right: 0.5rem;
`,SI=Xr.div`
margin-right: 0.5rem;
`,MA="SET_CHANNEL_STATUS",EA="PLOT_PLAY",LA="PLOT_PAUSE",DA="PLOT_STOP",PA="FETCH_DATA",RA="INITIALIZE_CHANNELS",OA="SEND_PARAMETER",CI="LOAD_REGISTERS",TI="SEND_REGISTER",IA="SET_SETTING",NA="ADD_SCRIPT",FA="REMOVE_SCRIPT",$A="LOAD_ALL_SCRIPTS",zA="SAVE_SCRIPT_WORKSPACE",HA="LOAD_PERIPHERALS",BA="ADD_PERIPHERAL",jA="UPSERT_REGISTER",UA="UPSERT_FIELD",WA="REMOVE_PERIPHERAL",VA="REMOVE_REGISTER",GA="REMOVE_FIELD",YA="LOAD_APPLICATIONS",KA="ADD_APPLICATION",XA="REMOVE_APPLICATION",ZA="ADD_PROGRAM",JA="REMOVE_PROGRAM",QA="LOAD_ALL_PROGRAM",qA="ADD_BITSTREAM",ek="REMOVE_BITSTREAM",tk="LOAD_ALL_BITSTREAMS",AI=e=>({type:zA,payload:e}),Mx=e=>({type:NA,payload:e}),kI=e=>({type:FA,payload:e}),MI=e=>({type:$A,payload:e}),EI=e=>({type:OA,payload:{name:e.name,value:e.value,app:e.app}}),LI=e=>({type:YA,payload:e}),gd=e=>({type:KA,payload:e}),DI=e=>({type:XA,payload:e});var Y1={exports:{}},rk=function(t,r){return function(){for(var o=new Array(arguments.length),n=0;n<o.length;n++)o[n]=arguments[n];return t.apply(r,o)}},PI=rk,Ss=Object.prototype.toString;function K1(e){return Array.isArray(e)}function Bg(e){return typeof e>"u"}function RI(e){return e!==null&&!Bg(e)&&e.constructor!==null&&!Bg(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function nk(e){return Ss.call(e)==="[object ArrayBuffer]"}function OI(e){return Ss.call(e)==="[object FormData]"}function II(e){var t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&nk(e.buffer),t}function NI(e){return typeof e=="string"}function FI(e){return typeof e=="number"}function ik(e){return e!==null&&typeof e=="object"}function Kd(e){if(Ss.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function $I(e){return Ss.call(e)==="[object Date]"}function zI(e){return Ss.call(e)==="[object File]"}function HI(e){return Ss.call(e)==="[object Blob]"}function ak(e){return Ss.call(e)==="[object Function]"}function BI(e){return ik(e)&&ak(e.pipe)}function jI(e){return Ss.call(e)==="[object URLSearchParams]"}function UI(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function WI(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function X1(e,t){if(!(e===null||typeof e>"u"))if(typeof e!="object"&&(e=[e]),K1(e))for(var r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}function jg(){var e={};function t(o,n){Kd(e[n])&&Kd(o)?e[n]=jg(e[n],o):Kd(o)?e[n]=jg({},o):K1(o)?e[n]=o.slice():e[n]=o}for(var r=0,i=arguments.length;r<i;r++)X1(arguments[r],t);return e}function VI(e,t,r){return X1(t,function(o,n){r&&typeof o=="function"?e[n]=PI(o,r):e[n]=o}),e}function GI(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}var Ji={isArray:K1,isArrayBuffer:nk,isBuffer:RI,isFormData:OI,isArrayBufferView:II,isString:NI,isNumber:FI,isObject:ik,isPlainObject:Kd,isUndefined:Bg,isDate:$I,isFile:zI,isBlob:HI,isFunction:ak,isStream:BI,isURLSearchParams:jI,isStandardBrowserEnv:WI,forEach:X1,merge:jg,extend:VI,trim:UI,stripBOM:GI},wl=Ji;function Ex(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var ok=function(t,r,i){if(!r)return t;var o;if(i)o=i(r);else if(wl.isURLSearchParams(r))o=r.toString();else{var n=[];wl.forEach(r,function(l,u){l===null||typeof l>"u"||(wl.isArray(l)?u=u+"[]":l=[l],wl.forEach(l,function(h){wl.isDate(h)?h=h.toISOString():wl.isObject(h)&&(h=JSON.stringify(h)),n.push(Ex(u)+"="+Ex(h))}))}),o=n.join("&")}if(o){var a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t},YI=Ji;function iv(){this.handlers=[]}iv.prototype.use=function(t,r,i){return this.handlers.push({fulfilled:t,rejected:r,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1};iv.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};iv.prototype.forEach=function(t){YI.forEach(this.handlers,function(i){i!==null&&t(i)})};var KI=iv,XI=Ji,ZI=function(t,r){XI.forEach(t,function(o,n){n!==r&&n.toUpperCase()===r.toUpperCase()&&(t[r]=o,delete t[n])})},sk=function(t,r,i,o,n){return t.config=r,i&&(t.code=i),t.request=o,t.response=n,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},t},lk={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},jm,Lx;function uk(){if(Lx)return jm;Lx=1;var e=sk;return jm=function(r,i,o,n,a){var s=new Error(r);return e(s,i,o,n,a)},jm}var Um,Dx;function JI(){if(Dx)return Um;Dx=1;var e=uk();return Um=function(r,i,o){var n=o.config.validateStatus;!o.status||!n||n(o.status)?r(o):i(e("Request failed with status code "+o.status,o.config,null,o.request,o))},Um}var Wm,Px;function QI(){if(Px)return Wm;Px=1;var e=Ji;return Wm=e.isStandardBrowserEnv()?function(){return{write:function(i,o,n,a,s,l){var u=[];u.push(i+"="+encodeURIComponent(o)),e.isNumber(n)&&u.push("expires="+new Date(n).toGMTString()),e.isString(a)&&u.push("path="+a),e.isString(s)&&u.push("domain="+s),l===!0&&u.push("secure"),document.cookie=u.join("; ")},read:function(i){var o=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return o?decodeURIComponent(o[3]):null},remove:function(i){this.write(i,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),Wm}var Vm,Rx;function qI(){return Rx||(Rx=1,Vm=function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}),Vm}var Gm,Ox;function eN(){return Ox||(Ox=1,Gm=function(t,r){return r?t.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):t}),Gm}var Ym,Ix;function tN(){if(Ix)return Ym;Ix=1;var e=qI(),t=eN();return Ym=function(i,o){return i&&!e(o)?t(i,o):o},Ym}var Km,Nx;function rN(){if(Nx)return Km;Nx=1;var e=Ji,t=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return Km=function(i){var o={},n,a,s;return i&&e.forEach(i.split(`
`),function(u){if(s=u.indexOf(":"),n=e.trim(u.substr(0,s)).toLowerCase(),a=e.trim(u.substr(s+1)),n){if(o[n]&&t.indexOf(n)>=0)return;n==="set-cookie"?o[n]=(o[n]?o[n]:[]).concat([a]):o[n]=o[n]?o[n]+", "+a:a}}),o},Km}var Xm,Fx;function nN(){if(Fx)return Xm;Fx=1;var e=Ji;return Xm=e.isStandardBrowserEnv()?function(){var r=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a"),o;function n(a){var s=a;return r&&(i.setAttribute("href",s),s=i.href),i.setAttribute("href",s),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:i.pathname.charAt(0)==="/"?i.pathname:"/"+i.pathname}}return o=n(window.location.href),function(s){var l=e.isString(s)?n(s):s;return l.protocol===o.protocol&&l.host===o.host}}():function(){return function(){return!0}}(),Xm}var Zm,$x;function av(){if($x)return Zm;$x=1;function e(t){this.message=t}return e.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},e.prototype.__CANCEL__=!0,Zm=e,Zm}var Jm,zx;function Hx(){if(zx)return Jm;zx=1;var e=Ji,t=JI(),r=QI(),i=ok,o=tN(),n=rN(),a=nN(),s=uk(),l=lk,u=av();return Jm=function(h){return new Promise(function(f,m){var _=h.data,g=h.headers,p=h.responseType,d;function b(){h.cancelToken&&h.cancelToken.unsubscribe(d),h.signal&&h.signal.removeEventListener("abort",d)}e.isFormData(_)&&delete g["Content-Type"];var y=new XMLHttpRequest;if(h.auth){var x=h.auth.username||"",w=h.auth.password?unescape(encodeURIComponent(h.auth.password)):"";g.Authorization="Basic "+btoa(x+":"+w)}var C=o(h.baseURL,h.url);y.open(h.method.toUpperCase(),i(C,h.params,h.paramsSerializer),!0),y.timeout=h.timeout;function S(){if(y){var M="getAllResponseHeaders"in y?n(y.getAllResponseHeaders()):null,D=!p||p==="text"||p==="json"?y.responseText:y.response,k={data:D,status:y.status,statusText:y.statusText,headers:M,config:h,request:y};t(function(P){f(P),b()},function(P){m(P),b()},k),y=null}}if("onloadend"in y?y.onloadend=S:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(S)},y.onabort=function(){y&&(m(s("Request aborted",h,"ECONNABORTED",y)),y=null)},y.onerror=function(){m(s("Network Error",h,null,y)),y=null},y.ontimeout=function(){var D=h.timeout?"timeout of "+h.timeout+"ms exceeded":"timeout exceeded",k=h.transitional||l;h.timeoutErrorMessage&&(D=h.timeoutErrorMessage),m(s(D,h,k.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",y)),y=null},e.isStandardBrowserEnv()){var T=(h.withCredentials||a(C))&&h.xsrfCookieName?r.read(h.xsrfCookieName):void 0;T&&(g[h.xsrfHeaderName]=T)}"setRequestHeader"in y&&e.forEach(g,function(D,k){typeof _>"u"&&k.toLowerCase()==="content-type"?delete g[k]:y.setRequestHeader(k,D)}),e.isUndefined(h.withCredentials)||(y.withCredentials=!!h.withCredentials),p&&p!=="json"&&(y.responseType=h.responseType),typeof h.onDownloadProgress=="function"&&y.addEventListener("progress",h.onDownloadProgress),typeof h.onUploadProgress=="function"&&y.upload&&y.upload.addEventListener("progress",h.onUploadProgress),(h.cancelToken||h.signal)&&(d=function(M){y&&(m(!M||M&&M.type?new u("canceled"):M),y.abort(),y=null)},h.cancelToken&&h.cancelToken.subscribe(d),h.signal&&(h.signal.aborted?d():h.signal.addEventListener("abort",d))),_||(_=null),y.send(_)})},Jm}var hi=Ji,Bx=ZI,iN=sk,aN=lk,oN={"Content-Type":"application/x-www-form-urlencoded"};function jx(e,t){!hi.isUndefined(e)&&hi.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function sN(){var e;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(e=Hx()),e}function lN(e,t,r){if(hi.isString(e))try{return(t||JSON.parse)(e),hi.trim(e)}catch(i){if(i.name!=="SyntaxError")throw i}return(r||JSON.stringify)(e)}var ov={transitional:aN,adapter:sN(),transformRequest:[function(t,r){return Bx(r,"Accept"),Bx(r,"Content-Type"),hi.isFormData(t)||hi.isArrayBuffer(t)||hi.isBuffer(t)||hi.isStream(t)||hi.isFile(t)||hi.isBlob(t)?t:hi.isArrayBufferView(t)?t.buffer:hi.isURLSearchParams(t)?(jx(r,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):hi.isObject(t)||r&&r["Content-Type"]==="application/json"?(jx(r,"application/json"),lN(t)):t}],transformResponse:[function(t){var r=this.transitional||ov.transitional,i=r&&r.silentJSONParsing,o=r&&r.forcedJSONParsing,n=!i&&this.responseType==="json";if(n||o&&hi.isString(t)&&t.length)try{return JSON.parse(t)}catch(a){if(n)throw a.name==="SyntaxError"?iN(a,this,"E_JSON_PARSE"):a}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};hi.forEach(["delete","get","head"],function(t){ov.headers[t]={}});hi.forEach(["post","put","patch"],function(t){ov.headers[t]=hi.merge(oN)});var Z1=ov,uN=Ji,cN=Z1,fN=function(t,r,i){var o=this||cN;return uN.forEach(i,function(a){t=a.call(o,t,r)}),t},Qm,Ux;function ck(){return Ux||(Ux=1,Qm=function(t){return!!(t&&t.__CANCEL__)}),Qm}var Wx=Ji,qm=fN,dN=ck(),hN=Z1,pN=av();function e0(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new pN("canceled")}var vN=function(t){e0(t),t.headers=t.headers||{},t.data=qm.call(t,t.data,t.headers,t.transformRequest),t.headers=Wx.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),Wx.forEach(["delete","get","head","post","put","patch","common"],function(o){delete t.headers[o]});var r=t.adapter||hN.adapter;return r(t).then(function(o){return e0(t),o.data=qm.call(t,o.data,o.headers,t.transformResponse),o},function(o){return dN(o)||(e0(t),o&&o.response&&(o.response.data=qm.call(t,o.response.data,o.response.headers,t.transformResponse))),Promise.reject(o)})},Qi=Ji,fk=function(t,r){r=r||{};var i={};function o(c,h){return Qi.isPlainObject(c)&&Qi.isPlainObject(h)?Qi.merge(c,h):Qi.isPlainObject(h)?Qi.merge({},h):Qi.isArray(h)?h.slice():h}function n(c){if(Qi.isUndefined(r[c])){if(!Qi.isUndefined(t[c]))return o(void 0,t[c])}else return o(t[c],r[c])}function a(c){if(!Qi.isUndefined(r[c]))return o(void 0,r[c])}function s(c){if(Qi.isUndefined(r[c])){if(!Qi.isUndefined(t[c]))return o(void 0,t[c])}else return o(void 0,r[c])}function l(c){if(c in r)return o(t[c],r[c]);if(c in t)return o(void 0,t[c])}var u={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:l};return Qi.forEach(Object.keys(t).concat(Object.keys(r)),function(h){var v=u[h]||n,f=v(h);Qi.isUndefined(f)&&v!==l||(i[h]=f)}),i},t0,Vx;function dk(){return Vx||(Vx=1,t0={version:"0.26.1"}),t0}var mN=dk().version,J1={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){J1[e]=function(i){return typeof i===e||"a"+(t<1?"n ":" ")+e}});var Gx={};J1.transitional=function(t,r,i){function o(n,a){return"[Axios v"+mN+"] Transitional option '"+n+"'"+a+(i?". "+i:"")}return function(n,a,s){if(t===!1)throw new Error(o(a," has been removed"+(r?" in "+r:"")));return r&&!Gx[a]&&(Gx[a]=!0,console.warn(o(a," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(n,a,s):!0}};function gN(e,t,r){if(typeof e!="object")throw new TypeError("options must be an object");for(var i=Object.keys(e),o=i.length;o-- >0;){var n=i[o],a=t[n];if(a){var s=e[n],l=s===void 0||a(s,n,e);if(l!==!0)throw new TypeError("option "+n+" must be "+l);continue}if(r!==!0)throw Error("Unknown option "+n)}}var yN={assertOptions:gN,validators:J1},hk=Ji,_N=ok,Yx=KI,Kx=vN,sv=fk,pk=yN,xl=pk.validators;function _f(e){this.defaults=e,this.interceptors={request:new Yx,response:new Yx}}_f.prototype.request=function(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=sv(this.defaults,r),r.method?r.method=r.method.toLowerCase():this.defaults.method?r.method=this.defaults.method.toLowerCase():r.method="get";var i=r.transitional;i!==void 0&&pk.assertOptions(i,{silentJSONParsing:xl.transitional(xl.boolean),forcedJSONParsing:xl.transitional(xl.boolean),clarifyTimeoutError:xl.transitional(xl.boolean)},!1);var o=[],n=!0;this.interceptors.request.forEach(function(f){typeof f.runWhen=="function"&&f.runWhen(r)===!1||(n=n&&f.synchronous,o.unshift(f.fulfilled,f.rejected))});var a=[];this.interceptors.response.forEach(function(f){a.push(f.fulfilled,f.rejected)});var s;if(!n){var l=[Kx,void 0];for(Array.prototype.unshift.apply(l,o),l=l.concat(a),s=Promise.resolve(r);l.length;)s=s.then(l.shift(),l.shift());return s}for(var u=r;o.length;){var c=o.shift(),h=o.shift();try{u=c(u)}catch(v){h(v);break}}try{s=Kx(u)}catch(v){return Promise.reject(v)}for(;a.length;)s=s.then(a.shift(),a.shift());return s};_f.prototype.getUri=function(t){return t=sv(this.defaults,t),_N(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")};hk.forEach(["delete","get","head","options"],function(t){_f.prototype[t]=function(r,i){return this.request(sv(i||{},{method:t,url:r,data:(i||{}).data}))}});hk.forEach(["post","put","patch"],function(t){_f.prototype[t]=function(r,i,o){return this.request(sv(o||{},{method:t,url:r,data:i}))}});var bN=_f,r0,Xx;function wN(){if(Xx)return r0;Xx=1;var e=av();function t(r){if(typeof r!="function")throw new TypeError("executor must be a function.");var i;this.promise=new Promise(function(a){i=a});var o=this;this.promise.then(function(n){if(o._listeners){var a,s=o._listeners.length;for(a=0;a<s;a++)o._listeners[a](n);o._listeners=null}}),this.promise.then=function(n){var a,s=new Promise(function(l){o.subscribe(l),a=l}).then(n);return s.cancel=function(){o.unsubscribe(a)},s},r(function(a){o.reason||(o.reason=new e(a),i(o.reason))})}return t.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},t.prototype.subscribe=function(i){if(this.reason){i(this.reason);return}this._listeners?this._listeners.push(i):this._listeners=[i]},t.prototype.unsubscribe=function(i){if(this._listeners){var o=this._listeners.indexOf(i);o!==-1&&this._listeners.splice(o,1)}},t.source=function(){var i,o=new t(function(a){i=a});return{token:o,cancel:i}},r0=t,r0}var n0,Zx;function xN(){return Zx||(Zx=1,n0=function(t){return function(i){return t.apply(null,i)}}),n0}var i0,Jx;function SN(){if(Jx)return i0;Jx=1;var e=Ji;return i0=function(r){return e.isObject(r)&&r.isAxiosError===!0},i0}var Qx=Ji,CN=rk,Xd=bN,TN=fk,AN=Z1;function vk(e){var t=new Xd(e),r=CN(Xd.prototype.request,t);return Qx.extend(r,Xd.prototype,t),Qx.extend(r,t),r.create=function(o){return vk(TN(e,o))},r}var fo=vk(AN);fo.Axios=Xd;fo.Cancel=av();fo.CancelToken=wN();fo.isCancel=ck();fo.VERSION=dk().version;fo.all=function(t){return Promise.all(t)};fo.spread=xN();fo.isAxiosError=SN();Y1.exports=fo;Y1.exports.default=fo;var kN=Y1.exports,MN=kN;const Du=cl(MN);let ol=null,sl=null;const EN=e=>{ol=e},LN=e=>{sl=e},ni=e=>new Promise((t,r)=>{Du.get(ol+e,sl).then(i=>{t(i.data)}).catch(i=>{r(i)})}),Rr=(e,t)=>new Promise((r,i)=>{Du.post(ol+e,t,sl).then(o=>{r(o.data)}).catch(o=>{i(o)})}),lv=(e,t)=>new Promise((r,i)=>{Du.delete(ol+e,{...sl,data:t}).then(o=>{r(o.data)}).catch(o=>{i(o)})}),Q1=(e,t)=>new Promise((r,i)=>{Du.patch(ol+e,t,sl).then(o=>{r(o.data)}).catch(o=>{i(o)})}),mk=(e,t,r)=>r?Yr.dispatch(e(ol+t,r,sl)):Yr.dispatch(e(ol+t,sl)),yr={applications:{get_hash:"application/digest",load_all:"application/all/specs",add:"application/add",edit:"application/edit",remove:"application/remove",set:"application/set"},bitstream:{get_hash:"bitstream/digest",load_all:"bitstream/none",add:"bitstream",edit:"bitstream",delete:"bitstream"},peripherals:{get_hash:"registers/digest",load_all:"registers/all_peripheral/descriptions",bulk_write:"registers/bulk_write",direct_read:"registers/direct_read",add:"tab_creator/create_peripheral",edit:"tab_creator/edit_peripheral",delete:"tab_creator/remove_peripheral"},platform:{users:{add:"auth/user",delete:"auth/user",need_onboarding:"auth/onboarding",do_onboarding:"auth/onboarding",get_list:"auth/user"},db:{dump:"database/export",restore:"database/import"}},plot:{get_info:"plot/channels/specs",fetch_data:"plot/channels/data",set_capture:"plot/capture",get_capture:"plot/capture",set_channel_status:"plot/channels/status",set_widths:"plot/channels/widths",scaling_factors:"plot/channels/scaling_factors"},programs:{get_hash:"program/hash",load_all:"program/none",add:"program",edit:"program",delete:"program",compile:"program/compile",apply:"program/Apply"},scripts:{get_hash:"script/hash",load_all:"script/none",add:"script",edit:"script",delete:"script"}},DN=e=>({type:HA,payload:e}),a0=e=>({type:BA,payload:e}),PN=e=>({type:WA,payload:e}),tc=(e,t,r)=>({type:jA,register_id:t,parent:r,payload:e}),yd=(e,t,r,i)=>({type:UA,parent_reg:r,parent_periph:i,field_id:t,payload:e}),RN=(e,t)=>({type:VA,payload:{periph:e,reg:t}}),ON=(e,t,r)=>({type:GA,payload:{periph:e,reg:t,field:r}});class nf{constructor(t,r,i){xr(this,"edit_name",t=>{let r={peripheral:this.parent_peripheral,register:this.parent_register,field:"name",field_name:this.name,value:t,action:"edit_field"},i=this.name;return this.name=t,Yr.dispatch(yd(this,i,this.parent_register,this.parent_peripheral)),Rr(yr.peripherals.edit,r)});xr(this,"edit_description",t=>{let r={peripheral:this.parent_peripheral,register:this.parent_register,field:"description",field_name:this.name,value:t,action:"edit_field"};return this.description=t,Yr.dispatch(yd(this,this.name,this.parent_register,this.parent_peripheral)),Rr(yr.peripherals.edit,r)});xr(this,"edit_length",t=>{let r={peripheral:this.parent_peripheral,register:this.parent_register,field:"length",field_name:this.name,value:t,action:"edit_field"};return this.length=t,Yr.dispatch(yd(this,this.name,this.parent_register,this.parent_peripheral)),Rr(yr.peripherals.edit,r)});xr(this,"edit_offset",t=>{let r={peripheral:this.parent_peripheral,register:this.parent_register,field:"offset",field_name:this.name,value:t,action:"edit_field"};return this.offset=t,Yr.dispatch(yd(this,this.name,this.parent_register,this.parent_peripheral)),Rr(yr.peripherals.edit,r)});xr(this,"_get_field",()=>({name:this.name,description:this.description,length:this.length,offset:this.offset}));this.name=t.name,this.parent_register=r,this.parent_peripheral=i,this.description=t.description,this.length=t.length,this.offset=t.offset}static construct_empty(t,r,i){let o={name:t,description:"",length:1,offset:0};return new nf(o,r,i)}static remove_field(t,r,i){let o={peripheral:t,register:r,field_name:i,action:"remove_field"};return Rr(yr.peripherals.edit,o).then(()=>{Yr.dispatch(ON(t,r,i))})}}class vu{constructor(t,r){xr(this,"edit_description",t=>{let r={peripheral:this.parent_periph,register:this.register_name,field:"description",value:t,action:"edit_register"};return this.description=t,Yr.dispatch(tc(this,this.ID,this.parent_periph)),Rr(yr.peripherals.edit,r)});xr(this,"edit_name",t=>{let r={peripheral:this.parent_periph,register:this.register_name,field:"register_name",value:t,action:"edit_register"};return this.register_name=t,Yr.dispatch(tc(this,this.ID,this.parent_periph)),Rr(yr.peripherals.edit,r)});xr(this,"edit_direction",t=>{let r="";switch(t.name){case"direction_read":t.checked?this.direction.includes("W")?r="R/W":r="R":this.direction.includes("W")?r="W":r="";break;case"direction_write":t.checked?this.direction.includes("R")?r="R/W":r="W":this.direction.includes("R")?r="R":r="";break;default:return}let i={peripheral:this.parent_periph,register:this.register_name,field:"direction",value:r,action:"edit_register"};return this.direction=r,Yr.dispatch(tc(this,this.ID,this.parent_periph)),Rr(yr.peripherals.edit,i)});xr(this,"edit_offset",t=>{let r={peripheral:this.parent_periph,register:this.register_name,field:"offset",value:t,action:"edit_register"};return this.offset=t,Yr.dispatch(tc(this,this.ID,this.parent_periph)),Rr(yr.peripherals.edit,r)});xr(this,"edit_id",t=>{let r={peripheral:this.parent_periph,register:this.register_name,field:"ID",value:t,action:"edit_register"},i=this.ID;return this.ID=t,Yr.dispatch(tc(this,i,this.parent_periph)),Rr(yr.peripherals.edit,r)});xr(this,"set_fields",t=>{this.fields=t});xr(this,"add_field",t=>{this.fields.push(t)});xr(this,"get_fields_names",()=>{let t=[];for(const r of this.fields)t.push(r.name);return t});xr(this,"_get_register",()=>{let t=[];for(let r of this.fields)t.push(r._get_field());return{ID:this.ID,register_name:this.register_name,description:this.description,fields:t,direction:this.direction,offset:this.offset,value:this.value}});this.parent_periph=r,this.ID=t.ID,this.register_name=t.register_name,this.description=t.description,this.direction=t.direction,this.offset=t.offset,this.value=t.value,this.fields=[];for(const i of t.fields)this.fields.push(new nf(i,this.register_name,r))}static construct_empty(t,r){let i={ID:t.replace(/\s/g,"_").toLowerCase(),register_name:t,description:"",direction:"",offset:"0x0",value:0,fields:[]};return new vu(i,r)}static remove_register(t,r){let i={peripheral:t,register:r,action:"remove_register"};return Rr(yr.peripherals.edit,i).then(()=>{Yr.dispatch(RN(t,r))})}}class Qn{constructor(t){xr(this,"add_remote",()=>(Yr.dispatch(a0({payload:{[this.peripheral_name]:this}})),Rr(yr.peripherals.add,{payload:this._get_periph()})));xr(this,"add_register",t=>{let r=vu.construct_empty(t,this.peripheral_name);this.registers.push(r),Yr.dispatch(a0({payload:{[this.peripheral_name]:this}}));let i={peripheral:this.peripheral_name,action:"add_register",register:r._get_register()};return Rr(yr.peripherals.edit,i)});xr(this,"set_version",t=>{this.version=t;let r={peripheral:this.peripheral_name,action:"edit_version",version:parseFloat(t)};return Yr.dispatch(a0({payload:{[this.peripheral_name]:this}})),Rr(yr.peripherals.edit,r)});xr(this,"edit_name",t=>{alert("NOT IMPLEMENTED YET")});xr(this,"get_proxied_registers",t=>{let r={};for(const i of this.registers)r[i.ID]=BN(i,t);return r});xr(this,"_get_periph",()=>{let t=[];for(let r of this.registers)t.push(r._get_register());return{[this.peripheral_name]:{peripheral_name:this.peripheral_name,version:this.version,registers:t}}});if(!t)return null;this.peripheral_name=t.peripheral_name,this.version=t.version,this.registers=[];for(const r of t.registers)this.registers.push(new vu(r,t.peripheral_name))}static construct_empty(t){let r={peripheral_name:t,version:.1,registers:[]};return new Qn(r)}static delete_periperal(t){return ni(yr.peripherals.delete+"/"+t).then(()=>{Yr.dispatch(PN(t))})}static bulk_register_write(t){return Rr(yr.peripherals.bulk_write,t)}static direct_register_write(t){let r=[];for(const o of t)r.push({type:"direct",proxy_type:"",proxy_address:0,address:o[0],value:o[1]});let i={payload:r};return Qn.bulk_register_write(i)}static direct_register_read(t){return ni(yr.peripherals.direct_read+"/"+t)}}const IN=(e,t,r)=>{let i={};for(let n in e){let a={};for(let s in e[n])a[s]=e[n][s];i[n]=a}let o={};return t.map(n=>(r!==n.parameter_id&&(o[n.parameter_id]=n.value),null)),{registers:i,parameters:o}},NN=function(e){let r=/function (\S*) *\(([^()]*)\)[ \n\t]*{(.*)}/gmi.exec(e.replace(/(\r\n|\n|\r)/gm,""));return r?new Function(r[2].split(","),r[3]):null},FN=(e,t)=>{const r=e.getState(),i=r.applications[r.settings.application].peripherals,o=r.peripherals;let n=[];for(let a in t){let[s,l]=a.split("."),u=i.filter(m=>m.peripheral_id===s);if(u.length===0)throw new RangeError("The peripheral "+s+" does not exist in this application");let c=u[0],h=o[c.spec_id].registers.filter(m=>m.ID===l);if(h.length===0)throw new RangeError("The register "+l+" not found in peripheral "+s+" of spec "+c.spec_id);let v=h[0].offset,f=parseInt(c.base_address)+parseInt(v);c.proxied?n.push({type:"proxied",proxy_type:c.proxy_type,proxy_address:parseInt(c.proxy_address),address:f,value:t[a]}):n.push({type:"direct",proxy_type:"",proxy_address:0,address:f,value:t[a]})}return n},Zd=(e,t)=>{let r=[];for(let n of e){let a=t[n.periph_id].periph_obj,s=parseInt(a.base_address),l=parseInt(t[n.periph_id].spec_obj.registers.filter(h=>h.ID===n.reg_id)[0].offset),u=s+l,c=null;if(n.access_type==="full_reg")c=t[n.periph_id].regs[n.reg_id].value,delete t[n.periph_id].regs[n.reg_id].value;else if(n.access_type==="field")c=[],c={value:t[n.periph_id].regs[n.reg_id][n.field_name],specs:n.field_spec};else throw new Error("Unrecognised register access type");a.proxied?r.push({type:"proxied",access_type:n.access_type,proxy_type:a.proxy_type,proxy_address:parseInt(a.proxy_address),address:u,value:c}):r.push({type:"direct",access_type:n.access_type,proxy_type:"",proxy_address:0,address:u,value:c})}let i={};for(const n of r)if(n.access_type==="field")if(n.address in i){let a=((1<<n.value.specs.length)-1<<n.value.specs.offset&n.value.value<<n.value.specs.offset)>>>0;a=i[n.address]|a,i[n.address]=a}else i[n.address]=((1<<n.value.specs.length)-1<<n.value.specs.offset&n.value.value<<n.value.specs.offset)>>>0;let o={};for(let n=r.length-1;n>=0;n--)r[n].address in i?r[n].address in o?r.splice(n,1):(r[n]={type:"direct",proxy_type:"",proxy_address:0,address:r[n].address,value:i[r[n].address]},o[r[n].address]=!0):delete r[n].access_type;return r};let Ug=null;const $N=e=>{Ug=e},zN={set(e,t,r){let i=null;if(t==="value")i="full_reg";else if(t in e)i="field";else return!1;return e[t]=r,Ug&&Ug(e.peripheral_id,e.peripheral_spec_id,e.register_id,e.field_specs[t],t,i),!0}};class HN{constructor(t,r){this.register_id=t.ID,this.peripheral_spec_id=t.parent_periph,this.peripheral_id=r,this.field_specs={};for(let i of t.fields)this[i.name]=0,this.field_specs[i.name]={length:i.length,offset:i.offset}}}const BN=(e,t)=>{let r=new HN(e,t);return new Proxy(r,zN)};let lo={},Fa=[];const jN=(e,t)=>{let r=e.peripherals;$N(UN);for(const i of r){let o=new Qn(t[i.spec_id]);lo[i.peripheral_id]={regs:o.get_proxied_registers(i.peripheral_id),periph_obj:i,spec_obj:o._get_periph()[o.peripheral_name]}}},gk=(e,t,r,i)=>{const o=e.getState(),n=o.scripts,a=o.registerValues;let l=Object.values(n).filter(g=>g.triggers.includes(t))[0].script_content,u=IN(a,r,i);u.workspace=o.scriptsWorkspace;let c=null;i!==""&&r.map(g=>(g.parameter_id===i&&(c=g.value),!1));let h=NN(l);if(!h)return{};Fa=[];let v=WN(lo),{workspace:f,registers:m}=h.call(v,c,u),_=[];if(m!==null){let g=FN(e,m);_.push(...g)}return Fa.length!==0&&_.push(...Zd(Fa,lo)),f!==null&&e.dispatch(AI(f)),_},qx=(e,t)=>{const r=e.getState(),i=r.settings;let o=r.applications[r.settings.application].parameters,n=parseFloat(t.value),a=o.findIndex(s=>s.parameter_id===t.name);if(t.value!==""&&o[a].value!==n){o[a].value=n;let s=gk(e,o[a].trigger,o,t.name);return e.dispatch(EI({name:t.name,value:n,app:i.application})),s!==null&&s.length!==0?Qn.bulk_register_write({payload:s}).then():new Promise((l,u)=>{l()})}else return new Promise((s,l)=>{s()})},UN=(e,t,r,i,o,n)=>{Fa.push({periph_id:e,spec_id:t,reg_id:r,access_type:n,field_spec:i,field_name:o})},WN=e=>{let t={};for(const r in e)t[r]=e[r].regs;return t},VN=(e,t)=>{if(e.from===e.to&&!t)return null;if(e.text.includes("this.")){let r=e.text.split(".");if(r.length===2)return Object.keys(lo).filter(o=>o.startsWith(r[1])).map(o=>({label:o,type:"keyword"}));if(r.length===3){let i=lo[r[1]].regs;return Object.keys(i).filter(n=>n.startsWith(r[2])).map(n=>({label:n,type:"keyword"}))}else if(r.length===4){let i=lo[r[1]].regs,o=Object.keys(i[r[2]]);o=o.filter(a=>!["field_specs","peripheral_id","peripheral_spec_id","register_id"].includes(a));let n=o.map(a=>({label:a,type:"keyword"}));return n.push({label:"value",type:"keyword"}),n}return null}else if("this".startsWith(e.text))return[{label:"this",type:"keyword"}]};class Zl{constructor(t){xr(this,"add_remote",()=>(Yr.dispatch(Mx(this)),Rr(yr.scripts.add+"/"+this.id,this._get_script())));xr(this,"edit_field",(t,r)=>{this[t]=r,Yr.dispatch(Mx(this));let i={script:this.id,field:t,value:r};return Q1(yr.scripts.edit+"/"+this.id,i)});xr(this,"_get_script",()=>({id:this.id,path:this.path,name:this.name,script_content:this.script_content,triggers:this.triggers}));t&&(this.id=t.id,this.name=t.name,this.path=t.path,this.script_content=t.script_content,this.triggers=t.triggers)}static construct_empty(t){let r={id:t,name:"new script_"+t,path:`new script_${t}.js`,script_content:"",triggers:""};return new Zl(r)}static delete_script(t){return lv(yr.scripts.delete+"/"+t.id,t).then(()=>{Yr.dispatch(kI(t))})}}const e3=e=>({type:ZA,payload:e}),GN=e=>({type:JA,payload:e}),YN=e=>({type:QA,payload:e});class Qo{constructor(t){xr(this,"add_remote",()=>(Yr.dispatch(e3(this)),Rr(yr.programs.add+"/"+this.id,this._get_program())));xr(this,"set_content",t=>this.edit_field("program_content",t));xr(this,"edit_field",(t,r)=>{this[t]=r,Yr.dispatch(e3(this));let i={program:this.id,field:t,value:r};return Q1(yr.programs.edit+"/"+this.id,i)});xr(this,"compile",()=>ni(yr.programs.compile+"/"+this.id));xr(this,"load",(t,r)=>{let i=this._get_program();return i.core_id=t,i.application=r,Rr(yr.programs.apply+"/"+this.id,i).then(o=>({response:""})).catch(o=>(alert("ERROR: error while loading a program on the core"+o.message),o))});xr(this,"_get_program",()=>({id:this.id,name:this.name,program_content:this.program_content,program_type:this.program_type,build_settings:this.build_settings}));t!==void 0&&(this.id=t.id,this.name=t.name,this.program_content=t.program_content,this.program_type=t.program_type,this.build_settings=t.build_settings)}static construct_empty(t){let r={id:t,name:"new program_"+t,program_content:"",program_type:"",build_settings:{io:[]}};return new Qo(r)}static delete_program(t){return lv(yr.programs.delete+"/"+t.id,t).then(()=>{Yr.dispatch(GN(t))})}}const t3=e=>({type:qA,payload:e}),KN=e=>({type:ek,payload:e}),XN=e=>({type:tk,payload:e});class Ks{constructor(t){xr(this,"add_remote",()=>(Yr.dispatch(t3(this)),Rr(yr.bitstream.add+"/"+this.id,this._get_bitstream())));xr(this,"edit_field",(t,r)=>{t!=="content"&&(this[t]=r),Yr.dispatch(t3(this));let i={id:this.id,field:{name:t,value:r}};return Q1(yr.bitstream.edit+"/"+this.id,i)});xr(this,"_get_bitstream",()=>({id:this.id,name:this.name,content:this.content}));t&&(this.id=t.id,this.name=t.name,this.content=t.content)}static construct_empty(t){let r={id:t,name:"new_bitstream_"+t,content:null};return new Ks(r)}static delete_bitstream(t){return lv(yr.bitstream.delete+"/"+t.id,t).then(()=>{Yr.dispatch(KN(t))})}static get_file_content(t){return new Promise((r,i)=>{let o=t.target.files[0];if(o){let n=new FileReader;n.onload=function(a){let s={content:n.result.split(",")[1],name:o.name};r(s)},n.readAsDataURL(o)}})}}let ZN=()=>ni(yr.applications.load_all).then(e=>{let t={};for(let r in e){let i=new Ri(e[r]);t[i.application_name]=i}return Yr.dispatch(LI(t)),t}),JN=()=>ni(yr.peripherals.load_all).then(e=>{let t={};for(let r in e){let i=new Qn(e[r]);t[i.peripheral_name]=i}return Yr.dispatch(DN(t)),t}),QN=()=>ni(yr.scripts.load_all).then(e=>{let t={};for(let r in e)t[r]=new Zl(e[r]);return Yr.dispatch(MI(t)),t}),qN=()=>ni(yr.programs.load_all).then(e=>{let t={};for(let r in e)t[r]=new Qo(e[r]);return Yr.dispatch(YN(t)),t}),eF=()=>ni(yr.bitstream.load_all).then(e=>{let t={};for(let r in e)t[r]=new Ks(e[r]);return Yr.dispatch(XN(t)),t});const tF=()=>{let e=Yr.getState(),t=[];return t.push(rc("application_cache",e.applications,ZN,()=>ni(yr.applications.get_hash))),t.push(rc("peripheral_cache",e.peripherals,JN,()=>ni(yr.peripherals.get_hash))),t.push(rc("scripts_cache",e.scripts,QN,()=>ni(yr.scripts.get_hash))),t.push(rc("programs_cache",e.programs,qN,()=>ni(yr.programs.get_hash))),t.push(rc("bitstreams_cache",e.bitstreams,eF,()=>ni(yr.bitstream.get_hash))),Promise.all(t)};let rc=(e,t,r,i)=>new Promise((o,n)=>{let a=localStorage.getItem(e);t===void 0||a===null?r().then(s=>{i().then(l=>{localStorage.setItem(e,l),o({data:s,hash:l,status:"hard_load"})})}):i().then(s=>{a!==s?r().then(l=>{localStorage.setItem(e,s),o({data:l,hash:s,status:"refresh"})}):o({data:null,hash:s,status:"valid"})})});var yk={exports:{}};(function(e,t){(function(r,i){e.exports=i()})(self,function(){return(()=>{var r={4567:function(o,n,a){var s,l=this&&this.__extends||(s=function(p,d){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,y){b.__proto__=y}||function(b,y){for(var x in y)Object.prototype.hasOwnProperty.call(y,x)&&(b[x]=y[x])},s(p,d)},function(p,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");function b(){this.constructor=p}s(p,d),p.prototype=d===null?Object.create(d):(b.prototype=d.prototype,new b)});Object.defineProperty(n,"__esModule",{value:!0}),n.AccessibilityManager=void 0;var u=a(9042),c=a(6114),h=a(9924),v=a(3656),f=a(844),m=a(5596),_=a(9631),g=function(p){function d(b,y){var x=p.call(this)||this;x._terminal=b,x._renderService=y,x._liveRegionLineCount=0,x._charsToConsume=[],x._charsToAnnounce="",x._accessibilityTreeRoot=document.createElement("div"),x._accessibilityTreeRoot.classList.add("xterm-accessibility"),x._accessibilityTreeRoot.tabIndex=0,x._rowContainer=document.createElement("div"),x._rowContainer.setAttribute("role","list"),x._rowContainer.classList.add("xterm-accessibility-tree"),x._rowElements=[];for(var w=0;w<x._terminal.rows;w++)x._rowElements[w]=x._createAccessibilityTreeNode(),x._rowContainer.appendChild(x._rowElements[w]);if(x._topBoundaryFocusListener=function(C){return x._onBoundaryFocus(C,0)},x._bottomBoundaryFocusListener=function(C){return x._onBoundaryFocus(C,1)},x._rowElements[0].addEventListener("focus",x._topBoundaryFocusListener),x._rowElements[x._rowElements.length-1].addEventListener("focus",x._bottomBoundaryFocusListener),x._refreshRowsDimensions(),x._accessibilityTreeRoot.appendChild(x._rowContainer),x._renderRowsDebouncer=new h.TimeBasedDebouncer(x._renderRows.bind(x)),x._refreshRows(),x._liveRegion=document.createElement("div"),x._liveRegion.classList.add("live-region"),x._liveRegion.setAttribute("aria-live","assertive"),x._accessibilityTreeRoot.appendChild(x._liveRegion),!x._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");return x._terminal.element.insertAdjacentElement("afterbegin",x._accessibilityTreeRoot),x.register(x._renderRowsDebouncer),x.register(x._terminal.onResize(function(C){return x._onResize(C.rows)})),x.register(x._terminal.onRender(function(C){return x._refreshRows(C.start,C.end)})),x.register(x._terminal.onScroll(function(){return x._refreshRows()})),x.register(x._terminal.onA11yChar(function(C){return x._onChar(C)})),x.register(x._terminal.onLineFeed(function(){return x._onChar(`
`)})),x.register(x._terminal.onA11yTab(function(C){return x._onTab(C)})),x.register(x._terminal.onKey(function(C){return x._onKey(C.key)})),x.register(x._terminal.onBlur(function(){return x._clearLiveRegion()})),x.register(x._renderService.onDimensionsChange(function(){return x._refreshRowsDimensions()})),x._screenDprMonitor=new m.ScreenDprMonitor,x.register(x._screenDprMonitor),x._screenDprMonitor.setListener(function(){return x._refreshRowsDimensions()}),x.register((0,v.addDisposableDomListener)(window,"resize",function(){return x._refreshRowsDimensions()})),x}return l(d,p),d.prototype.dispose=function(){p.prototype.dispose.call(this),(0,_.removeElementFromParent)(this._accessibilityTreeRoot),this._rowElements.length=0},d.prototype._onBoundaryFocus=function(b,y){var x=b.target,w=this._rowElements[y===0?1:this._rowElements.length-2];if(x.getAttribute("aria-posinset")!==(y===0?"1":""+this._terminal.buffer.lines.length)&&b.relatedTarget===w){var C,S;if(y===0?(C=x,S=this._rowElements.pop(),this._rowContainer.removeChild(S)):(C=this._rowElements.shift(),S=x,this._rowContainer.removeChild(C)),C.removeEventListener("focus",this._topBoundaryFocusListener),S.removeEventListener("focus",this._bottomBoundaryFocusListener),y===0){var T=this._createAccessibilityTreeNode();this._rowElements.unshift(T),this._rowContainer.insertAdjacentElement("afterbegin",T)}else T=this._createAccessibilityTreeNode(),this._rowElements.push(T),this._rowContainer.appendChild(T);this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(y===0?-1:1),this._rowElements[y===0?1:this._rowElements.length-2].focus(),b.preventDefault(),b.stopImmediatePropagation()}},d.prototype._onResize=function(b){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(var y=this._rowContainer.children.length;y<this._terminal.rows;y++)this._rowElements[y]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[y]);for(;this._rowElements.length>b;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()},d.prototype._createAccessibilityTreeNode=function(){var b=document.createElement("div");return b.setAttribute("role","listitem"),b.tabIndex=-1,this._refreshRowDimensions(b),b},d.prototype._onTab=function(b){for(var y=0;y<b;y++)this._onChar(" ")},d.prototype._onChar=function(b){var y=this;this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==b&&(this._charsToAnnounce+=b):this._charsToAnnounce+=b,b===`
`&&(this._liveRegionLineCount++,this._liveRegionLineCount===21&&(this._liveRegion.textContent+=u.tooMuchOutput)),c.isMac&&this._liveRegion.textContent&&this._liveRegion.textContent.length>0&&!this._liveRegion.parentNode&&setTimeout(function(){y._accessibilityTreeRoot.appendChild(y._liveRegion)},0))},d.prototype._clearLiveRegion=function(){this._liveRegion.textContent="",this._liveRegionLineCount=0,c.isMac&&(0,_.removeElementFromParent)(this._liveRegion)},d.prototype._onKey=function(b){this._clearLiveRegion(),this._charsToConsume.push(b)},d.prototype._refreshRows=function(b,y){this._renderRowsDebouncer.refresh(b,y,this._terminal.rows)},d.prototype._renderRows=function(b,y){for(var x=this._terminal.buffer,w=x.lines.length.toString(),C=b;C<=y;C++){var S=x.translateBufferLineToString(x.ydisp+C,!0),T=(x.ydisp+C+1).toString(),M=this._rowElements[C];M&&(S.length===0?M.innerText=" ":M.textContent=S,M.setAttribute("aria-posinset",T),M.setAttribute("aria-setsize",w))}this._announceCharacters()},d.prototype._refreshRowsDimensions=function(){if(this._renderService.dimensions.actualCellHeight){this._rowElements.length!==this._terminal.rows&&this._onResize(this._terminal.rows);for(var b=0;b<this._terminal.rows;b++)this._refreshRowDimensions(this._rowElements[b])}},d.prototype._refreshRowDimensions=function(b){b.style.height=this._renderService.dimensions.actualCellHeight+"px"},d.prototype._announceCharacters=function(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")},d}(f.Disposable);n.AccessibilityManager=g},3614:(o,n)=>{function a(c){return c.replace(/\r?\n/g,"\r")}function s(c,h){return h?"\x1B[200~"+c+"\x1B[201~":c}function l(c,h,v){c=s(c=a(c),v.decPrivateModes.bracketedPasteMode),v.triggerDataEvent(c,!0),h.value=""}function u(c,h,v){var f=v.getBoundingClientRect(),m=c.clientX-f.left-10,_=c.clientY-f.top-10;h.style.width="20px",h.style.height="20px",h.style.left=m+"px",h.style.top=_+"px",h.style.zIndex="1000",h.focus()}Object.defineProperty(n,"__esModule",{value:!0}),n.rightClickHandler=n.moveTextAreaUnderMouseCursor=n.paste=n.handlePasteEvent=n.copyHandler=n.bracketTextForPaste=n.prepareTextForTerminal=void 0,n.prepareTextForTerminal=a,n.bracketTextForPaste=s,n.copyHandler=function(c,h){c.clipboardData&&c.clipboardData.setData("text/plain",h.selectionText),c.preventDefault()},n.handlePasteEvent=function(c,h,v){c.stopPropagation(),c.clipboardData&&l(c.clipboardData.getData("text/plain"),h,v)},n.paste=l,n.moveTextAreaUnderMouseCursor=u,n.rightClickHandler=function(c,h,v,f,m){u(c,h,v),m&&f.rightClickSelect(c),h.value=f.selectionText,h.select()}},7239:(o,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.ColorContrastCache=void 0;var a=function(){function s(){this._color={},this._rgba={}}return s.prototype.clear=function(){this._color={},this._rgba={}},s.prototype.setCss=function(l,u,c){this._rgba[l]||(this._rgba[l]={}),this._rgba[l][u]=c},s.prototype.getCss=function(l,u){return this._rgba[l]?this._rgba[l][u]:void 0},s.prototype.setColor=function(l,u,c){this._color[l]||(this._color[l]={}),this._color[l][u]=c},s.prototype.getColor=function(l,u){return this._color[l]?this._color[l][u]:void 0},s}();n.ColorContrastCache=a},5680:function(o,n,a){var s=this&&this.__read||function(g,p){var d=typeof Symbol=="function"&&g[Symbol.iterator];if(!d)return g;var b,y,x=d.call(g),w=[];try{for(;(p===void 0||p-- >0)&&!(b=x.next()).done;)w.push(b.value)}catch(C){y={error:C}}finally{try{b&&!b.done&&(d=x.return)&&d.call(x)}finally{if(y)throw y.error}}return w};Object.defineProperty(n,"__esModule",{value:!0}),n.ColorManager=n.DEFAULT_ANSI_COLORS=void 0;var l=a(8055),u=a(7239),c=l.css.toColor("#ffffff"),h=l.css.toColor("#000000"),v=l.css.toColor("#ffffff"),f=l.css.toColor("#000000"),m={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};n.DEFAULT_ANSI_COLORS=Object.freeze(function(){for(var g=[l.css.toColor("#2e3436"),l.css.toColor("#cc0000"),l.css.toColor("#4e9a06"),l.css.toColor("#c4a000"),l.css.toColor("#3465a4"),l.css.toColor("#75507b"),l.css.toColor("#06989a"),l.css.toColor("#d3d7cf"),l.css.toColor("#555753"),l.css.toColor("#ef2929"),l.css.toColor("#8ae234"),l.css.toColor("#fce94f"),l.css.toColor("#729fcf"),l.css.toColor("#ad7fa8"),l.css.toColor("#34e2e2"),l.css.toColor("#eeeeec")],p=[0,95,135,175,215,255],d=0;d<216;d++){var b=p[d/36%6|0],y=p[d/6%6|0],x=p[d%6];g.push({css:l.channels.toCss(b,y,x),rgba:l.channels.toRgba(b,y,x)})}for(d=0;d<24;d++){var w=8+10*d;g.push({css:l.channels.toCss(w,w,w),rgba:l.channels.toRgba(w,w,w)})}return g}());var _=function(){function g(p,d){this.allowTransparency=d;var b=p.createElement("canvas");b.width=1,b.height=1;var y=b.getContext("2d");if(!y)throw new Error("Could not get rendering context");this._ctx=y,this._ctx.globalCompositeOperation="copy",this._litmusColor=this._ctx.createLinearGradient(0,0,1,1),this._contrastCache=new u.ColorContrastCache,this.colors={foreground:c,background:h,cursor:v,cursorAccent:f,selectionTransparent:m,selectionOpaque:l.color.blend(h,m),selectionForeground:void 0,ansi:n.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache},this._updateRestoreColors()}return g.prototype.onOptionsChange=function(p){p==="minimumContrastRatio"&&this._contrastCache.clear()},g.prototype.setTheme=function(p){p===void 0&&(p={}),this.colors.foreground=this._parseColor(p.foreground,c),this.colors.background=this._parseColor(p.background,h),this.colors.cursor=this._parseColor(p.cursor,v,!0),this.colors.cursorAccent=this._parseColor(p.cursorAccent,f,!0),this.colors.selectionTransparent=this._parseColor(p.selection,m,!0),this.colors.selectionOpaque=l.color.blend(this.colors.background,this.colors.selectionTransparent);var d={css:"",rgba:0};this.colors.selectionForeground=p.selectionForeground?this._parseColor(p.selectionForeground,d):void 0,this.colors.selectionForeground===d&&(this.colors.selectionForeground=void 0),l.color.isOpaque(this.colors.selectionTransparent)&&(this.colors.selectionTransparent=l.color.opacity(this.colors.selectionTransparent,.3)),this.colors.ansi[0]=this._parseColor(p.black,n.DEFAULT_ANSI_COLORS[0]),this.colors.ansi[1]=this._parseColor(p.red,n.DEFAULT_ANSI_COLORS[1]),this.colors.ansi[2]=this._parseColor(p.green,n.DEFAULT_ANSI_COLORS[2]),this.colors.ansi[3]=this._parseColor(p.yellow,n.DEFAULT_ANSI_COLORS[3]),this.colors.ansi[4]=this._parseColor(p.blue,n.DEFAULT_ANSI_COLORS[4]),this.colors.ansi[5]=this._parseColor(p.magenta,n.DEFAULT_ANSI_COLORS[5]),this.colors.ansi[6]=this._parseColor(p.cyan,n.DEFAULT_ANSI_COLORS[6]),this.colors.ansi[7]=this._parseColor(p.white,n.DEFAULT_ANSI_COLORS[7]),this.colors.ansi[8]=this._parseColor(p.brightBlack,n.DEFAULT_ANSI_COLORS[8]),this.colors.ansi[9]=this._parseColor(p.brightRed,n.DEFAULT_ANSI_COLORS[9]),this.colors.ansi[10]=this._parseColor(p.brightGreen,n.DEFAULT_ANSI_COLORS[10]),this.colors.ansi[11]=this._parseColor(p.brightYellow,n.DEFAULT_ANSI_COLORS[11]),this.colors.ansi[12]=this._parseColor(p.brightBlue,n.DEFAULT_ANSI_COLORS[12]),this.colors.ansi[13]=this._parseColor(p.brightMagenta,n.DEFAULT_ANSI_COLORS[13]),this.colors.ansi[14]=this._parseColor(p.brightCyan,n.DEFAULT_ANSI_COLORS[14]),this.colors.ansi[15]=this._parseColor(p.brightWhite,n.DEFAULT_ANSI_COLORS[15]),this._contrastCache.clear(),this._updateRestoreColors()},g.prototype.restoreColor=function(p){if(p!==void 0)switch(p){case 256:this.colors.foreground=this._restoreColors.foreground;break;case 257:this.colors.background=this._restoreColors.background;break;case 258:this.colors.cursor=this._restoreColors.cursor;break;default:this.colors.ansi[p]=this._restoreColors.ansi[p]}else for(var d=0;d<this._restoreColors.ansi.length;++d)this.colors.ansi[d]=this._restoreColors.ansi[d]},g.prototype._updateRestoreColors=function(){this._restoreColors={foreground:this.colors.foreground,background:this.colors.background,cursor:this.colors.cursor,ansi:this.colors.ansi.slice()}},g.prototype._parseColor=function(p,d,b){if(b===void 0&&(b=this.allowTransparency),p===void 0)return d;if(this._ctx.fillStyle=this._litmusColor,this._ctx.fillStyle=p,typeof this._ctx.fillStyle!="string")return console.warn("Color: "+p+" is invalid using fallback "+d.css),d;this._ctx.fillRect(0,0,1,1);var y=this._ctx.getImageData(0,0,1,1).data;if(y[3]!==255){if(!b)return console.warn("Color: "+p+" is using transparency, but allowTransparency is false. Using fallback "+d.css+"."),d;var x=s(this._ctx.fillStyle.substring(5,this._ctx.fillStyle.length-1).split(",").map(function(D){return Number(D)}),4),w=x[0],C=x[1],S=x[2],T=x[3],M=Math.round(255*T);return{rgba:l.channels.toRgba(w,C,S,M),css:p}}return{css:this._ctx.fillStyle,rgba:l.channels.toRgba(y[0],y[1],y[2],y[3])}},g}();n.ColorManager=_},9631:function(o,n){var a=this&&this.__values||function(s){var l=typeof Symbol=="function"&&Symbol.iterator,u=l&&s[l],c=0;if(u)return u.call(s);if(s&&typeof s.length=="number")return{next:function(){return s&&c>=s.length&&(s=void 0),{value:s&&s[c++],done:!s}}};throw new TypeError(l?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(n,"__esModule",{value:!0}),n.removeElementFromParent=void 0,n.removeElementFromParent=function(){for(var s,l,u,c=[],h=0;h<arguments.length;h++)c[h]=arguments[h];try{for(var v=a(c),f=v.next();!f.done;f=v.next()){var m=f.value;(u=m==null?void 0:m.parentElement)===null||u===void 0||u.removeChild(m)}}catch(_){s={error:_}}finally{try{f&&!f.done&&(l=v.return)&&l.call(v)}finally{if(s)throw s.error}}}},3656:(o,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.addDisposableDomListener=void 0,n.addDisposableDomListener=function(a,s,l,u){a.addEventListener(s,l,u);var c=!1;return{dispose:function(){c||(c=!0,a.removeEventListener(s,l,u))}}}},3551:function(o,n,a){var s=this&&this.__decorate||function(f,m,_,g){var p,d=arguments.length,b=d<3?m:g===null?g=Object.getOwnPropertyDescriptor(m,_):g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(f,m,_,g);else for(var y=f.length-1;y>=0;y--)(p=f[y])&&(b=(d<3?p(b):d>3?p(m,_,b):p(m,_))||b);return d>3&&b&&Object.defineProperty(m,_,b),b},l=this&&this.__param||function(f,m){return function(_,g){m(_,g,f)}};Object.defineProperty(n,"__esModule",{value:!0}),n.MouseZone=n.Linkifier=void 0;var u=a(8460),c=a(2585),h=function(){function f(m,_,g){this._bufferService=m,this._logService=_,this._unicodeService=g,this._linkMatchers=[],this._nextLinkMatcherId=0,this._onShowLinkUnderline=new u.EventEmitter,this._onHideLinkUnderline=new u.EventEmitter,this._onLinkTooltip=new u.EventEmitter,this._rowsToLinkify={start:void 0,end:void 0}}return Object.defineProperty(f.prototype,"onShowLinkUnderline",{get:function(){return this._onShowLinkUnderline.event},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"onHideLinkUnderline",{get:function(){return this._onHideLinkUnderline.event},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"onLinkTooltip",{get:function(){return this._onLinkTooltip.event},enumerable:!1,configurable:!0}),f.prototype.attachToDom=function(m,_){this._element=m,this._mouseZoneManager=_},f.prototype.linkifyRows=function(m,_){var g=this;this._mouseZoneManager&&(this._rowsToLinkify.start===void 0||this._rowsToLinkify.end===void 0?(this._rowsToLinkify.start=m,this._rowsToLinkify.end=_):(this._rowsToLinkify.start=Math.min(this._rowsToLinkify.start,m),this._rowsToLinkify.end=Math.max(this._rowsToLinkify.end,_)),this._mouseZoneManager.clearAll(m,_),this._rowsTimeoutId&&clearTimeout(this._rowsTimeoutId),this._rowsTimeoutId=setTimeout(function(){return g._linkifyRows()},f._timeBeforeLatency))},f.prototype._linkifyRows=function(){this._rowsTimeoutId=void 0;var m=this._bufferService.buffer;if(this._rowsToLinkify.start!==void 0&&this._rowsToLinkify.end!==void 0){var _=m.ydisp+this._rowsToLinkify.start;if(!(_>=m.lines.length)){for(var g=m.ydisp+Math.min(this._rowsToLinkify.end,this._bufferService.rows)+1,p=Math.ceil(2e3/this._bufferService.cols),d=this._bufferService.buffer.iterator(!1,_,g,p,p);d.hasNext();)for(var b=d.next(),y=0;y<this._linkMatchers.length;y++)this._doLinkifyRow(b.range.first,b.content,this._linkMatchers[y]);this._rowsToLinkify.start=void 0,this._rowsToLinkify.end=void 0}}else this._logService.debug("_rowToLinkify was unset before _linkifyRows was called")},f.prototype.registerLinkMatcher=function(m,_,g){if(g===void 0&&(g={}),!_)throw new Error("handler must be defined");var p={id:this._nextLinkMatcherId++,regex:m,handler:_,matchIndex:g.matchIndex,validationCallback:g.validationCallback,hoverTooltipCallback:g.tooltipCallback,hoverLeaveCallback:g.leaveCallback,willLinkActivate:g.willLinkActivate,priority:g.priority||0};return this._addLinkMatcherToList(p),p.id},f.prototype._addLinkMatcherToList=function(m){if(this._linkMatchers.length!==0){for(var _=this._linkMatchers.length-1;_>=0;_--)if(m.priority<=this._linkMatchers[_].priority)return void this._linkMatchers.splice(_+1,0,m);this._linkMatchers.splice(0,0,m)}else this._linkMatchers.push(m)},f.prototype.deregisterLinkMatcher=function(m){for(var _=0;_<this._linkMatchers.length;_++)if(this._linkMatchers[_].id===m)return this._linkMatchers.splice(_,1),!0;return!1},f.prototype._doLinkifyRow=function(m,_,g){for(var p,d=this,b=new RegExp(g.regex.source,(g.regex.flags||"")+"g"),y=-1,x=function(){var C=p[typeof g.matchIndex!="number"?0:g.matchIndex];if(!C)return w._logService.debug("match found without corresponding matchIndex",p,g),"break";if(y=_.indexOf(C,y+1),b.lastIndex=y+C.length,y<0)return"break";var S=w._bufferService.buffer.stringIndexToBufferIndex(m,y);if(S[0]<0)return"break";var T=w._bufferService.buffer.lines.get(S[0]);if(!T)return"break";var M=T.getFg(S[1]),D=M?M>>9&511:void 0;g.validationCallback?g.validationCallback(C,function(k){d._rowsTimeoutId||k&&d._addLink(S[1],S[0]-d._bufferService.buffer.ydisp,C,g,D)}):w._addLink(S[1],S[0]-w._bufferService.buffer.ydisp,C,g,D)},w=this;(p=b.exec(_))!==null&&x()!=="break";);},f.prototype._addLink=function(m,_,g,p,d){var b=this;if(this._mouseZoneManager&&this._element){var y=this._unicodeService.getStringCellWidth(g),x=m%this._bufferService.cols,w=_+Math.floor(m/this._bufferService.cols),C=(x+y)%this._bufferService.cols,S=w+Math.floor((x+y)/this._bufferService.cols);C===0&&(C=this._bufferService.cols,S--),this._mouseZoneManager.add(new v(x+1,w+1,C+1,S+1,function(T){if(p.handler)return p.handler(T,g);var M=window.open();M?(M.opener=null,M.location.href=g):console.warn("Opening link blocked as opener could not be cleared")},function(){b._onShowLinkUnderline.fire(b._createLinkHoverEvent(x,w,C,S,d)),b._element.classList.add("xterm-cursor-pointer")},function(T){b._onLinkTooltip.fire(b._createLinkHoverEvent(x,w,C,S,d)),p.hoverTooltipCallback&&p.hoverTooltipCallback(T,g,{start:{x,y:w},end:{x:C,y:S}})},function(){b._onHideLinkUnderline.fire(b._createLinkHoverEvent(x,w,C,S,d)),b._element.classList.remove("xterm-cursor-pointer"),p.hoverLeaveCallback&&p.hoverLeaveCallback()},function(T){return!p.willLinkActivate||p.willLinkActivate(T,g)}))}},f.prototype._createLinkHoverEvent=function(m,_,g,p,d){return{x1:m,y1:_,x2:g,y2:p,cols:this._bufferService.cols,fg:d}},f._timeBeforeLatency=200,f=s([l(0,c.IBufferService),l(1,c.ILogService),l(2,c.IUnicodeService)],f)}();n.Linkifier=h;var v=function(f,m,_,g,p,d,b,y,x){this.x1=f,this.y1=m,this.x2=_,this.y2=g,this.clickCallback=p,this.hoverCallback=d,this.tooltipCallback=b,this.leaveCallback=y,this.willLinkActivate=x};n.MouseZone=v},6465:function(o,n,a){var s,l=this&&this.__extends||(s=function(d,b){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,x){y.__proto__=x}||function(y,x){for(var w in x)Object.prototype.hasOwnProperty.call(x,w)&&(y[w]=x[w])},s(d,b)},function(d,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function y(){this.constructor=d}s(d,b),d.prototype=b===null?Object.create(b):(y.prototype=b.prototype,new y)}),u=this&&this.__decorate||function(d,b,y,x){var w,C=arguments.length,S=C<3?b:x===null?x=Object.getOwnPropertyDescriptor(b,y):x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(d,b,y,x);else for(var T=d.length-1;T>=0;T--)(w=d[T])&&(S=(C<3?w(S):C>3?w(b,y,S):w(b,y))||S);return C>3&&S&&Object.defineProperty(b,y,S),S},c=this&&this.__param||function(d,b){return function(y,x){b(y,x,d)}},h=this&&this.__values||function(d){var b=typeof Symbol=="function"&&Symbol.iterator,y=b&&d[b],x=0;if(y)return y.call(d);if(d&&typeof d.length=="number")return{next:function(){return d&&x>=d.length&&(d=void 0),{value:d&&d[x++],done:!d}}};throw new TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},v=this&&this.__read||function(d,b){var y=typeof Symbol=="function"&&d[Symbol.iterator];if(!y)return d;var x,w,C=y.call(d),S=[];try{for(;(b===void 0||b-- >0)&&!(x=C.next()).done;)S.push(x.value)}catch(T){w={error:T}}finally{try{x&&!x.done&&(y=C.return)&&y.call(C)}finally{if(w)throw w.error}}return S};Object.defineProperty(n,"__esModule",{value:!0}),n.Linkifier2=void 0;var f=a(2585),m=a(8460),_=a(844),g=a(3656),p=function(d){function b(y){var x=d.call(this)||this;return x._bufferService=y,x._linkProviders=[],x._linkCacheDisposables=[],x._isMouseOut=!0,x._activeLine=-1,x._onShowLinkUnderline=x.register(new m.EventEmitter),x._onHideLinkUnderline=x.register(new m.EventEmitter),x.register((0,_.getDisposeArrayDisposable)(x._linkCacheDisposables)),x}return l(b,d),Object.defineProperty(b.prototype,"currentLink",{get:function(){return this._currentLink},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"onShowLinkUnderline",{get:function(){return this._onShowLinkUnderline.event},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"onHideLinkUnderline",{get:function(){return this._onHideLinkUnderline.event},enumerable:!1,configurable:!0}),b.prototype.registerLinkProvider=function(y){var x=this;return this._linkProviders.push(y),{dispose:function(){var w=x._linkProviders.indexOf(y);w!==-1&&x._linkProviders.splice(w,1)}}},b.prototype.attachToDom=function(y,x,w){var C=this;this._element=y,this._mouseService=x,this._renderService=w,this.register((0,g.addDisposableDomListener)(this._element,"mouseleave",function(){C._isMouseOut=!0,C._clearCurrentLink()})),this.register((0,g.addDisposableDomListener)(this._element,"mousemove",this._onMouseMove.bind(this))),this.register((0,g.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,g.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))},b.prototype._onMouseMove=function(y){if(this._lastMouseEvent=y,this._element&&this._mouseService){var x=this._positionFromMouseEvent(y,this._element,this._mouseService);if(x){this._isMouseOut=!1;for(var w=y.composedPath(),C=0;C<w.length;C++){var S=w[C];if(S.classList.contains("xterm"))break;if(S.classList.contains("xterm-hover"))return}this._lastBufferCell&&x.x===this._lastBufferCell.x&&x.y===this._lastBufferCell.y||(this._onHover(x),this._lastBufferCell=x)}}},b.prototype._onHover=function(y){if(this._activeLine!==y.y)return this._clearCurrentLink(),void this._askForLink(y,!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,y)||(this._clearCurrentLink(),this._askForLink(y,!0))},b.prototype._askForLink=function(y,x){var w,C,S,T,M=this;this._activeProviderReplies&&x||((S=this._activeProviderReplies)===null||S===void 0||S.forEach(function(I){I==null||I.forEach(function(U){U.link.dispose&&U.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=y.y);var D=!1,k=function(I,U){x?!((T=R._activeProviderReplies)===null||T===void 0)&&T.get(I)&&(D=R._checkLinkProviderResult(I,y,D)):U.provideLinks(y.y,function(V){var Z,z;if(!M._isMouseOut){var H=V==null?void 0:V.map(function(B){return{link:B}});(Z=M._activeProviderReplies)===null||Z===void 0||Z.set(I,H),D=M._checkLinkProviderResult(I,y,D),((z=M._activeProviderReplies)===null||z===void 0?void 0:z.size)===M._linkProviders.length&&M._removeIntersectingLinks(y.y,M._activeProviderReplies)}})},R=this;try{for(var P=h(this._linkProviders.entries()),E=P.next();!E.done;E=P.next()){var O=v(E.value,2);k(O[0],O[1])}}catch(I){w={error:I}}finally{try{E&&!E.done&&(C=P.return)&&C.call(P)}finally{if(w)throw w.error}}},b.prototype._removeIntersectingLinks=function(y,x){for(var w=new Set,C=0;C<x.size;C++){var S=x.get(C);if(S)for(var T=0;T<S.length;T++)for(var M=S[T],D=M.link.range.start.y<y?0:M.link.range.start.x,k=M.link.range.end.y>y?this._bufferService.cols:M.link.range.end.x,R=D;R<=k;R++){if(w.has(R)){S.splice(T--,1);break}w.add(R)}}},b.prototype._checkLinkProviderResult=function(y,x,w){var C,S=this;if(!this._activeProviderReplies)return w;for(var T=this._activeProviderReplies.get(y),M=!1,D=0;D<y;D++)this._activeProviderReplies.has(D)&&!this._activeProviderReplies.get(D)||(M=!0);if(!M&&T){var k=T.find(function(P){return S._linkAtPosition(P.link,x)});k&&(w=!0,this._handleNewLink(k))}if(this._activeProviderReplies.size===this._linkProviders.length&&!w)for(D=0;D<this._activeProviderReplies.size;D++){var R=(C=this._activeProviderReplies.get(D))===null||C===void 0?void 0:C.find(function(P){return S._linkAtPosition(P.link,x)});if(R){w=!0,this._handleNewLink(R);break}}return w},b.prototype._handleMouseDown=function(){this._mouseDownLink=this._currentLink},b.prototype._handleMouseUp=function(y){if(this._element&&this._mouseService&&this._currentLink){var x=this._positionFromMouseEvent(y,this._element,this._mouseService);x&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,x)&&this._currentLink.link.activate(y,this._currentLink.link.text)}},b.prototype._clearCurrentLink=function(y,x){this._element&&this._currentLink&&this._lastMouseEvent&&(!y||!x||this._currentLink.link.range.start.y>=y&&this._currentLink.link.range.end.y<=x)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,_.disposeArray)(this._linkCacheDisposables))},b.prototype._handleNewLink=function(y){var x=this;if(this._element&&this._lastMouseEvent&&this._mouseService){var w=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);w&&this._linkAtPosition(y.link,w)&&(this._currentLink=y,this._currentLink.state={decorations:{underline:y.link.decorations===void 0||y.link.decorations.underline,pointerCursor:y.link.decorations===void 0||y.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,y.link,this._lastMouseEvent),y.link.decorations={},Object.defineProperties(y.link.decorations,{pointerCursor:{get:function(){var C,S;return(S=(C=x._currentLink)===null||C===void 0?void 0:C.state)===null||S===void 0?void 0:S.decorations.pointerCursor},set:function(C){var S,T;!((S=x._currentLink)===null||S===void 0)&&S.state&&x._currentLink.state.decorations.pointerCursor!==C&&(x._currentLink.state.decorations.pointerCursor=C,x._currentLink.state.isHovered&&((T=x._element)===null||T===void 0||T.classList.toggle("xterm-cursor-pointer",C)))}},underline:{get:function(){var C,S;return(S=(C=x._currentLink)===null||C===void 0?void 0:C.state)===null||S===void 0?void 0:S.decorations.underline},set:function(C){var S,T,M;!((S=x._currentLink)===null||S===void 0)&&S.state&&((M=(T=x._currentLink)===null||T===void 0?void 0:T.state)===null||M===void 0?void 0:M.decorations.underline)!==C&&(x._currentLink.state.decorations.underline=C,x._currentLink.state.isHovered&&x._fireUnderlineEvent(y.link,C))}}}),this._renderService&&this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange(function(C){var S=C.start===0?0:C.start+1+x._bufferService.buffer.ydisp;x._clearCurrentLink(S,C.end+1+x._bufferService.buffer.ydisp)})))}},b.prototype._linkHover=function(y,x,w){var C;!((C=this._currentLink)===null||C===void 0)&&C.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(x,!0),this._currentLink.state.decorations.pointerCursor&&y.classList.add("xterm-cursor-pointer")),x.hover&&x.hover(w,x.text)},b.prototype._fireUnderlineEvent=function(y,x){var w=y.range,C=this._bufferService.buffer.ydisp,S=this._createLinkUnderlineEvent(w.start.x-1,w.start.y-C-1,w.end.x,w.end.y-C-1,void 0);(x?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(S)},b.prototype._linkLeave=function(y,x,w){var C;!((C=this._currentLink)===null||C===void 0)&&C.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(x,!1),this._currentLink.state.decorations.pointerCursor&&y.classList.remove("xterm-cursor-pointer")),x.leave&&x.leave(w,x.text)},b.prototype._linkAtPosition=function(y,x){var w=y.range.start.y===y.range.end.y,C=y.range.start.y<x.y,S=y.range.end.y>x.y;return(w&&y.range.start.x<=x.x&&y.range.end.x>=x.x||C&&y.range.end.x>=x.x||S&&y.range.start.x<=x.x||C&&S)&&y.range.start.y<=x.y&&y.range.end.y>=x.y},b.prototype._positionFromMouseEvent=function(y,x,w){var C=w.getCoords(y,x,this._bufferService.cols,this._bufferService.rows);if(C)return{x:C[0],y:C[1]+this._bufferService.buffer.ydisp}},b.prototype._createLinkUnderlineEvent=function(y,x,w,C,S){return{x1:y,y1:x,x2:w,y2:C,cols:this._bufferService.cols,fg:S}},u([c(0,f.IBufferService)],b)}(_.Disposable);n.Linkifier2=p},9042:(o,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.tooMuchOutput=n.promptLabel=void 0,n.promptLabel="Terminal input",n.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},6954:function(o,n,a){var s,l=this&&this.__extends||(s=function(g,p){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var y in b)Object.prototype.hasOwnProperty.call(b,y)&&(d[y]=b[y])},s(g,p)},function(g,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");function d(){this.constructor=g}s(g,p),g.prototype=p===null?Object.create(p):(d.prototype=p.prototype,new d)}),u=this&&this.__decorate||function(g,p,d,b){var y,x=arguments.length,w=x<3?p:b===null?b=Object.getOwnPropertyDescriptor(p,d):b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(g,p,d,b);else for(var C=g.length-1;C>=0;C--)(y=g[C])&&(w=(x<3?y(w):x>3?y(p,d,w):y(p,d))||w);return x>3&&w&&Object.defineProperty(p,d,w),w},c=this&&this.__param||function(g,p){return function(d,b){p(d,b,g)}};Object.defineProperty(n,"__esModule",{value:!0}),n.MouseZoneManager=void 0;var h=a(844),v=a(3656),f=a(4725),m=a(2585),_=function(g){function p(d,b,y,x,w,C){var S=g.call(this)||this;return S._element=d,S._screenElement=b,S._bufferService=y,S._mouseService=x,S._selectionService=w,S._optionsService=C,S._zones=[],S._areZonesActive=!1,S._lastHoverCoords=[void 0,void 0],S._initialSelectionLength=0,S.register((0,v.addDisposableDomListener)(S._element,"mousedown",function(T){return S._onMouseDown(T)})),S._mouseMoveListener=function(T){return S._onMouseMove(T)},S._mouseLeaveListener=function(T){return S._onMouseLeave(T)},S._clickListener=function(T){return S._onClick(T)},S}return l(p,g),p.prototype.dispose=function(){g.prototype.dispose.call(this),this._deactivate()},p.prototype.add=function(d){this._zones.push(d),this._zones.length===1&&this._activate()},p.prototype.clearAll=function(d,b){if(this._zones.length!==0){d&&b||(d=0,b=this._bufferService.rows-1);for(var y=0;y<this._zones.length;y++){var x=this._zones[y];(x.y1>d&&x.y1<=b+1||x.y2>d&&x.y2<=b+1||x.y1<d&&x.y2>b+1)&&(this._currentZone&&this._currentZone===x&&(this._currentZone.leaveCallback(),this._currentZone=void 0),this._zones.splice(y--,1))}this._zones.length===0&&this._deactivate()}},p.prototype._activate=function(){this._areZonesActive||(this._areZonesActive=!0,this._element.addEventListener("mousemove",this._mouseMoveListener),this._element.addEventListener("mouseleave",this._mouseLeaveListener),this._element.addEventListener("click",this._clickListener))},p.prototype._deactivate=function(){this._areZonesActive&&(this._areZonesActive=!1,this._element.removeEventListener("mousemove",this._mouseMoveListener),this._element.removeEventListener("mouseleave",this._mouseLeaveListener),this._element.removeEventListener("click",this._clickListener))},p.prototype._onMouseMove=function(d){this._lastHoverCoords[0]===d.pageX&&this._lastHoverCoords[1]===d.pageY||(this._onHover(d),this._lastHoverCoords=[d.pageX,d.pageY])},p.prototype._onHover=function(d){var b=this,y=this._findZoneEventAt(d);y!==this._currentZone&&(this._currentZone&&(this._currentZone.leaveCallback(),this._currentZone=void 0,this._tooltipTimeout&&clearTimeout(this._tooltipTimeout)),y&&(this._currentZone=y,y.hoverCallback&&y.hoverCallback(d),this._tooltipTimeout=window.setTimeout(function(){return b._onTooltip(d)},this._optionsService.rawOptions.linkTooltipHoverDuration)))},p.prototype._onTooltip=function(d){this._tooltipTimeout=void 0;var b=this._findZoneEventAt(d);b==null||b.tooltipCallback(d)},p.prototype._onMouseDown=function(d){if(this._initialSelectionLength=this._getSelectionLength(),this._areZonesActive){var b=this._findZoneEventAt(d);b!=null&&b.willLinkActivate(d)&&(d.preventDefault(),d.stopImmediatePropagation())}},p.prototype._onMouseLeave=function(d){this._currentZone&&(this._currentZone.leaveCallback(),this._currentZone=void 0,this._tooltipTimeout&&clearTimeout(this._tooltipTimeout))},p.prototype._onClick=function(d){var b=this._findZoneEventAt(d),y=this._getSelectionLength();b&&y===this._initialSelectionLength&&(b.clickCallback(d),d.preventDefault(),d.stopImmediatePropagation())},p.prototype._getSelectionLength=function(){var d=this._selectionService.selectionText;return d?d.length:0},p.prototype._findZoneEventAt=function(d){var b=this._mouseService.getCoords(d,this._screenElement,this._bufferService.cols,this._bufferService.rows);if(b)for(var y=b[0],x=b[1],w=0;w<this._zones.length;w++){var C=this._zones[w];if(C.y1===C.y2){if(x===C.y1&&y>=C.x1&&y<C.x2)return C}else if(x===C.y1&&y>=C.x1||x===C.y2&&y<C.x2||x>C.y1&&x<C.y2)return C}},u([c(2,m.IBufferService),c(3,f.IMouseService),c(4,f.ISelectionService),c(5,m.IOptionsService)],p)}(h.Disposable);n.MouseZoneManager=_},6193:function(o,n){var a=this&&this.__values||function(l){var u=typeof Symbol=="function"&&Symbol.iterator,c=u&&l[u],h=0;if(c)return c.call(l);if(l&&typeof l.length=="number")return{next:function(){return l&&h>=l.length&&(l=void 0),{value:l&&l[h++],done:!l}}};throw new TypeError(u?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(n,"__esModule",{value:!0}),n.RenderDebouncer=void 0;var s=function(){function l(u){this._renderCallback=u,this._refreshCallbacks=[]}return l.prototype.dispose=function(){this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)},l.prototype.addRefreshCallback=function(u){var c=this;return this._refreshCallbacks.push(u),this._animationFrame||(this._animationFrame=window.requestAnimationFrame(function(){return c._innerRefresh()})),this._animationFrame},l.prototype.refresh=function(u,c,h){var v=this;this._rowCount=h,u=u!==void 0?u:0,c=c!==void 0?c:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,u):u,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,c):c,this._animationFrame||(this._animationFrame=window.requestAnimationFrame(function(){return v._innerRefresh()}))},l.prototype._innerRefresh=function(){if(this._animationFrame=void 0,this._rowStart!==void 0&&this._rowEnd!==void 0&&this._rowCount!==void 0){var u=Math.max(this._rowStart,0),c=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(u,c),this._runRefreshCallbacks()}else this._runRefreshCallbacks()},l.prototype._runRefreshCallbacks=function(){var u,c;try{for(var h=a(this._refreshCallbacks),v=h.next();!v.done;v=h.next())(0,v.value)(0)}catch(f){u={error:f}}finally{try{v&&!v.done&&(c=h.return)&&c.call(h)}finally{if(u)throw u.error}}this._refreshCallbacks=[]},l}();n.RenderDebouncer=s},5596:function(o,n,a){var s,l=this&&this.__extends||(s=function(c,h){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,f){v.__proto__=f}||function(v,f){for(var m in f)Object.prototype.hasOwnProperty.call(f,m)&&(v[m]=f[m])},s(c,h)},function(c,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function v(){this.constructor=c}s(c,h),c.prototype=h===null?Object.create(h):(v.prototype=h.prototype,new v)});Object.defineProperty(n,"__esModule",{value:!0}),n.ScreenDprMonitor=void 0;var u=function(c){function h(){var v=c!==null&&c.apply(this,arguments)||this;return v._currentDevicePixelRatio=window.devicePixelRatio,v}return l(h,c),h.prototype.setListener=function(v){var f=this;this._listener&&this.clearListener(),this._listener=v,this._outerListener=function(){f._listener&&(f._listener(window.devicePixelRatio,f._currentDevicePixelRatio),f._updateDpr())},this._updateDpr()},h.prototype.dispose=function(){c.prototype.dispose.call(this),this.clearListener()},h.prototype._updateDpr=function(){var v;this._outerListener&&((v=this._resolutionMediaMatchList)===null||v===void 0||v.removeListener(this._outerListener),this._currentDevicePixelRatio=window.devicePixelRatio,this._resolutionMediaMatchList=window.matchMedia("screen and (resolution: "+window.devicePixelRatio+"dppx)"),this._resolutionMediaMatchList.addListener(this._outerListener))},h.prototype.clearListener=function(){this._resolutionMediaMatchList&&this._listener&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._listener=void 0,this._outerListener=void 0)},h}(a(844).Disposable);n.ScreenDprMonitor=u},3236:function(o,n,a){var s,l=this&&this.__extends||(s=function(J,te){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,N){L.__proto__=N}||function(L,N){for(var G in N)Object.prototype.hasOwnProperty.call(N,G)&&(L[G]=N[G])},s(J,te)},function(J,te){if(typeof te!="function"&&te!==null)throw new TypeError("Class extends value "+String(te)+" is not a constructor or null");function L(){this.constructor=J}s(J,te),J.prototype=te===null?Object.create(te):(L.prototype=te.prototype,new L)}),u=this&&this.__values||function(J){var te=typeof Symbol=="function"&&Symbol.iterator,L=te&&J[te],N=0;if(L)return L.call(J);if(J&&typeof J.length=="number")return{next:function(){return J&&N>=J.length&&(J=void 0),{value:J&&J[N++],done:!J}}};throw new TypeError(te?"Object is not iterable.":"Symbol.iterator is not defined.")},c=this&&this.__read||function(J,te){var L=typeof Symbol=="function"&&J[Symbol.iterator];if(!L)return J;var N,G,Y=L.call(J),j=[];try{for(;(te===void 0||te-- >0)&&!(N=Y.next()).done;)j.push(N.value)}catch(Q){G={error:Q}}finally{try{N&&!N.done&&(L=Y.return)&&L.call(Y)}finally{if(G)throw G.error}}return j},h=this&&this.__spreadArray||function(J,te,L){if(L||arguments.length===2)for(var N,G=0,Y=te.length;G<Y;G++)!N&&G in te||(N||(N=Array.prototype.slice.call(te,0,G)),N[G]=te[G]);return J.concat(N||Array.prototype.slice.call(te))};Object.defineProperty(n,"__esModule",{value:!0}),n.Terminal=void 0;var v=a(2950),f=a(1680),m=a(3614),_=a(2584),g=a(5435),p=a(3525),d=a(3551),b=a(9312),y=a(6114),x=a(3656),w=a(9042),C=a(357),S=a(6954),T=a(4567),M=a(1296),D=a(7399),k=a(8460),R=a(8437),P=a(5680),E=a(3230),O=a(4725),I=a(428),U=a(8934),V=a(6465),Z=a(5114),z=a(8969),H=a(8055),B=a(4269),W=a(5941),F=a(3107),K=a(5744),fe=a(9074),se=a(2585),ee=typeof window<"u"?window.document:null,ie=function(J){function te(L){L===void 0&&(L={});var N=J.call(this,L)||this;return N.browser=y,N._keyDownHandled=!1,N._keyDownSeen=!1,N._keyPressHandled=!1,N._unprocessedDeadKey=!1,N._onCursorMove=new k.EventEmitter,N._onKey=new k.EventEmitter,N._onRender=new k.EventEmitter,N._onSelectionChange=new k.EventEmitter,N._onTitleChange=new k.EventEmitter,N._onBell=new k.EventEmitter,N._onFocus=new k.EventEmitter,N._onBlur=new k.EventEmitter,N._onA11yCharEmitter=new k.EventEmitter,N._onA11yTabEmitter=new k.EventEmitter,N._setup(),N.linkifier=N._instantiationService.createInstance(d.Linkifier),N.linkifier2=N.register(N._instantiationService.createInstance(V.Linkifier2)),N._decorationService=N._instantiationService.createInstance(fe.DecorationService),N._instantiationService.setService(se.IDecorationService,N._decorationService),N.register(N._inputHandler.onRequestBell(function(){return N.bell()})),N.register(N._inputHandler.onRequestRefreshRows(function(G,Y){return N.refresh(G,Y)})),N.register(N._inputHandler.onRequestSendFocus(function(){return N._reportFocus()})),N.register(N._inputHandler.onRequestReset(function(){return N.reset()})),N.register(N._inputHandler.onRequestWindowsOptionsReport(function(G){return N._reportWindowsOptions(G)})),N.register(N._inputHandler.onColor(function(G){return N._handleColorEvent(G)})),N.register((0,k.forwardEvent)(N._inputHandler.onCursorMove,N._onCursorMove)),N.register((0,k.forwardEvent)(N._inputHandler.onTitleChange,N._onTitleChange)),N.register((0,k.forwardEvent)(N._inputHandler.onA11yChar,N._onA11yCharEmitter)),N.register((0,k.forwardEvent)(N._inputHandler.onA11yTab,N._onA11yTabEmitter)),N.register(N._bufferService.onResize(function(G){return N._afterResize(G.cols,G.rows)})),N}return l(te,J),Object.defineProperty(te.prototype,"onCursorMove",{get:function(){return this._onCursorMove.event},enumerable:!1,configurable:!0}),Object.defineProperty(te.prototype,"onKey",{get:function(){return this._onKey.event},enumerable:!1,configurable:!0}),Object.defineProperty(te.prototype,"onRender",{get:function(){return this._onRender.event},enumerable:!1,configurable:!0}),Object.defineProperty(te.prototype,"onSelectionChange",{get:function(){return this._onSelectionChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(te.prototype,"onTitleChange",{get:function(){return this._onTitleChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(te.prototype,"onBell",{get:function(){return this._onBell.event},enumerable:!1,configurable:!0}),Object.defineProperty(te.prototype,"onFocus",{get:function(){return this._onFocus.event},enumerable:!1,configurable:!0}),Object.defineProperty(te.prototype,"onBlur",{get:function(){return this._onBlur.event},enumerable:!1,configurable:!0}),Object.defineProperty(te.prototype,"onA11yChar",{get:function(){return this._onA11yCharEmitter.event},enumerable:!1,configurable:!0}),Object.defineProperty(te.prototype,"onA11yTab",{get:function(){return this._onA11yTabEmitter.event},enumerable:!1,configurable:!0}),te.prototype._handleColorEvent=function(L){var N,G,Y,j;if(this._colorManager){try{for(var Q=u(L),q=Q.next();!q.done;q=Q.next()){var re=q.value,ue=void 0,de="";switch(re.index){case 256:ue="foreground",de="10";break;case 257:ue="background",de="11";break;case 258:ue="cursor",de="12";break;default:ue="ansi",de="4;"+re.index}if(ue)switch(re.type){case 0:var me=H.color.toColorRGB(ue==="ansi"?this._colorManager.colors.ansi[re.index]:this._colorManager.colors[ue]);this.coreService.triggerDataEvent(_.C0.ESC+"]"+de+";"+(0,W.toRgbString)(me)+_.C1_ESCAPED.ST);break;case 1:ue==="ansi"?this._colorManager.colors.ansi[re.index]=H.rgba.toColor.apply(H.rgba,h([],c(re.color),!1)):this._colorManager.colors[ue]=H.rgba.toColor.apply(H.rgba,h([],c(re.color),!1));break;case 2:this._colorManager.restoreColor(re.index)}}}catch(pe){N={error:pe}}finally{try{q&&!q.done&&(G=Q.return)&&G.call(Q)}finally{if(N)throw N.error}}(Y=this._renderService)===null||Y===void 0||Y.setColors(this._colorManager.colors),(j=this.viewport)===null||j===void 0||j.onThemeChange(this._colorManager.colors)}},te.prototype.dispose=function(){var L,N,G;this._isDisposed||(J.prototype.dispose.call(this),(L=this._renderService)===null||L===void 0||L.dispose(),this._customKeyEventHandler=void 0,this.write=function(){},(G=(N=this.element)===null||N===void 0?void 0:N.parentNode)===null||G===void 0||G.removeChild(this.element))},te.prototype._setup=function(){J.prototype._setup.call(this),this._customKeyEventHandler=void 0},Object.defineProperty(te.prototype,"buffer",{get:function(){return this.buffers.active},enumerable:!1,configurable:!0}),te.prototype.focus=function(){this.textarea&&this.textarea.focus({preventScroll:!0})},te.prototype._updateOptions=function(L){var N,G,Y,j;switch(J.prototype._updateOptions.call(this,L),L){case"fontFamily":case"fontSize":(N=this._renderService)===null||N===void 0||N.clear(),(G=this._charSizeService)===null||G===void 0||G.measure();break;case"cursorBlink":case"cursorStyle":this.refresh(this.buffer.y,this.buffer.y);break;case"customGlyphs":case"drawBoldTextInBrightColors":case"letterSpacing":case"lineHeight":case"fontWeight":case"fontWeightBold":case"minimumContrastRatio":this._renderService&&(this._renderService.clear(),this._renderService.onResize(this.cols,this.rows),this.refresh(0,this.rows-1));break;case"rendererType":this._renderService&&(this._renderService.setRenderer(this._createRenderer()),this._renderService.onResize(this.cols,this.rows));break;case"scrollback":(Y=this.viewport)===null||Y===void 0||Y.syncScrollArea();break;case"screenReaderMode":this.optionsService.rawOptions.screenReaderMode?!this._accessibilityManager&&this._renderService&&(this._accessibilityManager=new T.AccessibilityManager(this,this._renderService)):((j=this._accessibilityManager)===null||j===void 0||j.dispose(),this._accessibilityManager=void 0);break;case"tabStopWidth":this.buffers.setupTabStops();break;case"theme":this._setTheme(this.optionsService.rawOptions.theme)}},te.prototype._onTextAreaFocus=function(L){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(_.C0.ESC+"[I"),this.updateCursorStyle(L),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()},te.prototype.blur=function(){var L;return(L=this.textarea)===null||L===void 0?void 0:L.blur()},te.prototype._onTextAreaBlur=function(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(_.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()},te.prototype._syncTextArea=function(){if(this.textarea&&this.buffer.isCursorInViewport&&!this._compositionHelper.isComposing&&this._renderService){var L=this.buffer.ybase+this.buffer.y,N=this.buffer.lines.get(L);if(N){var G=Math.min(this.buffer.x,this.cols-1),Y=this._renderService.dimensions.actualCellHeight,j=N.getWidth(G),Q=this._renderService.dimensions.actualCellWidth*j,q=this.buffer.y*this._renderService.dimensions.actualCellHeight,re=G*this._renderService.dimensions.actualCellWidth;this.textarea.style.left=re+"px",this.textarea.style.top=q+"px",this.textarea.style.width=Q+"px",this.textarea.style.height=Y+"px",this.textarea.style.lineHeight=Y+"px",this.textarea.style.zIndex="-5"}}},te.prototype._initGlobal=function(){var L=this;this._bindKeys(),this.register((0,x.addDisposableDomListener)(this.element,"copy",function(G){L.hasSelection()&&(0,m.copyHandler)(G,L._selectionService)}));var N=function(G){return(0,m.handlePasteEvent)(G,L.textarea,L.coreService)};this.register((0,x.addDisposableDomListener)(this.textarea,"paste",N)),this.register((0,x.addDisposableDomListener)(this.element,"paste",N)),y.isFirefox?this.register((0,x.addDisposableDomListener)(this.element,"mousedown",function(G){G.button===2&&(0,m.rightClickHandler)(G,L.textarea,L.screenElement,L._selectionService,L.options.rightClickSelectsWord)})):this.register((0,x.addDisposableDomListener)(this.element,"contextmenu",function(G){(0,m.rightClickHandler)(G,L.textarea,L.screenElement,L._selectionService,L.options.rightClickSelectsWord)})),y.isLinux&&this.register((0,x.addDisposableDomListener)(this.element,"auxclick",function(G){G.button===1&&(0,m.moveTextAreaUnderMouseCursor)(G,L.textarea,L.screenElement)}))},te.prototype._bindKeys=function(){var L=this;this.register((0,x.addDisposableDomListener)(this.textarea,"keyup",function(N){return L._keyUp(N)},!0)),this.register((0,x.addDisposableDomListener)(this.textarea,"keydown",function(N){return L._keyDown(N)},!0)),this.register((0,x.addDisposableDomListener)(this.textarea,"keypress",function(N){return L._keyPress(N)},!0)),this.register((0,x.addDisposableDomListener)(this.textarea,"compositionstart",function(){return L._compositionHelper.compositionstart()})),this.register((0,x.addDisposableDomListener)(this.textarea,"compositionupdate",function(N){return L._compositionHelper.compositionupdate(N)})),this.register((0,x.addDisposableDomListener)(this.textarea,"compositionend",function(){return L._compositionHelper.compositionend()})),this.register((0,x.addDisposableDomListener)(this.textarea,"input",function(N){return L._inputEvent(N)},!0)),this.register(this.onRender(function(){return L._compositionHelper.updateCompositionElements()})),this.register(this.onRender(function(N){return L._queueLinkification(N.start,N.end)}))},te.prototype.open=function(L){var N=this;if(!L)throw new Error("Terminal requires a parent element.");L.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this._document=L.ownerDocument,this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),this.element.setAttribute("tabindex","0"),L.appendChild(this.element);var G=ee.createDocumentFragment();this._viewportElement=ee.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),G.appendChild(this._viewportElement),this._viewportScrollArea=ee.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=ee.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._helperContainer=ee.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),G.appendChild(this.screenElement),this.textarea=ee.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",w.promptLabel),this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this.register((0,x.addDisposableDomListener)(this.textarea,"focus",function(Q){return N._onTextAreaFocus(Q)})),this.register((0,x.addDisposableDomListener)(this.textarea,"blur",function(){return N._onTextAreaBlur()})),this._helperContainer.appendChild(this.textarea);var Y=this._instantiationService.createInstance(Z.CoreBrowserService,this.textarea);this._instantiationService.setService(O.ICoreBrowserService,Y),this._charSizeService=this._instantiationService.createInstance(I.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(O.ICharSizeService,this._charSizeService),this._theme=this.options.theme||this._theme,this._colorManager=new P.ColorManager(ee,this.options.allowTransparency),this.register(this.optionsService.onOptionChange(function(Q){return N._colorManager.onOptionsChange(Q)})),this._colorManager.setTheme(this._theme),this._characterJoinerService=this._instantiationService.createInstance(B.CharacterJoinerService),this._instantiationService.setService(O.ICharacterJoinerService,this._characterJoinerService);var j=this._createRenderer();this._renderService=this.register(this._instantiationService.createInstance(E.RenderService,j,this.rows,this.screenElement)),this._instantiationService.setService(O.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange(function(Q){return N._onRender.fire(Q)})),this.onResize(function(Q){return N._renderService.resize(Q.cols,Q.rows)}),this._compositionView=ee.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(v.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this.element.appendChild(G),this._soundService=this._instantiationService.createInstance(C.SoundService),this._instantiationService.setService(O.ISoundService,this._soundService),this._mouseService=this._instantiationService.createInstance(U.MouseService),this._instantiationService.setService(O.IMouseService,this._mouseService),this.viewport=this._instantiationService.createInstance(f.Viewport,function(Q){return N.scrollLines(Q,!0,1)},this._viewportElement,this._viewportScrollArea,this.element),this.viewport.onThemeChange(this._colorManager.colors),this.register(this._inputHandler.onRequestSyncScrollBar(function(){return N.viewport.syncScrollArea()})),this.register(this.viewport),this.register(this.onCursorMove(function(){N._renderService.onCursorMove(),N._syncTextArea()})),this.register(this.onResize(function(){return N._renderService.onResize(N.cols,N.rows)})),this.register(this.onBlur(function(){return N._renderService.onBlur()})),this.register(this.onFocus(function(){return N._renderService.onFocus()})),this.register(this._renderService.onDimensionsChange(function(){return N.viewport.syncScrollArea()})),this._selectionService=this.register(this._instantiationService.createInstance(b.SelectionService,this.element,this.screenElement,this.linkifier2)),this._instantiationService.setService(O.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines(function(Q){return N.scrollLines(Q.amount,Q.suppressScrollEvent)})),this.register(this._selectionService.onSelectionChange(function(){return N._onSelectionChange.fire()})),this.register(this._selectionService.onRequestRedraw(function(Q){return N._renderService.onSelectionChanged(Q.start,Q.end,Q.columnSelectMode)})),this.register(this._selectionService.onLinuxMouseSelection(function(Q){N.textarea.value=Q,N.textarea.focus(),N.textarea.select()})),this.register(this._onScroll.event(function(Q){N.viewport.syncScrollArea(),N._selectionService.refresh()})),this.register((0,x.addDisposableDomListener)(this._viewportElement,"scroll",function(){return N._selectionService.refresh()})),this._mouseZoneManager=this._instantiationService.createInstance(S.MouseZoneManager,this.element,this.screenElement),this.register(this._mouseZoneManager),this.register(this.onScroll(function(){return N._mouseZoneManager.clearAll()})),this.linkifier.attachToDom(this.element,this._mouseZoneManager),this.linkifier2.attachToDom(this.screenElement,this._mouseService,this._renderService),this.register(this._instantiationService.createInstance(F.BufferDecorationRenderer,this.screenElement)),this.register((0,x.addDisposableDomListener)(this.element,"mousedown",function(Q){return N._selectionService.onMouseDown(Q)})),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager=new T.AccessibilityManager(this,this._renderService)),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this._instantiationService.createInstance(K.OverviewRulerRenderer,this._viewportElement,this.screenElement)),this.optionsService.onOptionChange(function(){!N._overviewRulerRenderer&&N.options.overviewRulerWidth&&N._viewportElement&&N.screenElement&&(N._overviewRulerRenderer=N._instantiationService.createInstance(K.OverviewRulerRenderer,N._viewportElement,N.screenElement))}),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()},te.prototype._createRenderer=function(){switch(this.options.rendererType){case"canvas":return this._instantiationService.createInstance(p.Renderer,this._colorManager.colors,this.screenElement,this.linkifier,this.linkifier2);case"dom":return this._instantiationService.createInstance(M.DomRenderer,this._colorManager.colors,this.element,this.screenElement,this._viewportElement,this.linkifier,this.linkifier2);default:throw new Error('Unrecognized rendererType "'+this.options.rendererType+'"')}},te.prototype._setTheme=function(L){var N,G,Y;this._theme=L,(N=this._colorManager)===null||N===void 0||N.setTheme(L),(G=this._renderService)===null||G===void 0||G.setColors(this._colorManager.colors),(Y=this.viewport)===null||Y===void 0||Y.onThemeChange(this._colorManager.colors)},te.prototype.bindMouse=function(){var L=this,N=this,G=this.element;function Y(de){var me,pe,ge=N._mouseService.getRawByteCoords(de,N.screenElement,N.cols,N.rows);if(!ge)return!1;switch(de.overrideType||de.type){case"mousemove":pe=32,de.buttons===void 0?(me=3,de.button!==void 0&&(me=de.button<3?de.button:3)):me=1&de.buttons?0:4&de.buttons?1:2&de.buttons?2:3;break;case"mouseup":pe=0,me=de.button<3?de.button:3;break;case"mousedown":pe=1,me=de.button<3?de.button:3;break;case"wheel":if(N.viewport.getLinesScrolled(de)===0)return!1;pe=de.deltaY<0?0:1,me=4;break;default:return!1}return!(pe===void 0||me===void 0||me>4)&&N.coreMouseService.triggerMouseEvent({col:ge.x-33,row:ge.y-33,button:me,action:pe,ctrl:de.ctrlKey,alt:de.altKey,shift:de.shiftKey})}var j={mouseup:null,wheel:null,mousedrag:null,mousemove:null},Q=function(de){return Y(de),de.buttons||(L._document.removeEventListener("mouseup",j.mouseup),j.mousedrag&&L._document.removeEventListener("mousemove",j.mousedrag)),L.cancel(de)},q=function(de){return Y(de),L.cancel(de,!0)},re=function(de){de.buttons&&Y(de)},ue=function(de){de.buttons||Y(de)};this.register(this.coreMouseService.onProtocolChange(function(de){de?(L.optionsService.rawOptions.logLevel==="debug"&&L._logService.debug("Binding to mouse events:",L.coreMouseService.explainEvents(de)),L.element.classList.add("enable-mouse-events"),L._selectionService.disable()):(L._logService.debug("Unbinding from mouse events."),L.element.classList.remove("enable-mouse-events"),L._selectionService.enable()),8&de?j.mousemove||(G.addEventListener("mousemove",ue),j.mousemove=ue):(G.removeEventListener("mousemove",j.mousemove),j.mousemove=null),16&de?j.wheel||(G.addEventListener("wheel",q,{passive:!1}),j.wheel=q):(G.removeEventListener("wheel",j.wheel),j.wheel=null),2&de?j.mouseup||(j.mouseup=Q):(L._document.removeEventListener("mouseup",j.mouseup),j.mouseup=null),4&de?j.mousedrag||(j.mousedrag=re):(L._document.removeEventListener("mousemove",j.mousedrag),j.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,x.addDisposableDomListener)(G,"mousedown",function(de){if(de.preventDefault(),L.focus(),L.coreMouseService.areMouseEventsActive&&!L._selectionService.shouldForceSelection(de))return Y(de),j.mouseup&&L._document.addEventListener("mouseup",j.mouseup),j.mousedrag&&L._document.addEventListener("mousemove",j.mousedrag),L.cancel(de)})),this.register((0,x.addDisposableDomListener)(G,"wheel",function(de){if(!j.wheel){if(!L.buffer.hasScrollback){var me=L.viewport.getLinesScrolled(de);if(me===0)return;for(var pe=_.C0.ESC+(L.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(de.deltaY<0?"A":"B"),ge="",Te=0;Te<Math.abs(me);Te++)ge+=pe;return L.coreService.triggerDataEvent(ge,!0),L.cancel(de,!0)}return L.viewport.onWheel(de)?L.cancel(de):void 0}},{passive:!1})),this.register((0,x.addDisposableDomListener)(G,"touchstart",function(de){if(!L.coreMouseService.areMouseEventsActive)return L.viewport.onTouchStart(de),L.cancel(de)},{passive:!0})),this.register((0,x.addDisposableDomListener)(G,"touchmove",function(de){if(!L.coreMouseService.areMouseEventsActive)return L.viewport.onTouchMove(de)?void 0:L.cancel(de)},{passive:!1}))},te.prototype.refresh=function(L,N){var G;(G=this._renderService)===null||G===void 0||G.refreshRows(L,N)},te.prototype._queueLinkification=function(L,N){var G;(G=this.linkifier)===null||G===void 0||G.linkifyRows(L,N)},te.prototype.updateCursorStyle=function(L){var N;!((N=this._selectionService)===null||N===void 0)&&N.shouldColumnSelect(L)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")},te.prototype._showCursor=function(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))},te.prototype.scrollLines=function(L,N,G){G===void 0&&(G=0),J.prototype.scrollLines.call(this,L,N,G),this.refresh(0,this.rows-1)},te.prototype.paste=function(L){(0,m.paste)(L,this.textarea,this.coreService)},te.prototype.attachCustomKeyEventHandler=function(L){this._customKeyEventHandler=L},te.prototype.registerLinkMatcher=function(L,N,G){var Y=this.linkifier.registerLinkMatcher(L,N,G);return this.refresh(0,this.rows-1),Y},te.prototype.deregisterLinkMatcher=function(L){this.linkifier.deregisterLinkMatcher(L)&&this.refresh(0,this.rows-1)},te.prototype.registerLinkProvider=function(L){return this.linkifier2.registerLinkProvider(L)},te.prototype.registerCharacterJoiner=function(L){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");var N=this._characterJoinerService.register(L);return this.refresh(0,this.rows-1),N},te.prototype.deregisterCharacterJoiner=function(L){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(L)&&this.refresh(0,this.rows-1)},Object.defineProperty(te.prototype,"markers",{get:function(){return this.buffer.markers},enumerable:!1,configurable:!0}),te.prototype.addMarker=function(L){if(this.buffer===this.buffers.normal)return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+L)},te.prototype.registerDecoration=function(L){return this._decorationService.registerDecoration(L)},te.prototype.hasSelection=function(){return!!this._selectionService&&this._selectionService.hasSelection},te.prototype.select=function(L,N,G){this._selectionService.setSelection(L,N,G)},te.prototype.getSelection=function(){return this._selectionService?this._selectionService.selectionText:""},te.prototype.getSelectionPosition=function(){if(this._selectionService&&this._selectionService.hasSelection)return{startColumn:this._selectionService.selectionStart[0],startRow:this._selectionService.selectionStart[1],endColumn:this._selectionService.selectionEnd[0],endRow:this._selectionService.selectionEnd[1]}},te.prototype.clearSelection=function(){var L;(L=this._selectionService)===null||L===void 0||L.clearSelection()},te.prototype.selectAll=function(){var L;(L=this._selectionService)===null||L===void 0||L.selectAll()},te.prototype.selectLines=function(L,N){var G;(G=this._selectionService)===null||G===void 0||G.selectLines(L,N)},te.prototype._keyDown=function(L){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&this._customKeyEventHandler(L)===!1)return!1;var N=this.browser.isMac&&this.options.macOptionIsMeta&&L.altKey;if(!N&&!this._compositionHelper.keydown(L))return this.buffer.ybase!==this.buffer.ydisp&&this._bufferService.scrollToBottom(),!1;N||L.key!=="Dead"&&L.key!=="AltGraph"||(this._unprocessedDeadKey=!0);var G=(0,D.evaluateKeyboardEvent)(L,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(L),G.type===3||G.type===2){var Y=this.rows-1;return this.scrollLines(G.type===2?-Y:Y),this.cancel(L,!0)}return G.type===1&&this.selectAll(),!!this._isThirdLevelShift(this.browser,L)||(G.cancel&&this.cancel(L,!0),!G.key||!!(L.key&&!L.ctrlKey&&!L.altKey&&!L.metaKey&&L.key.length===1&&L.key.charCodeAt(0)>=65&&L.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(G.key!==_.C0.ETX&&G.key!==_.C0.CR||(this.textarea.value=""),this._onKey.fire({key:G.key,domEvent:L}),this._showCursor(),this.coreService.triggerDataEvent(G.key,!0),this.optionsService.rawOptions.screenReaderMode?void(this._keyDownHandled=!0):this.cancel(L,!0))))},te.prototype._isThirdLevelShift=function(L,N){var G=L.isMac&&!this.options.macOptionIsMeta&&N.altKey&&!N.ctrlKey&&!N.metaKey||L.isWindows&&N.altKey&&N.ctrlKey&&!N.metaKey||L.isWindows&&N.getModifierState("AltGraph");return N.type==="keypress"?G:G&&(!N.keyCode||N.keyCode>47)},te.prototype._keyUp=function(L){this._keyDownSeen=!1,this._customKeyEventHandler&&this._customKeyEventHandler(L)===!1||(function(N){return N.keyCode===16||N.keyCode===17||N.keyCode===18}(L)||this.focus(),this.updateCursorStyle(L),this._keyPressHandled=!1)},te.prototype._keyPress=function(L){var N;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&this._customKeyEventHandler(L)===!1)return!1;if(this.cancel(L),L.charCode)N=L.charCode;else if(L.which===null||L.which===void 0)N=L.keyCode;else{if(L.which===0||L.charCode===0)return!1;N=L.which}return!(!N||(L.altKey||L.ctrlKey||L.metaKey)&&!this._isThirdLevelShift(this.browser,L)||(N=String.fromCharCode(N),this._onKey.fire({key:N,domEvent:L}),this._showCursor(),this.coreService.triggerDataEvent(N,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))},te.prototype._inputEvent=function(L){if(L.data&&L.inputType==="insertText"&&(!L.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;var N=L.data;return this.coreService.triggerDataEvent(N,!0),this.cancel(L),!0}return!1},te.prototype.bell=function(){var L;this._soundBell()&&((L=this._soundService)===null||L===void 0||L.playBellSound()),this._onBell.fire()},te.prototype.resize=function(L,N){L!==this.cols||N!==this.rows?J.prototype.resize.call(this,L,N):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()},te.prototype._afterResize=function(L,N){var G,Y;(G=this._charSizeService)===null||G===void 0||G.measure(),(Y=this.viewport)===null||Y===void 0||Y.syncScrollArea(!0)},te.prototype.clear=function(){if(this.buffer.ybase!==0||this.buffer.y!==0){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(var L=1;L<this.rows;L++)this.buffer.lines.push(this.buffer.getBlankLine(R.DEFAULT_ATTR_DATA));this.refresh(0,this.rows-1),this._onScroll.fire({position:this.buffer.ydisp,source:0})}},te.prototype.reset=function(){var L,N;this.options.rows=this.rows,this.options.cols=this.cols;var G=this._customKeyEventHandler;this._setup(),J.prototype.reset.call(this),(L=this._selectionService)===null||L===void 0||L.reset(),this._decorationService.reset(),this._customKeyEventHandler=G,this.refresh(0,this.rows-1),(N=this.viewport)===null||N===void 0||N.syncScrollArea()},te.prototype.clearTextureAtlas=function(){var L;(L=this._renderService)===null||L===void 0||L.clearTextureAtlas()},te.prototype._reportFocus=function(){var L;!((L=this.element)===null||L===void 0)&&L.classList.contains("focus")?this.coreService.triggerDataEvent(_.C0.ESC+"[I"):this.coreService.triggerDataEvent(_.C0.ESC+"[O")},te.prototype._reportWindowsOptions=function(L){if(this._renderService)switch(L){case g.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:var N=this._renderService.dimensions.scaledCanvasWidth.toFixed(0),G=this._renderService.dimensions.scaledCanvasHeight.toFixed(0);this.coreService.triggerDataEvent(_.C0.ESC+"[4;"+G+";"+N+"t");break;case g.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:var Y=this._renderService.dimensions.scaledCellWidth.toFixed(0),j=this._renderService.dimensions.scaledCellHeight.toFixed(0);this.coreService.triggerDataEvent(_.C0.ESC+"[6;"+j+";"+Y+"t")}},te.prototype.cancel=function(L,N){if(this.options.cancelEvents||N)return L.preventDefault(),L.stopPropagation(),!1},te.prototype._visualBell=function(){return!1},te.prototype._soundBell=function(){return this.options.bellStyle==="sound"},te}(z.CoreTerminal);n.Terminal=ie},9924:(o,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.TimeBasedDebouncer=void 0;var a=function(){function s(l,u){u===void 0&&(u=1e3),this._renderCallback=l,this._debounceThresholdMS=u,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}return s.prototype.dispose=function(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)},s.prototype.refresh=function(l,u,c){var h=this;this._rowCount=c,l=l!==void 0?l:0,u=u!==void 0?u:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,l):l,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,u):u;var v=Date.now();if(v-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=v,this._innerRefresh();else if(!this._additionalRefreshRequested){var f=v-this._lastRefreshMs,m=this._debounceThresholdMS-f;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(function(){h._lastRefreshMs=Date.now(),h._innerRefresh(),h._additionalRefreshRequested=!1,h._refreshTimeoutID=void 0},m)}},s.prototype._innerRefresh=function(){if(this._rowStart!==void 0&&this._rowEnd!==void 0&&this._rowCount!==void 0){var l=Math.max(this._rowStart,0),u=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(l,u)}},s}();n.TimeBasedDebouncer=a},1680:function(o,n,a){var s,l=this&&this.__extends||(s=function(g,p){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var y in b)Object.prototype.hasOwnProperty.call(b,y)&&(d[y]=b[y])},s(g,p)},function(g,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");function d(){this.constructor=g}s(g,p),g.prototype=p===null?Object.create(p):(d.prototype=p.prototype,new d)}),u=this&&this.__decorate||function(g,p,d,b){var y,x=arguments.length,w=x<3?p:b===null?b=Object.getOwnPropertyDescriptor(p,d):b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(g,p,d,b);else for(var C=g.length-1;C>=0;C--)(y=g[C])&&(w=(x<3?y(w):x>3?y(p,d,w):y(p,d))||w);return x>3&&w&&Object.defineProperty(p,d,w),w},c=this&&this.__param||function(g,p){return function(d,b){p(d,b,g)}};Object.defineProperty(n,"__esModule",{value:!0}),n.Viewport=void 0;var h=a(844),v=a(3656),f=a(4725),m=a(2585),_=function(g){function p(d,b,y,x,w,C,S,T){var M=g.call(this)||this;return M._scrollLines=d,M._viewportElement=b,M._scrollArea=y,M._element=x,M._bufferService=w,M._optionsService=C,M._charSizeService=S,M._renderService=T,M.scrollBarWidth=0,M._currentRowHeight=0,M._currentScaledCellHeight=0,M._lastRecordedBufferLength=0,M._lastRecordedViewportHeight=0,M._lastRecordedBufferHeight=0,M._lastTouchY=0,M._lastScrollTop=0,M._wheelPartialScroll=0,M._refreshAnimationFrame=null,M._ignoreNextScrollEvent=!1,M.scrollBarWidth=M._viewportElement.offsetWidth-M._scrollArea.offsetWidth||15,M.register((0,v.addDisposableDomListener)(M._viewportElement,"scroll",M._onScroll.bind(M))),M._activeBuffer=M._bufferService.buffer,M.register(M._bufferService.buffers.onBufferActivate(function(D){return M._activeBuffer=D.activeBuffer})),M._renderDimensions=M._renderService.dimensions,M.register(M._renderService.onDimensionsChange(function(D){return M._renderDimensions=D})),setTimeout(function(){return M.syncScrollArea()},0),M}return l(p,g),p.prototype.onThemeChange=function(d){this._viewportElement.style.backgroundColor=d.background.css},p.prototype._refresh=function(d){var b=this;if(d)return this._innerRefresh(),void(this._refreshAnimationFrame!==null&&cancelAnimationFrame(this._refreshAnimationFrame));this._refreshAnimationFrame===null&&(this._refreshAnimationFrame=requestAnimationFrame(function(){return b._innerRefresh()}))},p.prototype._innerRefresh=function(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderService.dimensions.scaledCellHeight/window.devicePixelRatio,this._currentScaledCellHeight=this._renderService.dimensions.scaledCellHeight,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;var d=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderService.dimensions.canvasHeight);this._lastRecordedBufferHeight!==d&&(this._lastRecordedBufferHeight=d,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}var b=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==b&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=b),this._refreshAnimationFrame=null},p.prototype.syncScrollArea=function(d){if(d===void 0&&(d=!1),this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(d);this._lastRecordedViewportHeight===this._renderService.dimensions.canvasHeight&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.scaledCellHeight===this._currentScaledCellHeight||this._refresh(d)},p.prototype._onScroll=function(d){if(this._lastScrollTop=this._viewportElement.scrollTop,this._viewportElement.offsetParent){if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._scrollLines(0);var b=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._scrollLines(b)}},p.prototype._bubbleScroll=function(d,b){var y=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(b<0&&this._viewportElement.scrollTop!==0||b>0&&y<this._lastRecordedBufferHeight)||(d.cancelable&&d.preventDefault(),!1)},p.prototype.onWheel=function(d){var b=this._getPixelsScrolled(d);return b!==0&&(this._viewportElement.scrollTop+=b,this._bubbleScroll(d,b))},p.prototype._getPixelsScrolled=function(d){if(d.deltaY===0||d.shiftKey)return 0;var b=this._applyScrollModifier(d.deltaY,d);return d.deltaMode===WheelEvent.DOM_DELTA_LINE?b*=this._currentRowHeight:d.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(b*=this._currentRowHeight*this._bufferService.rows),b},p.prototype.getLinesScrolled=function(d){if(d.deltaY===0||d.shiftKey)return 0;var b=this._applyScrollModifier(d.deltaY,d);return d.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(b/=this._currentRowHeight+0,this._wheelPartialScroll+=b,b=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):d.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(b*=this._bufferService.rows),b},p.prototype._applyScrollModifier=function(d,b){var y=this._optionsService.rawOptions.fastScrollModifier;return y==="alt"&&b.altKey||y==="ctrl"&&b.ctrlKey||y==="shift"&&b.shiftKey?d*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:d*this._optionsService.rawOptions.scrollSensitivity},p.prototype.onTouchStart=function(d){this._lastTouchY=d.touches[0].pageY},p.prototype.onTouchMove=function(d){var b=this._lastTouchY-d.touches[0].pageY;return this._lastTouchY=d.touches[0].pageY,b!==0&&(this._viewportElement.scrollTop+=b,this._bubbleScroll(d,b))},u([c(4,m.IBufferService),c(5,m.IOptionsService),c(6,f.ICharSizeService),c(7,f.IRenderService)],p)}(h.Disposable);n.Viewport=_},3107:function(o,n,a){var s,l=this&&this.__extends||(s=function(p,d){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,y){b.__proto__=y}||function(b,y){for(var x in y)Object.prototype.hasOwnProperty.call(y,x)&&(b[x]=y[x])},s(p,d)},function(p,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");function b(){this.constructor=p}s(p,d),p.prototype=d===null?Object.create(d):(b.prototype=d.prototype,new b)}),u=this&&this.__decorate||function(p,d,b,y){var x,w=arguments.length,C=w<3?d:y===null?y=Object.getOwnPropertyDescriptor(d,b):y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(p,d,b,y);else for(var S=p.length-1;S>=0;S--)(x=p[S])&&(C=(w<3?x(C):w>3?x(d,b,C):x(d,b))||C);return w>3&&C&&Object.defineProperty(d,b,C),C},c=this&&this.__param||function(p,d){return function(b,y){d(b,y,p)}},h=this&&this.__values||function(p){var d=typeof Symbol=="function"&&Symbol.iterator,b=d&&p[d],y=0;if(b)return b.call(p);if(p&&typeof p.length=="number")return{next:function(){return p&&y>=p.length&&(p=void 0),{value:p&&p[y++],done:!p}}};throw new TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(n,"__esModule",{value:!0}),n.BufferDecorationRenderer=void 0;var v=a(3656),f=a(4725),m=a(844),_=a(2585),g=function(p){function d(b,y,x,w){var C=p.call(this)||this;return C._screenElement=b,C._bufferService=y,C._decorationService=x,C._renderService=w,C._decorationElements=new Map,C._altBufferIsActive=!1,C._dimensionsChanged=!1,C._container=document.createElement("div"),C._container.classList.add("xterm-decoration-container"),C._screenElement.appendChild(C._container),C.register(C._renderService.onRenderedViewportChange(function(){return C._queueRefresh()})),C.register(C._renderService.onDimensionsChange(function(){C._dimensionsChanged=!0,C._queueRefresh()})),C.register((0,v.addDisposableDomListener)(window,"resize",function(){return C._queueRefresh()})),C.register(C._bufferService.buffers.onBufferActivate(function(){C._altBufferIsActive=C._bufferService.buffer===C._bufferService.buffers.alt})),C.register(C._decorationService.onDecorationRegistered(function(){return C._queueRefresh()})),C.register(C._decorationService.onDecorationRemoved(function(S){return C._removeDecoration(S)})),C}return l(d,p),d.prototype.dispose=function(){this._container.remove(),this._decorationElements.clear(),p.prototype.dispose.call(this)},d.prototype._queueRefresh=function(){var b=this;this._animationFrame===void 0&&(this._animationFrame=this._renderService.addRefreshCallback(function(){b.refreshDecorations(),b._animationFrame=void 0}))},d.prototype.refreshDecorations=function(){var b,y;try{for(var x=h(this._decorationService.decorations),w=x.next();!w.done;w=x.next()){var C=w.value;this._renderDecoration(C)}}catch(S){b={error:S}}finally{try{w&&!w.done&&(y=x.return)&&y.call(x)}finally{if(b)throw b.error}}this._dimensionsChanged=!1},d.prototype._renderDecoration=function(b){this._refreshStyle(b),this._dimensionsChanged&&this._refreshXPosition(b)},d.prototype._createElement=function(b){var y,x=document.createElement("div");x.classList.add("xterm-decoration"),x.style.width=Math.round((b.options.width||1)*this._renderService.dimensions.actualCellWidth)+"px",x.style.height=(b.options.height||1)*this._renderService.dimensions.actualCellHeight+"px",x.style.top=(b.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.actualCellHeight+"px",x.style.lineHeight=this._renderService.dimensions.actualCellHeight+"px";var w=(y=b.options.x)!==null&&y!==void 0?y:0;return w&&w>this._bufferService.cols&&(x.style.display="none"),this._refreshXPosition(b,x),x},d.prototype._refreshStyle=function(b){var y=this,x=b.marker.line-this._bufferService.buffers.active.ydisp;if(x<0||x>=this._bufferService.rows)b.element&&(b.element.style.display="none",b.onRenderEmitter.fire(b.element));else{var w=this._decorationElements.get(b);w||(b.onDispose(function(){return y._removeDecoration(b)}),w=this._createElement(b),b.element=w,this._decorationElements.set(b,w),this._container.appendChild(w)),w.style.top=x*this._renderService.dimensions.actualCellHeight+"px",w.style.display=this._altBufferIsActive?"none":"block",b.onRenderEmitter.fire(w)}},d.prototype._refreshXPosition=function(b,y){var x;if(y===void 0&&(y=b.element),y){var w=(x=b.options.x)!==null&&x!==void 0?x:0;(b.options.anchor||"left")==="right"?y.style.right=w?w*this._renderService.dimensions.actualCellWidth+"px":"":y.style.left=w?w*this._renderService.dimensions.actualCellWidth+"px":""}},d.prototype._removeDecoration=function(b){var y;(y=this._decorationElements.get(b))===null||y===void 0||y.remove(),this._decorationElements.delete(b)},u([c(1,_.IBufferService),c(2,_.IDecorationService),c(3,f.IRenderService)],d)}(m.Disposable);n.BufferDecorationRenderer=g},5871:function(o,n){var a=this&&this.__values||function(l){var u=typeof Symbol=="function"&&Symbol.iterator,c=u&&l[u],h=0;if(c)return c.call(l);if(l&&typeof l.length=="number")return{next:function(){return l&&h>=l.length&&(l=void 0),{value:l&&l[h++],done:!l}}};throw new TypeError(u?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(n,"__esModule",{value:!0}),n.ColorZoneStore=void 0;var s=function(){function l(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}return Object.defineProperty(l.prototype,"zones",{get:function(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones},enumerable:!1,configurable:!0}),l.prototype.clear=function(){this._zones.length=0,this._zonePoolIndex=0},l.prototype.addDecoration=function(u){var c,h;if(u.options.overviewRulerOptions){try{for(var v=a(this._zones),f=v.next();!f.done;f=v.next()){var m=f.value;if(m.color===u.options.overviewRulerOptions.color&&m.position===u.options.overviewRulerOptions.position){if(this._lineIntersectsZone(m,u.marker.line))return;if(this._lineAdjacentToZone(m,u.marker.line,u.options.overviewRulerOptions.position))return void this._addLineToZone(m,u.marker.line)}}}catch(_){c={error:_}}finally{try{f&&!f.done&&(h=v.return)&&h.call(v)}finally{if(c)throw c.error}}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=u.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=u.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=u.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=u.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:u.options.overviewRulerOptions.color,position:u.options.overviewRulerOptions.position,startBufferLine:u.marker.line,endBufferLine:u.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}},l.prototype.setPadding=function(u){this._linePadding=u},l.prototype._lineIntersectsZone=function(u,c){return c>=u.startBufferLine&&c<=u.endBufferLine},l.prototype._lineAdjacentToZone=function(u,c,h){return c>=u.startBufferLine-this._linePadding[h||"full"]&&c<=u.endBufferLine+this._linePadding[h||"full"]},l.prototype._addLineToZone=function(u,c){u.startBufferLine=Math.min(u.startBufferLine,c),u.endBufferLine=Math.max(u.endBufferLine,c)},l}();n.ColorZoneStore=s},5744:function(o,n,a){var s,l=this&&this.__extends||(s=function(x,w){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,S){C.__proto__=S}||function(C,S){for(var T in S)Object.prototype.hasOwnProperty.call(S,T)&&(C[T]=S[T])},s(x,w)},function(x,w){if(typeof w!="function"&&w!==null)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");function C(){this.constructor=x}s(x,w),x.prototype=w===null?Object.create(w):(C.prototype=w.prototype,new C)}),u=this&&this.__decorate||function(x,w,C,S){var T,M=arguments.length,D=M<3?w:S===null?S=Object.getOwnPropertyDescriptor(w,C):S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(x,w,C,S);else for(var k=x.length-1;k>=0;k--)(T=x[k])&&(D=(M<3?T(D):M>3?T(w,C,D):T(w,C))||D);return M>3&&D&&Object.defineProperty(w,C,D),D},c=this&&this.__param||function(x,w){return function(C,S){w(C,S,x)}},h=this&&this.__values||function(x){var w=typeof Symbol=="function"&&Symbol.iterator,C=w&&x[w],S=0;if(C)return C.call(x);if(x&&typeof x.length=="number")return{next:function(){return x&&S>=x.length&&(x=void 0),{value:x&&x[S++],done:!x}}};throw new TypeError(w?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(n,"__esModule",{value:!0}),n.OverviewRulerRenderer=void 0;var v=a(5871),f=a(3656),m=a(4725),_=a(844),g=a(2585),p={full:0,left:0,center:0,right:0},d={full:0,left:0,center:0,right:0},b={full:0,left:0,center:0,right:0},y=function(x){function w(C,S,T,M,D,k){var R,P=x.call(this)||this;P._viewportElement=C,P._screenElement=S,P._bufferService=T,P._decorationService=M,P._renderService=D,P._optionsService=k,P._colorZoneStore=new v.ColorZoneStore,P._shouldUpdateDimensions=!0,P._shouldUpdateAnchor=!0,P._lastKnownBufferLength=0,P._canvas=document.createElement("canvas"),P._canvas.classList.add("xterm-decoration-overview-ruler"),P._refreshCanvasDimensions(),(R=P._viewportElement.parentElement)===null||R===void 0||R.insertBefore(P._canvas,P._viewportElement);var E=P._canvas.getContext("2d");if(!E)throw new Error("Ctx cannot be null");return P._ctx=E,P._registerDecorationListeners(),P._registerBufferChangeListeners(),P._registerDimensionChangeListeners(),P}return l(w,x),Object.defineProperty(w.prototype,"_width",{get:function(){return this._optionsService.options.overviewRulerWidth||0},enumerable:!1,configurable:!0}),w.prototype._registerDecorationListeners=function(){var C=this;this.register(this._decorationService.onDecorationRegistered(function(){return C._queueRefresh(void 0,!0)})),this.register(this._decorationService.onDecorationRemoved(function(){return C._queueRefresh(void 0,!0)}))},w.prototype._registerBufferChangeListeners=function(){var C=this;this.register(this._renderService.onRenderedViewportChange(function(){return C._queueRefresh()})),this.register(this._bufferService.buffers.onBufferActivate(function(){C._canvas.style.display=C._bufferService.buffer===C._bufferService.buffers.alt?"none":"block"})),this.register(this._bufferService.onScroll(function(){C._lastKnownBufferLength!==C._bufferService.buffers.normal.lines.length&&(C._refreshDrawHeightConstants(),C._refreshColorZonePadding())}))},w.prototype._registerDimensionChangeListeners=function(){var C=this;this.register(this._renderService.onRender(function(){C._containerHeight&&C._containerHeight===C._screenElement.clientHeight||(C._queueRefresh(!0),C._containerHeight=C._screenElement.clientHeight)})),this.register(this._optionsService.onOptionChange(function(S){S==="overviewRulerWidth"&&C._queueRefresh(!0)})),this.register((0,f.addDisposableDomListener)(window,"resize",function(){C._queueRefresh(!0)})),this._queueRefresh(!0)},w.prototype.dispose=function(){var C;(C=this._canvas)===null||C===void 0||C.remove(),x.prototype.dispose.call(this)},w.prototype._refreshDrawConstants=function(){var C=Math.floor(this._canvas.width/3),S=Math.ceil(this._canvas.width/3);d.full=this._canvas.width,d.left=C,d.center=S,d.right=C,this._refreshDrawHeightConstants(),b.full=0,b.left=0,b.center=d.left,b.right=d.left+d.center},w.prototype._refreshDrawHeightConstants=function(){p.full=Math.round(2*window.devicePixelRatio);var C=this._canvas.height/this._bufferService.buffer.lines.length,S=Math.round(Math.max(Math.min(C,12),6)*window.devicePixelRatio);p.left=S,p.center=S,p.right=S},w.prototype._refreshColorZonePadding=function(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*p.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*p.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*p.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*p.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length},w.prototype._refreshCanvasDimensions=function(){this._canvas.style.width=this._width+"px",this._canvas.width=Math.round(this._width*window.devicePixelRatio),this._canvas.style.height=this._screenElement.clientHeight+"px",this._canvas.height=Math.round(this._screenElement.clientHeight*window.devicePixelRatio),this._refreshDrawConstants(),this._refreshColorZonePadding()},w.prototype._refreshDecorations=function(){var C,S,T,M,D,k;this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();try{for(var R=h(this._decorationService.decorations),P=R.next();!P.done;P=R.next()){var E=P.value;this._colorZoneStore.addDecoration(E)}}catch(H){C={error:H}}finally{try{P&&!P.done&&(S=R.return)&&S.call(R)}finally{if(C)throw C.error}}this._ctx.lineWidth=1;var O=this._colorZoneStore.zones;try{for(var I=h(O),U=I.next();!U.done;U=I.next())(z=U.value).position!=="full"&&this._renderColorZone(z)}catch(H){T={error:H}}finally{try{U&&!U.done&&(M=I.return)&&M.call(I)}finally{if(T)throw T.error}}try{for(var V=h(O),Z=V.next();!Z.done;Z=V.next()){var z;(z=Z.value).position==="full"&&this._renderColorZone(z)}}catch(H){D={error:H}}finally{try{Z&&!Z.done&&(k=V.return)&&k.call(V)}finally{if(D)throw D.error}}this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1},w.prototype._renderColorZone=function(C){this._ctx.fillStyle=C.color,this._ctx.fillRect(b[C.position||"full"],Math.round((this._canvas.height-1)*(C.startBufferLine/this._bufferService.buffers.active.lines.length)-p[C.position||"full"]/2),d[C.position||"full"],Math.round((this._canvas.height-1)*((C.endBufferLine-C.startBufferLine)/this._bufferService.buffers.active.lines.length)+p[C.position||"full"]))},w.prototype._queueRefresh=function(C,S){var T=this;this._shouldUpdateDimensions=C||this._shouldUpdateDimensions,this._shouldUpdateAnchor=S||this._shouldUpdateAnchor,this._animationFrame===void 0&&(this._animationFrame=window.requestAnimationFrame(function(){T._refreshDecorations(),T._animationFrame=void 0}))},u([c(2,g.IBufferService),c(3,g.IDecorationService),c(4,m.IRenderService),c(5,g.IOptionsService)],w)}(_.Disposable);n.OverviewRulerRenderer=y},2950:function(o,n,a){var s=this&&this.__decorate||function(v,f,m,_){var g,p=arguments.length,d=p<3?f:_===null?_=Object.getOwnPropertyDescriptor(f,m):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(v,f,m,_);else for(var b=v.length-1;b>=0;b--)(g=v[b])&&(d=(p<3?g(d):p>3?g(f,m,d):g(f,m))||d);return p>3&&d&&Object.defineProperty(f,m,d),d},l=this&&this.__param||function(v,f){return function(m,_){f(m,_,v)}};Object.defineProperty(n,"__esModule",{value:!0}),n.CompositionHelper=void 0;var u=a(4725),c=a(2585),h=function(){function v(f,m,_,g,p,d){this._textarea=f,this._compositionView=m,this._bufferService=_,this._optionsService=g,this._coreService=p,this._renderService=d,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}return Object.defineProperty(v.prototype,"isComposing",{get:function(){return this._isComposing},enumerable:!1,configurable:!0}),v.prototype.compositionstart=function(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")},v.prototype.compositionupdate=function(f){var m=this;this._compositionView.textContent=f.data,this.updateCompositionElements(),setTimeout(function(){m._compositionPosition.end=m._textarea.value.length},0)},v.prototype.compositionend=function(){this._finalizeComposition(!0)},v.prototype.keydown=function(f){if(this._isComposing||this._isSendingComposition){if(f.keyCode===229||f.keyCode===16||f.keyCode===17||f.keyCode===18)return!1;this._finalizeComposition(!1)}return f.keyCode!==229||(this._handleAnyTextareaChanges(),!1)},v.prototype._finalizeComposition=function(f){var m=this;if(this._compositionView.classList.remove("active"),this._isComposing=!1,f){var _={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(function(){if(m._isSendingComposition){m._isSendingComposition=!1;var p;_.start+=m._dataAlreadySent.length,(p=m._isComposing?m._textarea.value.substring(_.start,_.end):m._textarea.value.substring(_.start)).length>0&&m._coreService.triggerDataEvent(p,!0)}},0)}else{this._isSendingComposition=!1;var g=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(g,!0)}},v.prototype._handleAnyTextareaChanges=function(){var f=this,m=this._textarea.value;setTimeout(function(){if(!f._isComposing){var _=f._textarea.value.replace(m,"");_.length>0&&(f._dataAlreadySent=_,f._coreService.triggerDataEvent(_,!0))}},0)},v.prototype.updateCompositionElements=function(f){var m=this;if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){var _=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),g=this._renderService.dimensions.actualCellHeight,p=this._bufferService.buffer.y*this._renderService.dimensions.actualCellHeight,d=_*this._renderService.dimensions.actualCellWidth;this._compositionView.style.left=d+"px",this._compositionView.style.top=p+"px",this._compositionView.style.height=g+"px",this._compositionView.style.lineHeight=g+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";var b=this._compositionView.getBoundingClientRect();this._textarea.style.left=d+"px",this._textarea.style.top=p+"px",this._textarea.style.width=Math.max(b.width,1)+"px",this._textarea.style.height=Math.max(b.height,1)+"px",this._textarea.style.lineHeight=b.height+"px"}f||setTimeout(function(){return m.updateCompositionElements(!0)},0)}},s([l(2,c.IBufferService),l(3,c.IOptionsService),l(4,c.ICoreService),l(5,u.IRenderService)],v)}();n.CompositionHelper=h},9806:(o,n)=>{function a(s,l,u){var c=u.getBoundingClientRect(),h=s.getComputedStyle(u),v=parseInt(h.getPropertyValue("padding-left")),f=parseInt(h.getPropertyValue("padding-top"));return[l.clientX-c.left-v,l.clientY-c.top-f]}Object.defineProperty(n,"__esModule",{value:!0}),n.getRawByteCoords=n.getCoords=n.getCoordsRelativeToElement=void 0,n.getCoordsRelativeToElement=a,n.getCoords=function(s,l,u,c,h,v,f,m,_){if(v){var g=a(s,l,u);if(g)return g[0]=Math.ceil((g[0]+(_?f/2:0))/f),g[1]=Math.ceil(g[1]/m),g[0]=Math.min(Math.max(g[0],1),c+(_?1:0)),g[1]=Math.min(Math.max(g[1],1),h),g}},n.getRawByteCoords=function(s){if(s)return{x:s[0]+32,y:s[1]+32}}},9504:(o,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.moveToCellSequence=void 0;var s=a(2584);function l(m,_,g,p){var d=m-u(g,m),b=_-u(g,_),y=Math.abs(d-b)-function(x,w,C){for(var S=0,T=x-u(C,x),M=w-u(C,w),D=0;D<Math.abs(T-M);D++){var k=c(x,w)==="A"?-1:1,R=C.buffer.lines.get(T+k*D);R!=null&&R.isWrapped&&S++}return S}(m,_,g);return f(y,v(c(m,_),p))}function u(m,_){for(var g=0,p=m.buffer.lines.get(_),d=p==null?void 0:p.isWrapped;d&&_>=0&&_<m.rows;)g++,d=(p=m.buffer.lines.get(--_))==null?void 0:p.isWrapped;return g}function c(m,_){return m>_?"A":"B"}function h(m,_,g,p,d,b){for(var y=m,x=_,w="";y!==g||x!==p;)y+=d?1:-1,d&&y>b.cols-1?(w+=b.buffer.translateBufferLineToString(x,!1,m,y),y=0,m=0,x++):!d&&y<0&&(w+=b.buffer.translateBufferLineToString(x,!1,0,m+1),m=y=b.cols-1,x--);return w+b.buffer.translateBufferLineToString(x,!1,m,y)}function v(m,_){var g=_?"O":"[";return s.C0.ESC+g+m}function f(m,_){m=Math.floor(m);for(var g="",p=0;p<m;p++)g+=_;return g}n.moveToCellSequence=function(m,_,g,p){var d,b=g.buffer.x,y=g.buffer.y;if(!g.buffer.hasScrollback)return function(w,C,S,T,M,D){return l(C,T,M,D).length===0?"":f(h(w,C,w,C-u(M,C),!1,M).length,v("D",D))}(b,y,0,_,g,p)+l(y,_,g,p)+function(w,C,S,T,M,D){var k;k=l(C,T,M,D).length>0?T-u(M,T):C;var R=T,P=function(E,O,I,U,V,Z){var z;return z=l(I,U,V,Z).length>0?U-u(V,U):O,E<I&&z<=U||E>=I&&z<U?"C":"D"}(w,C,S,T,M,D);return f(h(w,k,S,R,P==="C",M).length,v(P,D))}(b,y,m,_,g,p);if(y===_)return d=b>m?"D":"C",f(Math.abs(b-m),v(d,p));d=y>_?"D":"C";var x=Math.abs(y-_);return f(function(w,C){return C.cols-w}(y>_?m:b,g)+(x-1)*g.cols+1+((y>_?b:m)-1),v(d,p))}},4389:function(o,n,a){var s=this&&this.__assign||function(){return s=Object.assign||function(p){for(var d,b=1,y=arguments.length;b<y;b++)for(var x in d=arguments[b])Object.prototype.hasOwnProperty.call(d,x)&&(p[x]=d[x]);return p},s.apply(this,arguments)},l=this&&this.__values||function(p){var d=typeof Symbol=="function"&&Symbol.iterator,b=d&&p[d],y=0;if(b)return b.call(p);if(p&&typeof p.length=="number")return{next:function(){return p&&y>=p.length&&(p=void 0),{value:p&&p[y++],done:!p}}};throw new TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(n,"__esModule",{value:!0}),n.Terminal=void 0;var u=a(3236),c=a(9042),h=a(7975),v=a(7090),f=a(5741),m=a(8285),_=["cols","rows"],g=function(){function p(d){var b=this;this._core=new u.Terminal(d),this._addonManager=new f.AddonManager,this._publicOptions=s({},this._core.options);var y=function(S){return b._core.options[S]},x=function(S,T){b._checkReadonlyOptions(S),b._core.options[S]=T};for(var w in this._core.options){var C={get:y.bind(this,w),set:x.bind(this,w)};Object.defineProperty(this._publicOptions,w,C)}}return p.prototype._checkReadonlyOptions=function(d){if(_.includes(d))throw new Error('Option "'+d+'" can only be set in the constructor')},p.prototype._checkProposedApi=function(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")},Object.defineProperty(p.prototype,"onBell",{get:function(){return this._core.onBell},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"onBinary",{get:function(){return this._core.onBinary},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"onCursorMove",{get:function(){return this._core.onCursorMove},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"onData",{get:function(){return this._core.onData},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"onKey",{get:function(){return this._core.onKey},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"onLineFeed",{get:function(){return this._core.onLineFeed},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"onRender",{get:function(){return this._core.onRender},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"onResize",{get:function(){return this._core.onResize},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"onScroll",{get:function(){return this._core.onScroll},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"onSelectionChange",{get:function(){return this._core.onSelectionChange},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"onTitleChange",{get:function(){return this._core.onTitleChange},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"onWriteParsed",{get:function(){return this._core.onWriteParsed},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"element",{get:function(){return this._core.element},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"parser",{get:function(){return this._checkProposedApi(),this._parser||(this._parser=new h.ParserApi(this._core)),this._parser},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"unicode",{get:function(){return this._checkProposedApi(),new v.UnicodeApi(this._core)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"textarea",{get:function(){return this._core.textarea},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"rows",{get:function(){return this._core.rows},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"cols",{get:function(){return this._core.cols},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"buffer",{get:function(){return this._checkProposedApi(),this._buffer||(this._buffer=new m.BufferNamespaceApi(this._core)),this._buffer},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"markers",{get:function(){return this._checkProposedApi(),this._core.markers},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"modes",{get:function(){var d=this._core.coreService.decPrivateModes,b="none";switch(this._core.coreMouseService.activeProtocol){case"X10":b="x10";break;case"VT200":b="vt200";break;case"DRAG":b="drag";break;case"ANY":b="any"}return{applicationCursorKeysMode:d.applicationCursorKeys,applicationKeypadMode:d.applicationKeypad,bracketedPasteMode:d.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:b,originMode:d.origin,reverseWraparoundMode:d.reverseWraparound,sendFocusMode:d.sendFocus,wraparoundMode:d.wraparound}},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"options",{get:function(){return this._publicOptions},set:function(d){for(var b in d)this._publicOptions[b]=d[b]},enumerable:!1,configurable:!0}),p.prototype.blur=function(){this._core.blur()},p.prototype.focus=function(){this._core.focus()},p.prototype.resize=function(d,b){this._verifyIntegers(d,b),this._core.resize(d,b)},p.prototype.open=function(d){this._core.open(d)},p.prototype.attachCustomKeyEventHandler=function(d){this._core.attachCustomKeyEventHandler(d)},p.prototype.registerLinkMatcher=function(d,b,y){return this._checkProposedApi(),this._core.registerLinkMatcher(d,b,y)},p.prototype.deregisterLinkMatcher=function(d){this._checkProposedApi(),this._core.deregisterLinkMatcher(d)},p.prototype.registerLinkProvider=function(d){return this._checkProposedApi(),this._core.registerLinkProvider(d)},p.prototype.registerCharacterJoiner=function(d){return this._checkProposedApi(),this._core.registerCharacterJoiner(d)},p.prototype.deregisterCharacterJoiner=function(d){this._checkProposedApi(),this._core.deregisterCharacterJoiner(d)},p.prototype.registerMarker=function(d){return d===void 0&&(d=0),this._checkProposedApi(),this._verifyIntegers(d),this._core.addMarker(d)},p.prototype.registerDecoration=function(d){var b,y,x;return this._checkProposedApi(),this._verifyPositiveIntegers((b=d.x)!==null&&b!==void 0?b:0,(y=d.width)!==null&&y!==void 0?y:0,(x=d.height)!==null&&x!==void 0?x:0),this._core.registerDecoration(d)},p.prototype.addMarker=function(d){return this.registerMarker(d)},p.prototype.hasSelection=function(){return this._core.hasSelection()},p.prototype.select=function(d,b,y){this._verifyIntegers(d,b,y),this._core.select(d,b,y)},p.prototype.getSelection=function(){return this._core.getSelection()},p.prototype.getSelectionPosition=function(){return this._core.getSelectionPosition()},p.prototype.clearSelection=function(){this._core.clearSelection()},p.prototype.selectAll=function(){this._core.selectAll()},p.prototype.selectLines=function(d,b){this._verifyIntegers(d,b),this._core.selectLines(d,b)},p.prototype.dispose=function(){this._addonManager.dispose(),this._core.dispose()},p.prototype.scrollLines=function(d){this._verifyIntegers(d),this._core.scrollLines(d)},p.prototype.scrollPages=function(d){this._verifyIntegers(d),this._core.scrollPages(d)},p.prototype.scrollToTop=function(){this._core.scrollToTop()},p.prototype.scrollToBottom=function(){this._core.scrollToBottom()},p.prototype.scrollToLine=function(d){this._verifyIntegers(d),this._core.scrollToLine(d)},p.prototype.clear=function(){this._core.clear()},p.prototype.write=function(d,b){this._core.write(d,b)},p.prototype.writeUtf8=function(d,b){this._core.write(d,b)},p.prototype.writeln=function(d,b){this._core.write(d),this._core.write(`\r
`,b)},p.prototype.paste=function(d){this._core.paste(d)},p.prototype.getOption=function(d){return this._core.optionsService.getOption(d)},p.prototype.setOption=function(d,b){this._checkReadonlyOptions(d),this._core.optionsService.setOption(d,b)},p.prototype.refresh=function(d,b){this._verifyIntegers(d,b),this._core.refresh(d,b)},p.prototype.reset=function(){this._core.reset()},p.prototype.clearTextureAtlas=function(){this._core.clearTextureAtlas()},p.prototype.loadAddon=function(d){return this._addonManager.loadAddon(this,d)},Object.defineProperty(p,"strings",{get:function(){return c},enumerable:!1,configurable:!0}),p.prototype._verifyIntegers=function(){for(var d,b,y=[],x=0;x<arguments.length;x++)y[x]=arguments[x];try{for(var w=l(y),C=w.next();!C.done;C=w.next()){var S=C.value;if(S===1/0||isNaN(S)||S%1!=0)throw new Error("This API only accepts integers")}}catch(T){d={error:T}}finally{try{C&&!C.done&&(b=w.return)&&b.call(w)}finally{if(d)throw d.error}}},p.prototype._verifyPositiveIntegers=function(){for(var d,b,y=[],x=0;x<arguments.length;x++)y[x]=arguments[x];try{for(var w=l(y),C=w.next();!C.done;C=w.next()){var S=C.value;if(S&&(S===1/0||isNaN(S)||S%1!=0||S<0))throw new Error("This API only accepts positive integers")}}catch(T){d={error:T}}finally{try{C&&!C.done&&(b=w.return)&&b.call(w)}finally{if(d)throw d.error}}},p}();n.Terminal=g},1546:function(o,n,a){var s=this&&this.__values||function(p){var d=typeof Symbol=="function"&&Symbol.iterator,b=d&&p[d],y=0;if(b)return b.call(p);if(p&&typeof p.length=="number")return{next:function(){return p&&y>=p.length&&(p=void 0),{value:p&&p[y++],done:!p}}};throw new TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(n,"__esModule",{value:!0}),n.BaseRenderLayer=void 0;var l=a(643),u=a(8803),c=a(1420),h=a(3734),v=a(1752),f=a(8055),m=a(9631),_=a(8978),g=function(){function p(d,b,y,x,w,C,S,T,M){this._container=d,this._alpha=x,this._colors=w,this._rendererId=C,this._bufferService=S,this._optionsService=T,this._decorationService=M,this._scaledCharWidth=0,this._scaledCharHeight=0,this._scaledCellWidth=0,this._scaledCellHeight=0,this._scaledCharLeft=0,this._scaledCharTop=0,this._columnSelectMode=!1,this._currentGlyphIdentifier={chars:"",code:0,bg:0,fg:0,bold:!1,dim:!1,italic:!1},this._canvas=document.createElement("canvas"),this._canvas.classList.add("xterm-"+b+"-layer"),this._canvas.style.zIndex=y.toString(),this._initCanvas(),this._container.appendChild(this._canvas)}return p.prototype.dispose=function(){var d;(0,m.removeElementFromParent)(this._canvas),(d=this._charAtlas)===null||d===void 0||d.dispose()},p.prototype._initCanvas=function(){this._ctx=(0,v.throwIfFalsy)(this._canvas.getContext("2d",{alpha:this._alpha})),this._alpha||this._clearAll()},p.prototype.onOptionsChanged=function(){},p.prototype.onBlur=function(){},p.prototype.onFocus=function(){},p.prototype.onCursorMove=function(){},p.prototype.onGridChanged=function(d,b){},p.prototype.onSelectionChanged=function(d,b,y){y===void 0&&(y=!1),this._selectionStart=d,this._selectionEnd=b,this._columnSelectMode=y},p.prototype.setColors=function(d){this._refreshCharAtlas(d)},p.prototype._setTransparency=function(d){if(d!==this._alpha){var b=this._canvas;this._alpha=d,this._canvas=this._canvas.cloneNode(),this._initCanvas(),this._container.replaceChild(this._canvas,b),this._refreshCharAtlas(this._colors),this.onGridChanged(0,this._bufferService.rows-1)}},p.prototype._refreshCharAtlas=function(d){this._scaledCharWidth<=0&&this._scaledCharHeight<=0||(this._charAtlas=(0,c.acquireCharAtlas)(this._optionsService.rawOptions,this._rendererId,d,this._scaledCharWidth,this._scaledCharHeight),this._charAtlas.warmUp())},p.prototype.resize=function(d){this._scaledCellWidth=d.scaledCellWidth,this._scaledCellHeight=d.scaledCellHeight,this._scaledCharWidth=d.scaledCharWidth,this._scaledCharHeight=d.scaledCharHeight,this._scaledCharLeft=d.scaledCharLeft,this._scaledCharTop=d.scaledCharTop,this._canvas.width=d.scaledCanvasWidth,this._canvas.height=d.scaledCanvasHeight,this._canvas.style.width=d.canvasWidth+"px",this._canvas.style.height=d.canvasHeight+"px",this._alpha||this._clearAll(),this._refreshCharAtlas(this._colors)},p.prototype.clearTextureAtlas=function(){var d;(d=this._charAtlas)===null||d===void 0||d.clear()},p.prototype._fillCells=function(d,b,y,x){this._ctx.fillRect(d*this._scaledCellWidth,b*this._scaledCellHeight,y*this._scaledCellWidth,x*this._scaledCellHeight)},p.prototype._fillMiddleLineAtCells=function(d,b,y){y===void 0&&(y=1);var x=Math.ceil(.5*this._scaledCellHeight);this._ctx.fillRect(d*this._scaledCellWidth,(b+1)*this._scaledCellHeight-x-window.devicePixelRatio,y*this._scaledCellWidth,window.devicePixelRatio)},p.prototype._fillBottomLineAtCells=function(d,b,y){y===void 0&&(y=1),this._ctx.fillRect(d*this._scaledCellWidth,(b+1)*this._scaledCellHeight-window.devicePixelRatio-1,y*this._scaledCellWidth,window.devicePixelRatio)},p.prototype._fillLeftLineAtCell=function(d,b,y){this._ctx.fillRect(d*this._scaledCellWidth,b*this._scaledCellHeight,window.devicePixelRatio*y,this._scaledCellHeight)},p.prototype._strokeRectAtCell=function(d,b,y,x){this._ctx.lineWidth=window.devicePixelRatio,this._ctx.strokeRect(d*this._scaledCellWidth+window.devicePixelRatio/2,b*this._scaledCellHeight+window.devicePixelRatio/2,y*this._scaledCellWidth-window.devicePixelRatio,x*this._scaledCellHeight-window.devicePixelRatio)},p.prototype._clearAll=function(){this._alpha?this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height):(this._ctx.fillStyle=this._colors.background.css,this._ctx.fillRect(0,0,this._canvas.width,this._canvas.height))},p.prototype._clearCells=function(d,b,y,x){this._alpha?this._ctx.clearRect(d*this._scaledCellWidth,b*this._scaledCellHeight,y*this._scaledCellWidth,x*this._scaledCellHeight):(this._ctx.fillStyle=this._colors.background.css,this._ctx.fillRect(d*this._scaledCellWidth,b*this._scaledCellHeight,y*this._scaledCellWidth,x*this._scaledCellHeight))},p.prototype._fillCharTrueColor=function(d,b,y){this._ctx.font=this._getFont(!1,!1),this._ctx.textBaseline=u.TEXT_BASELINE,this._clipRow(y);var x=!1;this._optionsService.rawOptions.customGlyphs!==!1&&(x=(0,_.tryDrawCustomChar)(this._ctx,d.getChars(),b*this._scaledCellWidth,y*this._scaledCellHeight,this._scaledCellWidth,this._scaledCellHeight)),x||this._ctx.fillText(d.getChars(),b*this._scaledCellWidth+this._scaledCharLeft,y*this._scaledCellHeight+this._scaledCharTop+this._scaledCharHeight)},p.prototype._drawChars=function(d,b,y){var x,w,C,S=this._getContrastColor(d,b,y);if(S||d.isFgRGB()||d.isBgRGB())this._drawUncachedChars(d,b,y,S);else{var T,M;d.isInverse()?(T=d.isBgDefault()?u.INVERTED_DEFAULT_COLOR:d.getBgColor(),M=d.isFgDefault()?u.INVERTED_DEFAULT_COLOR:d.getFgColor()):(M=d.isBgDefault()?l.DEFAULT_COLOR:d.getBgColor(),T=d.isFgDefault()?l.DEFAULT_COLOR:d.getFgColor()),T+=this._optionsService.rawOptions.drawBoldTextInBrightColors&&d.isBold()&&T<8?8:0,this._currentGlyphIdentifier.chars=d.getChars()||l.WHITESPACE_CELL_CHAR,this._currentGlyphIdentifier.code=d.getCode()||l.WHITESPACE_CELL_CODE,this._currentGlyphIdentifier.bg=M,this._currentGlyphIdentifier.fg=T,this._currentGlyphIdentifier.bold=!!d.isBold(),this._currentGlyphIdentifier.dim=!!d.isDim(),this._currentGlyphIdentifier.italic=!!d.isItalic();var D=!1;try{for(var k=s(this._decorationService.getDecorationsAtCell(b,y)),R=k.next();!R.done;R=k.next()){var P=R.value;if(P.backgroundColorRGB||P.foregroundColorRGB){D=!0;break}}}catch(E){x={error:E}}finally{try{R&&!R.done&&(w=k.return)&&w.call(k)}finally{if(x)throw x.error}}!D&&(!((C=this._charAtlas)===null||C===void 0)&&C.draw(this._ctx,this._currentGlyphIdentifier,b*this._scaledCellWidth+this._scaledCharLeft,y*this._scaledCellHeight+this._scaledCharTop))||this._drawUncachedChars(d,b,y)}},p.prototype._drawUncachedChars=function(d,b,y,x){if(this._ctx.save(),this._ctx.font=this._getFont(!!d.isBold(),!!d.isItalic()),this._ctx.textBaseline=u.TEXT_BASELINE,d.isInverse())if(x)this._ctx.fillStyle=x.css;else if(d.isBgDefault())this._ctx.fillStyle=f.color.opaque(this._colors.background).css;else if(d.isBgRGB())this._ctx.fillStyle="rgb("+h.AttributeData.toColorRGB(d.getBgColor()).join(",")+")";else{var w=d.getBgColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&d.isBold()&&w<8&&(w+=8),this._ctx.fillStyle=this._colors.ansi[w].css}else if(x)this._ctx.fillStyle=x.css;else if(d.isFgDefault())this._ctx.fillStyle=this._colors.foreground.css;else if(d.isFgRGB())this._ctx.fillStyle="rgb("+h.AttributeData.toColorRGB(d.getFgColor()).join(",")+")";else{var C=d.getFgColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&d.isBold()&&C<8&&(C+=8),this._ctx.fillStyle=this._colors.ansi[C].css}this._clipRow(y),d.isDim()&&(this._ctx.globalAlpha=u.DIM_OPACITY);var S=!1;this._optionsService.rawOptions.customGlyphs!==!1&&(S=(0,_.tryDrawCustomChar)(this._ctx,d.getChars(),b*this._scaledCellWidth,y*this._scaledCellHeight,this._scaledCellWidth,this._scaledCellHeight)),S||this._ctx.fillText(d.getChars(),b*this._scaledCellWidth+this._scaledCharLeft,y*this._scaledCellHeight+this._scaledCharTop+this._scaledCharHeight),this._ctx.restore()},p.prototype._clipRow=function(d){this._ctx.beginPath(),this._ctx.rect(0,d*this._scaledCellHeight,this._bufferService.cols*this._scaledCellWidth,this._scaledCellHeight),this._ctx.clip()},p.prototype._getFont=function(d,b){return(b?"italic":"")+" "+(d?this._optionsService.rawOptions.fontWeightBold:this._optionsService.rawOptions.fontWeight)+" "+this._optionsService.rawOptions.fontSize*window.devicePixelRatio+"px "+this._optionsService.rawOptions.fontFamily},p.prototype._getContrastColor=function(d,b,y){var x,w,C,S,T=!1;try{for(var M=s(this._decorationService.getDecorationsAtCell(b,y)),D=M.next();!D.done;D=M.next()){var k=D.value;k.options.layer!=="top"&&T||(k.backgroundColorRGB&&(C=k.backgroundColorRGB.rgba),k.foregroundColorRGB&&(S=k.foregroundColorRGB.rgba),T=k.options.layer==="top")}}catch(K){x={error:K}}finally{try{D&&!D.done&&(w=M.return)&&w.call(M)}finally{if(x)throw x.error}}if(T||this._colors.selectionForeground&&this._isCellInSelection(b,y)&&(S=this._colors.selectionForeground.rgba),C||S||this._optionsService.rawOptions.minimumContrastRatio!==1&&!(0,v.excludeFromContrastRatioDemands)(d.getCode())){if(!C&&!S){var R=this._colors.contrastCache.getColor(d.bg,d.fg);if(R!==void 0)return R||void 0}var P=d.getFgColor(),E=d.getFgColorMode(),O=d.getBgColor(),I=d.getBgColorMode(),U=!!d.isInverse(),V=!!d.isInverse();if(U){var Z=P;P=O,O=Z;var z=E;E=I,I=z}var H=this._resolveBackgroundRgba(C!==void 0?50331648:I,C??O,U),B=this._resolveForegroundRgba(E,P,U,V),W=f.rgba.ensureContrastRatio(C??H,S??B,this._optionsService.rawOptions.minimumContrastRatio);if(!W){if(!S)return void this._colors.contrastCache.setColor(d.bg,d.fg,null);W=S}var F={css:f.channels.toCss(W>>24&255,W>>16&255,W>>8&255),rgba:W};return C||S||this._colors.contrastCache.setColor(d.bg,d.fg,F),F}},p.prototype._resolveBackgroundRgba=function(d,b,y){switch(d){case 16777216:case 33554432:return this._colors.ansi[b].rgba;case 50331648:return b<<8;default:return y?this._colors.foreground.rgba:this._colors.background.rgba}},p.prototype._resolveForegroundRgba=function(d,b,y,x){switch(d){case 16777216:case 33554432:return this._optionsService.rawOptions.drawBoldTextInBrightColors&&x&&b<8&&(b+=8),this._colors.ansi[b].rgba;case 50331648:return b<<8;default:return y?this._colors.background.rgba:this._colors.foreground.rgba}},p.prototype._isCellInSelection=function(d,b){var y=this._selectionStart,x=this._selectionEnd;return!(!y||!x)&&(this._columnSelectMode?d>=y[0]&&b>=y[1]&&d<x[0]&&b<x[1]:b>y[1]&&b<x[1]||y[1]===x[1]&&b===y[1]&&d>=y[0]&&d<x[0]||y[1]<x[1]&&b===x[1]&&d<x[0]||y[1]<x[1]&&b===y[1]&&d>=y[0])},p}();n.BaseRenderLayer=g},2512:function(o,n,a){var s,l=this&&this.__extends||(s=function(d,b){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,x){y.__proto__=x}||function(y,x){for(var w in x)Object.prototype.hasOwnProperty.call(x,w)&&(y[w]=x[w])},s(d,b)},function(d,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function y(){this.constructor=d}s(d,b),d.prototype=b===null?Object.create(b):(y.prototype=b.prototype,new y)}),u=this&&this.__decorate||function(d,b,y,x){var w,C=arguments.length,S=C<3?b:x===null?x=Object.getOwnPropertyDescriptor(b,y):x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(d,b,y,x);else for(var T=d.length-1;T>=0;T--)(w=d[T])&&(S=(C<3?w(S):C>3?w(b,y,S):w(b,y))||S);return C>3&&S&&Object.defineProperty(b,y,S),S},c=this&&this.__param||function(d,b){return function(y,x){b(y,x,d)}};Object.defineProperty(n,"__esModule",{value:!0}),n.CursorRenderLayer=void 0;var h=a(1546),v=a(511),f=a(2585),m=a(4725),_=600,g=function(d){function b(y,x,w,C,S,T,M,D,k,R){var P=d.call(this,y,"cursor",x,!0,w,C,T,M,R)||this;return P._onRequestRedraw=S,P._coreService=D,P._coreBrowserService=k,P._cell=new v.CellData,P._state={x:0,y:0,isFocused:!1,style:"",width:0},P._cursorRenderers={bar:P._renderBarCursor.bind(P),block:P._renderBlockCursor.bind(P),underline:P._renderUnderlineCursor.bind(P)},P}return l(b,d),b.prototype.dispose=function(){this._cursorBlinkStateManager&&(this._cursorBlinkStateManager.dispose(),this._cursorBlinkStateManager=void 0),d.prototype.dispose.call(this)},b.prototype.resize=function(y){d.prototype.resize.call(this,y),this._state={x:0,y:0,isFocused:!1,style:"",width:0}},b.prototype.reset=function(){var y;this._clearCursor(),(y=this._cursorBlinkStateManager)===null||y===void 0||y.restartBlinkAnimation(),this.onOptionsChanged()},b.prototype.onBlur=function(){var y;(y=this._cursorBlinkStateManager)===null||y===void 0||y.pause(),this._onRequestRedraw.fire({start:this._bufferService.buffer.y,end:this._bufferService.buffer.y})},b.prototype.onFocus=function(){var y;(y=this._cursorBlinkStateManager)===null||y===void 0||y.resume(),this._onRequestRedraw.fire({start:this._bufferService.buffer.y,end:this._bufferService.buffer.y})},b.prototype.onOptionsChanged=function(){var y,x=this;this._optionsService.rawOptions.cursorBlink?this._cursorBlinkStateManager||(this._cursorBlinkStateManager=new p(this._coreBrowserService.isFocused,function(){x._render(!0)})):((y=this._cursorBlinkStateManager)===null||y===void 0||y.dispose(),this._cursorBlinkStateManager=void 0),this._onRequestRedraw.fire({start:this._bufferService.buffer.y,end:this._bufferService.buffer.y})},b.prototype.onCursorMove=function(){var y;(y=this._cursorBlinkStateManager)===null||y===void 0||y.restartBlinkAnimation()},b.prototype.onGridChanged=function(y,x){!this._cursorBlinkStateManager||this._cursorBlinkStateManager.isPaused?this._render(!1):this._cursorBlinkStateManager.restartBlinkAnimation()},b.prototype._render=function(y){if(this._coreService.isCursorInitialized&&!this._coreService.isCursorHidden){var x=this._bufferService.buffer.ybase+this._bufferService.buffer.y,w=x-this._bufferService.buffer.ydisp;if(w<0||w>=this._bufferService.rows)this._clearCursor();else{var C=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1);if(this._bufferService.buffer.lines.get(x).loadCell(C,this._cell),this._cell.content!==void 0){if(!this._coreBrowserService.isFocused){this._clearCursor(),this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css;var S=this._optionsService.rawOptions.cursorStyle;return S&&S!=="block"?this._cursorRenderers[S](C,w,this._cell):this._renderBlurCursor(C,w,this._cell),this._ctx.restore(),this._state.x=C,this._state.y=w,this._state.isFocused=!1,this._state.style=S,void(this._state.width=this._cell.getWidth())}if(!this._cursorBlinkStateManager||this._cursorBlinkStateManager.isCursorVisible){if(this._state){if(this._state.x===C&&this._state.y===w&&this._state.isFocused===this._coreBrowserService.isFocused&&this._state.style===this._optionsService.rawOptions.cursorStyle&&this._state.width===this._cell.getWidth())return;this._clearCursor()}this._ctx.save(),this._cursorRenderers[this._optionsService.rawOptions.cursorStyle||"block"](C,w,this._cell),this._ctx.restore(),this._state.x=C,this._state.y=w,this._state.isFocused=!1,this._state.style=this._optionsService.rawOptions.cursorStyle,this._state.width=this._cell.getWidth()}else this._clearCursor()}}}else this._clearCursor()},b.prototype._clearCursor=function(){this._state&&(window.devicePixelRatio<1?this._clearAll():this._clearCells(this._state.x,this._state.y,this._state.width,1),this._state={x:0,y:0,isFocused:!1,style:"",width:0})},b.prototype._renderBarCursor=function(y,x,w){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css,this._fillLeftLineAtCell(y,x,this._optionsService.rawOptions.cursorWidth),this._ctx.restore()},b.prototype._renderBlockCursor=function(y,x,w){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css,this._fillCells(y,x,w.getWidth(),1),this._ctx.fillStyle=this._colors.cursorAccent.css,this._fillCharTrueColor(w,y,x),this._ctx.restore()},b.prototype._renderUnderlineCursor=function(y,x,w){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css,this._fillBottomLineAtCells(y,x),this._ctx.restore()},b.prototype._renderBlurCursor=function(y,x,w){this._ctx.save(),this._ctx.strokeStyle=this._colors.cursor.css,this._strokeRectAtCell(y,x,w.getWidth(),1),this._ctx.restore()},u([c(5,f.IBufferService),c(6,f.IOptionsService),c(7,f.ICoreService),c(8,m.ICoreBrowserService),c(9,f.IDecorationService)],b)}(h.BaseRenderLayer);n.CursorRenderLayer=g;var p=function(){function d(b,y){this._renderCallback=y,this.isCursorVisible=!0,b&&this._restartInterval()}return Object.defineProperty(d.prototype,"isPaused",{get:function(){return!(this._blinkStartTimeout||this._blinkInterval)},enumerable:!1,configurable:!0}),d.prototype.dispose=function(){this._blinkInterval&&(window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout&&(window.clearTimeout(this._blinkStartTimeout),this._blinkStartTimeout=void 0),this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)},d.prototype.restartBlinkAnimation=function(){var b=this;this.isPaused||(this._animationTimeRestarted=Date.now(),this.isCursorVisible=!0,this._animationFrame||(this._animationFrame=window.requestAnimationFrame(function(){b._renderCallback(),b._animationFrame=void 0})))},d.prototype._restartInterval=function(b){var y=this;b===void 0&&(b=_),this._blinkInterval&&(window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout=window.setTimeout(function(){if(y._animationTimeRestarted){var x=_-(Date.now()-y._animationTimeRestarted);if(y._animationTimeRestarted=void 0,x>0)return void y._restartInterval(x)}y.isCursorVisible=!1,y._animationFrame=window.requestAnimationFrame(function(){y._renderCallback(),y._animationFrame=void 0}),y._blinkInterval=window.setInterval(function(){if(y._animationTimeRestarted){var w=_-(Date.now()-y._animationTimeRestarted);return y._animationTimeRestarted=void 0,void y._restartInterval(w)}y.isCursorVisible=!y.isCursorVisible,y._animationFrame=window.requestAnimationFrame(function(){y._renderCallback(),y._animationFrame=void 0})},_)},b)},d.prototype.pause=function(){this.isCursorVisible=!0,this._blinkInterval&&(window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout&&(window.clearTimeout(this._blinkStartTimeout),this._blinkStartTimeout=void 0),this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)},d.prototype.resume=function(){this.pause(),this._animationTimeRestarted=void 0,this._restartInterval(),this.restartBlinkAnimation()},d}()},8978:function(o,n,a){var s,l,u,c,h,v,f,m,_,g,p,d,b,y,x,w,C,S,T,M,D,k,R,P,E,O,I,U,V,Z,z,H,B,W,F,K,fe,se,ee,ie,J,te,L,N,G,Y,j,Q,q,re,ue,de,me,pe,ge,Te,He,Oe,tt,Le,De,Se,ze,Ke,_t,Qe,et,rt,ft,bt,Ft,ct,nt,at,It,zt,be,Me,Ue,ce,Ce,Ae,ke,xe,ye,Ee,$e,Ie,Be,st,gt,wt,Wt,Yt,qt,Bt,Ut,Nt,dt,Vt,Gt,rr,Jt,Dt,er,tr,he,le,Ne,Fe,We,Ze,Ve,je,ut,St,Pt,lt,yt,Ot,At,mt,Et,jt,Lt,Ht,Kt,Xt,$t=this&&this.__read||function(Mt,Rt){var Lr=typeof Symbol=="function"&&Mt[Symbol.iterator];if(!Lr)return Mt;var kr,jr,un=Lr.call(Mt),on=[];try{for(;(Rt===void 0||Rt-- >0)&&!(kr=un.next()).done;)on.push(kr.value)}catch(zr){jr={error:zr}}finally{try{kr&&!kr.done&&(Lr=un.return)&&Lr.call(un)}finally{if(jr)throw jr.error}}return on},ar=this&&this.__values||function(Mt){var Rt=typeof Symbol=="function"&&Symbol.iterator,Lr=Rt&&Mt[Rt],kr=0;if(Lr)return Lr.call(Mt);if(Mt&&typeof Mt.length=="number")return{next:function(){return Mt&&kr>=Mt.length&&(Mt=void 0),{value:Mt&&Mt[kr++],done:!Mt}}};throw new TypeError(Rt?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(n,"__esModule",{value:!0}),n.tryDrawCustomChar=n.powerlineDefinitions=n.boxDrawingDefinitions=n.blockElementDefinitions=void 0;var ir=a(1752);n.blockElementDefinitions={"▀":[{x:0,y:0,w:8,h:4}],"▁":[{x:0,y:7,w:8,h:1}],"▂":[{x:0,y:6,w:8,h:2}],"▃":[{x:0,y:5,w:8,h:3}],"▄":[{x:0,y:4,w:8,h:4}],"▅":[{x:0,y:3,w:8,h:5}],"▆":[{x:0,y:2,w:8,h:6}],"▇":[{x:0,y:1,w:8,h:7}],"█":[{x:0,y:0,w:8,h:8}],"▉":[{x:0,y:0,w:7,h:8}],"▊":[{x:0,y:0,w:6,h:8}],"▋":[{x:0,y:0,w:5,h:8}],"▌":[{x:0,y:0,w:4,h:8}],"▍":[{x:0,y:0,w:3,h:8}],"▎":[{x:0,y:0,w:2,h:8}],"▏":[{x:0,y:0,w:1,h:8}],"▐":[{x:4,y:0,w:4,h:8}],"▔":[{x:0,y:0,w:9,h:1}],"▕":[{x:7,y:0,w:1,h:8}],"▖":[{x:0,y:4,w:4,h:4}],"▗":[{x:4,y:4,w:4,h:4}],"▘":[{x:0,y:0,w:4,h:4}],"▙":[{x:0,y:0,w:4,h:8},{x:0,y:4,w:8,h:4}],"▚":[{x:0,y:0,w:4,h:4},{x:4,y:4,w:4,h:4}],"▛":[{x:0,y:0,w:4,h:8},{x:0,y:0,w:4,h:8}],"▜":[{x:0,y:0,w:8,h:4},{x:4,y:0,w:4,h:8}],"▝":[{x:4,y:0,w:4,h:4}],"▞":[{x:4,y:0,w:4,h:4},{x:0,y:4,w:4,h:4}],"▟":[{x:4,y:0,w:4,h:8},{x:0,y:4,w:8,h:4}],"🭰":[{x:1,y:0,w:1,h:8}],"🭱":[{x:2,y:0,w:1,h:8}],"🭲":[{x:3,y:0,w:1,h:8}],"🭳":[{x:4,y:0,w:1,h:8}],"🭴":[{x:5,y:0,w:1,h:8}],"🭵":[{x:6,y:0,w:1,h:8}],"🭶":[{x:0,y:1,w:8,h:1}],"🭷":[{x:0,y:2,w:8,h:1}],"🭸":[{x:0,y:3,w:8,h:1}],"🭹":[{x:0,y:4,w:8,h:1}],"🭺":[{x:0,y:5,w:8,h:1}],"🭻":[{x:0,y:6,w:8,h:1}],"🭼":[{x:0,y:0,w:1,h:8},{x:0,y:7,w:8,h:1}],"🭽":[{x:0,y:0,w:1,h:8},{x:0,y:0,w:8,h:1}],"🭾":[{x:7,y:0,w:1,h:8},{x:0,y:0,w:8,h:1}],"🭿":[{x:7,y:0,w:1,h:8},{x:0,y:7,w:8,h:1}],"🮀":[{x:0,y:0,w:8,h:1},{x:0,y:7,w:8,h:1}],"🮁":[{x:0,y:0,w:8,h:1},{x:0,y:2,w:8,h:1},{x:0,y:4,w:8,h:1},{x:0,y:7,w:8,h:1}],"🮂":[{x:0,y:0,w:8,h:2}],"🮃":[{x:0,y:0,w:8,h:3}],"🮄":[{x:0,y:0,w:8,h:5}],"🮅":[{x:0,y:0,w:8,h:6}],"🮆":[{x:0,y:0,w:8,h:7}],"🮇":[{x:6,y:0,w:2,h:8}],"🮈":[{x:5,y:0,w:3,h:8}],"🮉":[{x:3,y:0,w:5,h:8}],"🮊":[{x:2,y:0,w:6,h:8}],"🮋":[{x:1,y:0,w:7,h:8}],"🮕":[{x:0,y:0,w:2,h:2},{x:4,y:0,w:2,h:2},{x:2,y:2,w:2,h:2},{x:6,y:2,w:2,h:2},{x:0,y:4,w:2,h:2},{x:4,y:4,w:2,h:2},{x:2,y:6,w:2,h:2},{x:6,y:6,w:2,h:2}],"🮖":[{x:2,y:0,w:2,h:2},{x:6,y:0,w:2,h:2},{x:0,y:2,w:2,h:2},{x:4,y:2,w:2,h:2},{x:2,y:4,w:2,h:2},{x:6,y:4,w:2,h:2},{x:0,y:6,w:2,h:2},{x:4,y:6,w:2,h:2}],"🮗":[{x:0,y:2,w:8,h:2},{x:0,y:6,w:8,h:2}]};var cr={"░":[[1,0,0,0],[0,0,0,0],[0,0,1,0],[0,0,0,0]],"▒":[[1,0],[0,0],[0,1],[0,0]],"▓":[[0,1],[1,1],[1,0],[1,1]]};n.boxDrawingDefinitions={"─":(s={},s[1]="M0,.5 L1,.5",s),"━":(l={},l[3]="M0,.5 L1,.5",l),"│":(u={},u[1]="M.5,0 L.5,1",u),"┃":(c={},c[3]="M.5,0 L.5,1",c),"┌":(h={},h[1]="M0.5,1 L.5,.5 L1,.5",h),"┏":(v={},v[3]="M0.5,1 L.5,.5 L1,.5",v),"┐":(f={},f[1]="M0,.5 L.5,.5 L.5,1",f),"┓":(m={},m[3]="M0,.5 L.5,.5 L.5,1",m),"└":(_={},_[1]="M.5,0 L.5,.5 L1,.5",_),"┗":(g={},g[3]="M.5,0 L.5,.5 L1,.5",g),"┘":(p={},p[1]="M.5,0 L.5,.5 L0,.5",p),"┛":(d={},d[3]="M.5,0 L.5,.5 L0,.5",d),"├":(b={},b[1]="M.5,0 L.5,1 M.5,.5 L1,.5",b),"┣":(y={},y[3]="M.5,0 L.5,1 M.5,.5 L1,.5",y),"┤":(x={},x[1]="M.5,0 L.5,1 M.5,.5 L0,.5",x),"┫":(w={},w[3]="M.5,0 L.5,1 M.5,.5 L0,.5",w),"┬":(C={},C[1]="M0,.5 L1,.5 M.5,.5 L.5,1",C),"┳":(S={},S[3]="M0,.5 L1,.5 M.5,.5 L.5,1",S),"┴":(T={},T[1]="M0,.5 L1,.5 M.5,.5 L.5,0",T),"┻":(M={},M[3]="M0,.5 L1,.5 M.5,.5 L.5,0",M),"┼":(D={},D[1]="M0,.5 L1,.5 M.5,0 L.5,1",D),"╋":(k={},k[3]="M0,.5 L1,.5 M.5,0 L.5,1",k),"╴":(R={},R[1]="M.5,.5 L0,.5",R),"╸":(P={},P[3]="M.5,.5 L0,.5",P),"╵":(E={},E[1]="M.5,.5 L.5,0",E),"╹":(O={},O[3]="M.5,.5 L.5,0",O),"╶":(I={},I[1]="M.5,.5 L1,.5",I),"╺":(U={},U[3]="M.5,.5 L1,.5",U),"╷":(V={},V[1]="M.5,.5 L.5,1",V),"╻":(Z={},Z[3]="M.5,.5 L.5,1",Z),"═":(z={},z[1]=function(Mt,Rt){return"M0,"+(.5-Rt)+" L1,"+(.5-Rt)+" M0,"+(.5+Rt)+" L1,"+(.5+Rt)},z),"║":(H={},H[1]=function(Mt,Rt){return"M"+(.5-Mt)+",0 L"+(.5-Mt)+",1 M"+(.5+Mt)+",0 L"+(.5+Mt)+",1"},H),"╒":(B={},B[1]=function(Mt,Rt){return"M.5,1 L.5,"+(.5-Rt)+" L1,"+(.5-Rt)+" M.5,"+(.5+Rt)+" L1,"+(.5+Rt)},B),"╓":(W={},W[1]=function(Mt,Rt){return"M"+(.5-Mt)+",1 L"+(.5-Mt)+",.5 L1,.5 M"+(.5+Mt)+",.5 L"+(.5+Mt)+",1"},W),"╔":(F={},F[1]=function(Mt,Rt){return"M1,"+(.5-Rt)+" L"+(.5-Mt)+","+(.5-Rt)+" L"+(.5-Mt)+",1 M1,"+(.5+Rt)+" L"+(.5+Mt)+","+(.5+Rt)+" L"+(.5+Mt)+",1"},F),"╕":(K={},K[1]=function(Mt,Rt){return"M0,"+(.5-Rt)+" L.5,"+(.5-Rt)+" L.5,1 M0,"+(.5+Rt)+" L.5,"+(.5+Rt)},K),"╖":(fe={},fe[1]=function(Mt,Rt){return"M"+(.5+Mt)+",1 L"+(.5+Mt)+",.5 L0,.5 M"+(.5-Mt)+",.5 L"+(.5-Mt)+",1"},fe),"╗":(se={},se[1]=function(Mt,Rt){return"M0,"+(.5+Rt)+" L"+(.5-Mt)+","+(.5+Rt)+" L"+(.5-Mt)+",1 M0,"+(.5-Rt)+" L"+(.5+Mt)+","+(.5-Rt)+" L"+(.5+Mt)+",1"},se),"╘":(ee={},ee[1]=function(Mt,Rt){return"M.5,0 L.5,"+(.5+Rt)+" L1,"+(.5+Rt)+" M.5,"+(.5-Rt)+" L1,"+(.5-Rt)},ee),"╙":(ie={},ie[1]=function(Mt,Rt){return"M1,.5 L"+(.5-Mt)+",.5 L"+(.5-Mt)+",0 M"+(.5+Mt)+",.5 L"+(.5+Mt)+",0"},ie),"╚":(J={},J[1]=function(Mt,Rt){return"M1,"+(.5-Rt)+" L"+(.5+Mt)+","+(.5-Rt)+" L"+(.5+Mt)+",0 M1,"+(.5+Rt)+" L"+(.5-Mt)+","+(.5+Rt)+" L"+(.5-Mt)+",0"},J),"╛":(te={},te[1]=function(Mt,Rt){return"M0,"+(.5+Rt)+" L.5,"+(.5+Rt)+" L.5,0 M0,"+(.5-Rt)+" L.5,"+(.5-Rt)},te),"╜":(L={},L[1]=function(Mt,Rt){return"M0,.5 L"+(.5+Mt)+",.5 L"+(.5+Mt)+",0 M"+(.5-Mt)+",.5 L"+(.5-Mt)+",0"},L),"╝":(N={},N[1]=function(Mt,Rt){return"M0,"+(.5-Rt)+" L"+(.5-Mt)+","+(.5-Rt)+" L"+(.5-Mt)+",0 M0,"+(.5+Rt)+" L"+(.5+Mt)+","+(.5+Rt)+" L"+(.5+Mt)+",0"},N),"╞":(G={},G[1]=function(Mt,Rt){return"M.5,0 L.5,1 M.5,"+(.5-Rt)+" L1,"+(.5-Rt)+" M.5,"+(.5+Rt)+" L1,"+(.5+Rt)},G),"╟":(Y={},Y[1]=function(Mt,Rt){return"M"+(.5-Mt)+",0 L"+(.5-Mt)+",1 M"+(.5+Mt)+",0 L"+(.5+Mt)+",1 M"+(.5+Mt)+",.5 L1,.5"},Y),"╠":(j={},j[1]=function(Mt,Rt){return"M"+(.5-Mt)+",0 L"+(.5-Mt)+",1 M1,"+(.5+Rt)+" L"+(.5+Mt)+","+(.5+Rt)+" L"+(.5+Mt)+",1 M1,"+(.5-Rt)+" L"+(.5+Mt)+","+(.5-Rt)+" L"+(.5+Mt)+",0"},j),"╡":(Q={},Q[1]=function(Mt,Rt){return"M.5,0 L.5,1 M0,"+(.5-Rt)+" L.5,"+(.5-Rt)+" M0,"+(.5+Rt)+" L.5,"+(.5+Rt)},Q),"╢":(q={},q[1]=function(Mt,Rt){return"M0,.5 L"+(.5-Mt)+",.5 M"+(.5-Mt)+",0 L"+(.5-Mt)+",1 M"+(.5+Mt)+",0 L"+(.5+Mt)+",1"},q),"╣":(re={},re[1]=function(Mt,Rt){return"M"+(.5+Mt)+",0 L"+(.5+Mt)+",1 M0,"+(.5+Rt)+" L"+(.5-Mt)+","+(.5+Rt)+" L"+(.5-Mt)+",1 M0,"+(.5-Rt)+" L"+(.5-Mt)+","+(.5-Rt)+" L"+(.5-Mt)+",0"},re),"╤":(ue={},ue[1]=function(Mt,Rt){return"M0,"+(.5-Rt)+" L1,"+(.5-Rt)+" M0,"+(.5+Rt)+" L1,"+(.5+Rt)+" M.5,"+(.5+Rt)+" L.5,1"},ue),"╥":(de={},de[1]=function(Mt,Rt){return"M0,.5 L1,.5 M"+(.5-Mt)+",.5 L"+(.5-Mt)+",1 M"+(.5+Mt)+",.5 L"+(.5+Mt)+",1"},de),"╦":(me={},me[1]=function(Mt,Rt){return"M0,"+(.5-Rt)+" L1,"+(.5-Rt)+" M0,"+(.5+Rt)+" L"+(.5-Mt)+","+(.5+Rt)+" L"+(.5-Mt)+",1 M1,"+(.5+Rt)+" L"+(.5+Mt)+","+(.5+Rt)+" L"+(.5+Mt)+",1"},me),"╧":(pe={},pe[1]=function(Mt,Rt){return"M.5,0 L.5,"+(.5-Rt)+" M0,"+(.5-Rt)+" L1,"+(.5-Rt)+" M0,"+(.5+Rt)+" L1,"+(.5+Rt)},pe),"╨":(ge={},ge[1]=function(Mt,Rt){return"M0,.5 L1,.5 M"+(.5-Mt)+",.5 L"+(.5-Mt)+",0 M"+(.5+Mt)+",.5 L"+(.5+Mt)+",0"},ge),"╩":(Te={},Te[1]=function(Mt,Rt){return"M0,"+(.5+Rt)+" L1,"+(.5+Rt)+" M0,"+(.5-Rt)+" L"+(.5-Mt)+","+(.5-Rt)+" L"+(.5-Mt)+",0 M1,"+(.5-Rt)+" L"+(.5+Mt)+","+(.5-Rt)+" L"+(.5+Mt)+",0"},Te),"╪":(He={},He[1]=function(Mt,Rt){return"M.5,0 L.5,1 M0,"+(.5-Rt)+" L1,"+(.5-Rt)+" M0,"+(.5+Rt)+" L1,"+(.5+Rt)},He),"╫":(Oe={},Oe[1]=function(Mt,Rt){return"M0,.5 L1,.5 M"+(.5-Mt)+",0 L"+(.5-Mt)+",1 M"+(.5+Mt)+",0 L"+(.5+Mt)+",1"},Oe),"╬":(tt={},tt[1]=function(Mt,Rt){return"M0,"+(.5+Rt)+" L"+(.5-Mt)+","+(.5+Rt)+" L"+(.5-Mt)+",1 M1,"+(.5+Rt)+" L"+(.5+Mt)+","+(.5+Rt)+" L"+(.5+Mt)+",1 M0,"+(.5-Rt)+" L"+(.5-Mt)+","+(.5-Rt)+" L"+(.5-Mt)+",0 M1,"+(.5-Rt)+" L"+(.5+Mt)+","+(.5-Rt)+" L"+(.5+Mt)+",0"},tt),"╱":(Le={},Le[1]="M1,0 L0,1",Le),"╲":(De={},De[1]="M0,0 L1,1",De),"╳":(Se={},Se[1]="M1,0 L0,1 M0,0 L1,1",Se),"╼":(ze={},ze[1]="M.5,.5 L0,.5",ze[3]="M.5,.5 L1,.5",ze),"╽":(Ke={},Ke[1]="M.5,.5 L.5,0",Ke[3]="M.5,.5 L.5,1",Ke),"╾":(_t={},_t[1]="M.5,.5 L1,.5",_t[3]="M.5,.5 L0,.5",_t),"╿":(Qe={},Qe[1]="M.5,.5 L.5,1",Qe[3]="M.5,.5 L.5,0",Qe),"┍":(et={},et[1]="M.5,.5 L.5,1",et[3]="M.5,.5 L1,.5",et),"┎":(rt={},rt[1]="M.5,.5 L1,.5",rt[3]="M.5,.5 L.5,1",rt),"┑":(ft={},ft[1]="M.5,.5 L.5,1",ft[3]="M.5,.5 L0,.5",ft),"┒":(bt={},bt[1]="M.5,.5 L0,.5",bt[3]="M.5,.5 L.5,1",bt),"┕":(Ft={},Ft[1]="M.5,.5 L.5,0",Ft[3]="M.5,.5 L1,.5",Ft),"┖":(ct={},ct[1]="M.5,.5 L1,.5",ct[3]="M.5,.5 L.5,0",ct),"┙":(nt={},nt[1]="M.5,.5 L.5,0",nt[3]="M.5,.5 L0,.5",nt),"┚":(at={},at[1]="M.5,.5 L0,.5",at[3]="M.5,.5 L.5,0",at),"┝":(It={},It[1]="M.5,0 L.5,1",It[3]="M.5,.5 L1,.5",It),"┞":(zt={},zt[1]="M0.5,1 L.5,.5 L1,.5",zt[3]="M.5,.5 L.5,0",zt),"┟":(be={},be[1]="M.5,0 L.5,.5 L1,.5",be[3]="M.5,.5 L.5,1",be),"┠":(Me={},Me[1]="M.5,.5 L1,.5",Me[3]="M.5,0 L.5,1",Me),"┡":(Ue={},Ue[1]="M.5,.5 L.5,1",Ue[3]="M.5,0 L.5,.5 L1,.5",Ue),"┢":(ce={},ce[1]="M.5,.5 L.5,0",ce[3]="M0.5,1 L.5,.5 L1,.5",ce),"┥":(Ce={},Ce[1]="M.5,0 L.5,1",Ce[3]="M.5,.5 L0,.5",Ce),"┦":(Ae={},Ae[1]="M0,.5 L.5,.5 L.5,1",Ae[3]="M.5,.5 L.5,0",Ae),"┧":(ke={},ke[1]="M.5,0 L.5,.5 L0,.5",ke[3]="M.5,.5 L.5,1",ke),"┨":(xe={},xe[1]="M.5,.5 L0,.5",xe[3]="M.5,0 L.5,1",xe),"┩":(ye={},ye[1]="M.5,.5 L.5,1",ye[3]="M.5,0 L.5,.5 L0,.5",ye),"┪":(Ee={},Ee[1]="M.5,.5 L.5,0",Ee[3]="M0,.5 L.5,.5 L.5,1",Ee),"┭":($e={},$e[1]="M0.5,1 L.5,.5 L1,.5",$e[3]="M.5,.5 L0,.5",$e),"┮":(Ie={},Ie[1]="M0,.5 L.5,.5 L.5,1",Ie[3]="M.5,.5 L1,.5",Ie),"┯":(Be={},Be[1]="M.5,.5 L.5,1",Be[3]="M0,.5 L1,.5",Be),"┰":(st={},st[1]="M0,.5 L1,.5",st[3]="M.5,.5 L.5,1",st),"┱":(gt={},gt[1]="M.5,.5 L1,.5",gt[3]="M0,.5 L.5,.5 L.5,1",gt),"┲":(wt={},wt[1]="M.5,.5 L0,.5",wt[3]="M0.5,1 L.5,.5 L1,.5",wt),"┵":(Wt={},Wt[1]="M.5,0 L.5,.5 L1,.5",Wt[3]="M.5,.5 L0,.5",Wt),"┶":(Yt={},Yt[1]="M.5,0 L.5,.5 L0,.5",Yt[3]="M.5,.5 L1,.5",Yt),"┷":(qt={},qt[1]="M.5,.5 L.5,0",qt[3]="M0,.5 L1,.5",qt),"┸":(Bt={},Bt[1]="M0,.5 L1,.5",Bt[3]="M.5,.5 L.5,0",Bt),"┹":(Ut={},Ut[1]="M.5,.5 L1,.5",Ut[3]="M.5,0 L.5,.5 L0,.5",Ut),"┺":(Nt={},Nt[1]="M.5,.5 L0,.5",Nt[3]="M.5,0 L.5,.5 L1,.5",Nt),"┽":(dt={},dt[1]="M.5,0 L.5,1 M.5,.5 L1,.5",dt[3]="M.5,.5 L0,.5",dt),"┾":(Vt={},Vt[1]="M.5,0 L.5,1 M.5,.5 L0,.5",Vt[3]="M.5,.5 L1,.5",Vt),"┿":(Gt={},Gt[1]="M.5,0 L.5,1",Gt[3]="M0,.5 L1,.5",Gt),"╀":(rr={},rr[1]="M0,.5 L1,.5 M.5,.5 L.5,1",rr[3]="M.5,.5 L.5,0",rr),"╁":(Jt={},Jt[1]="M.5,.5 L.5,0 M0,.5 L1,.5",Jt[3]="M.5,.5 L.5,1",Jt),"╂":(Dt={},Dt[1]="M0,.5 L1,.5",Dt[3]="M.5,0 L.5,1",Dt),"╃":(er={},er[1]="M0.5,1 L.5,.5 L1,.5",er[3]="M.5,0 L.5,.5 L0,.5",er),"╄":(tr={},tr[1]="M0,.5 L.5,.5 L.5,1",tr[3]="M.5,0 L.5,.5 L1,.5",tr),"╅":(he={},he[1]="M.5,0 L.5,.5 L1,.5",he[3]="M0,.5 L.5,.5 L.5,1",he),"╆":(le={},le[1]="M.5,0 L.5,.5 L0,.5",le[3]="M0.5,1 L.5,.5 L1,.5",le),"╇":(Ne={},Ne[1]="M.5,.5 L.5,1",Ne[3]="M.5,.5 L.5,0 M0,.5 L1,.5",Ne),"╈":(Fe={},Fe[1]="M.5,.5 L.5,0",Fe[3]="M0,.5 L1,.5 M.5,.5 L.5,1",Fe),"╉":(We={},We[1]="M.5,.5 L1,.5",We[3]="M.5,0 L.5,1 M.5,.5 L0,.5",We),"╊":(Ze={},Ze[1]="M.5,.5 L0,.5",Ze[3]="M.5,0 L.5,1 M.5,.5 L1,.5",Ze),"╌":(Ve={},Ve[1]="M.1,.5 L.4,.5 M.6,.5 L.9,.5",Ve),"╍":(je={},je[3]="M.1,.5 L.4,.5 M.6,.5 L.9,.5",je),"┄":(ut={},ut[1]="M.0667,.5 L.2667,.5 M.4,.5 L.6,.5 M.7333,.5 L.9333,.5",ut),"┅":(St={},St[3]="M.0667,.5 L.2667,.5 M.4,.5 L.6,.5 M.7333,.5 L.9333,.5",St),"┈":(Pt={},Pt[1]="M.05,.5 L.2,.5 M.3,.5 L.45,.5 M.55,.5 L.7,.5 M.8,.5 L.95,.5",Pt),"┉":(lt={},lt[3]="M.05,.5 L.2,.5 M.3,.5 L.45,.5 M.55,.5 L.7,.5 M.8,.5 L.95,.5",lt),"╎":(yt={},yt[1]="M.5,.1 L.5,.4 M.5,.6 L.5,.9",yt),"╏":(Ot={},Ot[3]="M.5,.1 L.5,.4 M.5,.6 L.5,.9",Ot),"┆":(At={},At[1]="M.5,.0667 L.5,.2667 M.5,.4 L.5,.6 M.5,.7333 L.5,.9333",At),"┇":(mt={},mt[3]="M.5,.0667 L.5,.2667 M.5,.4 L.5,.6 M.5,.7333 L.5,.9333",mt),"┊":(Et={},Et[1]="M.5,.05 L.5,.2 M.5,.3 L.5,.45 L.5,.55 M.5,.7 L.5,.95",Et),"┋":(jt={},jt[3]="M.5,.05 L.5,.2 M.5,.3 L.5,.45 L.5,.55 M.5,.7 L.5,.95",jt),"╭":(Lt={},Lt[1]="C.5,1,.5,.5,1,.5",Lt),"╮":(Ht={},Ht[1]="C.5,1,.5,.5,0,.5",Ht),"╯":(Kt={},Kt[1]="C.5,0,.5,.5,0,.5",Kt),"╰":(Xt={},Xt[1]="C.5,0,.5,.5,1,.5",Xt)},n.powerlineDefinitions={"":{d:"M0,0 L1,.5 L0,1",type:0},"":{d:"M0,0 L1,.5 L0,1",type:1,horizontalPadding:.5},"":{d:"M1,0 L0,.5 L1,1",type:0},"":{d:"M1,0 L0,.5 L1,1",type:1,horizontalPadding:.5}},n.tryDrawCustomChar=function(Mt,Rt,Lr,kr,jr,un){var on=n.blockElementDefinitions[Rt];if(on)return function(Sr,vn,Mn,En,Kn,qe){for(var xt=0;xt<vn.length;xt++){var Zt=vn[xt],nr=Kn/8,Or=qe/8;Sr.fillRect(Mn+Zt.x*nr,En+Zt.y*Or,Zt.w*nr,Zt.h*Or)}}(Mt,on,Lr,kr,jr,un),!0;var zr=cr[Rt];if(zr)return function(Sr,vn,Mn,En,Kn,qe){var xt,Zt=dr.get(vn);Zt||(Zt=new Map,dr.set(vn,Zt));var nr=Sr.fillStyle;if(typeof nr!="string")throw new Error('Unexpected fillStyle type "'+nr+'"');var Or=Zt.get(nr);if(!Or){var br=vn[0].length,Cr=vn.length,Ur=document.createElement("canvas");Ur.width=br,Ur.height=Cr;var cn=(0,ir.throwIfFalsy)(Ur.getContext("2d")),$r=new ImageData(br,Cr),Wr=void 0,Vr=void 0,Zr=void 0,Ln=void 0;if(nr.startsWith("#"))Wr=parseInt(nr.slice(1,3),16),Vr=parseInt(nr.slice(3,5),16),Zr=parseInt(nr.slice(5,7),16),Ln=nr.length>7&&parseInt(nr.slice(7,9),16)||1;else{if(!nr.startsWith("rgba"))throw new Error('Unexpected fillStyle color format "'+nr+'" when drawing pattern glyph');Wr=(xt=$t(nr.substring(5,nr.length-1).split(",").map(function(Un){return parseFloat(Un)}),4))[0],Vr=xt[1],Zr=xt[2],Ln=xt[3]}for(var rn=0;rn<Cr;rn++)for(var mn=0;mn<br;mn++)$r.data[4*(rn*br+mn)]=Wr,$r.data[4*(rn*br+mn)+1]=Vr,$r.data[4*(rn*br+mn)+2]=Zr,$r.data[4*(rn*br+mn)+3]=vn[rn][mn]*(255*Ln);cn.putImageData($r,0,0),Or=(0,ir.throwIfFalsy)(Sr.createPattern(Ur,null)),Zt.set(nr,Or)}Sr.fillStyle=Or,Sr.fillRect(Mn,En,Kn,qe)}(Mt,zr,Lr,kr,jr,un),!0;var sn=n.boxDrawingDefinitions[Rt];if(sn)return function(Sr,vn,Mn,En,Kn,qe){var xt,Zt,nr,Or;Sr.strokeStyle=Sr.fillStyle;try{for(var br=ar(Object.entries(vn)),Cr=br.next();!Cr.done;Cr=br.next()){var Ur=$t(Cr.value,2),cn=Ur[0],$r=Ur[1];Sr.beginPath(),Sr.lineWidth=window.devicePixelRatio*Number.parseInt(cn);var Wr=void 0;Wr=typeof $r=="function"?$r(.15,.15/qe*Kn):$r;try{for(var Vr=(nr=void 0,ar(Wr.split(" "))),Zr=Vr.next();!Zr.done;Zr=Vr.next()){var Ln=Zr.value,rn=Ln[0],mn=mr[rn];if(mn){var Un=Ln.substring(1).split(",");Un[0]&&Un[1]&&mn(Sr,_r(Un,Kn,qe,Mn,En))}else console.error('Could not find drawing instructions for "'+rn+'"')}}catch(yi){nr={error:yi}}finally{try{Zr&&!Zr.done&&(Or=Vr.return)&&Or.call(Vr)}finally{if(nr)throw nr.error}}Sr.stroke(),Sr.closePath()}}catch(yi){xt={error:yi}}finally{try{Cr&&!Cr.done&&(Zt=br.return)&&Zt.call(br)}finally{if(xt)throw xt.error}}}(Mt,sn,Lr,kr,jr,un),!0;var bn=n.powerlineDefinitions[Rt];return!!bn&&(function(Sr,vn,Mn,En,Kn,qe){var xt,Zt;Sr.beginPath(),Sr.lineWidth=window.devicePixelRatio;try{for(var nr=ar(vn.d.split(" ")),Or=nr.next();!Or.done;Or=nr.next()){var br=Or.value,Cr=br[0],Ur=mr[Cr];if(Ur){var cn=br.substring(1).split(",");cn[0]&&cn[1]&&Ur(Sr,_r(cn,Kn,qe,Mn,En,vn.horizontalPadding))}else console.error('Could not find drawing instructions for "'+Cr+'"')}}catch($r){xt={error:$r}}finally{try{Or&&!Or.done&&(Zt=nr.return)&&Zt.call(nr)}finally{if(xt)throw xt.error}}vn.type===1?(Sr.strokeStyle=Sr.fillStyle,Sr.stroke()):Sr.fill(),Sr.closePath()}(Mt,bn,Lr,kr,jr,un),!0)};var dr=new Map;function vr(Mt,Rt,Lr){return Lr===void 0&&(Lr=0),Math.max(Math.min(Mt,Rt),Lr)}var mr={C:function(Mt,Rt){return Mt.bezierCurveTo(Rt[0],Rt[1],Rt[2],Rt[3],Rt[4],Rt[5])},L:function(Mt,Rt){return Mt.lineTo(Rt[0],Rt[1])},M:function(Mt,Rt){return Mt.moveTo(Rt[0],Rt[1])}};function _r(Mt,Rt,Lr,kr,jr,un){un===void 0&&(un=0);var on=Mt.map(function(bn){return parseFloat(bn)||parseInt(bn)});if(on.length<2)throw new Error("Too few arguments for instruction");for(var zr=0;zr<on.length;zr+=2)on[zr]*=Rt-2*un*window.devicePixelRatio,on[zr]!==0&&(on[zr]=vr(Math.round(on[zr]+.5)-.5,Rt,0)),on[zr]+=kr+un*window.devicePixelRatio;for(var sn=1;sn<on.length;sn+=2)on[sn]*=Lr,on[sn]!==0&&(on[sn]=vr(Math.round(on[sn]+.5)-.5,Lr,0)),on[sn]+=jr;return on}},3700:(o,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.GridCache=void 0;var a=function(){function s(){this.cache=[]}return s.prototype.resize=function(l,u){for(var c=0;c<l;c++){this.cache.length<=c&&this.cache.push([]);for(var h=this.cache[c].length;h<u;h++)this.cache[c].push(void 0);this.cache[c].length=u}this.cache.length=l},s.prototype.clear=function(){for(var l=0;l<this.cache.length;l++)for(var u=0;u<this.cache[l].length;u++)this.cache[l][u]=void 0},s}();n.GridCache=a},5098:function(o,n,a){var s,l=this&&this.__extends||(s=function(g,p){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var y in b)Object.prototype.hasOwnProperty.call(b,y)&&(d[y]=b[y])},s(g,p)},function(g,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");function d(){this.constructor=g}s(g,p),g.prototype=p===null?Object.create(p):(d.prototype=p.prototype,new d)}),u=this&&this.__decorate||function(g,p,d,b){var y,x=arguments.length,w=x<3?p:b===null?b=Object.getOwnPropertyDescriptor(p,d):b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(g,p,d,b);else for(var C=g.length-1;C>=0;C--)(y=g[C])&&(w=(x<3?y(w):x>3?y(p,d,w):y(p,d))||w);return x>3&&w&&Object.defineProperty(p,d,w),w},c=this&&this.__param||function(g,p){return function(d,b){p(d,b,g)}};Object.defineProperty(n,"__esModule",{value:!0}),n.LinkRenderLayer=void 0;var h=a(1546),v=a(8803),f=a(2040),m=a(2585),_=function(g){function p(d,b,y,x,w,C,S,T,M){var D=g.call(this,d,"link",b,!0,y,x,S,T,M)||this;return w.onShowLinkUnderline(function(k){return D._onShowLinkUnderline(k)}),w.onHideLinkUnderline(function(k){return D._onHideLinkUnderline(k)}),C.onShowLinkUnderline(function(k){return D._onShowLinkUnderline(k)}),C.onHideLinkUnderline(function(k){return D._onHideLinkUnderline(k)}),D}return l(p,g),p.prototype.resize=function(d){g.prototype.resize.call(this,d),this._state=void 0},p.prototype.reset=function(){this._clearCurrentLink()},p.prototype._clearCurrentLink=function(){if(this._state){this._clearCells(this._state.x1,this._state.y1,this._state.cols-this._state.x1,1);var d=this._state.y2-this._state.y1-1;d>0&&this._clearCells(0,this._state.y1+1,this._state.cols,d),this._clearCells(0,this._state.y2,this._state.x2,1),this._state=void 0}},p.prototype._onShowLinkUnderline=function(d){if(d.fg===v.INVERTED_DEFAULT_COLOR?this._ctx.fillStyle=this._colors.background.css:d.fg&&(0,f.is256Color)(d.fg)?this._ctx.fillStyle=this._colors.ansi[d.fg].css:this._ctx.fillStyle=this._colors.foreground.css,d.y1===d.y2)this._fillBottomLineAtCells(d.x1,d.y1,d.x2-d.x1);else{this._fillBottomLineAtCells(d.x1,d.y1,d.cols-d.x1);for(var b=d.y1+1;b<d.y2;b++)this._fillBottomLineAtCells(0,b,d.cols);this._fillBottomLineAtCells(0,d.y2,d.x2)}this._state=d},p.prototype._onHideLinkUnderline=function(d){this._clearCurrentLink()},u([c(6,m.IBufferService),c(7,m.IOptionsService),c(8,m.IDecorationService)],p)}(h.BaseRenderLayer);n.LinkRenderLayer=_},3525:function(o,n,a){var s,l=this&&this.__extends||(s=function(C,S){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,M){T.__proto__=M}||function(T,M){for(var D in M)Object.prototype.hasOwnProperty.call(M,D)&&(T[D]=M[D])},s(C,S)},function(C,S){if(typeof S!="function"&&S!==null)throw new TypeError("Class extends value "+String(S)+" is not a constructor or null");function T(){this.constructor=C}s(C,S),C.prototype=S===null?Object.create(S):(T.prototype=S.prototype,new T)}),u=this&&this.__decorate||function(C,S,T,M){var D,k=arguments.length,R=k<3?S:M===null?M=Object.getOwnPropertyDescriptor(S,T):M;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(C,S,T,M);else for(var P=C.length-1;P>=0;P--)(D=C[P])&&(R=(k<3?D(R):k>3?D(S,T,R):D(S,T))||R);return k>3&&R&&Object.defineProperty(S,T,R),R},c=this&&this.__param||function(C,S){return function(T,M){S(T,M,C)}},h=this&&this.__values||function(C){var S=typeof Symbol=="function"&&Symbol.iterator,T=S&&C[S],M=0;if(T)return T.call(C);if(C&&typeof C.length=="number")return{next:function(){return C&&M>=C.length&&(C=void 0),{value:C&&C[M++],done:!C}}};throw new TypeError(S?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(n,"__esModule",{value:!0}),n.Renderer=void 0;var v=a(9596),f=a(4149),m=a(2512),_=a(5098),g=a(844),p=a(4725),d=a(2585),b=a(1420),y=a(8460),x=1,w=function(C){function S(T,M,D,k,R,P,E,O){var I=C.call(this)||this;I._colors=T,I._screenElement=M,I._bufferService=P,I._charSizeService=E,I._optionsService=O,I._id=x++,I._onRequestRedraw=new y.EventEmitter;var U=I._optionsService.rawOptions.allowTransparency;return I._renderLayers=[R.createInstance(v.TextRenderLayer,I._screenElement,0,I._colors,U,I._id),R.createInstance(f.SelectionRenderLayer,I._screenElement,1,I._colors,I._id),R.createInstance(_.LinkRenderLayer,I._screenElement,2,I._colors,I._id,D,k),R.createInstance(m.CursorRenderLayer,I._screenElement,3,I._colors,I._id,I._onRequestRedraw)],I.dimensions={scaledCharWidth:0,scaledCharHeight:0,scaledCellWidth:0,scaledCellHeight:0,scaledCharLeft:0,scaledCharTop:0,scaledCanvasWidth:0,scaledCanvasHeight:0,canvasWidth:0,canvasHeight:0,actualCellWidth:0,actualCellHeight:0},I._devicePixelRatio=window.devicePixelRatio,I._updateDimensions(),I.onOptionsChanged(),I}return l(S,C),Object.defineProperty(S.prototype,"onRequestRedraw",{get:function(){return this._onRequestRedraw.event},enumerable:!1,configurable:!0}),S.prototype.dispose=function(){var T,M;try{for(var D=h(this._renderLayers),k=D.next();!k.done;k=D.next())k.value.dispose()}catch(R){T={error:R}}finally{try{k&&!k.done&&(M=D.return)&&M.call(D)}finally{if(T)throw T.error}}C.prototype.dispose.call(this),(0,b.removeTerminalFromCache)(this._id)},S.prototype.onDevicePixelRatioChange=function(){this._devicePixelRatio!==window.devicePixelRatio&&(this._devicePixelRatio=window.devicePixelRatio,this.onResize(this._bufferService.cols,this._bufferService.rows))},S.prototype.setColors=function(T){var M,D;this._colors=T;try{for(var k=h(this._renderLayers),R=k.next();!R.done;R=k.next()){var P=R.value;P.setColors(this._colors),P.reset()}}catch(E){M={error:E}}finally{try{R&&!R.done&&(D=k.return)&&D.call(k)}finally{if(M)throw M.error}}},S.prototype.onResize=function(T,M){var D,k;this._updateDimensions();try{for(var R=h(this._renderLayers),P=R.next();!P.done;P=R.next())P.value.resize(this.dimensions)}catch(E){D={error:E}}finally{try{P&&!P.done&&(k=R.return)&&k.call(R)}finally{if(D)throw D.error}}this._screenElement.style.width=this.dimensions.canvasWidth+"px",this._screenElement.style.height=this.dimensions.canvasHeight+"px"},S.prototype.onCharSizeChanged=function(){this.onResize(this._bufferService.cols,this._bufferService.rows)},S.prototype.onBlur=function(){this._runOperation(function(T){return T.onBlur()})},S.prototype.onFocus=function(){this._runOperation(function(T){return T.onFocus()})},S.prototype.onSelectionChanged=function(T,M,D){D===void 0&&(D=!1),this._runOperation(function(k){return k.onSelectionChanged(T,M,D)}),this._colors.selectionForeground&&this._onRequestRedraw.fire({start:0,end:this._bufferService.rows-1})},S.prototype.onCursorMove=function(){this._runOperation(function(T){return T.onCursorMove()})},S.prototype.onOptionsChanged=function(){this._runOperation(function(T){return T.onOptionsChanged()})},S.prototype.clear=function(){this._runOperation(function(T){return T.reset()})},S.prototype._runOperation=function(T){var M,D;try{for(var k=h(this._renderLayers),R=k.next();!R.done;R=k.next())T(R.value)}catch(P){M={error:P}}finally{try{R&&!R.done&&(D=k.return)&&D.call(k)}finally{if(M)throw M.error}}},S.prototype.renderRows=function(T,M){var D,k;try{for(var R=h(this._renderLayers),P=R.next();!P.done;P=R.next())P.value.onGridChanged(T,M)}catch(E){D={error:E}}finally{try{P&&!P.done&&(k=R.return)&&k.call(R)}finally{if(D)throw D.error}}},S.prototype.clearTextureAtlas=function(){var T,M;try{for(var D=h(this._renderLayers),k=D.next();!k.done;k=D.next())k.value.clearTextureAtlas()}catch(R){T={error:R}}finally{try{k&&!k.done&&(M=D.return)&&M.call(D)}finally{if(T)throw T.error}}},S.prototype._updateDimensions=function(){this._charSizeService.hasValidSize&&(this.dimensions.scaledCharWidth=Math.floor(this._charSizeService.width*window.devicePixelRatio),this.dimensions.scaledCharHeight=Math.ceil(this._charSizeService.height*window.devicePixelRatio),this.dimensions.scaledCellHeight=Math.floor(this.dimensions.scaledCharHeight*this._optionsService.rawOptions.lineHeight),this.dimensions.scaledCharTop=this._optionsService.rawOptions.lineHeight===1?0:Math.round((this.dimensions.scaledCellHeight-this.dimensions.scaledCharHeight)/2),this.dimensions.scaledCellWidth=this.dimensions.scaledCharWidth+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.scaledCharLeft=Math.floor(this._optionsService.rawOptions.letterSpacing/2),this.dimensions.scaledCanvasHeight=this._bufferService.rows*this.dimensions.scaledCellHeight,this.dimensions.scaledCanvasWidth=this._bufferService.cols*this.dimensions.scaledCellWidth,this.dimensions.canvasHeight=Math.round(this.dimensions.scaledCanvasHeight/window.devicePixelRatio),this.dimensions.canvasWidth=Math.round(this.dimensions.scaledCanvasWidth/window.devicePixelRatio),this.dimensions.actualCellHeight=this.dimensions.canvasHeight/this._bufferService.rows,this.dimensions.actualCellWidth=this.dimensions.canvasWidth/this._bufferService.cols)},u([c(4,d.IInstantiationService),c(5,d.IBufferService),c(6,p.ICharSizeService),c(7,d.IOptionsService)],S)}(g.Disposable);n.Renderer=w},1752:(o,n)=>{function a(s){return 57508<=s&&s<=57558}Object.defineProperty(n,"__esModule",{value:!0}),n.excludeFromContrastRatioDemands=n.isPowerlineGlyph=n.throwIfFalsy=void 0,n.throwIfFalsy=function(s){if(!s)throw new Error("value must not be falsy");return s},n.isPowerlineGlyph=a,n.excludeFromContrastRatioDemands=function(s){return a(s)||function(l){return 9472<=l&&l<=9631}(s)}},4149:function(o,n,a){var s,l=this&&this.__extends||(s=function(m,_){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,p){g.__proto__=p}||function(g,p){for(var d in p)Object.prototype.hasOwnProperty.call(p,d)&&(g[d]=p[d])},s(m,_)},function(m,_){if(typeof _!="function"&&_!==null)throw new TypeError("Class extends value "+String(_)+" is not a constructor or null");function g(){this.constructor=m}s(m,_),m.prototype=_===null?Object.create(_):(g.prototype=_.prototype,new g)}),u=this&&this.__decorate||function(m,_,g,p){var d,b=arguments.length,y=b<3?_:p===null?p=Object.getOwnPropertyDescriptor(_,g):p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(m,_,g,p);else for(var x=m.length-1;x>=0;x--)(d=m[x])&&(y=(b<3?d(y):b>3?d(_,g,y):d(_,g))||y);return b>3&&y&&Object.defineProperty(_,g,y),y},c=this&&this.__param||function(m,_){return function(g,p){_(g,p,m)}};Object.defineProperty(n,"__esModule",{value:!0}),n.SelectionRenderLayer=void 0;var h=a(1546),v=a(2585),f=function(m){function _(g,p,d,b,y,x,w){var C=m.call(this,g,"selection",p,!0,d,b,y,x,w)||this;return C._clearState(),C}return l(_,m),_.prototype._clearState=function(){this._state={start:void 0,end:void 0,columnSelectMode:void 0,ydisp:void 0}},_.prototype.resize=function(g){m.prototype.resize.call(this,g),this._clearState()},_.prototype.reset=function(){this._state.start&&this._state.end&&(this._clearState(),this._clearAll())},_.prototype.onSelectionChanged=function(g,p,d){if(m.prototype.onSelectionChanged.call(this,g,p,d),this._didStateChange(g,p,d,this._bufferService.buffer.ydisp))if(this._clearAll(),g&&p){var b=g[1]-this._bufferService.buffer.ydisp,y=p[1]-this._bufferService.buffer.ydisp,x=Math.max(b,0),w=Math.min(y,this._bufferService.rows-1);if(x>=this._bufferService.rows||w<0)this._state.ydisp=this._bufferService.buffer.ydisp;else{if(this._ctx.fillStyle=this._colors.selectionTransparent.css,d){var C=g[0],S=p[0]-C,T=w-x+1;this._fillCells(C,x,S,T)}else{C=b===x?g[0]:0;var M=x===y?p[0]:this._bufferService.cols;this._fillCells(C,x,M-C,1);var D=Math.max(w-x-1,0);if(this._fillCells(0,x+1,this._bufferService.cols,D),x!==w){var k=y===w?p[0]:this._bufferService.cols;this._fillCells(0,w,k,1)}}this._state.start=[g[0],g[1]],this._state.end=[p[0],p[1]],this._state.columnSelectMode=d,this._state.ydisp=this._bufferService.buffer.ydisp}}else this._clearState()},_.prototype._didStateChange=function(g,p,d,b){return!this._areCoordinatesEqual(g,this._state.start)||!this._areCoordinatesEqual(p,this._state.end)||d!==this._state.columnSelectMode||b!==this._state.ydisp},_.prototype._areCoordinatesEqual=function(g,p){return!(!g||!p)&&g[0]===p[0]&&g[1]===p[1]},u([c(4,v.IBufferService),c(5,v.IOptionsService),c(6,v.IDecorationService)],_)}(h.BaseRenderLayer);n.SelectionRenderLayer=f},9596:function(o,n,a){var s,l=this&&this.__extends||(s=function(x,w){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,S){C.__proto__=S}||function(C,S){for(var T in S)Object.prototype.hasOwnProperty.call(S,T)&&(C[T]=S[T])},s(x,w)},function(x,w){if(typeof w!="function"&&w!==null)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");function C(){this.constructor=x}s(x,w),x.prototype=w===null?Object.create(w):(C.prototype=w.prototype,new C)}),u=this&&this.__decorate||function(x,w,C,S){var T,M=arguments.length,D=M<3?w:S===null?S=Object.getOwnPropertyDescriptor(w,C):S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(x,w,C,S);else for(var k=x.length-1;k>=0;k--)(T=x[k])&&(D=(M<3?T(D):M>3?T(w,C,D):T(w,C))||D);return M>3&&D&&Object.defineProperty(w,C,D),D},c=this&&this.__param||function(x,w){return function(C,S){w(C,S,x)}},h=this&&this.__values||function(x){var w=typeof Symbol=="function"&&Symbol.iterator,C=w&&x[w],S=0;if(C)return C.call(x);if(x&&typeof x.length=="number")return{next:function(){return x&&S>=x.length&&(x=void 0),{value:x&&x[S++],done:!x}}};throw new TypeError(w?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(n,"__esModule",{value:!0}),n.TextRenderLayer=void 0;var v=a(3700),f=a(1546),m=a(3734),_=a(643),g=a(511),p=a(2585),d=a(4725),b=a(4269),y=function(x){function w(C,S,T,M,D,k,R,P,E){var O=x.call(this,C,"text",S,M,T,D,k,R,E)||this;return O._characterJoinerService=P,O._characterWidth=0,O._characterFont="",O._characterOverlapCache={},O._workCell=new g.CellData,O._state=new v.GridCache,O}return l(w,x),w.prototype.resize=function(C){x.prototype.resize.call(this,C);var S=this._getFont(!1,!1);this._characterWidth===C.scaledCharWidth&&this._characterFont===S||(this._characterWidth=C.scaledCharWidth,this._characterFont=S,this._characterOverlapCache={}),this._state.clear(),this._state.resize(this._bufferService.cols,this._bufferService.rows)},w.prototype.reset=function(){this._state.clear(),this._clearAll()},w.prototype._forEachCell=function(C,S,T){for(var M=C;M<=S;M++)for(var D=M+this._bufferService.buffer.ydisp,k=this._bufferService.buffer.lines.get(D),R=this._characterJoinerService.getJoinedCharacters(D),P=0;P<this._bufferService.cols;P++){k.loadCell(P,this._workCell);var E=this._workCell,O=!1,I=P;if(E.getWidth()!==0){if(R.length>0&&P===R[0][0]){O=!0;var U=R.shift();E=new b.JoinedCellData(this._workCell,k.translateToString(!0,U[0],U[1]),U[1]-U[0]),I=U[1]-1}!O&&this._isOverlapping(E)&&I<k.length-1&&k.getCodePoint(I+1)===_.NULL_CELL_CODE&&(E.content&=-12582913,E.content|=2<<22),T(E,P,M),P=I}}},w.prototype._drawBackground=function(C,S){var T=this,M=this._ctx,D=this._bufferService.cols,k=0,R=0,P=null;M.save(),this._forEachCell(C,S,function(E,O,I){var U,V,Z=null;E.isInverse()?Z=E.isFgDefault()?T._colors.foreground.css:E.isFgRGB()?"rgb("+m.AttributeData.toColorRGB(E.getFgColor()).join(",")+")":T._colors.ansi[E.getFgColor()].css:E.isBgRGB()?Z="rgb("+m.AttributeData.toColorRGB(E.getBgColor()).join(",")+")":E.isBgPalette()&&(Z=T._colors.ansi[E.getBgColor()].css);var z=!1;try{for(var H=h(T._decorationService.getDecorationsAtCell(O,T._bufferService.buffer.ydisp+I)),B=H.next();!B.done;B=H.next()){var W=B.value;W.options.layer!=="top"&&z||(W.backgroundColorRGB&&(Z=W.backgroundColorRGB.css),z=W.options.layer==="top")}}catch(F){U={error:F}}finally{try{B&&!B.done&&(V=H.return)&&V.call(H)}finally{if(U)throw U.error}}P===null&&(k=O,R=I),I!==R?(M.fillStyle=P||"",T._fillCells(k,R,D-k,1),k=O,R=I):P!==Z&&(M.fillStyle=P||"",T._fillCells(k,R,O-k,1),k=O,R=I),P=Z}),P!==null&&(M.fillStyle=P,this._fillCells(k,R,D-k,1)),M.restore()},w.prototype._drawForeground=function(C,S){var T=this;this._forEachCell(C,S,function(M,D,k){if(!M.isInvisible()&&(T._drawChars(M,D,k),M.isUnderline()||M.isStrikethrough())){if(T._ctx.save(),M.isInverse())if(M.isBgDefault())T._ctx.fillStyle=T._colors.background.css;else if(M.isBgRGB())T._ctx.fillStyle="rgb("+m.AttributeData.toColorRGB(M.getBgColor()).join(",")+")";else{var R=M.getBgColor();T._optionsService.rawOptions.drawBoldTextInBrightColors&&M.isBold()&&R<8&&(R+=8),T._ctx.fillStyle=T._colors.ansi[R].css}else if(M.isFgDefault())T._ctx.fillStyle=T._colors.foreground.css;else if(M.isFgRGB())T._ctx.fillStyle="rgb("+m.AttributeData.toColorRGB(M.getFgColor()).join(",")+")";else{var P=M.getFgColor();T._optionsService.rawOptions.drawBoldTextInBrightColors&&M.isBold()&&P<8&&(P+=8),T._ctx.fillStyle=T._colors.ansi[P].css}M.isStrikethrough()&&T._fillMiddleLineAtCells(D,k,M.getWidth()),M.isUnderline()&&T._fillBottomLineAtCells(D,k,M.getWidth()),T._ctx.restore()}})},w.prototype.onGridChanged=function(C,S){this._state.cache.length!==0&&(this._charAtlas&&this._charAtlas.beginFrame(),this._clearCells(0,C,this._bufferService.cols,S-C+1),this._drawBackground(C,S),this._drawForeground(C,S))},w.prototype.onOptionsChanged=function(){this._setTransparency(this._optionsService.rawOptions.allowTransparency)},w.prototype._isOverlapping=function(C){if(C.getWidth()!==1||C.getCode()<256)return!1;var S=C.getChars();if(this._characterOverlapCache.hasOwnProperty(S))return this._characterOverlapCache[S];this._ctx.save(),this._ctx.font=this._characterFont;var T=Math.floor(this._ctx.measureText(S).width)>this._characterWidth;return this._ctx.restore(),this._characterOverlapCache[S]=T,T},u([c(5,p.IBufferService),c(6,p.IOptionsService),c(7,d.ICharacterJoinerService),c(8,p.IDecorationService)],w)}(f.BaseRenderLayer);n.TextRenderLayer=y},9616:(o,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.BaseCharAtlas=void 0;var a=function(){function s(){this._didWarmUp=!1}return s.prototype.dispose=function(){},s.prototype.warmUp=function(){this._didWarmUp||(this._doWarmUp(),this._didWarmUp=!0)},s.prototype._doWarmUp=function(){},s.prototype.clear=function(){},s.prototype.beginFrame=function(){},s}();n.BaseCharAtlas=a},1420:(o,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.removeTerminalFromCache=n.acquireCharAtlas=void 0;var s=a(2040),l=a(1906),u=[];n.acquireCharAtlas=function(c,h,v,f,m){for(var _=(0,s.generateConfig)(f,m,c,v),g=0;g<u.length;g++){var p=(d=u[g]).ownedBy.indexOf(h);if(p>=0){if((0,s.configEquals)(d.config,_))return d.atlas;d.ownedBy.length===1?(d.atlas.dispose(),u.splice(g,1)):d.ownedBy.splice(p,1);break}}for(g=0;g<u.length;g++){var d=u[g];if((0,s.configEquals)(d.config,_))return d.ownedBy.push(h),d.atlas}var b={atlas:new l.DynamicCharAtlas(document,_),config:_,ownedBy:[h]};return u.push(b),b.atlas},n.removeTerminalFromCache=function(c){for(var h=0;h<u.length;h++){var v=u[h].ownedBy.indexOf(c);if(v!==-1){u[h].ownedBy.length===1?(u[h].atlas.dispose(),u.splice(h,1)):u[h].ownedBy.splice(v,1);break}}}},2040:(o,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.is256Color=n.configEquals=n.generateConfig=void 0;var s=a(643);n.generateConfig=function(l,u,c,h){var v={foreground:h.foreground,background:h.background,cursor:void 0,cursorAccent:void 0,selection:void 0,ansi:h.ansi.slice()};return{devicePixelRatio:window.devicePixelRatio,scaledCharWidth:l,scaledCharHeight:u,fontFamily:c.fontFamily,fontSize:c.fontSize,fontWeight:c.fontWeight,fontWeightBold:c.fontWeightBold,allowTransparency:c.allowTransparency,colors:v}},n.configEquals=function(l,u){for(var c=0;c<l.colors.ansi.length;c++)if(l.colors.ansi[c].rgba!==u.colors.ansi[c].rgba)return!1;return l.devicePixelRatio===u.devicePixelRatio&&l.fontFamily===u.fontFamily&&l.fontSize===u.fontSize&&l.fontWeight===u.fontWeight&&l.fontWeightBold===u.fontWeightBold&&l.allowTransparency===u.allowTransparency&&l.scaledCharWidth===u.scaledCharWidth&&l.scaledCharHeight===u.scaledCharHeight&&l.colors.foreground===u.colors.foreground&&l.colors.background===u.colors.background},n.is256Color=function(l){return l<s.DEFAULT_COLOR}},8803:(o,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.CHAR_ATLAS_CELL_SPACING=n.TEXT_BASELINE=n.DIM_OPACITY=n.INVERTED_DEFAULT_COLOR=void 0;var s=a(6114);n.INVERTED_DEFAULT_COLOR=257,n.DIM_OPACITY=.5,n.TEXT_BASELINE=s.isFirefox||s.isLegacyEdge?"bottom":"ideographic",n.CHAR_ATLAS_CELL_SPACING=1},1906:function(o,n,a){var s,l=this&&this.__extends||(s=function(C,S){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,M){T.__proto__=M}||function(T,M){for(var D in M)Object.prototype.hasOwnProperty.call(M,D)&&(T[D]=M[D])},s(C,S)},function(C,S){if(typeof S!="function"&&S!==null)throw new TypeError("Class extends value "+String(S)+" is not a constructor or null");function T(){this.constructor=C}s(C,S),C.prototype=S===null?Object.create(S):(T.prototype=S.prototype,new T)});Object.defineProperty(n,"__esModule",{value:!0}),n.NoneCharAtlas=n.DynamicCharAtlas=n.getGlyphCacheKey=void 0;var u=a(8803),c=a(9616),h=a(5680),v=a(7001),f=a(6114),m=a(1752),_=a(8055),g=1024,p=1024,d={css:"rgba(0, 0, 0, 0)",rgba:0};function b(C){return C.code<<21|C.bg<<12|C.fg<<3|(C.bold?0:4)+(C.dim?0:2)+(C.italic?0:1)}n.getGlyphCacheKey=b;var y=function(C){function S(T,M){var D=C.call(this)||this;D._config=M,D._drawToCacheCount=0,D._glyphsWaitingOnBitmap=[],D._bitmapCommitTimeout=null,D._bitmap=null,D._cacheCanvas=T.createElement("canvas"),D._cacheCanvas.width=g,D._cacheCanvas.height=p,D._cacheCtx=(0,m.throwIfFalsy)(D._cacheCanvas.getContext("2d",{alpha:!0}));var k=T.createElement("canvas");k.width=D._config.scaledCharWidth,k.height=D._config.scaledCharHeight,D._tmpCtx=(0,m.throwIfFalsy)(k.getContext("2d",{alpha:D._config.allowTransparency})),D._width=Math.floor(g/D._config.scaledCharWidth),D._height=Math.floor(p/D._config.scaledCharHeight);var R=D._width*D._height;return D._cacheMap=new v.LRUMap(R),D._cacheMap.prealloc(R),D}return l(S,C),S.prototype.dispose=function(){this._bitmapCommitTimeout!==null&&(window.clearTimeout(this._bitmapCommitTimeout),this._bitmapCommitTimeout=null)},S.prototype.beginFrame=function(){this._drawToCacheCount=0},S.prototype.clear=function(){if(this._cacheMap.size>0){var T=this._width*this._height;this._cacheMap=new v.LRUMap(T),this._cacheMap.prealloc(T)}this._cacheCtx.clearRect(0,0,g,p),this._tmpCtx.clearRect(0,0,this._config.scaledCharWidth,this._config.scaledCharHeight)},S.prototype.draw=function(T,M,D,k){if(M.code===32)return!0;if(!this._canCache(M))return!1;var R=b(M),P=this._cacheMap.get(R);if(P!=null)return this._drawFromCache(T,P,D,k),!0;if(this._drawToCacheCount<100){var E;E=this._cacheMap.size<this._cacheMap.capacity?this._cacheMap.size:this._cacheMap.peek().index;var O=this._drawToCache(M,E);return this._cacheMap.set(R,O),this._drawFromCache(T,O,D,k),!0}return!1},S.prototype._canCache=function(T){return T.code<256},S.prototype._toCoordinateX=function(T){return T%this._width*this._config.scaledCharWidth},S.prototype._toCoordinateY=function(T){return Math.floor(T/this._width)*this._config.scaledCharHeight},S.prototype._drawFromCache=function(T,M,D,k){if(!M.isEmpty){var R=this._toCoordinateX(M.index),P=this._toCoordinateY(M.index);T.drawImage(M.inBitmap?this._bitmap:this._cacheCanvas,R,P,this._config.scaledCharWidth,this._config.scaledCharHeight,D,k,this._config.scaledCharWidth,this._config.scaledCharHeight)}},S.prototype._getColorFromAnsiIndex=function(T){return T<this._config.colors.ansi.length?this._config.colors.ansi[T]:h.DEFAULT_ANSI_COLORS[T]},S.prototype._getBackgroundColor=function(T){return this._config.allowTransparency?d:T.bg===u.INVERTED_DEFAULT_COLOR?this._config.colors.foreground:T.bg<256?this._getColorFromAnsiIndex(T.bg):this._config.colors.background},S.prototype._getForegroundColor=function(T){return T.fg===u.INVERTED_DEFAULT_COLOR?_.color.opaque(this._config.colors.background):T.fg<256?this._getColorFromAnsiIndex(T.fg):this._config.colors.foreground},S.prototype._drawToCache=function(T,M){this._drawToCacheCount++,this._tmpCtx.save();var D=this._getBackgroundColor(T);this._tmpCtx.globalCompositeOperation="copy",this._tmpCtx.fillStyle=D.css,this._tmpCtx.fillRect(0,0,this._config.scaledCharWidth,this._config.scaledCharHeight),this._tmpCtx.globalCompositeOperation="source-over";var k=T.bold?this._config.fontWeightBold:this._config.fontWeight,R=T.italic?"italic":"";this._tmpCtx.font=R+" "+k+" "+this._config.fontSize*this._config.devicePixelRatio+"px "+this._config.fontFamily,this._tmpCtx.textBaseline=u.TEXT_BASELINE,this._tmpCtx.fillStyle=this._getForegroundColor(T).css,T.dim&&(this._tmpCtx.globalAlpha=u.DIM_OPACITY),this._tmpCtx.fillText(T.chars,0,this._config.scaledCharHeight);var P=this._tmpCtx.getImageData(0,0,this._config.scaledCharWidth,this._config.scaledCharHeight),E=!1;if(this._config.allowTransparency||(E=w(P,D)),E&&T.chars==="_"&&!this._config.allowTransparency)for(var O=1;O<=5&&(this._tmpCtx.fillText(T.chars,0,this._config.scaledCharHeight-O),E=w(P=this._tmpCtx.getImageData(0,0,this._config.scaledCharWidth,this._config.scaledCharHeight),D));O++);this._tmpCtx.restore();var I=this._toCoordinateX(M),U=this._toCoordinateY(M);this._cacheCtx.putImageData(P,I,U);var V={index:M,isEmpty:E,inBitmap:!1};return this._addGlyphToBitmap(V),V},S.prototype._addGlyphToBitmap=function(T){var M=this;!("createImageBitmap"in window)||f.isFirefox||f.isSafari||(this._glyphsWaitingOnBitmap.push(T),this._bitmapCommitTimeout===null&&(this._bitmapCommitTimeout=window.setTimeout(function(){return M._generateBitmap()},100)))},S.prototype._generateBitmap=function(){var T=this,M=this._glyphsWaitingOnBitmap;this._glyphsWaitingOnBitmap=[],window.createImageBitmap(this._cacheCanvas).then(function(D){T._bitmap=D;for(var k=0;k<M.length;k++)M[k].inBitmap=!0}),this._bitmapCommitTimeout=null},S}(c.BaseCharAtlas);n.DynamicCharAtlas=y;var x=function(C){function S(T,M){return C.call(this)||this}return l(S,C),S.prototype.draw=function(T,M,D,k){return!1},S}(c.BaseCharAtlas);function w(C,S){for(var T=!0,M=S.rgba>>>24,D=S.rgba>>>16&255,k=S.rgba>>>8&255,R=0;R<C.data.length;R+=4)C.data[R]===M&&C.data[R+1]===D&&C.data[R+2]===k?C.data[R+3]=0:T=!1;return T}n.NoneCharAtlas=x},7001:(o,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.LRUMap=void 0;var a=function(){function s(l){this.capacity=l,this._map={},this._head=null,this._tail=null,this._nodePool=[],this.size=0}return s.prototype._unlinkNode=function(l){var u=l.prev,c=l.next;l===this._head&&(this._head=c),l===this._tail&&(this._tail=u),u!==null&&(u.next=c),c!==null&&(c.prev=u)},s.prototype._appendNode=function(l){var u=this._tail;u!==null&&(u.next=l),l.prev=u,l.next=null,this._tail=l,this._head===null&&(this._head=l)},s.prototype.prealloc=function(l){for(var u=this._nodePool,c=0;c<l;c++)u.push({prev:null,next:null,key:null,value:null})},s.prototype.get=function(l){var u=this._map[l];return u!==void 0?(this._unlinkNode(u),this._appendNode(u),u.value):null},s.prototype.peekValue=function(l){var u=this._map[l];return u!==void 0?u.value:null},s.prototype.peek=function(){var l=this._head;return l===null?null:l.value},s.prototype.set=function(l,u){var c=this._map[l];if(c!==void 0)c=this._map[l],this._unlinkNode(c),c.value=u;else if(this.size>=this.capacity)c=this._head,this._unlinkNode(c),delete this._map[c.key],c.key=l,c.value=u,this._map[l]=c;else{var h=this._nodePool;h.length>0?((c=h.pop()).key=l,c.value=u):c={prev:null,next:null,key:l,value:u},this._map[l]=c,this.size++}this._appendNode(c)},s}();n.LRUMap=a},1296:function(o,n,a){var s,l=this&&this.__extends||(s=function(M,D){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,R){k.__proto__=R}||function(k,R){for(var P in R)Object.prototype.hasOwnProperty.call(R,P)&&(k[P]=R[P])},s(M,D)},function(M,D){if(typeof D!="function"&&D!==null)throw new TypeError("Class extends value "+String(D)+" is not a constructor or null");function k(){this.constructor=M}s(M,D),M.prototype=D===null?Object.create(D):(k.prototype=D.prototype,new k)}),u=this&&this.__decorate||function(M,D,k,R){var P,E=arguments.length,O=E<3?D:R===null?R=Object.getOwnPropertyDescriptor(D,k):R;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")O=Reflect.decorate(M,D,k,R);else for(var I=M.length-1;I>=0;I--)(P=M[I])&&(O=(E<3?P(O):E>3?P(D,k,O):P(D,k))||O);return E>3&&O&&Object.defineProperty(D,k,O),O},c=this&&this.__param||function(M,D){return function(k,R){D(k,R,M)}},h=this&&this.__values||function(M){var D=typeof Symbol=="function"&&Symbol.iterator,k=D&&M[D],R=0;if(k)return k.call(M);if(M&&typeof M.length=="number")return{next:function(){return M&&R>=M.length&&(M=void 0),{value:M&&M[R++],done:!M}}};throw new TypeError(D?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(n,"__esModule",{value:!0}),n.DomRenderer=void 0;var v=a(3787),f=a(8803),m=a(844),_=a(4725),g=a(2585),p=a(8460),d=a(8055),b=a(9631),y="xterm-dom-renderer-owner-",x="xterm-fg-",w="xterm-bg-",C="xterm-focus",S=1,T=function(M){function D(k,R,P,E,O,I,U,V,Z,z){var H=M.call(this)||this;return H._colors=k,H._element=R,H._screenElement=P,H._viewportElement=E,H._linkifier=O,H._linkifier2=I,H._charSizeService=V,H._optionsService=Z,H._bufferService=z,H._terminalClass=S++,H._rowElements=[],H._rowContainer=document.createElement("div"),H._rowContainer.classList.add("xterm-rows"),H._rowContainer.style.lineHeight="normal",H._rowContainer.setAttribute("aria-hidden","true"),H._refreshRowElements(H._bufferService.cols,H._bufferService.rows),H._selectionContainer=document.createElement("div"),H._selectionContainer.classList.add("xterm-selection"),H._selectionContainer.setAttribute("aria-hidden","true"),H.dimensions={scaledCharWidth:0,scaledCharHeight:0,scaledCellWidth:0,scaledCellHeight:0,scaledCharLeft:0,scaledCharTop:0,scaledCanvasWidth:0,scaledCanvasHeight:0,canvasWidth:0,canvasHeight:0,actualCellWidth:0,actualCellHeight:0},H._updateDimensions(),H._injectCss(),H._rowFactory=U.createInstance(v.DomRendererRowFactory,document,H._colors),H._element.classList.add(y+H._terminalClass),H._screenElement.appendChild(H._rowContainer),H._screenElement.appendChild(H._selectionContainer),H.register(H._linkifier.onShowLinkUnderline(function(B){return H._onLinkHover(B)})),H.register(H._linkifier.onHideLinkUnderline(function(B){return H._onLinkLeave(B)})),H.register(H._linkifier2.onShowLinkUnderline(function(B){return H._onLinkHover(B)})),H.register(H._linkifier2.onHideLinkUnderline(function(B){return H._onLinkLeave(B)})),H}return l(D,M),Object.defineProperty(D.prototype,"onRequestRedraw",{get:function(){return new p.EventEmitter().event},enumerable:!1,configurable:!0}),D.prototype.dispose=function(){this._element.classList.remove(y+this._terminalClass),(0,b.removeElementFromParent)(this._rowContainer,this._selectionContainer,this._themeStyleElement,this._dimensionsStyleElement),M.prototype.dispose.call(this)},D.prototype._updateDimensions=function(){var k,R;this.dimensions.scaledCharWidth=this._charSizeService.width*window.devicePixelRatio,this.dimensions.scaledCharHeight=Math.ceil(this._charSizeService.height*window.devicePixelRatio),this.dimensions.scaledCellWidth=this.dimensions.scaledCharWidth+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.scaledCellHeight=Math.floor(this.dimensions.scaledCharHeight*this._optionsService.rawOptions.lineHeight),this.dimensions.scaledCharLeft=0,this.dimensions.scaledCharTop=0,this.dimensions.scaledCanvasWidth=this.dimensions.scaledCellWidth*this._bufferService.cols,this.dimensions.scaledCanvasHeight=this.dimensions.scaledCellHeight*this._bufferService.rows,this.dimensions.canvasWidth=Math.round(this.dimensions.scaledCanvasWidth/window.devicePixelRatio),this.dimensions.canvasHeight=Math.round(this.dimensions.scaledCanvasHeight/window.devicePixelRatio),this.dimensions.actualCellWidth=this.dimensions.canvasWidth/this._bufferService.cols,this.dimensions.actualCellHeight=this.dimensions.canvasHeight/this._bufferService.rows;try{for(var P=h(this._rowElements),E=P.next();!E.done;E=P.next()){var O=E.value;O.style.width=this.dimensions.canvasWidth+"px",O.style.height=this.dimensions.actualCellHeight+"px",O.style.lineHeight=this.dimensions.actualCellHeight+"px",O.style.overflow="hidden"}}catch(U){k={error:U}}finally{try{E&&!E.done&&(R=P.return)&&R.call(P)}finally{if(k)throw k.error}}this._dimensionsStyleElement||(this._dimensionsStyleElement=document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));var I=this._terminalSelector+" .xterm-rows span { display: inline-block; height: 100%; vertical-align: top; width: "+this.dimensions.actualCellWidth+"px}";this._dimensionsStyleElement.textContent=I,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=this.dimensions.canvasWidth+"px",this._screenElement.style.height=this.dimensions.canvasHeight+"px"},D.prototype.setColors=function(k){this._colors=k,this._injectCss()},D.prototype._injectCss=function(){var k=this;this._themeStyleElement||(this._themeStyleElement=document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));var R=this._terminalSelector+" .xterm-rows { color: "+this._colors.foreground.css+"; font-family: "+this._optionsService.rawOptions.fontFamily+"; font-size: "+this._optionsService.rawOptions.fontSize+"px;}";R+=this._terminalSelector+" span:not(."+v.BOLD_CLASS+") { font-weight: "+this._optionsService.rawOptions.fontWeight+";}"+this._terminalSelector+" span."+v.BOLD_CLASS+" { font-weight: "+this._optionsService.rawOptions.fontWeightBold+";}"+this._terminalSelector+" span."+v.ITALIC_CLASS+" { font-style: italic;}",R+="@keyframes blink_box_shadow_"+this._terminalClass+" { 50% {  box-shadow: none; }}",R+="@keyframes blink_block_"+this._terminalClass+" { 0% {  background-color: "+this._colors.cursor.css+";  color: "+this._colors.cursorAccent.css+"; } 50% {  background-color: "+this._colors.cursorAccent.css+";  color: "+this._colors.cursor.css+"; }}",R+=this._terminalSelector+" .xterm-rows:not(.xterm-focus) ."+v.CURSOR_CLASS+"."+v.CURSOR_STYLE_BLOCK_CLASS+" { outline: 1px solid "+this._colors.cursor.css+"; outline-offset: -1px;}"+this._terminalSelector+" .xterm-rows.xterm-focus ."+v.CURSOR_CLASS+"."+v.CURSOR_BLINK_CLASS+":not(."+v.CURSOR_STYLE_BLOCK_CLASS+") { animation: blink_box_shadow_"+this._terminalClass+" 1s step-end infinite;}"+this._terminalSelector+" .xterm-rows.xterm-focus ."+v.CURSOR_CLASS+"."+v.CURSOR_BLINK_CLASS+"."+v.CURSOR_STYLE_BLOCK_CLASS+" { animation: blink_block_"+this._terminalClass+" 1s step-end infinite;}"+this._terminalSelector+" .xterm-rows.xterm-focus ."+v.CURSOR_CLASS+"."+v.CURSOR_STYLE_BLOCK_CLASS+" { background-color: "+this._colors.cursor.css+"; color: "+this._colors.cursorAccent.css+";}"+this._terminalSelector+" .xterm-rows ."+v.CURSOR_CLASS+"."+v.CURSOR_STYLE_BAR_CLASS+" { box-shadow: "+this._optionsService.rawOptions.cursorWidth+"px 0 0 "+this._colors.cursor.css+" inset;}"+this._terminalSelector+" .xterm-rows ."+v.CURSOR_CLASS+"."+v.CURSOR_STYLE_UNDERLINE_CLASS+" { box-shadow: 0 -1px 0 "+this._colors.cursor.css+" inset;}",R+=this._terminalSelector+" .xterm-selection { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}"+this._terminalSelector+" .xterm-selection div { position: absolute; background-color: "+this._colors.selectionOpaque.css+";}",this._colors.ansi.forEach(function(P,E){R+=k._terminalSelector+" ."+x+E+" { color: "+P.css+"; }"+k._terminalSelector+" ."+w+E+" { background-color: "+P.css+"; }"}),R+=this._terminalSelector+" ."+x+f.INVERTED_DEFAULT_COLOR+" { color: "+d.color.opaque(this._colors.background).css+"; }"+this._terminalSelector+" ."+w+f.INVERTED_DEFAULT_COLOR+" { background-color: "+this._colors.foreground.css+"; }",this._themeStyleElement.textContent=R},D.prototype.onDevicePixelRatioChange=function(){this._updateDimensions()},D.prototype._refreshRowElements=function(k,R){for(var P=this._rowElements.length;P<=R;P++){var E=document.createElement("div");this._rowContainer.appendChild(E),this._rowElements.push(E)}for(;this._rowElements.length>R;)this._rowContainer.removeChild(this._rowElements.pop())},D.prototype.onResize=function(k,R){this._refreshRowElements(k,R),this._updateDimensions()},D.prototype.onCharSizeChanged=function(){this._updateDimensions()},D.prototype.onBlur=function(){this._rowContainer.classList.remove(C)},D.prototype.onFocus=function(){this._rowContainer.classList.add(C)},D.prototype.onSelectionChanged=function(k,R,P){for(;this._selectionContainer.children.length;)this._selectionContainer.removeChild(this._selectionContainer.children[0]);if(this._rowFactory.onSelectionChanged(k,R,P),this.renderRows(0,this._bufferService.rows-1),k&&R){var E=k[1]-this._bufferService.buffer.ydisp,O=R[1]-this._bufferService.buffer.ydisp,I=Math.max(E,0),U=Math.min(O,this._bufferService.rows-1);if(!(I>=this._bufferService.rows||U<0)){var V=document.createDocumentFragment();if(P){var Z=k[0]>R[0];V.appendChild(this._createSelectionElement(I,Z?R[0]:k[0],Z?k[0]:R[0],U-I+1))}else{var z=E===I?k[0]:0,H=I===O?R[0]:this._bufferService.cols;V.appendChild(this._createSelectionElement(I,z,H));var B=U-I-1;if(V.appendChild(this._createSelectionElement(I+1,0,this._bufferService.cols,B)),I!==U){var W=O===U?R[0]:this._bufferService.cols;V.appendChild(this._createSelectionElement(U,0,W))}}this._selectionContainer.appendChild(V)}}},D.prototype._createSelectionElement=function(k,R,P,E){E===void 0&&(E=1);var O=document.createElement("div");return O.style.height=E*this.dimensions.actualCellHeight+"px",O.style.top=k*this.dimensions.actualCellHeight+"px",O.style.left=R*this.dimensions.actualCellWidth+"px",O.style.width=this.dimensions.actualCellWidth*(P-R)+"px",O},D.prototype.onCursorMove=function(){},D.prototype.onOptionsChanged=function(){this._updateDimensions(),this._injectCss()},D.prototype.clear=function(){var k,R;try{for(var P=h(this._rowElements),E=P.next();!E.done;E=P.next())E.value.innerText=""}catch(O){k={error:O}}finally{try{E&&!E.done&&(R=P.return)&&R.call(P)}finally{if(k)throw k.error}}},D.prototype.renderRows=function(k,R){for(var P=this._bufferService.buffer.ybase+this._bufferService.buffer.y,E=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),O=this._optionsService.rawOptions.cursorBlink,I=k;I<=R;I++){var U=this._rowElements[I];U.innerText="";var V=I+this._bufferService.buffer.ydisp,Z=this._bufferService.buffer.lines.get(V),z=this._optionsService.rawOptions.cursorStyle;U.appendChild(this._rowFactory.createRow(Z,V,V===P,z,E,O,this.dimensions.actualCellWidth,this._bufferService.cols))}},Object.defineProperty(D.prototype,"_terminalSelector",{get:function(){return"."+y+this._terminalClass},enumerable:!1,configurable:!0}),D.prototype._onLinkHover=function(k){this._setCellUnderline(k.x1,k.x2,k.y1,k.y2,k.cols,!0)},D.prototype._onLinkLeave=function(k){this._setCellUnderline(k.x1,k.x2,k.y1,k.y2,k.cols,!1)},D.prototype._setCellUnderline=function(k,R,P,E,O,I){for(;k!==R||P!==E;){var U=this._rowElements[P];if(!U)return;var V=U.children[k];V&&(V.style.textDecoration=I?"underline":"none"),++k>=O&&(k=0,P++)}},u([c(6,g.IInstantiationService),c(7,_.ICharSizeService),c(8,g.IOptionsService),c(9,g.IBufferService)],D)}(m.Disposable);n.DomRenderer=T},3787:function(o,n,a){var s=this&&this.__decorate||function(y,x,w,C){var S,T=arguments.length,M=T<3?x:C===null?C=Object.getOwnPropertyDescriptor(x,w):C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")M=Reflect.decorate(y,x,w,C);else for(var D=y.length-1;D>=0;D--)(S=y[D])&&(M=(T<3?S(M):T>3?S(x,w,M):S(x,w))||M);return T>3&&M&&Object.defineProperty(x,w,M),M},l=this&&this.__param||function(y,x){return function(w,C){x(w,C,y)}},u=this&&this.__values||function(y){var x=typeof Symbol=="function"&&Symbol.iterator,w=x&&y[x],C=0;if(w)return w.call(y);if(y&&typeof y.length=="number")return{next:function(){return y&&C>=y.length&&(y=void 0),{value:y&&y[C++],done:!y}}};throw new TypeError(x?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(n,"__esModule",{value:!0}),n.DomRendererRowFactory=n.CURSOR_STYLE_UNDERLINE_CLASS=n.CURSOR_STYLE_BAR_CLASS=n.CURSOR_STYLE_BLOCK_CLASS=n.CURSOR_BLINK_CLASS=n.CURSOR_CLASS=n.STRIKETHROUGH_CLASS=n.UNDERLINE_CLASS=n.ITALIC_CLASS=n.DIM_CLASS=n.BOLD_CLASS=void 0;var c=a(8803),h=a(643),v=a(511),f=a(2585),m=a(8055),_=a(4725),g=a(4269),p=a(1752);n.BOLD_CLASS="xterm-bold",n.DIM_CLASS="xterm-dim",n.ITALIC_CLASS="xterm-italic",n.UNDERLINE_CLASS="xterm-underline",n.STRIKETHROUGH_CLASS="xterm-strikethrough",n.CURSOR_CLASS="xterm-cursor",n.CURSOR_BLINK_CLASS="xterm-cursor-blink",n.CURSOR_STYLE_BLOCK_CLASS="xterm-cursor-block",n.CURSOR_STYLE_BAR_CLASS="xterm-cursor-bar",n.CURSOR_STYLE_UNDERLINE_CLASS="xterm-cursor-underline";var d=function(){function y(x,w,C,S,T,M){this._document=x,this._colors=w,this._characterJoinerService=C,this._optionsService=S,this._coreService=T,this._decorationService=M,this._workCell=new v.CellData,this._columnSelectMode=!1}return y.prototype.setColors=function(x){this._colors=x},y.prototype.onSelectionChanged=function(x,w,C){this._selectionStart=x,this._selectionEnd=w,this._columnSelectMode=C},y.prototype.createRow=function(x,w,C,S,T,M,D,k){for(var R,P,E=this._document.createDocumentFragment(),O=this._characterJoinerService.getJoinedCharacters(w),I=0,U=Math.min(x.length,k)-1;U>=0;U--)if(x.loadCell(U,this._workCell).getCode()!==h.NULL_CELL_CODE||C&&U===T){I=U+1;break}for(U=0;U<I;U++){x.loadCell(U,this._workCell);var V=this._workCell.getWidth();if(V!==0){var Z=!1,z=U,H=this._workCell;if(O.length>0&&U===O[0][0]){Z=!0;var B=O.shift();H=new g.JoinedCellData(this._workCell,x.translateToString(!0,B[0],B[1]),B[1]-B[0]),z=B[1]-1,V=H.getWidth()}var W=this._document.createElement("span");if(V>1&&(W.style.width=D*V+"px"),Z&&(W.style.display="inline",T>=U&&T<=z&&(T=U)),!this._coreService.isCursorHidden&&C&&U===T)switch(W.classList.add(n.CURSOR_CLASS),M&&W.classList.add(n.CURSOR_BLINK_CLASS),S){case"bar":W.classList.add(n.CURSOR_STYLE_BAR_CLASS);break;case"underline":W.classList.add(n.CURSOR_STYLE_UNDERLINE_CLASS);break;default:W.classList.add(n.CURSOR_STYLE_BLOCK_CLASS)}H.isBold()&&W.classList.add(n.BOLD_CLASS),H.isItalic()&&W.classList.add(n.ITALIC_CLASS),H.isDim()&&W.classList.add(n.DIM_CLASS),H.isUnderline()&&W.classList.add(n.UNDERLINE_CLASS),H.isInvisible()?W.textContent=h.WHITESPACE_CELL_CHAR:W.textContent=H.getChars()||h.WHITESPACE_CELL_CHAR,H.isStrikethrough()&&W.classList.add(n.STRIKETHROUGH_CLASS);var F=H.getFgColor(),K=H.getFgColorMode(),fe=H.getBgColor(),se=H.getBgColorMode(),ee=!!H.isInverse();if(ee){var ie=F;F=fe,fe=ie;var J=K;K=se,se=J}var te=void 0,L=void 0,N=!1;try{for(var G=(R=void 0,u(this._decorationService.getDecorationsAtCell(U,w))),Y=G.next();!Y.done;Y=G.next()){var j=Y.value;j.options.layer!=="top"&&N||(j.backgroundColorRGB&&(se=50331648,fe=j.backgroundColorRGB.rgba>>8&16777215,te=j.backgroundColorRGB),j.foregroundColorRGB&&(K=50331648,F=j.foregroundColorRGB.rgba>>8&16777215,L=j.foregroundColorRGB),N=j.options.layer==="top")}}catch(ue){R={error:ue}}finally{try{Y&&!Y.done&&(P=G.return)&&P.call(G)}finally{if(R)throw R.error}}var Q=this._isCellInSelection(U,w);N||this._colors.selectionForeground&&Q&&(K=50331648,F=this._colors.selectionForeground.rgba>>8&16777215,L=this._colors.selectionForeground),Q&&(te=this._colors.selectionOpaque,N=!0),N&&W.classList.add("xterm-decoration-top");var q=void 0;switch(se){case 16777216:case 33554432:q=this._colors.ansi[fe],W.classList.add("xterm-bg-"+fe);break;case 50331648:q=m.rgba.toColor(fe>>16,fe>>8&255,255&fe),this._addStyle(W,"background-color:#"+b((fe>>>0).toString(16),"0",6));break;default:ee?(q=this._colors.foreground,W.classList.add("xterm-bg-"+c.INVERTED_DEFAULT_COLOR)):q=this._colors.background}switch(K){case 16777216:case 33554432:H.isBold()&&F<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(F+=8),this._applyMinimumContrast(W,q,this._colors.ansi[F],H,te,void 0)||W.classList.add("xterm-fg-"+F);break;case 50331648:var re=m.rgba.toColor(F>>16&255,F>>8&255,255&F);this._applyMinimumContrast(W,q,re,H,te,L)||this._addStyle(W,"color:#"+b(F.toString(16),"0",6));break;default:this._applyMinimumContrast(W,q,this._colors.foreground,H,te,void 0)||ee&&W.classList.add("xterm-fg-"+c.INVERTED_DEFAULT_COLOR)}E.appendChild(W),U=z}}return E},y.prototype._applyMinimumContrast=function(x,w,C,S,T,M){if(this._optionsService.rawOptions.minimumContrastRatio===1||(0,p.excludeFromContrastRatioDemands)(S.getCode()))return!1;var D=void 0;return T||M||(D=this._colors.contrastCache.getColor(w.rgba,C.rgba)),D===void 0&&(D=m.color.ensureContrastRatio(T||w,M||C,this._optionsService.rawOptions.minimumContrastRatio),this._colors.contrastCache.setColor((T||w).rgba,(M||C).rgba,D??null)),!!D&&(this._addStyle(x,"color:"+D.css),!0)},y.prototype._addStyle=function(x,w){x.setAttribute("style",""+(x.getAttribute("style")||"")+w+";")},y.prototype._isCellInSelection=function(x,w){var C=this._selectionStart,S=this._selectionEnd;return!(!C||!S)&&(this._columnSelectMode?C[0]<=S[0]?x>=C[0]&&w>=C[1]&&x<S[0]&&w<=S[1]:x<C[0]&&w>=C[1]&&x>=S[0]&&w<=S[1]:w>C[1]&&w<S[1]||C[1]===S[1]&&w===C[1]&&x>=C[0]&&x<S[0]||C[1]<S[1]&&w===S[1]&&x<S[0]||C[1]<S[1]&&w===C[1]&&x>=C[0])},s([l(2,_.ICharacterJoinerService),l(3,f.IOptionsService),l(4,f.ICoreService),l(5,f.IDecorationService)],y)}();function b(y,x,w){for(;y.length<w;)y=x+y;return y}n.DomRendererRowFactory=d},456:(o,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.SelectionModel=void 0;var a=function(){function s(l){this._bufferService=l,this.isSelectAllActive=!1,this.selectionStartLength=0}return s.prototype.clearSelection=function(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0},Object.defineProperty(s.prototype,"finalSelectionStart",{get:function(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"finalSelectionEnd",{get:function(){return this.isSelectAllActive?[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1]:this.selectionStart?!this.selectionEnd||this.areSelectionValuesReversed()?(l=this.selectionStart[0]+this.selectionStartLength)>this._bufferService.cols?l%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(l/this._bufferService.cols)-1]:[l%this._bufferService.cols,this.selectionStart[1]+Math.floor(l/this._bufferService.cols)]:[l,this.selectionStart[1]]:this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]?(l=this.selectionStart[0]+this.selectionStartLength)>this._bufferService.cols?[l%this._bufferService.cols,this.selectionStart[1]+Math.floor(l/this._bufferService.cols)]:[Math.max(l,this.selectionEnd[0]),this.selectionEnd[1]]:this.selectionEnd:void 0;var l},enumerable:!1,configurable:!0}),s.prototype.areSelectionValuesReversed=function(){var l=this.selectionStart,u=this.selectionEnd;return!(!l||!u)&&(l[1]>u[1]||l[1]===u[1]&&l[0]>u[0])},s.prototype.onTrim=function(l){return this.selectionStart&&(this.selectionStart[1]-=l),this.selectionEnd&&(this.selectionEnd[1]-=l),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)},s}();n.SelectionModel=a},428:function(o,n,a){var s=this&&this.__decorate||function(f,m,_,g){var p,d=arguments.length,b=d<3?m:g===null?g=Object.getOwnPropertyDescriptor(m,_):g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(f,m,_,g);else for(var y=f.length-1;y>=0;y--)(p=f[y])&&(b=(d<3?p(b):d>3?p(m,_,b):p(m,_))||b);return d>3&&b&&Object.defineProperty(m,_,b),b},l=this&&this.__param||function(f,m){return function(_,g){m(_,g,f)}};Object.defineProperty(n,"__esModule",{value:!0}),n.CharSizeService=void 0;var u=a(2585),c=a(8460),h=function(){function f(m,_,g){this._optionsService=g,this.width=0,this.height=0,this._onCharSizeChange=new c.EventEmitter,this._measureStrategy=new v(m,_,this._optionsService)}return Object.defineProperty(f.prototype,"hasValidSize",{get:function(){return this.width>0&&this.height>0},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"onCharSizeChange",{get:function(){return this._onCharSizeChange.event},enumerable:!1,configurable:!0}),f.prototype.measure=function(){var m=this._measureStrategy.measure();m.width===this.width&&m.height===this.height||(this.width=m.width,this.height=m.height,this._onCharSizeChange.fire())},s([l(2,u.IOptionsService)],f)}();n.CharSizeService=h;var v=function(){function f(m,_,g){this._document=m,this._parentElement=_,this._optionsService=g,this._result={width:0,height:0},this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W",this._measureElement.setAttribute("aria-hidden","true"),this._parentElement.appendChild(this._measureElement)}return f.prototype.measure=function(){this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=this._optionsService.rawOptions.fontSize+"px";var m=this._measureElement.getBoundingClientRect();return m.width!==0&&m.height!==0&&(this._result.width=m.width,this._result.height=Math.ceil(m.height)),this._result},f}()},4269:function(o,n,a){var s,l=this&&this.__extends||(s=function(p,d){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,y){b.__proto__=y}||function(b,y){for(var x in y)Object.prototype.hasOwnProperty.call(y,x)&&(b[x]=y[x])},s(p,d)},function(p,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");function b(){this.constructor=p}s(p,d),p.prototype=d===null?Object.create(d):(b.prototype=d.prototype,new b)}),u=this&&this.__decorate||function(p,d,b,y){var x,w=arguments.length,C=w<3?d:y===null?y=Object.getOwnPropertyDescriptor(d,b):y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(p,d,b,y);else for(var S=p.length-1;S>=0;S--)(x=p[S])&&(C=(w<3?x(C):w>3?x(d,b,C):x(d,b))||C);return w>3&&C&&Object.defineProperty(d,b,C),C},c=this&&this.__param||function(p,d){return function(b,y){d(b,y,p)}};Object.defineProperty(n,"__esModule",{value:!0}),n.CharacterJoinerService=n.JoinedCellData=void 0;var h=a(3734),v=a(643),f=a(511),m=a(2585),_=function(p){function d(b,y,x){var w=p.call(this)||this;return w.content=0,w.combinedData="",w.fg=b.fg,w.bg=b.bg,w.combinedData=y,w._width=x,w}return l(d,p),d.prototype.isCombined=function(){return 2097152},d.prototype.getWidth=function(){return this._width},d.prototype.getChars=function(){return this.combinedData},d.prototype.getCode=function(){return 2097151},d.prototype.setFromCharData=function(b){throw new Error("not implemented")},d.prototype.getAsCharData=function(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]},d}(h.AttributeData);n.JoinedCellData=_;var g=function(){function p(d){this._bufferService=d,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new f.CellData}return p.prototype.register=function(d){var b={id:this._nextCharacterJoinerId++,handler:d};return this._characterJoiners.push(b),b.id},p.prototype.deregister=function(d){for(var b=0;b<this._characterJoiners.length;b++)if(this._characterJoiners[b].id===d)return this._characterJoiners.splice(b,1),!0;return!1},p.prototype.getJoinedCharacters=function(d){if(this._characterJoiners.length===0)return[];var b=this._bufferService.buffer.lines.get(d);if(!b||b.length===0)return[];for(var y=[],x=b.translateToString(!0),w=0,C=0,S=0,T=b.getFg(0),M=b.getBg(0),D=0;D<b.getTrimmedLength();D++)if(b.loadCell(D,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==T||this._workCell.bg!==M){if(D-w>1)for(var k=this._getJoinedRanges(x,S,C,b,w),R=0;R<k.length;R++)y.push(k[R]);w=D,S=C,T=this._workCell.fg,M=this._workCell.bg}C+=this._workCell.getChars().length||v.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-w>1)for(k=this._getJoinedRanges(x,S,C,b,w),R=0;R<k.length;R++)y.push(k[R]);return y},p.prototype._getJoinedRanges=function(d,b,y,x,w){var C=d.substring(b,y),S=[];try{S=this._characterJoiners[0].handler(C)}catch(k){console.error(k)}for(var T=1;T<this._characterJoiners.length;T++)try{for(var M=this._characterJoiners[T].handler(C),D=0;D<M.length;D++)p._mergeRanges(S,M[D])}catch(k){console.error(k)}return this._stringRangesToCellRanges(S,x,w),S},p.prototype._stringRangesToCellRanges=function(d,b,y){var x=0,w=!1,C=0,S=d[x];if(S){for(var T=y;T<this._bufferService.cols;T++){var M=b.getWidth(T),D=b.getString(T).length||v.WHITESPACE_CELL_CHAR.length;if(M!==0){if(!w&&S[0]<=C&&(S[0]=T,w=!0),S[1]<=C){if(S[1]=T,!(S=d[++x]))break;S[0]<=C?(S[0]=T,w=!0):w=!1}C+=D}}S&&(S[1]=this._bufferService.cols)}},p._mergeRanges=function(d,b){for(var y=!1,x=0;x<d.length;x++){var w=d[x];if(y){if(b[1]<=w[0])return d[x-1][1]=b[1],d;if(b[1]<=w[1])return d[x-1][1]=Math.max(b[1],w[1]),d.splice(x,1),d;d.splice(x,1),x--}else{if(b[1]<=w[0])return d.splice(x,0,b),d;if(b[1]<=w[1])return w[0]=Math.min(b[0],w[0]),d;b[0]<w[1]&&(w[0]=Math.min(b[0],w[0]),y=!0)}}return y?d[d.length-1][1]=b[1]:d.push(b),d},p=u([c(0,m.IBufferService)],p)}();n.CharacterJoinerService=g},5114:(o,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.CoreBrowserService=void 0;var a=function(){function s(l){this._textarea=l}return Object.defineProperty(s.prototype,"isFocused",{get:function(){return(this._textarea.getRootNode?this._textarea.getRootNode():document).activeElement===this._textarea&&document.hasFocus()},enumerable:!1,configurable:!0}),s}();n.CoreBrowserService=a},8934:function(o,n,a){var s=this&&this.__decorate||function(v,f,m,_){var g,p=arguments.length,d=p<3?f:_===null?_=Object.getOwnPropertyDescriptor(f,m):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(v,f,m,_);else for(var b=v.length-1;b>=0;b--)(g=v[b])&&(d=(p<3?g(d):p>3?g(f,m,d):g(f,m))||d);return p>3&&d&&Object.defineProperty(f,m,d),d},l=this&&this.__param||function(v,f){return function(m,_){f(m,_,v)}};Object.defineProperty(n,"__esModule",{value:!0}),n.MouseService=void 0;var u=a(4725),c=a(9806),h=function(){function v(f,m){this._renderService=f,this._charSizeService=m}return v.prototype.getCoords=function(f,m,_,g,p){return(0,c.getCoords)(window,f,m,_,g,this._charSizeService.hasValidSize,this._renderService.dimensions.actualCellWidth,this._renderService.dimensions.actualCellHeight,p)},v.prototype.getRawByteCoords=function(f,m,_,g){var p=this.getCoords(f,m,_,g);return(0,c.getRawByteCoords)(p)},s([l(0,u.IRenderService),l(1,u.ICharSizeService)],v)}();n.MouseService=h},3230:function(o,n,a){var s,l=this&&this.__extends||(s=function(b,y){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,w){x.__proto__=w}||function(x,w){for(var C in w)Object.prototype.hasOwnProperty.call(w,C)&&(x[C]=w[C])},s(b,y)},function(b,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");function x(){this.constructor=b}s(b,y),b.prototype=y===null?Object.create(y):(x.prototype=y.prototype,new x)}),u=this&&this.__decorate||function(b,y,x,w){var C,S=arguments.length,T=S<3?y:w===null?w=Object.getOwnPropertyDescriptor(y,x):w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(b,y,x,w);else for(var M=b.length-1;M>=0;M--)(C=b[M])&&(T=(S<3?C(T):S>3?C(y,x,T):C(y,x))||T);return S>3&&T&&Object.defineProperty(y,x,T),T},c=this&&this.__param||function(b,y){return function(x,w){y(x,w,b)}};Object.defineProperty(n,"__esModule",{value:!0}),n.RenderService=void 0;var h=a(6193),v=a(8460),f=a(844),m=a(5596),_=a(3656),g=a(2585),p=a(4725),d=function(b){function y(x,w,C,S,T,M,D){var k=b.call(this)||this;if(k._renderer=x,k._rowCount=w,k._charSizeService=T,k._isPaused=!1,k._needsFullRefresh=!1,k._isNextRenderRedrawOnly=!0,k._needsSelectionRefresh=!1,k._canvasWidth=0,k._canvasHeight=0,k._selectionState={start:void 0,end:void 0,columnSelectMode:!1},k._onDimensionsChange=new v.EventEmitter,k._onRenderedViewportChange=new v.EventEmitter,k._onRender=new v.EventEmitter,k._onRefreshRequest=new v.EventEmitter,k.register({dispose:function(){return k._renderer.dispose()}}),k._renderDebouncer=new h.RenderDebouncer(function(P,E){return k._renderRows(P,E)}),k.register(k._renderDebouncer),k._screenDprMonitor=new m.ScreenDprMonitor,k._screenDprMonitor.setListener(function(){return k.onDevicePixelRatioChange()}),k.register(k._screenDprMonitor),k.register(D.onResize(function(){return k._fullRefresh()})),k.register(D.buffers.onBufferActivate(function(){var P;return(P=k._renderer)===null||P===void 0?void 0:P.clear()})),k.register(S.onOptionChange(function(){return k._handleOptionsChanged()})),k.register(k._charSizeService.onCharSizeChange(function(){return k.onCharSizeChanged()})),k.register(M.onDecorationRegistered(function(){return k._fullRefresh()})),k.register(M.onDecorationRemoved(function(){return k._fullRefresh()})),k._renderer.onRequestRedraw(function(P){return k.refreshRows(P.start,P.end,!0)}),k.register((0,_.addDisposableDomListener)(window,"resize",function(){return k.onDevicePixelRatioChange()})),"IntersectionObserver"in window){var R=new IntersectionObserver(function(P){return k._onIntersectionChange(P[P.length-1])},{threshold:0});R.observe(C),k.register({dispose:function(){return R.disconnect()}})}return k}return l(y,b),Object.defineProperty(y.prototype,"onDimensionsChange",{get:function(){return this._onDimensionsChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"onRenderedViewportChange",{get:function(){return this._onRenderedViewportChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"onRender",{get:function(){return this._onRender.event},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"onRefreshRequest",{get:function(){return this._onRefreshRequest.event},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"dimensions",{get:function(){return this._renderer.dimensions},enumerable:!1,configurable:!0}),y.prototype._onIntersectionChange=function(x){this._isPaused=x.isIntersecting===void 0?x.intersectionRatio===0:!x.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)},y.prototype.refreshRows=function(x,w,C){C===void 0&&(C=!1),this._isPaused?this._needsFullRefresh=!0:(C||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(x,w,this._rowCount))},y.prototype._renderRows=function(x,w){this._renderer.renderRows(x,w),this._needsSelectionRefresh&&(this._renderer.onSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:x,end:w}),this._onRender.fire({start:x,end:w}),this._isNextRenderRedrawOnly=!0},y.prototype.resize=function(x,w){this._rowCount=w,this._fireOnCanvasResize()},y.prototype._handleOptionsChanged=function(){this._renderer.onOptionsChanged(),this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize()},y.prototype._fireOnCanvasResize=function(){this._renderer.dimensions.canvasWidth===this._canvasWidth&&this._renderer.dimensions.canvasHeight===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.dimensions)},y.prototype.dispose=function(){b.prototype.dispose.call(this)},y.prototype.setRenderer=function(x){var w=this;this._renderer.dispose(),this._renderer=x,this._renderer.onRequestRedraw(function(C){return w.refreshRows(C.start,C.end,!0)}),this._needsSelectionRefresh=!0,this._fullRefresh()},y.prototype.addRefreshCallback=function(x){return this._renderDebouncer.addRefreshCallback(x)},y.prototype._fullRefresh=function(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)},y.prototype.clearTextureAtlas=function(){var x,w;(w=(x=this._renderer)===null||x===void 0?void 0:x.clearTextureAtlas)===null||w===void 0||w.call(x),this._fullRefresh()},y.prototype.setColors=function(x){this._renderer.setColors(x),this._fullRefresh()},y.prototype.onDevicePixelRatioChange=function(){this._charSizeService.measure(),this._renderer.onDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1)},y.prototype.onResize=function(x,w){this._renderer.onResize(x,w),this._fullRefresh()},y.prototype.onCharSizeChanged=function(){this._renderer.onCharSizeChanged()},y.prototype.onBlur=function(){this._renderer.onBlur()},y.prototype.onFocus=function(){this._renderer.onFocus()},y.prototype.onSelectionChanged=function(x,w,C){this._selectionState.start=x,this._selectionState.end=w,this._selectionState.columnSelectMode=C,this._renderer.onSelectionChanged(x,w,C)},y.prototype.onCursorMove=function(){this._renderer.onCursorMove()},y.prototype.clear=function(){this._renderer.clear()},u([c(3,g.IOptionsService),c(4,p.ICharSizeService),c(5,g.IDecorationService),c(6,g.IBufferService)],y)}(f.Disposable);n.RenderService=d},9312:function(o,n,a){var s,l=this&&this.__extends||(s=function(S,T){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,D){M.__proto__=D}||function(M,D){for(var k in D)Object.prototype.hasOwnProperty.call(D,k)&&(M[k]=D[k])},s(S,T)},function(S,T){if(typeof T!="function"&&T!==null)throw new TypeError("Class extends value "+String(T)+" is not a constructor or null");function M(){this.constructor=S}s(S,T),S.prototype=T===null?Object.create(T):(M.prototype=T.prototype,new M)}),u=this&&this.__decorate||function(S,T,M,D){var k,R=arguments.length,P=R<3?T:D===null?D=Object.getOwnPropertyDescriptor(T,M):D;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")P=Reflect.decorate(S,T,M,D);else for(var E=S.length-1;E>=0;E--)(k=S[E])&&(P=(R<3?k(P):R>3?k(T,M,P):k(T,M))||P);return R>3&&P&&Object.defineProperty(T,M,P),P},c=this&&this.__param||function(S,T){return function(M,D){T(M,D,S)}};Object.defineProperty(n,"__esModule",{value:!0}),n.SelectionService=void 0;var h=a(6114),v=a(456),f=a(511),m=a(8460),_=a(4725),g=a(2585),p=a(9806),d=a(9504),b=a(844),y=a(4841),x=String.fromCharCode(160),w=new RegExp(x,"g"),C=function(S){function T(M,D,k,R,P,E,O,I){var U=S.call(this)||this;return U._element=M,U._screenElement=D,U._linkifier=k,U._bufferService=R,U._coreService=P,U._mouseService=E,U._optionsService=O,U._renderService=I,U._dragScrollAmount=0,U._enabled=!0,U._workCell=new f.CellData,U._mouseDownTimeStamp=0,U._oldHasSelection=!1,U._oldSelectionStart=void 0,U._oldSelectionEnd=void 0,U._onLinuxMouseSelection=U.register(new m.EventEmitter),U._onRedrawRequest=U.register(new m.EventEmitter),U._onSelectionChange=U.register(new m.EventEmitter),U._onRequestScrollLines=U.register(new m.EventEmitter),U._mouseMoveListener=function(V){return U._onMouseMove(V)},U._mouseUpListener=function(V){return U._onMouseUp(V)},U._coreService.onUserInput(function(){U.hasSelection&&U.clearSelection()}),U._trimListener=U._bufferService.buffer.lines.onTrim(function(V){return U._onTrim(V)}),U.register(U._bufferService.buffers.onBufferActivate(function(V){return U._onBufferActivate(V)})),U.enable(),U._model=new v.SelectionModel(U._bufferService),U._activeSelectionMode=0,U}return l(T,S),Object.defineProperty(T.prototype,"onLinuxMouseSelection",{get:function(){return this._onLinuxMouseSelection.event},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"onRequestRedraw",{get:function(){return this._onRedrawRequest.event},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"onSelectionChange",{get:function(){return this._onSelectionChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"onRequestScrollLines",{get:function(){return this._onRequestScrollLines.event},enumerable:!1,configurable:!0}),T.prototype.dispose=function(){this._removeMouseDownListeners()},T.prototype.reset=function(){this.clearSelection()},T.prototype.disable=function(){this.clearSelection(),this._enabled=!1},T.prototype.enable=function(){this._enabled=!0},Object.defineProperty(T.prototype,"selectionStart",{get:function(){return this._model.finalSelectionStart},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"selectionEnd",{get:function(){return this._model.finalSelectionEnd},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"hasSelection",{get:function(){var M=this._model.finalSelectionStart,D=this._model.finalSelectionEnd;return!(!M||!D||M[0]===D[0]&&M[1]===D[1])},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"selectionText",{get:function(){var M=this._model.finalSelectionStart,D=this._model.finalSelectionEnd;if(!M||!D)return"";var k=this._bufferService.buffer,R=[];if(this._activeSelectionMode===3){if(M[0]===D[0])return"";for(var P=M[0]<D[0]?M[0]:D[0],E=M[0]<D[0]?D[0]:M[0],O=M[1];O<=D[1];O++){var I=k.translateBufferLineToString(O,!0,P,E);R.push(I)}}else{var U=M[1]===D[1]?D[0]:void 0;for(R.push(k.translateBufferLineToString(M[1],!0,M[0],U)),O=M[1]+1;O<=D[1]-1;O++){var V=k.lines.get(O);I=k.translateBufferLineToString(O,!0),V!=null&&V.isWrapped?R[R.length-1]+=I:R.push(I)}M[1]!==D[1]&&(V=k.lines.get(D[1]),I=k.translateBufferLineToString(D[1],!0,0,D[0]),V&&V.isWrapped?R[R.length-1]+=I:R.push(I))}return R.map(function(Z){return Z.replace(w," ")}).join(h.isWindows?`\r
`:`
`)},enumerable:!1,configurable:!0}),T.prototype.clearSelection=function(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()},T.prototype.refresh=function(M){var D=this;this._refreshAnimationFrame||(this._refreshAnimationFrame=window.requestAnimationFrame(function(){return D._refresh()})),h.isLinux&&M&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)},T.prototype._refresh=function(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})},T.prototype._isClickInSelection=function(M){var D=this._getMouseBufferCoords(M),k=this._model.finalSelectionStart,R=this._model.finalSelectionEnd;return!!(k&&R&&D)&&this._areCoordsInSelection(D,k,R)},T.prototype.isCellInSelection=function(M,D){var k=this._model.finalSelectionStart,R=this._model.finalSelectionEnd;return!(!k||!R)&&this._areCoordsInSelection([M,D],k,R)},T.prototype._areCoordsInSelection=function(M,D,k){return M[1]>D[1]&&M[1]<k[1]||D[1]===k[1]&&M[1]===D[1]&&M[0]>=D[0]&&M[0]<k[0]||D[1]<k[1]&&M[1]===k[1]&&M[0]<k[0]||D[1]<k[1]&&M[1]===D[1]&&M[0]>=D[0]},T.prototype._selectWordAtCursor=function(M,D){var k,R,P=(R=(k=this._linkifier.currentLink)===null||k===void 0?void 0:k.link)===null||R===void 0?void 0:R.range;if(P)return this._model.selectionStart=[P.start.x-1,P.start.y-1],this._model.selectionStartLength=(0,y.getRangeLength)(P,this._bufferService.cols),this._model.selectionEnd=void 0,!0;var E=this._getMouseBufferCoords(M);return!!E&&(this._selectWordAt(E,D),this._model.selectionEnd=void 0,!0)},T.prototype.selectAll=function(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()},T.prototype.selectLines=function(M,D){this._model.clearSelection(),M=Math.max(M,0),D=Math.min(D,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,M],this._model.selectionEnd=[this._bufferService.cols,D],this.refresh(),this._onSelectionChange.fire()},T.prototype._onTrim=function(M){this._model.onTrim(M)&&this.refresh()},T.prototype._getMouseBufferCoords=function(M){var D=this._mouseService.getCoords(M,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(D)return D[0]--,D[1]--,D[1]+=this._bufferService.buffer.ydisp,D},T.prototype._getMouseEventScrollAmount=function(M){var D=(0,p.getCoordsRelativeToElement)(window,M,this._screenElement)[1],k=this._renderService.dimensions.canvasHeight;return D>=0&&D<=k?0:(D>k&&(D-=k),D=Math.min(Math.max(D,-50),50),(D/=50)/Math.abs(D)+Math.round(14*D))},T.prototype.shouldForceSelection=function(M){return h.isMac?M.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:M.shiftKey},T.prototype.onMouseDown=function(M){if(this._mouseDownTimeStamp=M.timeStamp,(M.button!==2||!this.hasSelection)&&M.button===0){if(!this._enabled){if(!this.shouldForceSelection(M))return;M.stopPropagation()}M.preventDefault(),this._dragScrollAmount=0,this._enabled&&M.shiftKey?this._onIncrementalClick(M):M.detail===1?this._onSingleClick(M):M.detail===2?this._onDoubleClick(M):M.detail===3&&this._onTripleClick(M),this._addMouseDownListeners(),this.refresh(!0)}},T.prototype._addMouseDownListeners=function(){var M=this;this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=window.setInterval(function(){return M._dragScroll()},50)},T.prototype._removeMouseDownListeners=function(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0},T.prototype._onIncrementalClick=function(M){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(M))},T.prototype._onSingleClick=function(M){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(M)?3:0,this._model.selectionStart=this._getMouseBufferCoords(M),this._model.selectionStart){this._model.selectionEnd=void 0;var D=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);D&&D.length!==this._model.selectionStart[0]&&D.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}},T.prototype._onDoubleClick=function(M){this._selectWordAtCursor(M,!0)&&(this._activeSelectionMode=1)},T.prototype._onTripleClick=function(M){var D=this._getMouseBufferCoords(M);D&&(this._activeSelectionMode=2,this._selectLineAt(D[1]))},T.prototype.shouldColumnSelect=function(M){return M.altKey&&!(h.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)},T.prototype._onMouseMove=function(M){if(M.stopImmediatePropagation(),this._model.selectionStart){var D=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(M),this._model.selectionEnd){this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(M),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));var k=this._bufferService.buffer;if(this._model.selectionEnd[1]<k.lines.length){var R=k.lines.get(this._model.selectionEnd[1]);R&&R.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]++}D&&D[0]===this._model.selectionEnd[0]&&D[1]===this._model.selectionEnd[1]||this.refresh(!0)}else this.refresh(!0)}},T.prototype._dragScroll=function(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});var M=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(M.ydisp+this._bufferService.rows,M.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=M.ydisp),this.refresh()}},T.prototype._onMouseUp=function(M){var D=M.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&D<500&&M.altKey&&this._optionsService.getOption("altClickMovesCursor")){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){var k=this._mouseService.getCoords(M,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(k&&k[0]!==void 0&&k[1]!==void 0){var R=(0,d.moveToCellSequence)(k[0]-1,k[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(R,!0)}}}else this._fireEventIfSelectionChanged()},T.prototype._fireEventIfSelectionChanged=function(){var M=this._model.finalSelectionStart,D=this._model.finalSelectionEnd,k=!(!M||!D||M[0]===D[0]&&M[1]===D[1]);k?M&&D&&(this._oldSelectionStart&&this._oldSelectionEnd&&M[0]===this._oldSelectionStart[0]&&M[1]===this._oldSelectionStart[1]&&D[0]===this._oldSelectionEnd[0]&&D[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(M,D,k)):this._oldHasSelection&&this._fireOnSelectionChange(M,D,k)},T.prototype._fireOnSelectionChange=function(M,D,k){this._oldSelectionStart=M,this._oldSelectionEnd=D,this._oldHasSelection=k,this._onSelectionChange.fire()},T.prototype._onBufferActivate=function(M){var D=this;this.clearSelection(),this._trimListener.dispose(),this._trimListener=M.activeBuffer.lines.onTrim(function(k){return D._onTrim(k)})},T.prototype._convertViewportColToCharacterIndex=function(M,D){for(var k=D[0],R=0;D[0]>=R;R++){var P=M.loadCell(R,this._workCell).getChars().length;this._workCell.getWidth()===0?k--:P>1&&D[0]!==R&&(k+=P-1)}return k},T.prototype.setSelection=function(M,D,k){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[M,D],this._model.selectionStartLength=k,this.refresh(),this._fireEventIfSelectionChanged()},T.prototype.rightClickSelect=function(M){this._isClickInSelection(M)||(this._selectWordAtCursor(M,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())},T.prototype._getWordAt=function(M,D,k,R){if(k===void 0&&(k=!0),R===void 0&&(R=!0),!(M[0]>=this._bufferService.cols)){var P=this._bufferService.buffer,E=P.lines.get(M[1]);if(E){var O=P.translateBufferLineToString(M[1],!1),I=this._convertViewportColToCharacterIndex(E,M),U=I,V=M[0]-I,Z=0,z=0,H=0,B=0;if(O.charAt(I)===" "){for(;I>0&&O.charAt(I-1)===" ";)I--;for(;U<O.length&&O.charAt(U+1)===" ";)U++}else{var W=M[0],F=M[0];E.getWidth(W)===0&&(Z++,W--),E.getWidth(F)===2&&(z++,F++);var K=E.getString(F).length;for(K>1&&(B+=K-1,U+=K-1);W>0&&I>0&&!this._isCharWordSeparator(E.loadCell(W-1,this._workCell));){E.loadCell(W-1,this._workCell);var fe=this._workCell.getChars().length;this._workCell.getWidth()===0?(Z++,W--):fe>1&&(H+=fe-1,I-=fe-1),I--,W--}for(;F<E.length&&U+1<O.length&&!this._isCharWordSeparator(E.loadCell(F+1,this._workCell));){E.loadCell(F+1,this._workCell);var se=this._workCell.getChars().length;this._workCell.getWidth()===2?(z++,F++):se>1&&(B+=se-1,U+=se-1),U++,F++}}U++;var ee=I+V-Z+H,ie=Math.min(this._bufferService.cols,U-I+Z+z-H-B);if(D||O.slice(I,U).trim()!==""){if(k&&ee===0&&E.getCodePoint(0)!==32){var J=P.lines.get(M[1]-1);if(J&&E.isWrapped&&J.getCodePoint(this._bufferService.cols-1)!==32){var te=this._getWordAt([this._bufferService.cols-1,M[1]-1],!1,!0,!1);if(te){var L=this._bufferService.cols-te.start;ee-=L,ie+=L}}}if(R&&ee+ie===this._bufferService.cols&&E.getCodePoint(this._bufferService.cols-1)!==32){var N=P.lines.get(M[1]+1);if(N!=null&&N.isWrapped&&N.getCodePoint(0)!==32){var G=this._getWordAt([0,M[1]+1],!1,!1,!0);G&&(ie+=G.length)}}return{start:ee,length:ie}}}}},T.prototype._selectWordAt=function(M,D){var k=this._getWordAt(M,D);if(k){for(;k.start<0;)k.start+=this._bufferService.cols,M[1]--;this._model.selectionStart=[k.start,M[1]],this._model.selectionStartLength=k.length}},T.prototype._selectToWordAt=function(M){var D=this._getWordAt(M,!0);if(D){for(var k=M[1];D.start<0;)D.start+=this._bufferService.cols,k--;if(!this._model.areSelectionValuesReversed())for(;D.start+D.length>this._bufferService.cols;)D.length-=this._bufferService.cols,k++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?D.start:D.start+D.length,k]}},T.prototype._isCharWordSeparator=function(M){return M.getWidth()!==0&&this._optionsService.rawOptions.wordSeparator.indexOf(M.getChars())>=0},T.prototype._selectLineAt=function(M){var D=this._bufferService.buffer.getWrappedRangeForLine(M),k={start:{x:0,y:D.first},end:{x:this._bufferService.cols-1,y:D.last}};this._model.selectionStart=[0,D.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,y.getRangeLength)(k,this._bufferService.cols)},u([c(3,g.IBufferService),c(4,g.ICoreService),c(5,_.IMouseService),c(6,g.IOptionsService),c(7,_.IRenderService)],T)}(b.Disposable);n.SelectionService=C},4725:(o,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.ICharacterJoinerService=n.ISoundService=n.ISelectionService=n.IRenderService=n.IMouseService=n.ICoreBrowserService=n.ICharSizeService=void 0;var s=a(8343);n.ICharSizeService=(0,s.createDecorator)("CharSizeService"),n.ICoreBrowserService=(0,s.createDecorator)("CoreBrowserService"),n.IMouseService=(0,s.createDecorator)("MouseService"),n.IRenderService=(0,s.createDecorator)("RenderService"),n.ISelectionService=(0,s.createDecorator)("SelectionService"),n.ISoundService=(0,s.createDecorator)("SoundService"),n.ICharacterJoinerService=(0,s.createDecorator)("CharacterJoinerService")},357:function(o,n,a){var s=this&&this.__decorate||function(h,v,f,m){var _,g=arguments.length,p=g<3?v:m===null?m=Object.getOwnPropertyDescriptor(v,f):m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(h,v,f,m);else for(var d=h.length-1;d>=0;d--)(_=h[d])&&(p=(g<3?_(p):g>3?_(v,f,p):_(v,f))||p);return g>3&&p&&Object.defineProperty(v,f,p),p},l=this&&this.__param||function(h,v){return function(f,m){v(f,m,h)}};Object.defineProperty(n,"__esModule",{value:!0}),n.SoundService=void 0;var u=a(2585),c=function(){function h(v){this._optionsService=v}return Object.defineProperty(h,"audioContext",{get:function(){if(!h._audioContext){var v=window.AudioContext||window.webkitAudioContext;if(!v)return console.warn("Web Audio API is not supported by this browser. Consider upgrading to the latest version"),null;h._audioContext=new v}return h._audioContext},enumerable:!1,configurable:!0}),h.prototype.playBellSound=function(){var v=h.audioContext;if(v){var f=v.createBufferSource();v.decodeAudioData(this._base64ToArrayBuffer(this._removeMimeType(this._optionsService.rawOptions.bellSound)),function(m){f.buffer=m,f.connect(v.destination),f.start(0)})}},h.prototype._base64ToArrayBuffer=function(v){for(var f=window.atob(v),m=f.length,_=new Uint8Array(m),g=0;g<m;g++)_[g]=f.charCodeAt(g);return _.buffer},h.prototype._removeMimeType=function(v){return v.split(",")[1]},h=s([l(0,u.IOptionsService)],h)}();n.SoundService=c},6349:(o,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.CircularList=void 0;var s=a(8460),l=function(){function u(c){this._maxLength=c,this.onDeleteEmitter=new s.EventEmitter,this.onInsertEmitter=new s.EventEmitter,this.onTrimEmitter=new s.EventEmitter,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}return Object.defineProperty(u.prototype,"onDelete",{get:function(){return this.onDeleteEmitter.event},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"onInsert",{get:function(){return this.onInsertEmitter.event},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"onTrim",{get:function(){return this.onTrimEmitter.event},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"maxLength",{get:function(){return this._maxLength},set:function(c){if(this._maxLength!==c){for(var h=new Array(c),v=0;v<Math.min(c,this.length);v++)h[v]=this._array[this._getCyclicIndex(v)];this._array=h,this._maxLength=c,this._startIndex=0}},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"length",{get:function(){return this._length},set:function(c){if(c>this._length)for(var h=this._length;h<c;h++)this._array[h]=void 0;this._length=c},enumerable:!1,configurable:!0}),u.prototype.get=function(c){return this._array[this._getCyclicIndex(c)]},u.prototype.set=function(c,h){this._array[this._getCyclicIndex(c)]=h},u.prototype.push=function(c){this._array[this._getCyclicIndex(this._length)]=c,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++},u.prototype.recycle=function(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]},Object.defineProperty(u.prototype,"isFull",{get:function(){return this._length===this._maxLength},enumerable:!1,configurable:!0}),u.prototype.pop=function(){return this._array[this._getCyclicIndex(this._length---1)]},u.prototype.splice=function(c,h){for(var v=[],f=2;f<arguments.length;f++)v[f-2]=arguments[f];if(h){for(var m=c;m<this._length-h;m++)this._array[this._getCyclicIndex(m)]=this._array[this._getCyclicIndex(m+h)];this._length-=h,this.onDeleteEmitter.fire({index:c,amount:h})}for(m=this._length-1;m>=c;m--)this._array[this._getCyclicIndex(m+v.length)]=this._array[this._getCyclicIndex(m)];for(m=0;m<v.length;m++)this._array[this._getCyclicIndex(c+m)]=v[m];if(v.length&&this.onInsertEmitter.fire({index:c,amount:v.length}),this._length+v.length>this._maxLength){var _=this._length+v.length-this._maxLength;this._startIndex+=_,this._length=this._maxLength,this.onTrimEmitter.fire(_)}else this._length+=v.length},u.prototype.trimStart=function(c){c>this._length&&(c=this._length),this._startIndex+=c,this._length-=c,this.onTrimEmitter.fire(c)},u.prototype.shiftElements=function(c,h,v){if(!(h<=0)){if(c<0||c>=this._length)throw new Error("start argument out of range");if(c+v<0)throw new Error("Cannot shift elements in list beyond index 0");if(v>0){for(var f=h-1;f>=0;f--)this.set(c+f+v,this.get(c+f));var m=c+h+v-this._length;if(m>0)for(this._length+=m;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(f=0;f<h;f++)this.set(c+f+v,this.get(c+f))}},u.prototype._getCyclicIndex=function(c){return(this._startIndex+c)%this._maxLength},u}();n.CircularList=l},1439:(o,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.clone=void 0,n.clone=function a(s,l){if(l===void 0&&(l=5),typeof s!="object")return s;var u=Array.isArray(s)?[]:{};for(var c in s)u[c]=l<=1?s[c]:s[c]&&a(s[c],l-1);return u}},8055:function(o,n){var a,s,l,u,c=this&&this.__read||function(f,m){var _=typeof Symbol=="function"&&f[Symbol.iterator];if(!_)return f;var g,p,d=_.call(f),b=[];try{for(;(m===void 0||m-- >0)&&!(g=d.next()).done;)b.push(g.value)}catch(y){p={error:y}}finally{try{g&&!g.done&&(_=d.return)&&_.call(d)}finally{if(p)throw p.error}}return b};function h(f){var m=f.toString(16);return m.length<2?"0"+m:m}function v(f,m){return f<m?(m+.05)/(f+.05):(f+.05)/(m+.05)}Object.defineProperty(n,"__esModule",{value:!0}),n.contrastRatio=n.toPaddedHex=n.rgba=n.rgb=n.css=n.color=n.channels=void 0,function(f){f.toCss=function(m,_,g,p){return p!==void 0?"#"+h(m)+h(_)+h(g)+h(p):"#"+h(m)+h(_)+h(g)},f.toRgba=function(m,_,g,p){return p===void 0&&(p=255),(m<<24|_<<16|g<<8|p)>>>0}}(a=n.channels||(n.channels={})),(s=n.color||(n.color={})).blend=function(f,m){var _=(255&m.rgba)/255;if(_===1)return{css:m.css,rgba:m.rgba};var g=m.rgba>>24&255,p=m.rgba>>16&255,d=m.rgba>>8&255,b=f.rgba>>24&255,y=f.rgba>>16&255,x=f.rgba>>8&255,w=b+Math.round((g-b)*_),C=y+Math.round((p-y)*_),S=x+Math.round((d-x)*_);return{css:a.toCss(w,C,S),rgba:a.toRgba(w,C,S)}},s.isOpaque=function(f){return(255&f.rgba)==255},s.ensureContrastRatio=function(f,m,_){var g=u.ensureContrastRatio(f.rgba,m.rgba,_);if(g)return u.toColor(g>>24&255,g>>16&255,g>>8&255)},s.opaque=function(f){var m=(255|f.rgba)>>>0,_=c(u.toChannels(m),3),g=_[0],p=_[1],d=_[2];return{css:a.toCss(g,p,d),rgba:m}},s.opacity=function(f,m){var _=Math.round(255*m),g=c(u.toChannels(f.rgba),3),p=g[0],d=g[1],b=g[2];return{css:a.toCss(p,d,b,_),rgba:a.toRgba(p,d,b,_)}},s.toColorRGB=function(f){return[f.rgba>>24&255,f.rgba>>16&255,f.rgba>>8&255]},(n.css||(n.css={})).toColor=function(f){if(f.match(/#[0-9a-f]{3,8}/i))switch(f.length){case 4:var m=parseInt(f.slice(1,2).repeat(2),16),_=parseInt(f.slice(2,3).repeat(2),16),g=parseInt(f.slice(3,4).repeat(2),16);return u.toColor(m,_,g);case 5:m=parseInt(f.slice(1,2).repeat(2),16),_=parseInt(f.slice(2,3).repeat(2),16),g=parseInt(f.slice(3,4).repeat(2),16);var p=parseInt(f.slice(4,5).repeat(2),16);return u.toColor(m,_,g,p);case 7:return{css:f,rgba:(parseInt(f.slice(1),16)<<8|255)>>>0};case 9:return{css:f,rgba:parseInt(f.slice(1),16)>>>0}}var d=f.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(d)return m=parseInt(d[1]),_=parseInt(d[2]),g=parseInt(d[3]),p=Math.round(255*(d[5]===void 0?1:parseFloat(d[5]))),u.toColor(m,_,g,p);throw new Error("css.toColor: Unsupported css format")},function(f){function m(_,g,p){var d=_/255,b=g/255,y=p/255;return .2126*(d<=.03928?d/12.92:Math.pow((d+.055)/1.055,2.4))+.7152*(b<=.03928?b/12.92:Math.pow((b+.055)/1.055,2.4))+.0722*(y<=.03928?y/12.92:Math.pow((y+.055)/1.055,2.4))}f.relativeLuminance=function(_){return m(_>>16&255,_>>8&255,255&_)},f.relativeLuminance2=m}(l=n.rgb||(n.rgb={})),function(f){function m(g,p,d){for(var b=g>>24&255,y=g>>16&255,x=g>>8&255,w=p>>24&255,C=p>>16&255,S=p>>8&255,T=v(l.relativeLuminance2(w,C,S),l.relativeLuminance2(b,y,x));T<d&&(w>0||C>0||S>0);)w-=Math.max(0,Math.ceil(.1*w)),C-=Math.max(0,Math.ceil(.1*C)),S-=Math.max(0,Math.ceil(.1*S)),T=v(l.relativeLuminance2(w,C,S),l.relativeLuminance2(b,y,x));return(w<<24|C<<16|S<<8|255)>>>0}function _(g,p,d){for(var b=g>>24&255,y=g>>16&255,x=g>>8&255,w=p>>24&255,C=p>>16&255,S=p>>8&255,T=v(l.relativeLuminance2(w,C,S),l.relativeLuminance2(b,y,x));T<d&&(w<255||C<255||S<255);)w=Math.min(255,w+Math.ceil(.1*(255-w))),C=Math.min(255,C+Math.ceil(.1*(255-C))),S=Math.min(255,S+Math.ceil(.1*(255-S))),T=v(l.relativeLuminance2(w,C,S),l.relativeLuminance2(b,y,x));return(w<<24|C<<16|S<<8|255)>>>0}f.ensureContrastRatio=function(g,p,d){var b=l.relativeLuminance(g>>8),y=l.relativeLuminance(p>>8);if(v(b,y)<d){if(y<b){var x=m(g,p,d),w=v(b,l.relativeLuminance(x>>8));if(w<d){var C=_(g,g,d);return w>v(b,l.relativeLuminance(C>>8))?x:C}return x}var S=_(g,p,d),T=v(b,l.relativeLuminance(S>>8));return T<d?(C=m(g,g,d),T>v(b,l.relativeLuminance(C>>8))?S:C):S}},f.reduceLuminance=m,f.increaseLuminance=_,f.toChannels=function(g){return[g>>24&255,g>>16&255,g>>8&255,255&g]},f.toColor=function(g,p,d,b){return{css:a.toCss(g,p,d,b),rgba:a.toRgba(g,p,d,b)}}}(u=n.rgba||(n.rgba={})),n.toPaddedHex=h,n.contrastRatio=v},8969:function(o,n,a){var s,l=this&&this.__extends||(s=function(D,k){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,P){R.__proto__=P}||function(R,P){for(var E in P)Object.prototype.hasOwnProperty.call(P,E)&&(R[E]=P[E])},s(D,k)},function(D,k){if(typeof k!="function"&&k!==null)throw new TypeError("Class extends value "+String(k)+" is not a constructor or null");function R(){this.constructor=D}s(D,k),D.prototype=k===null?Object.create(k):(R.prototype=k.prototype,new R)}),u=this&&this.__values||function(D){var k=typeof Symbol=="function"&&Symbol.iterator,R=k&&D[k],P=0;if(R)return R.call(D);if(D&&typeof D.length=="number")return{next:function(){return D&&P>=D.length&&(D=void 0),{value:D&&D[P++],done:!D}}};throw new TypeError(k?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(n,"__esModule",{value:!0}),n.CoreTerminal=void 0;var c=a(844),h=a(2585),v=a(4348),f=a(7866),m=a(744),_=a(7302),g=a(6975),p=a(8460),d=a(1753),b=a(3730),y=a(1480),x=a(7994),w=a(9282),C=a(5435),S=a(5981),T=!1,M=function(D){function k(R){var P=D.call(this)||this;return P._onBinary=new p.EventEmitter,P._onData=new p.EventEmitter,P._onLineFeed=new p.EventEmitter,P._onResize=new p.EventEmitter,P._onScroll=new p.EventEmitter,P._onWriteParsed=new p.EventEmitter,P._instantiationService=new v.InstantiationService,P.optionsService=new _.OptionsService(R),P._instantiationService.setService(h.IOptionsService,P.optionsService),P._bufferService=P.register(P._instantiationService.createInstance(m.BufferService)),P._instantiationService.setService(h.IBufferService,P._bufferService),P._logService=P._instantiationService.createInstance(f.LogService),P._instantiationService.setService(h.ILogService,P._logService),P.coreService=P.register(P._instantiationService.createInstance(g.CoreService,function(){return P.scrollToBottom()})),P._instantiationService.setService(h.ICoreService,P.coreService),P.coreMouseService=P._instantiationService.createInstance(d.CoreMouseService),P._instantiationService.setService(h.ICoreMouseService,P.coreMouseService),P._dirtyRowService=P._instantiationService.createInstance(b.DirtyRowService),P._instantiationService.setService(h.IDirtyRowService,P._dirtyRowService),P.unicodeService=P._instantiationService.createInstance(y.UnicodeService),P._instantiationService.setService(h.IUnicodeService,P.unicodeService),P._charsetService=P._instantiationService.createInstance(x.CharsetService),P._instantiationService.setService(h.ICharsetService,P._charsetService),P._inputHandler=new C.InputHandler(P._bufferService,P._charsetService,P.coreService,P._dirtyRowService,P._logService,P.optionsService,P.coreMouseService,P.unicodeService),P.register((0,p.forwardEvent)(P._inputHandler.onLineFeed,P._onLineFeed)),P.register(P._inputHandler),P.register((0,p.forwardEvent)(P._bufferService.onResize,P._onResize)),P.register((0,p.forwardEvent)(P.coreService.onData,P._onData)),P.register((0,p.forwardEvent)(P.coreService.onBinary,P._onBinary)),P.register(P.optionsService.onOptionChange(function(E){return P._updateOptions(E)})),P.register(P._bufferService.onScroll(function(E){P._onScroll.fire({position:P._bufferService.buffer.ydisp,source:0}),P._dirtyRowService.markRangeDirty(P._bufferService.buffer.scrollTop,P._bufferService.buffer.scrollBottom)})),P.register(P._inputHandler.onScroll(function(E){P._onScroll.fire({position:P._bufferService.buffer.ydisp,source:0}),P._dirtyRowService.markRangeDirty(P._bufferService.buffer.scrollTop,P._bufferService.buffer.scrollBottom)})),P._writeBuffer=new S.WriteBuffer(function(E,O){return P._inputHandler.parse(E,O)}),P.register((0,p.forwardEvent)(P._writeBuffer.onWriteParsed,P._onWriteParsed)),P}return l(k,D),Object.defineProperty(k.prototype,"onBinary",{get:function(){return this._onBinary.event},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"onData",{get:function(){return this._onData.event},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"onLineFeed",{get:function(){return this._onLineFeed.event},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"onResize",{get:function(){return this._onResize.event},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"onWriteParsed",{get:function(){return this._onWriteParsed.event},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"onScroll",{get:function(){var R=this;return this._onScrollApi||(this._onScrollApi=new p.EventEmitter,this.register(this._onScroll.event(function(P){var E;(E=R._onScrollApi)===null||E===void 0||E.fire(P.position)}))),this._onScrollApi.event},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"cols",{get:function(){return this._bufferService.cols},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"rows",{get:function(){return this._bufferService.rows},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"buffers",{get:function(){return this._bufferService.buffers},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"options",{get:function(){return this.optionsService.options},set:function(R){for(var P in R)this.optionsService.options[P]=R[P]},enumerable:!1,configurable:!0}),k.prototype.dispose=function(){var R;this._isDisposed||(D.prototype.dispose.call(this),(R=this._windowsMode)===null||R===void 0||R.dispose(),this._windowsMode=void 0)},k.prototype.write=function(R,P){this._writeBuffer.write(R,P)},k.prototype.writeSync=function(R,P){this._logService.logLevel<=h.LogLevelEnum.WARN&&!T&&(this._logService.warn("writeSync is unreliable and will be removed soon."),T=!0),this._writeBuffer.writeSync(R,P)},k.prototype.resize=function(R,P){isNaN(R)||isNaN(P)||(R=Math.max(R,m.MINIMUM_COLS),P=Math.max(P,m.MINIMUM_ROWS),this._bufferService.resize(R,P))},k.prototype.scroll=function(R,P){P===void 0&&(P=!1),this._bufferService.scroll(R,P)},k.prototype.scrollLines=function(R,P,E){this._bufferService.scrollLines(R,P,E)},k.prototype.scrollPages=function(R){this._bufferService.scrollPages(R)},k.prototype.scrollToTop=function(){this._bufferService.scrollToTop()},k.prototype.scrollToBottom=function(){this._bufferService.scrollToBottom()},k.prototype.scrollToLine=function(R){this._bufferService.scrollToLine(R)},k.prototype.registerEscHandler=function(R,P){return this._inputHandler.registerEscHandler(R,P)},k.prototype.registerDcsHandler=function(R,P){return this._inputHandler.registerDcsHandler(R,P)},k.prototype.registerCsiHandler=function(R,P){return this._inputHandler.registerCsiHandler(R,P)},k.prototype.registerOscHandler=function(R,P){return this._inputHandler.registerOscHandler(R,P)},k.prototype._setup=function(){this.optionsService.rawOptions.windowsMode&&this._enableWindowsMode()},k.prototype.reset=function(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()},k.prototype._updateOptions=function(R){var P;switch(R){case"scrollback":this.buffers.resize(this.cols,this.rows);break;case"windowsMode":this.optionsService.rawOptions.windowsMode?this._enableWindowsMode():((P=this._windowsMode)===null||P===void 0||P.dispose(),this._windowsMode=void 0)}},k.prototype._enableWindowsMode=function(){var R=this;if(!this._windowsMode){var P=[];P.push(this.onLineFeed(w.updateWindowsModeWrappedState.bind(null,this._bufferService))),P.push(this.registerCsiHandler({final:"H"},function(){return(0,w.updateWindowsModeWrappedState)(R._bufferService),!1})),this._windowsMode={dispose:function(){var E,O;try{for(var I=u(P),U=I.next();!U.done;U=I.next())U.value.dispose()}catch(V){E={error:V}}finally{try{U&&!U.done&&(O=I.return)&&O.call(I)}finally{if(E)throw E.error}}}}}},k}(c.Disposable);n.CoreTerminal=M},8460:(o,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.forwardEvent=n.EventEmitter=void 0;var a=function(){function s(){this._listeners=[],this._disposed=!1}return Object.defineProperty(s.prototype,"event",{get:function(){var l=this;return this._event||(this._event=function(u){return l._listeners.push(u),{dispose:function(){if(!l._disposed){for(var c=0;c<l._listeners.length;c++)if(l._listeners[c]===u)return void l._listeners.splice(c,1)}}}}),this._event},enumerable:!1,configurable:!0}),s.prototype.fire=function(l,u){for(var c=[],h=0;h<this._listeners.length;h++)c.push(this._listeners[h]);for(h=0;h<c.length;h++)c[h].call(void 0,l,u)},s.prototype.dispose=function(){this._listeners&&(this._listeners.length=0),this._disposed=!0},s}();n.EventEmitter=a,n.forwardEvent=function(s,l){return s(function(u){return l.fire(u)})}},5435:function(o,n,a){var s,l=this&&this.__extends||(s=function(P,E){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,I){O.__proto__=I}||function(O,I){for(var U in I)Object.prototype.hasOwnProperty.call(I,U)&&(O[U]=I[U])},s(P,E)},function(P,E){if(typeof E!="function"&&E!==null)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");function O(){this.constructor=P}s(P,E),P.prototype=E===null?Object.create(E):(O.prototype=E.prototype,new O)});Object.defineProperty(n,"__esModule",{value:!0}),n.InputHandler=n.WindowsOptionsReportType=void 0;var u,c=a(2584),h=a(7116),v=a(2015),f=a(844),m=a(8273),_=a(482),g=a(8437),p=a(8460),d=a(643),b=a(511),y=a(3734),x=a(2585),w=a(6242),C=a(6351),S=a(5941),T={"(":0,")":1,"*":2,"+":3,"-":1,".":2},M=131072;function D(P,E){if(P>24)return E.setWinLines||!1;switch(P){case 1:return!!E.restoreWin;case 2:return!!E.minimizeWin;case 3:return!!E.setWinPosition;case 4:return!!E.setWinSizePixels;case 5:return!!E.raiseWin;case 6:return!!E.lowerWin;case 7:return!!E.refreshWin;case 8:return!!E.setWinSizeChars;case 9:return!!E.maximizeWin;case 10:return!!E.fullscreenWin;case 11:return!!E.getWinState;case 13:return!!E.getWinPosition;case 14:return!!E.getWinSizePixels;case 15:return!!E.getScreenSizePixels;case 16:return!!E.getCellSizePixels;case 18:return!!E.getWinSizeChars;case 19:return!!E.getScreenSizeChars;case 20:return!!E.getIconTitle;case 21:return!!E.getWinTitle;case 22:return!!E.pushTitle;case 23:return!!E.popTitle;case 24:return!!E.setWinLines}return!1}(function(P){P[P.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",P[P.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"})(u=n.WindowsOptionsReportType||(n.WindowsOptionsReportType={}));var k=function(){function P(E,O,I,U){this._bufferService=E,this._coreService=O,this._logService=I,this._optionsService=U,this._data=new Uint32Array(0)}return P.prototype.hook=function(E){this._data=new Uint32Array(0)},P.prototype.put=function(E,O,I){this._data=(0,m.concat)(this._data,E.subarray(O,I))},P.prototype.unhook=function(E){if(!E)return this._data=new Uint32Array(0),!0;var O=(0,_.utf32ToString)(this._data);switch(this._data=new Uint32Array(0),O){case'"q':this._coreService.triggerDataEvent(c.C0.ESC+'P1$r0"q'+c.C0.ESC+"\\");break;case'"p':this._coreService.triggerDataEvent(c.C0.ESC+'P1$r61;1"p'+c.C0.ESC+"\\");break;case"r":var I=this._bufferService.buffer.scrollTop+1+";"+(this._bufferService.buffer.scrollBottom+1)+"r";this._coreService.triggerDataEvent(c.C0.ESC+"P1$r"+I+c.C0.ESC+"\\");break;case"m":this._coreService.triggerDataEvent(c.C0.ESC+"P1$r0m"+c.C0.ESC+"\\");break;case" q":var U={block:2,underline:4,bar:6}[this._optionsService.rawOptions.cursorStyle];U-=this._optionsService.rawOptions.cursorBlink?1:0,this._coreService.triggerDataEvent(c.C0.ESC+"P1$r"+U+" q"+c.C0.ESC+"\\");break;default:this._logService.debug("Unknown DCS $q %s",O),this._coreService.triggerDataEvent(c.C0.ESC+"P0$r"+c.C0.ESC+"\\")}return!0},P}(),R=function(P){function E(O,I,U,V,Z,z,H,B,W){W===void 0&&(W=new v.EscapeSequenceParser);var F=P.call(this)||this;F._bufferService=O,F._charsetService=I,F._coreService=U,F._dirtyRowService=V,F._logService=Z,F._optionsService=z,F._coreMouseService=H,F._unicodeService=B,F._parser=W,F._parseBuffer=new Uint32Array(4096),F._stringDecoder=new _.StringToUtf32,F._utf8Decoder=new _.Utf8ToUtf32,F._workCell=new b.CellData,F._windowTitle="",F._iconName="",F._windowTitleStack=[],F._iconNameStack=[],F._curAttrData=g.DEFAULT_ATTR_DATA.clone(),F._eraseAttrDataInternal=g.DEFAULT_ATTR_DATA.clone(),F._onRequestBell=new p.EventEmitter,F._onRequestRefreshRows=new p.EventEmitter,F._onRequestReset=new p.EventEmitter,F._onRequestSendFocus=new p.EventEmitter,F._onRequestSyncScrollBar=new p.EventEmitter,F._onRequestWindowsOptionsReport=new p.EventEmitter,F._onA11yChar=new p.EventEmitter,F._onA11yTab=new p.EventEmitter,F._onCursorMove=new p.EventEmitter,F._onLineFeed=new p.EventEmitter,F._onScroll=new p.EventEmitter,F._onTitleChange=new p.EventEmitter,F._onColor=new p.EventEmitter,F._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},F._specialColors=[256,257,258],F.register(F._parser),F._activeBuffer=F._bufferService.buffer,F.register(F._bufferService.buffers.onBufferActivate(function(ee){return F._activeBuffer=ee.activeBuffer})),F._parser.setCsiHandlerFallback(function(ee,ie){F._logService.debug("Unknown CSI code: ",{identifier:F._parser.identToString(ee),params:ie.toArray()})}),F._parser.setEscHandlerFallback(function(ee){F._logService.debug("Unknown ESC code: ",{identifier:F._parser.identToString(ee)})}),F._parser.setExecuteHandlerFallback(function(ee){F._logService.debug("Unknown EXECUTE code: ",{code:ee})}),F._parser.setOscHandlerFallback(function(ee,ie,J){F._logService.debug("Unknown OSC code: ",{identifier:ee,action:ie,data:J})}),F._parser.setDcsHandlerFallback(function(ee,ie,J){ie==="HOOK"&&(J=J.toArray()),F._logService.debug("Unknown DCS code: ",{identifier:F._parser.identToString(ee),action:ie,payload:J})}),F._parser.setPrintHandler(function(ee,ie,J){return F.print(ee,ie,J)}),F._parser.registerCsiHandler({final:"@"},function(ee){return F.insertChars(ee)}),F._parser.registerCsiHandler({intermediates:" ",final:"@"},function(ee){return F.scrollLeft(ee)}),F._parser.registerCsiHandler({final:"A"},function(ee){return F.cursorUp(ee)}),F._parser.registerCsiHandler({intermediates:" ",final:"A"},function(ee){return F.scrollRight(ee)}),F._parser.registerCsiHandler({final:"B"},function(ee){return F.cursorDown(ee)}),F._parser.registerCsiHandler({final:"C"},function(ee){return F.cursorForward(ee)}),F._parser.registerCsiHandler({final:"D"},function(ee){return F.cursorBackward(ee)}),F._parser.registerCsiHandler({final:"E"},function(ee){return F.cursorNextLine(ee)}),F._parser.registerCsiHandler({final:"F"},function(ee){return F.cursorPrecedingLine(ee)}),F._parser.registerCsiHandler({final:"G"},function(ee){return F.cursorCharAbsolute(ee)}),F._parser.registerCsiHandler({final:"H"},function(ee){return F.cursorPosition(ee)}),F._parser.registerCsiHandler({final:"I"},function(ee){return F.cursorForwardTab(ee)}),F._parser.registerCsiHandler({final:"J"},function(ee){return F.eraseInDisplay(ee)}),F._parser.registerCsiHandler({prefix:"?",final:"J"},function(ee){return F.eraseInDisplay(ee)}),F._parser.registerCsiHandler({final:"K"},function(ee){return F.eraseInLine(ee)}),F._parser.registerCsiHandler({prefix:"?",final:"K"},function(ee){return F.eraseInLine(ee)}),F._parser.registerCsiHandler({final:"L"},function(ee){return F.insertLines(ee)}),F._parser.registerCsiHandler({final:"M"},function(ee){return F.deleteLines(ee)}),F._parser.registerCsiHandler({final:"P"},function(ee){return F.deleteChars(ee)}),F._parser.registerCsiHandler({final:"S"},function(ee){return F.scrollUp(ee)}),F._parser.registerCsiHandler({final:"T"},function(ee){return F.scrollDown(ee)}),F._parser.registerCsiHandler({final:"X"},function(ee){return F.eraseChars(ee)}),F._parser.registerCsiHandler({final:"Z"},function(ee){return F.cursorBackwardTab(ee)}),F._parser.registerCsiHandler({final:"`"},function(ee){return F.charPosAbsolute(ee)}),F._parser.registerCsiHandler({final:"a"},function(ee){return F.hPositionRelative(ee)}),F._parser.registerCsiHandler({final:"b"},function(ee){return F.repeatPrecedingCharacter(ee)}),F._parser.registerCsiHandler({final:"c"},function(ee){return F.sendDeviceAttributesPrimary(ee)}),F._parser.registerCsiHandler({prefix:">",final:"c"},function(ee){return F.sendDeviceAttributesSecondary(ee)}),F._parser.registerCsiHandler({final:"d"},function(ee){return F.linePosAbsolute(ee)}),F._parser.registerCsiHandler({final:"e"},function(ee){return F.vPositionRelative(ee)}),F._parser.registerCsiHandler({final:"f"},function(ee){return F.hVPosition(ee)}),F._parser.registerCsiHandler({final:"g"},function(ee){return F.tabClear(ee)}),F._parser.registerCsiHandler({final:"h"},function(ee){return F.setMode(ee)}),F._parser.registerCsiHandler({prefix:"?",final:"h"},function(ee){return F.setModePrivate(ee)}),F._parser.registerCsiHandler({final:"l"},function(ee){return F.resetMode(ee)}),F._parser.registerCsiHandler({prefix:"?",final:"l"},function(ee){return F.resetModePrivate(ee)}),F._parser.registerCsiHandler({final:"m"},function(ee){return F.charAttributes(ee)}),F._parser.registerCsiHandler({final:"n"},function(ee){return F.deviceStatus(ee)}),F._parser.registerCsiHandler({prefix:"?",final:"n"},function(ee){return F.deviceStatusPrivate(ee)}),F._parser.registerCsiHandler({intermediates:"!",final:"p"},function(ee){return F.softReset(ee)}),F._parser.registerCsiHandler({intermediates:" ",final:"q"},function(ee){return F.setCursorStyle(ee)}),F._parser.registerCsiHandler({final:"r"},function(ee){return F.setScrollRegion(ee)}),F._parser.registerCsiHandler({final:"s"},function(ee){return F.saveCursor(ee)}),F._parser.registerCsiHandler({final:"t"},function(ee){return F.windowOptions(ee)}),F._parser.registerCsiHandler({final:"u"},function(ee){return F.restoreCursor(ee)}),F._parser.registerCsiHandler({intermediates:"'",final:"}"},function(ee){return F.insertColumns(ee)}),F._parser.registerCsiHandler({intermediates:"'",final:"~"},function(ee){return F.deleteColumns(ee)}),F._parser.setExecuteHandler(c.C0.BEL,function(){return F.bell()}),F._parser.setExecuteHandler(c.C0.LF,function(){return F.lineFeed()}),F._parser.setExecuteHandler(c.C0.VT,function(){return F.lineFeed()}),F._parser.setExecuteHandler(c.C0.FF,function(){return F.lineFeed()}),F._parser.setExecuteHandler(c.C0.CR,function(){return F.carriageReturn()}),F._parser.setExecuteHandler(c.C0.BS,function(){return F.backspace()}),F._parser.setExecuteHandler(c.C0.HT,function(){return F.tab()}),F._parser.setExecuteHandler(c.C0.SO,function(){return F.shiftOut()}),F._parser.setExecuteHandler(c.C0.SI,function(){return F.shiftIn()}),F._parser.setExecuteHandler(c.C1.IND,function(){return F.index()}),F._parser.setExecuteHandler(c.C1.NEL,function(){return F.nextLine()}),F._parser.setExecuteHandler(c.C1.HTS,function(){return F.tabSet()}),F._parser.registerOscHandler(0,new w.OscHandler(function(ee){return F.setTitle(ee),F.setIconName(ee),!0})),F._parser.registerOscHandler(1,new w.OscHandler(function(ee){return F.setIconName(ee)})),F._parser.registerOscHandler(2,new w.OscHandler(function(ee){return F.setTitle(ee)})),F._parser.registerOscHandler(4,new w.OscHandler(function(ee){return F.setOrReportIndexedColor(ee)})),F._parser.registerOscHandler(10,new w.OscHandler(function(ee){return F.setOrReportFgColor(ee)})),F._parser.registerOscHandler(11,new w.OscHandler(function(ee){return F.setOrReportBgColor(ee)})),F._parser.registerOscHandler(12,new w.OscHandler(function(ee){return F.setOrReportCursorColor(ee)})),F._parser.registerOscHandler(104,new w.OscHandler(function(ee){return F.restoreIndexedColor(ee)})),F._parser.registerOscHandler(110,new w.OscHandler(function(ee){return F.restoreFgColor(ee)})),F._parser.registerOscHandler(111,new w.OscHandler(function(ee){return F.restoreBgColor(ee)})),F._parser.registerOscHandler(112,new w.OscHandler(function(ee){return F.restoreCursorColor(ee)})),F._parser.registerEscHandler({final:"7"},function(){return F.saveCursor()}),F._parser.registerEscHandler({final:"8"},function(){return F.restoreCursor()}),F._parser.registerEscHandler({final:"D"},function(){return F.index()}),F._parser.registerEscHandler({final:"E"},function(){return F.nextLine()}),F._parser.registerEscHandler({final:"H"},function(){return F.tabSet()}),F._parser.registerEscHandler({final:"M"},function(){return F.reverseIndex()}),F._parser.registerEscHandler({final:"="},function(){return F.keypadApplicationMode()}),F._parser.registerEscHandler({final:">"},function(){return F.keypadNumericMode()}),F._parser.registerEscHandler({final:"c"},function(){return F.fullReset()}),F._parser.registerEscHandler({final:"n"},function(){return F.setgLevel(2)}),F._parser.registerEscHandler({final:"o"},function(){return F.setgLevel(3)}),F._parser.registerEscHandler({final:"|"},function(){return F.setgLevel(3)}),F._parser.registerEscHandler({final:"}"},function(){return F.setgLevel(2)}),F._parser.registerEscHandler({final:"~"},function(){return F.setgLevel(1)}),F._parser.registerEscHandler({intermediates:"%",final:"@"},function(){return F.selectDefaultCharset()}),F._parser.registerEscHandler({intermediates:"%",final:"G"},function(){return F.selectDefaultCharset()});var K=function(ee){fe._parser.registerEscHandler({intermediates:"(",final:ee},function(){return F.selectCharset("("+ee)}),fe._parser.registerEscHandler({intermediates:")",final:ee},function(){return F.selectCharset(")"+ee)}),fe._parser.registerEscHandler({intermediates:"*",final:ee},function(){return F.selectCharset("*"+ee)}),fe._parser.registerEscHandler({intermediates:"+",final:ee},function(){return F.selectCharset("+"+ee)}),fe._parser.registerEscHandler({intermediates:"-",final:ee},function(){return F.selectCharset("-"+ee)}),fe._parser.registerEscHandler({intermediates:".",final:ee},function(){return F.selectCharset("."+ee)}),fe._parser.registerEscHandler({intermediates:"/",final:ee},function(){return F.selectCharset("/"+ee)})},fe=this;for(var se in h.CHARSETS)K(se);return F._parser.registerEscHandler({intermediates:"#",final:"8"},function(){return F.screenAlignmentPattern()}),F._parser.setErrorHandler(function(ee){return F._logService.error("Parsing error: ",ee),ee}),F._parser.registerDcsHandler({intermediates:"$",final:"q"},new k(F._bufferService,F._coreService,F._logService,F._optionsService)),F}return l(E,P),Object.defineProperty(E.prototype,"onRequestBell",{get:function(){return this._onRequestBell.event},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"onRequestRefreshRows",{get:function(){return this._onRequestRefreshRows.event},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"onRequestReset",{get:function(){return this._onRequestReset.event},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"onRequestSendFocus",{get:function(){return this._onRequestSendFocus.event},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"onRequestSyncScrollBar",{get:function(){return this._onRequestSyncScrollBar.event},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"onRequestWindowsOptionsReport",{get:function(){return this._onRequestWindowsOptionsReport.event},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"onA11yChar",{get:function(){return this._onA11yChar.event},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"onA11yTab",{get:function(){return this._onA11yTab.event},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"onCursorMove",{get:function(){return this._onCursorMove.event},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"onLineFeed",{get:function(){return this._onLineFeed.event},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"onScroll",{get:function(){return this._onScroll.event},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"onTitleChange",{get:function(){return this._onTitleChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"onColor",{get:function(){return this._onColor.event},enumerable:!1,configurable:!0}),E.prototype.dispose=function(){P.prototype.dispose.call(this)},E.prototype._preserveStack=function(O,I,U,V){this._parseStack.paused=!0,this._parseStack.cursorStartX=O,this._parseStack.cursorStartY=I,this._parseStack.decodedLength=U,this._parseStack.position=V},E.prototype._logSlowResolvingAsync=function(O){this._logService.logLevel<=x.LogLevelEnum.WARN&&Promise.race([O,new Promise(function(I,U){return setTimeout(function(){return U("#SLOW_TIMEOUT")},5e3)})]).catch(function(I){if(I!=="#SLOW_TIMEOUT")throw I;console.warn("async parser handler taking longer than 5000 ms")})},E.prototype.parse=function(O,I){var U,V=this._activeBuffer.x,Z=this._activeBuffer.y,z=0,H=this._parseStack.paused;if(H){if(U=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,I))return this._logSlowResolvingAsync(U),U;V=this._parseStack.cursorStartX,Z=this._parseStack.cursorStartY,this._parseStack.paused=!1,O.length>M&&(z=this._parseStack.position+M)}if(this._logService.logLevel<=x.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+(typeof O=="string"?' "'+O+'"':' "'+Array.prototype.map.call(O,function(K){return String.fromCharCode(K)}).join("")+'"'),typeof O=="string"?O.split("").map(function(K){return K.charCodeAt(0)}):O),this._parseBuffer.length<O.length&&this._parseBuffer.length<M&&(this._parseBuffer=new Uint32Array(Math.min(O.length,M))),H||this._dirtyRowService.clearRange(),O.length>M)for(var B=z;B<O.length;B+=M){var W=B+M<O.length?B+M:O.length,F=typeof O=="string"?this._stringDecoder.decode(O.substring(B,W),this._parseBuffer):this._utf8Decoder.decode(O.subarray(B,W),this._parseBuffer);if(U=this._parser.parse(this._parseBuffer,F))return this._preserveStack(V,Z,F,B),this._logSlowResolvingAsync(U),U}else if(!H&&(F=typeof O=="string"?this._stringDecoder.decode(O,this._parseBuffer):this._utf8Decoder.decode(O,this._parseBuffer),U=this._parser.parse(this._parseBuffer,F)))return this._preserveStack(V,Z,F,0),this._logSlowResolvingAsync(U),U;this._activeBuffer.x===V&&this._activeBuffer.y===Z||this._onCursorMove.fire(),this._onRequestRefreshRows.fire(this._dirtyRowService.start,this._dirtyRowService.end)},E.prototype.print=function(O,I,U){var V,Z,z=this._charsetService.charset,H=this._optionsService.rawOptions.screenReaderMode,B=this._bufferService.cols,W=this._coreService.decPrivateModes.wraparound,F=this._coreService.modes.insertMode,K=this._curAttrData,fe=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowService.markDirty(this._activeBuffer.y),this._activeBuffer.x&&U-I>0&&fe.getWidth(this._activeBuffer.x-1)===2&&fe.setCellFromCodePoint(this._activeBuffer.x-1,0,1,K.fg,K.bg,K.extended);for(var se=I;se<U;++se){if(V=O[se],Z=this._unicodeService.wcwidth(V),V<127&&z){var ee=z[String.fromCharCode(V)];ee&&(V=ee.charCodeAt(0))}if(H&&this._onA11yChar.fire((0,_.stringFromCodePoint)(V)),Z||!this._activeBuffer.x){if(this._activeBuffer.x+Z-1>=B){if(W){for(;this._activeBuffer.x<B;)fe.setCellFromCodePoint(this._activeBuffer.x++,0,1,K.fg,K.bg,K.extended);this._activeBuffer.x=0,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),fe=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)}else if(this._activeBuffer.x=B-1,Z===2)continue}if(F&&(fe.insertCells(this._activeBuffer.x,Z,this._activeBuffer.getNullCell(K),K),fe.getWidth(B-1)===2&&fe.setCellFromCodePoint(B-1,d.NULL_CELL_CODE,d.NULL_CELL_WIDTH,K.fg,K.bg,K.extended)),fe.setCellFromCodePoint(this._activeBuffer.x++,V,Z,K.fg,K.bg,K.extended),Z>0)for(;--Z;)fe.setCellFromCodePoint(this._activeBuffer.x++,0,0,K.fg,K.bg,K.extended)}else fe.getWidth(this._activeBuffer.x-1)?fe.addCodepointToCell(this._activeBuffer.x-1,V):fe.addCodepointToCell(this._activeBuffer.x-2,V)}U-I>0&&(fe.loadCell(this._activeBuffer.x-1,this._workCell),this._workCell.getWidth()===2||this._workCell.getCode()>65535?this._parser.precedingCodepoint=0:this._workCell.isCombined()?this._parser.precedingCodepoint=this._workCell.getChars().charCodeAt(0):this._parser.precedingCodepoint=this._workCell.content),this._activeBuffer.x<B&&U-I>0&&fe.getWidth(this._activeBuffer.x)===0&&!fe.hasContent(this._activeBuffer.x)&&fe.setCellFromCodePoint(this._activeBuffer.x,0,1,K.fg,K.bg,K.extended),this._dirtyRowService.markDirty(this._activeBuffer.y)},E.prototype.registerCsiHandler=function(O,I){var U=this;return O.final!=="t"||O.prefix||O.intermediates?this._parser.registerCsiHandler(O,I):this._parser.registerCsiHandler(O,function(V){return!D(V.params[0],U._optionsService.rawOptions.windowOptions)||I(V)})},E.prototype.registerDcsHandler=function(O,I){return this._parser.registerDcsHandler(O,new C.DcsHandler(I))},E.prototype.registerEscHandler=function(O,I){return this._parser.registerEscHandler(O,I)},E.prototype.registerOscHandler=function(O,I){return this._parser.registerOscHandler(O,new w.OscHandler(I))},E.prototype.bell=function(){return this._onRequestBell.fire(),!0},E.prototype.lineFeed=function(){return this._dirtyRowService.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowService.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0},E.prototype.carriageReturn=function(){return this._activeBuffer.x=0,!0},E.prototype.backspace=function(){var O;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&(!((O=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))===null||O===void 0)&&O.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;var I=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);I.hasWidth(this._activeBuffer.x)&&!I.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0},E.prototype.tab=function(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;var O=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-O),!0},E.prototype.shiftOut=function(){return this._charsetService.setgLevel(1),!0},E.prototype.shiftIn=function(){return this._charsetService.setgLevel(0),!0},E.prototype._restrictCursor=function(O){O===void 0&&(O=this._bufferService.cols-1),this._activeBuffer.x=Math.min(O,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowService.markDirty(this._activeBuffer.y)},E.prototype._setCursor=function(O,I){this._dirtyRowService.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=O,this._activeBuffer.y=this._activeBuffer.scrollTop+I):(this._activeBuffer.x=O,this._activeBuffer.y=I),this._restrictCursor(),this._dirtyRowService.markDirty(this._activeBuffer.y)},E.prototype._moveCursor=function(O,I){this._restrictCursor(),this._setCursor(this._activeBuffer.x+O,this._activeBuffer.y+I)},E.prototype.cursorUp=function(O){var I=this._activeBuffer.y-this._activeBuffer.scrollTop;return I>=0?this._moveCursor(0,-Math.min(I,O.params[0]||1)):this._moveCursor(0,-(O.params[0]||1)),!0},E.prototype.cursorDown=function(O){var I=this._activeBuffer.scrollBottom-this._activeBuffer.y;return I>=0?this._moveCursor(0,Math.min(I,O.params[0]||1)):this._moveCursor(0,O.params[0]||1),!0},E.prototype.cursorForward=function(O){return this._moveCursor(O.params[0]||1,0),!0},E.prototype.cursorBackward=function(O){return this._moveCursor(-(O.params[0]||1),0),!0},E.prototype.cursorNextLine=function(O){return this.cursorDown(O),this._activeBuffer.x=0,!0},E.prototype.cursorPrecedingLine=function(O){return this.cursorUp(O),this._activeBuffer.x=0,!0},E.prototype.cursorCharAbsolute=function(O){return this._setCursor((O.params[0]||1)-1,this._activeBuffer.y),!0},E.prototype.cursorPosition=function(O){return this._setCursor(O.length>=2?(O.params[1]||1)-1:0,(O.params[0]||1)-1),!0},E.prototype.charPosAbsolute=function(O){return this._setCursor((O.params[0]||1)-1,this._activeBuffer.y),!0},E.prototype.hPositionRelative=function(O){return this._moveCursor(O.params[0]||1,0),!0},E.prototype.linePosAbsolute=function(O){return this._setCursor(this._activeBuffer.x,(O.params[0]||1)-1),!0},E.prototype.vPositionRelative=function(O){return this._moveCursor(0,O.params[0]||1),!0},E.prototype.hVPosition=function(O){return this.cursorPosition(O),!0},E.prototype.tabClear=function(O){var I=O.params[0];return I===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:I===3&&(this._activeBuffer.tabs={}),!0},E.prototype.cursorForwardTab=function(O){if(this._activeBuffer.x>=this._bufferService.cols)return!0;for(var I=O.params[0]||1;I--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0},E.prototype.cursorBackwardTab=function(O){if(this._activeBuffer.x>=this._bufferService.cols)return!0;for(var I=O.params[0]||1;I--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0},E.prototype._eraseInBufferLine=function(O,I,U,V){V===void 0&&(V=!1);var Z=this._activeBuffer.lines.get(this._activeBuffer.ybase+O);Z.replaceCells(I,U,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),V&&(Z.isWrapped=!1)},E.prototype._resetBufferLine=function(O){var I=this._activeBuffer.lines.get(this._activeBuffer.ybase+O);I.fill(this._activeBuffer.getNullCell(this._eraseAttrData())),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+O),I.isWrapped=!1},E.prototype.eraseInDisplay=function(O){var I;switch(this._restrictCursor(this._bufferService.cols),O.params[0]){case 0:for(I=this._activeBuffer.y,this._dirtyRowService.markDirty(I),this._eraseInBufferLine(I++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0);I<this._bufferService.rows;I++)this._resetBufferLine(I);this._dirtyRowService.markDirty(I);break;case 1:for(I=this._activeBuffer.y,this._dirtyRowService.markDirty(I),this._eraseInBufferLine(I,0,this._activeBuffer.x+1,!0),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(I+1).isWrapped=!1);I--;)this._resetBufferLine(I);this._dirtyRowService.markDirty(0);break;case 2:for(I=this._bufferService.rows,this._dirtyRowService.markDirty(I-1);I--;)this._resetBufferLine(I);this._dirtyRowService.markDirty(0);break;case 3:var U=this._activeBuffer.lines.length-this._bufferService.rows;U>0&&(this._activeBuffer.lines.trimStart(U),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-U,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-U,0),this._onScroll.fire(0))}return!0},E.prototype.eraseInLine=function(O){switch(this._restrictCursor(this._bufferService.cols),O.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0)}return this._dirtyRowService.markDirty(this._activeBuffer.y),!0},E.prototype.insertLines=function(O){this._restrictCursor();var I=O.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;for(var U=this._activeBuffer.ybase+this._activeBuffer.y,V=this._bufferService.rows-1-this._activeBuffer.scrollBottom,Z=this._bufferService.rows-1+this._activeBuffer.ybase-V+1;I--;)this._activeBuffer.lines.splice(Z-1,1),this._activeBuffer.lines.splice(U,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowService.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0},E.prototype.deleteLines=function(O){this._restrictCursor();var I=O.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;var U,V=this._activeBuffer.ybase+this._activeBuffer.y;for(U=this._bufferService.rows-1-this._activeBuffer.scrollBottom,U=this._bufferService.rows-1+this._activeBuffer.ybase-U;I--;)this._activeBuffer.lines.splice(V,1),this._activeBuffer.lines.splice(U,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowService.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0},E.prototype.insertChars=function(O){this._restrictCursor();var I=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return I&&(I.insertCells(this._activeBuffer.x,O.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowService.markDirty(this._activeBuffer.y)),!0},E.prototype.deleteChars=function(O){this._restrictCursor();var I=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return I&&(I.deleteCells(this._activeBuffer.x,O.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowService.markDirty(this._activeBuffer.y)),!0},E.prototype.scrollUp=function(O){for(var I=O.params[0]||1;I--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},E.prototype.scrollDown=function(O){for(var I=O.params[0]||1;I--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(g.DEFAULT_ATTR_DATA));return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},E.prototype.scrollLeft=function(O){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;for(var I=O.params[0]||1,U=this._activeBuffer.scrollTop;U<=this._activeBuffer.scrollBottom;++U){var V=this._activeBuffer.lines.get(this._activeBuffer.ybase+U);V.deleteCells(0,I,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),V.isWrapped=!1}return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},E.prototype.scrollRight=function(O){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;for(var I=O.params[0]||1,U=this._activeBuffer.scrollTop;U<=this._activeBuffer.scrollBottom;++U){var V=this._activeBuffer.lines.get(this._activeBuffer.ybase+U);V.insertCells(0,I,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),V.isWrapped=!1}return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},E.prototype.insertColumns=function(O){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;for(var I=O.params[0]||1,U=this._activeBuffer.scrollTop;U<=this._activeBuffer.scrollBottom;++U){var V=this._activeBuffer.lines.get(this._activeBuffer.ybase+U);V.insertCells(this._activeBuffer.x,I,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),V.isWrapped=!1}return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},E.prototype.deleteColumns=function(O){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;for(var I=O.params[0]||1,U=this._activeBuffer.scrollTop;U<=this._activeBuffer.scrollBottom;++U){var V=this._activeBuffer.lines.get(this._activeBuffer.ybase+U);V.deleteCells(this._activeBuffer.x,I,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),V.isWrapped=!1}return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},E.prototype.eraseChars=function(O){this._restrictCursor();var I=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return I&&(I.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(O.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowService.markDirty(this._activeBuffer.y)),!0},E.prototype.repeatPrecedingCharacter=function(O){if(!this._parser.precedingCodepoint)return!0;for(var I=O.params[0]||1,U=new Uint32Array(I),V=0;V<I;++V)U[V]=this._parser.precedingCodepoint;return this.print(U,0,U.length),!0},E.prototype.sendDeviceAttributesPrimary=function(O){return O.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(c.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(c.C0.ESC+"[?6c")),!0},E.prototype.sendDeviceAttributesSecondary=function(O){return O.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(c.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(c.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(O.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(c.C0.ESC+"[>83;40003;0c")),!0},E.prototype._is=function(O){return(this._optionsService.rawOptions.termName+"").indexOf(O)===0},E.prototype.setMode=function(O){for(var I=0;I<O.length;I++)O.params[I]===4&&(this._coreService.modes.insertMode=!0);return!0},E.prototype.setModePrivate=function(O){for(var I=0;I<O.length;I++)switch(O.params[I]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,h.DEFAULT_CHARSET),this._charsetService.setgCharset(1,h.DEFAULT_CHARSET),this._charsetService.setgCharset(2,h.DEFAULT_CHARSET),this._charsetService.setgCharset(3,h.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0},E.prototype.resetMode=function(O){for(var I=0;I<O.length;I++)O.params[I]===4&&(this._coreService.modes.insertMode=!1);return!0},E.prototype.resetModePrivate=function(O){for(var I=0;I<O.length;I++)switch(O.params[I]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),O.params[I]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0},E.prototype._updateAttrColor=function(O,I,U,V,Z){return I===2?(O|=50331648,O&=-16777216,O|=y.AttributeData.fromColorRGB([U,V,Z])):I===5&&(O&=-50331904,O|=33554432|255&U),O},E.prototype._extractColor=function(O,I,U){var V=[0,0,-1,0,0,0],Z=0,z=0;do{if(V[z+Z]=O.params[I+z],O.hasSubParams(I+z)){var H=O.getSubParams(I+z),B=0;do V[1]===5&&(Z=1),V[z+B+1+Z]=H[B];while(++B<H.length&&B+z+1+Z<V.length);break}if(V[1]===5&&z+Z>=2||V[1]===2&&z+Z>=5)break;V[1]&&(Z=1)}while(++z+I<O.length&&z+Z<V.length);for(B=2;B<V.length;++B)V[B]===-1&&(V[B]=0);switch(V[0]){case 38:U.fg=this._updateAttrColor(U.fg,V[1],V[3],V[4],V[5]);break;case 48:U.bg=this._updateAttrColor(U.bg,V[1],V[3],V[4],V[5]);break;case 58:U.extended=U.extended.clone(),U.extended.underlineColor=this._updateAttrColor(U.extended.underlineColor,V[1],V[3],V[4],V[5])}return z},E.prototype._processUnderline=function(O,I){I.extended=I.extended.clone(),(!~O||O>5)&&(O=1),I.extended.underlineStyle=O,I.fg|=268435456,O===0&&(I.fg&=-268435457),I.updateExtended()},E.prototype.charAttributes=function(O){if(O.length===1&&O.params[0]===0)return this._curAttrData.fg=g.DEFAULT_ATTR_DATA.fg,this._curAttrData.bg=g.DEFAULT_ATTR_DATA.bg,!0;for(var I,U=O.length,V=this._curAttrData,Z=0;Z<U;Z++)(I=O.params[Z])>=30&&I<=37?(V.fg&=-50331904,V.fg|=16777216|I-30):I>=40&&I<=47?(V.bg&=-50331904,V.bg|=16777216|I-40):I>=90&&I<=97?(V.fg&=-50331904,V.fg|=16777224|I-90):I>=100&&I<=107?(V.bg&=-50331904,V.bg|=16777224|I-100):I===0?(V.fg=g.DEFAULT_ATTR_DATA.fg,V.bg=g.DEFAULT_ATTR_DATA.bg):I===1?V.fg|=134217728:I===3?V.bg|=67108864:I===4?(V.fg|=268435456,this._processUnderline(O.hasSubParams(Z)?O.getSubParams(Z)[0]:1,V)):I===5?V.fg|=536870912:I===7?V.fg|=67108864:I===8?V.fg|=1073741824:I===9?V.fg|=2147483648:I===2?V.bg|=134217728:I===21?this._processUnderline(2,V):I===22?(V.fg&=-134217729,V.bg&=-134217729):I===23?V.bg&=-67108865:I===24?V.fg&=-268435457:I===25?V.fg&=-536870913:I===27?V.fg&=-67108865:I===28?V.fg&=-1073741825:I===29?V.fg&=2147483647:I===39?(V.fg&=-67108864,V.fg|=16777215&g.DEFAULT_ATTR_DATA.fg):I===49?(V.bg&=-67108864,V.bg|=16777215&g.DEFAULT_ATTR_DATA.bg):I===38||I===48||I===58?Z+=this._extractColor(O,Z,V):I===59?(V.extended=V.extended.clone(),V.extended.underlineColor=-1,V.updateExtended()):I===100?(V.fg&=-67108864,V.fg|=16777215&g.DEFAULT_ATTR_DATA.fg,V.bg&=-67108864,V.bg|=16777215&g.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",I);return!0},E.prototype.deviceStatus=function(O){switch(O.params[0]){case 5:this._coreService.triggerDataEvent(c.C0.ESC+"[0n");break;case 6:var I=this._activeBuffer.y+1,U=this._activeBuffer.x+1;this._coreService.triggerDataEvent(c.C0.ESC+"["+I+";"+U+"R")}return!0},E.prototype.deviceStatusPrivate=function(O){if(O.params[0]===6){var I=this._activeBuffer.y+1,U=this._activeBuffer.x+1;this._coreService.triggerDataEvent(c.C0.ESC+"[?"+I+";"+U+"R")}return!0},E.prototype.softReset=function(O){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=g.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0},E.prototype.setCursorStyle=function(O){var I=O.params[0]||1;switch(I){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}var U=I%2==1;return this._optionsService.options.cursorBlink=U,!0},E.prototype.setScrollRegion=function(O){var I,U=O.params[0]||1;return(O.length<2||(I=O.params[1])>this._bufferService.rows||I===0)&&(I=this._bufferService.rows),I>U&&(this._activeBuffer.scrollTop=U-1,this._activeBuffer.scrollBottom=I-1,this._setCursor(0,0)),!0},E.prototype.windowOptions=function(O){if(!D(O.params[0],this._optionsService.rawOptions.windowOptions))return!0;var I=O.length>1?O.params[1]:0;switch(O.params[0]){case 14:I!==2&&this._onRequestWindowsOptionsReport.fire(u.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(u.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(c.C0.ESC+"[8;"+this._bufferService.rows+";"+this._bufferService.cols+"t");break;case 22:I!==0&&I!==2||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),I!==0&&I!==1||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:I!==0&&I!==2||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),I!==0&&I!==1||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0},E.prototype.saveCursor=function(O){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0},E.prototype.restoreCursor=function(O){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0},E.prototype.setTitle=function(O){return this._windowTitle=O,this._onTitleChange.fire(O),!0},E.prototype.setIconName=function(O){return this._iconName=O,!0},E.prototype.setOrReportIndexedColor=function(O){for(var I=[],U=O.split(";");U.length>1;){var V=U.shift(),Z=U.shift();if(/^\d+$/.exec(V)){var z=parseInt(V);if(0<=z&&z<256)if(Z==="?")I.push({type:0,index:z});else{var H=(0,S.parseColor)(Z);H&&I.push({type:1,index:z,color:H})}}}return I.length&&this._onColor.fire(I),!0},E.prototype._setOrReportSpecialColor=function(O,I){for(var U=O.split(";"),V=0;V<U.length&&!(I>=this._specialColors.length);++V,++I)if(U[V]==="?")this._onColor.fire([{type:0,index:this._specialColors[I]}]);else{var Z=(0,S.parseColor)(U[V]);Z&&this._onColor.fire([{type:1,index:this._specialColors[I],color:Z}])}return!0},E.prototype.setOrReportFgColor=function(O){return this._setOrReportSpecialColor(O,0)},E.prototype.setOrReportBgColor=function(O){return this._setOrReportSpecialColor(O,1)},E.prototype.setOrReportCursorColor=function(O){return this._setOrReportSpecialColor(O,2)},E.prototype.restoreIndexedColor=function(O){if(!O)return this._onColor.fire([{type:2}]),!0;for(var I=[],U=O.split(";"),V=0;V<U.length;++V)if(/^\d+$/.exec(U[V])){var Z=parseInt(U[V]);0<=Z&&Z<256&&I.push({type:2,index:Z})}return I.length&&this._onColor.fire(I),!0},E.prototype.restoreFgColor=function(O){return this._onColor.fire([{type:2,index:256}]),!0},E.prototype.restoreBgColor=function(O){return this._onColor.fire([{type:2,index:257}]),!0},E.prototype.restoreCursorColor=function(O){return this._onColor.fire([{type:2,index:258}]),!0},E.prototype.nextLine=function(){return this._activeBuffer.x=0,this.index(),!0},E.prototype.keypadApplicationMode=function(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0},E.prototype.keypadNumericMode=function(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0},E.prototype.selectDefaultCharset=function(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,h.DEFAULT_CHARSET),!0},E.prototype.selectCharset=function(O){return O.length!==2?(this.selectDefaultCharset(),!0):(O[0]==="/"||this._charsetService.setgCharset(T[O[0]],h.CHARSETS[O[1]]||h.DEFAULT_CHARSET),!0)},E.prototype.index=function(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0},E.prototype.tabSet=function(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0},E.prototype.reverseIndex=function(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){var O=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,O,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0},E.prototype.fullReset=function(){return this._parser.reset(),this._onRequestReset.fire(),!0},E.prototype.reset=function(){this._curAttrData=g.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=g.DEFAULT_ATTR_DATA.clone()},E.prototype._eraseAttrData=function(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal},E.prototype.setgLevel=function(O){return this._charsetService.setgLevel(O),!0},E.prototype.screenAlignmentPattern=function(){var O=new b.CellData;O.content=1<<22|"E".charCodeAt(0),O.fg=this._curAttrData.fg,O.bg=this._curAttrData.bg,this._setCursor(0,0);for(var I=0;I<this._bufferService.rows;++I){var U=this._activeBuffer.ybase+this._activeBuffer.y+I,V=this._activeBuffer.lines.get(U);V&&(V.fill(O),V.isWrapped=!1)}return this._dirtyRowService.markAllDirty(),this._setCursor(0,0),!0},E}(f.Disposable);n.InputHandler=R},844:function(o,n){var a=this&&this.__values||function(u){var c=typeof Symbol=="function"&&Symbol.iterator,h=c&&u[c],v=0;if(h)return h.call(u);if(u&&typeof u.length=="number")return{next:function(){return u&&v>=u.length&&(u=void 0),{value:u&&u[v++],done:!u}}};throw new TypeError(c?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(n,"__esModule",{value:!0}),n.getDisposeArrayDisposable=n.disposeArray=n.Disposable=void 0;var s=function(){function u(){this._disposables=[],this._isDisposed=!1}return u.prototype.dispose=function(){var c,h;this._isDisposed=!0;try{for(var v=a(this._disposables),f=v.next();!f.done;f=v.next())f.value.dispose()}catch(m){c={error:m}}finally{try{f&&!f.done&&(h=v.return)&&h.call(v)}finally{if(c)throw c.error}}this._disposables.length=0},u.prototype.register=function(c){return this._disposables.push(c),c},u.prototype.unregister=function(c){var h=this._disposables.indexOf(c);h!==-1&&this._disposables.splice(h,1)},u}();function l(u){var c,h;try{for(var v=a(u),f=v.next();!f.done;f=v.next())f.value.dispose()}catch(m){c={error:m}}finally{try{f&&!f.done&&(h=v.return)&&h.call(v)}finally{if(c)throw c.error}}u.length=0}n.Disposable=s,n.disposeArray=l,n.getDisposeArrayDisposable=function(u){return{dispose:function(){return l(u)}}}},6114:(o,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.isLinux=n.isWindows=n.isIphone=n.isIpad=n.isMac=n.isSafari=n.isLegacyEdge=n.isFirefox=void 0;var a=typeof navigator>"u",s=a?"node":navigator.userAgent,l=a?"node":navigator.platform;n.isFirefox=s.includes("Firefox"),n.isLegacyEdge=s.includes("Edge"),n.isSafari=/^((?!chrome|android).)*safari/i.test(s),n.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(l),n.isIpad=l==="iPad",n.isIphone=l==="iPhone",n.isWindows=["Windows","Win16","Win32","WinCE"].includes(l),n.isLinux=l.indexOf("Linux")>=0},6106:function(o,n){var a=this&&this.__generator||function(l,u){var c,h,v,f,m={label:0,sent:function(){if(1&v[0])throw v[1];return v[1]},trys:[],ops:[]};return f={next:_(0),throw:_(1),return:_(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function _(g){return function(p){return function(d){if(c)throw new TypeError("Generator is already executing.");for(;m;)try{if(c=1,h&&(v=2&d[0]?h.return:d[0]?h.throw||((v=h.return)&&v.call(h),0):h.next)&&!(v=v.call(h,d[1])).done)return v;switch(h=0,v&&(d=[2&d[0],v.value]),d[0]){case 0:case 1:v=d;break;case 4:return m.label++,{value:d[1],done:!1};case 5:m.label++,h=d[1],d=[0];continue;case 7:d=m.ops.pop(),m.trys.pop();continue;default:if(!((v=(v=m.trys).length>0&&v[v.length-1])||d[0]!==6&&d[0]!==2)){m=0;continue}if(d[0]===3&&(!v||d[1]>v[0]&&d[1]<v[3])){m.label=d[1];break}if(d[0]===6&&m.label<v[1]){m.label=v[1],v=d;break}if(v&&m.label<v[2]){m.label=v[2],m.ops.push(d);break}v[2]&&m.ops.pop(),m.trys.pop();continue}d=u.call(l,m)}catch(b){d=[6,b],h=0}finally{c=v=0}if(5&d[0])throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}([g,p])}}};Object.defineProperty(n,"__esModule",{value:!0}),n.SortedList=void 0;var s=function(){function l(u){this._getKey=u,this._array=[]}return l.prototype.clear=function(){this._array.length=0},l.prototype.insert=function(u){if(this._array.length!==0){var c=this._search(this._getKey(u),0,this._array.length-1);this._array.splice(c,0,u)}else this._array.push(u)},l.prototype.delete=function(u){if(this._array.length===0)return!1;var c=this._getKey(u),h=this._search(c,0,this._array.length-1);if(this._getKey(this._array[h])!==c)return!1;do if(this._array[h]===u)return this._array.splice(h,1),!0;while(++h<this._array.length&&this._getKey(this._array[h])===c);return!1},l.prototype.getKeyIterator=function(u){var c;return a(this,function(h){switch(h.label){case 0:if(this._array.length===0)return[2];if((c=this._search(u,0,this._array.length-1))<0||c>=this._array.length)return[2];if(this._getKey(this._array[c])!==u)return[2];h.label=1;case 1:return[4,this._array[c]];case 2:h.sent(),h.label=3;case 3:if(++c<this._array.length&&this._getKey(this._array[c])===u)return[3,1];h.label=4;case 4:return[2]}})},l.prototype.values=function(){return this._array.values()},l.prototype._search=function(u,c,h){if(h<c)return c;var v=Math.floor((c+h)/2);if(this._getKey(this._array[v])>u)return this._search(u,c,v-1);if(this._getKey(this._array[v])<u)return this._search(u,v+1,h);for(;v>0&&this._getKey(this._array[v-1])===u;)v--;return v},l}();n.SortedList=s},8273:(o,n)=>{function a(s,l,u,c){if(u===void 0&&(u=0),c===void 0&&(c=s.length),u>=s.length)return s;u=(s.length+u)%s.length,c=c>=s.length?s.length:(s.length+c)%s.length;for(var h=u;h<c;++h)s[h]=l;return s}Object.defineProperty(n,"__esModule",{value:!0}),n.concat=n.fillFallback=n.fill=void 0,n.fill=function(s,l,u,c){return s.fill?s.fill(l,u,c):a(s,l,u,c)},n.fillFallback=a,n.concat=function(s,l){var u=new s.constructor(s.length+l.length);return u.set(s),u.set(l,s.length),u}},9282:(o,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.updateWindowsModeWrappedState=void 0;var s=a(643);n.updateWindowsModeWrappedState=function(l){var u=l.buffer.lines.get(l.buffer.ybase+l.buffer.y-1),c=u==null?void 0:u.get(l.cols-1),h=l.buffer.lines.get(l.buffer.ybase+l.buffer.y);h&&c&&(h.isWrapped=c[s.CHAR_DATA_CODE_INDEX]!==s.NULL_CELL_CODE&&c[s.CHAR_DATA_CODE_INDEX]!==s.WHITESPACE_CELL_CODE)}},3734:(o,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.ExtendedAttrs=n.AttributeData=void 0;var a=function(){function l(){this.fg=0,this.bg=0,this.extended=new s}return l.toColorRGB=function(u){return[u>>>16&255,u>>>8&255,255&u]},l.fromColorRGB=function(u){return(255&u[0])<<16|(255&u[1])<<8|255&u[2]},l.prototype.clone=function(){var u=new l;return u.fg=this.fg,u.bg=this.bg,u.extended=this.extended.clone(),u},l.prototype.isInverse=function(){return 67108864&this.fg},l.prototype.isBold=function(){return 134217728&this.fg},l.prototype.isUnderline=function(){return 268435456&this.fg},l.prototype.isBlink=function(){return 536870912&this.fg},l.prototype.isInvisible=function(){return 1073741824&this.fg},l.prototype.isItalic=function(){return 67108864&this.bg},l.prototype.isDim=function(){return 134217728&this.bg},l.prototype.isStrikethrough=function(){return 2147483648&this.fg},l.prototype.getFgColorMode=function(){return 50331648&this.fg},l.prototype.getBgColorMode=function(){return 50331648&this.bg},l.prototype.isFgRGB=function(){return(50331648&this.fg)==50331648},l.prototype.isBgRGB=function(){return(50331648&this.bg)==50331648},l.prototype.isFgPalette=function(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432},l.prototype.isBgPalette=function(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432},l.prototype.isFgDefault=function(){return(50331648&this.fg)==0},l.prototype.isBgDefault=function(){return(50331648&this.bg)==0},l.prototype.isAttributeDefault=function(){return this.fg===0&&this.bg===0},l.prototype.getFgColor=function(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}},l.prototype.getBgColor=function(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}},l.prototype.hasExtendedAttrs=function(){return 268435456&this.bg},l.prototype.updateExtended=function(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456},l.prototype.getUnderlineColor=function(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()},l.prototype.getUnderlineColorMode=function(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()},l.prototype.isUnderlineColorRGB=function(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()},l.prototype.isUnderlineColorPalette=function(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()},l.prototype.isUnderlineColorDefault=function(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()},l.prototype.getUnderlineStyle=function(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0},l}();n.AttributeData=a;var s=function(){function l(u,c){u===void 0&&(u=0),c===void 0&&(c=-1),this.underlineStyle=u,this.underlineColor=c}return l.prototype.clone=function(){return new l(this.underlineStyle,this.underlineColor)},l.prototype.isEmpty=function(){return this.underlineStyle===0},l}();n.ExtendedAttrs=s},9092:function(o,n,a){var s=this&&this.__read||function(b,y){var x=typeof Symbol=="function"&&b[Symbol.iterator];if(!x)return b;var w,C,S=x.call(b),T=[];try{for(;(y===void 0||y-- >0)&&!(w=S.next()).done;)T.push(w.value)}catch(M){C={error:M}}finally{try{w&&!w.done&&(x=S.return)&&x.call(S)}finally{if(C)throw C.error}}return T},l=this&&this.__spreadArray||function(b,y,x){if(x||arguments.length===2)for(var w,C=0,S=y.length;C<S;C++)!w&&C in y||(w||(w=Array.prototype.slice.call(y,0,C)),w[C]=y[C]);return b.concat(w||Array.prototype.slice.call(y))};Object.defineProperty(n,"__esModule",{value:!0}),n.BufferStringIterator=n.Buffer=n.MAX_BUFFER_SIZE=void 0;var u=a(6349),c=a(8437),h=a(511),v=a(643),f=a(4634),m=a(4863),_=a(7116),g=a(3734);n.MAX_BUFFER_SIZE=4294967295;var p=function(){function b(y,x,w){this._hasScrollback=y,this._optionsService=x,this._bufferService=w,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.savedY=0,this.savedX=0,this.savedCurAttrData=c.DEFAULT_ATTR_DATA.clone(),this.savedCharset=_.DEFAULT_CHARSET,this.markers=[],this._nullCell=h.CellData.fromCharData([0,v.NULL_CELL_CHAR,v.NULL_CELL_WIDTH,v.NULL_CELL_CODE]),this._whitespaceCell=h.CellData.fromCharData([0,v.WHITESPACE_CELL_CHAR,v.WHITESPACE_CELL_WIDTH,v.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new u.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}return b.prototype.getNullCell=function(y){return y?(this._nullCell.fg=y.fg,this._nullCell.bg=y.bg,this._nullCell.extended=y.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new g.ExtendedAttrs),this._nullCell},b.prototype.getWhitespaceCell=function(y){return y?(this._whitespaceCell.fg=y.fg,this._whitespaceCell.bg=y.bg,this._whitespaceCell.extended=y.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new g.ExtendedAttrs),this._whitespaceCell},b.prototype.getBlankLine=function(y,x){return new c.BufferLine(this._bufferService.cols,this.getNullCell(y),x)},Object.defineProperty(b.prototype,"hasScrollback",{get:function(){return this._hasScrollback&&this.lines.maxLength>this._rows},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"isCursorInViewport",{get:function(){var y=this.ybase+this.y-this.ydisp;return y>=0&&y<this._rows},enumerable:!1,configurable:!0}),b.prototype._getCorrectBufferLength=function(y){if(!this._hasScrollback)return y;var x=y+this._optionsService.rawOptions.scrollback;return x>n.MAX_BUFFER_SIZE?n.MAX_BUFFER_SIZE:x},b.prototype.fillViewportRows=function(y){if(this.lines.length===0){y===void 0&&(y=c.DEFAULT_ATTR_DATA);for(var x=this._rows;x--;)this.lines.push(this.getBlankLine(y))}},b.prototype.clear=function(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new u.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()},b.prototype.resize=function(y,x){var w=this.getNullCell(c.DEFAULT_ATTR_DATA),C=this._getCorrectBufferLength(x);if(C>this.lines.maxLength&&(this.lines.maxLength=C),this.lines.length>0){if(this._cols<y)for(var S=0;S<this.lines.length;S++)this.lines.get(S).resize(y,w);var T=0;if(this._rows<x)for(var M=this._rows;M<x;M++)this.lines.length<x+this.ybase&&(this._optionsService.rawOptions.windowsMode?this.lines.push(new c.BufferLine(y,w)):this.ybase>0&&this.lines.length<=this.ybase+this.y+T+1?(this.ybase--,T++,this.ydisp>0&&this.ydisp--):this.lines.push(new c.BufferLine(y,w)));else for(M=this._rows;M>x;M--)this.lines.length>x+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(C<this.lines.maxLength){var D=this.lines.length-C;D>0&&(this.lines.trimStart(D),this.ybase=Math.max(this.ybase-D,0),this.ydisp=Math.max(this.ydisp-D,0),this.savedY=Math.max(this.savedY-D,0)),this.lines.maxLength=C}this.x=Math.min(this.x,y-1),this.y=Math.min(this.y,x-1),T&&(this.y+=T),this.savedX=Math.min(this.savedX,y-1),this.scrollTop=0}if(this.scrollBottom=x-1,this._isReflowEnabled&&(this._reflow(y,x),this._cols>y))for(S=0;S<this.lines.length;S++)this.lines.get(S).resize(y,w);this._cols=y,this._rows=x},Object.defineProperty(b.prototype,"_isReflowEnabled",{get:function(){return this._hasScrollback&&!this._optionsService.rawOptions.windowsMode},enumerable:!1,configurable:!0}),b.prototype._reflow=function(y,x){this._cols!==y&&(y>this._cols?this._reflowLarger(y,x):this._reflowSmaller(y,x))},b.prototype._reflowLarger=function(y,x){var w=(0,f.reflowLargerGetLinesToRemove)(this.lines,this._cols,y,this.ybase+this.y,this.getNullCell(c.DEFAULT_ATTR_DATA));if(w.length>0){var C=(0,f.reflowLargerCreateNewLayout)(this.lines,w);(0,f.reflowLargerApplyNewLayout)(this.lines,C.layout),this._reflowLargerAdjustViewport(y,x,C.countRemoved)}},b.prototype._reflowLargerAdjustViewport=function(y,x,w){for(var C=this.getNullCell(c.DEFAULT_ATTR_DATA),S=w;S-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<x&&this.lines.push(new c.BufferLine(y,C))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-w,0)},b.prototype._reflowSmaller=function(y,x){for(var w=this.getNullCell(c.DEFAULT_ATTR_DATA),C=[],S=0,T=this.lines.length-1;T>=0;T--){var M=this.lines.get(T);if(!(!M||!M.isWrapped&&M.getTrimmedLength()<=y)){for(var D=[M];M.isWrapped&&T>0;)M=this.lines.get(--T),D.unshift(M);var k=this.ybase+this.y;if(!(k>=T&&k<T+D.length)){var R,P=D[D.length-1].getTrimmedLength(),E=(0,f.reflowSmallerGetNewLineLengths)(D,this._cols,y),O=E.length-D.length;R=this.ybase===0&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+O):Math.max(0,this.lines.length-this.lines.maxLength+O);for(var I=[],U=0;U<O;U++){var V=this.getBlankLine(c.DEFAULT_ATTR_DATA,!0);I.push(V)}I.length>0&&(C.push({start:T+D.length+S,newLines:I}),S+=I.length),D.push.apply(D,l([],s(I),!1));var Z=E.length-1,z=E[Z];z===0&&(z=E[--Z]);for(var H=D.length-O-1,B=P;H>=0;){var W=Math.min(B,z);if(D[Z]===void 0)break;if(D[Z].copyCellsFrom(D[H],B-W,z-W,W,!0),(z-=W)==0&&(z=E[--Z]),(B-=W)==0){H--;var F=Math.max(H,0);B=(0,f.getWrappedLineTrimmedLength)(D,F,this._cols)}}for(U=0;U<D.length;U++)E[U]<y&&D[U].setCell(E[U],w);for(var K=O-R;K-- >0;)this.ybase===0?this.y<x-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+S)-x&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+O,this.ybase+x-1)}}}if(C.length>0){var fe=[],se=[];for(U=0;U<this.lines.length;U++)se.push(this.lines.get(U));var ee=this.lines.length,ie=ee-1,J=0,te=C[J];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+S);var L=0;for(U=Math.min(this.lines.maxLength-1,ee+S-1);U>=0;U--)if(te&&te.start>ie+L){for(var N=te.newLines.length-1;N>=0;N--)this.lines.set(U--,te.newLines[N]);U++,fe.push({index:ie+1,amount:te.newLines.length}),L+=te.newLines.length,te=C[++J]}else this.lines.set(U,se[ie--]);var G=0;for(U=fe.length-1;U>=0;U--)fe[U].index+=G,this.lines.onInsertEmitter.fire(fe[U]),G+=fe[U].amount;var Y=Math.max(0,ee+S-this.lines.maxLength);Y>0&&this.lines.onTrimEmitter.fire(Y)}},b.prototype.stringIndexToBufferIndex=function(y,x,w){for(w===void 0&&(w=!1);x;){var C=this.lines.get(y);if(!C)return[-1,-1];for(var S=w?C.getTrimmedLength():C.length,T=0;T<S;++T)if(C.get(T)[v.CHAR_DATA_WIDTH_INDEX]&&(x-=C.get(T)[v.CHAR_DATA_CHAR_INDEX].length||1),x<0)return[y,T];y++}return[y,0]},b.prototype.translateBufferLineToString=function(y,x,w,C){w===void 0&&(w=0);var S=this.lines.get(y);return S?S.translateToString(x,w,C):""},b.prototype.getWrappedRangeForLine=function(y){for(var x=y,w=y;x>0&&this.lines.get(x).isWrapped;)x--;for(;w+1<this.lines.length&&this.lines.get(w+1).isWrapped;)w++;return{first:x,last:w}},b.prototype.setupTabStops=function(y){for(y!=null?this.tabs[y]||(y=this.prevStop(y)):(this.tabs={},y=0);y<this._cols;y+=this._optionsService.rawOptions.tabStopWidth)this.tabs[y]=!0},b.prototype.prevStop=function(y){for(y==null&&(y=this.x);!this.tabs[--y]&&y>0;);return y>=this._cols?this._cols-1:y<0?0:y},b.prototype.nextStop=function(y){for(y==null&&(y=this.x);!this.tabs[++y]&&y<this._cols;);return y>=this._cols?this._cols-1:y<0?0:y},b.prototype.clearMarkers=function(y){this._isClearing=!0;for(var x=0;x<this.markers.length;x++)this.markers[x].line===y&&(this.markers[x].dispose(),this.markers.splice(x--,1));this._isClearing=!1},b.prototype.clearAllMarkers=function(){this._isClearing=!0;for(var y=0;y<this.markers.length;y++)this.markers[y].dispose(),this.markers.splice(y--,1);this._isClearing=!1},b.prototype.addMarker=function(y){var x=this,w=new m.Marker(y);return this.markers.push(w),w.register(this.lines.onTrim(function(C){w.line-=C,w.line<0&&w.dispose()})),w.register(this.lines.onInsert(function(C){w.line>=C.index&&(w.line+=C.amount)})),w.register(this.lines.onDelete(function(C){w.line>=C.index&&w.line<C.index+C.amount&&w.dispose(),w.line>C.index&&(w.line-=C.amount)})),w.register(w.onDispose(function(){return x._removeMarker(w)})),w},b.prototype._removeMarker=function(y){this._isClearing||this.markers.splice(this.markers.indexOf(y),1)},b.prototype.iterator=function(y,x,w,C,S){return new d(this,y,x,w,C,S)},b}();n.Buffer=p;var d=function(){function b(y,x,w,C,S,T){w===void 0&&(w=0),C===void 0&&(C=y.lines.length),S===void 0&&(S=0),T===void 0&&(T=0),this._buffer=y,this._trimRight=x,this._startIndex=w,this._endIndex=C,this._startOverscan=S,this._endOverscan=T,this._startIndex<0&&(this._startIndex=0),this._endIndex>this._buffer.lines.length&&(this._endIndex=this._buffer.lines.length),this._current=this._startIndex}return b.prototype.hasNext=function(){return this._current<this._endIndex},b.prototype.next=function(){var y=this._buffer.getWrappedRangeForLine(this._current);y.first<this._startIndex-this._startOverscan&&(y.first=this._startIndex-this._startOverscan),y.last>this._endIndex+this._endOverscan&&(y.last=this._endIndex+this._endOverscan),y.first=Math.max(y.first,0),y.last=Math.min(y.last,this._buffer.lines.length);for(var x="",w=y.first;w<=y.last;++w)x+=this._buffer.translateBufferLineToString(w,this._trimRight);return this._current=y.last+1,{range:y,content:x}},b}();n.BufferStringIterator=d},8437:(o,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.BufferLine=n.DEFAULT_ATTR_DATA=void 0;var s=a(482),l=a(643),u=a(511),c=a(3734);n.DEFAULT_ATTR_DATA=Object.freeze(new c.AttributeData);var h=function(){function v(f,m,_){_===void 0&&(_=!1),this.isWrapped=_,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*f);for(var g=m||u.CellData.fromCharData([0,l.NULL_CELL_CHAR,l.NULL_CELL_WIDTH,l.NULL_CELL_CODE]),p=0;p<f;++p)this.setCell(p,g);this.length=f}return v.prototype.get=function(f){var m=this._data[3*f+0],_=2097151&m;return[this._data[3*f+1],2097152&m?this._combined[f]:_?(0,s.stringFromCodePoint)(_):"",m>>22,2097152&m?this._combined[f].charCodeAt(this._combined[f].length-1):_]},v.prototype.set=function(f,m){this._data[3*f+1]=m[l.CHAR_DATA_ATTR_INDEX],m[l.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[f]=m[1],this._data[3*f+0]=2097152|f|m[l.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*f+0]=m[l.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|m[l.CHAR_DATA_WIDTH_INDEX]<<22},v.prototype.getWidth=function(f){return this._data[3*f+0]>>22},v.prototype.hasWidth=function(f){return 12582912&this._data[3*f+0]},v.prototype.getFg=function(f){return this._data[3*f+1]},v.prototype.getBg=function(f){return this._data[3*f+2]},v.prototype.hasContent=function(f){return 4194303&this._data[3*f+0]},v.prototype.getCodePoint=function(f){var m=this._data[3*f+0];return 2097152&m?this._combined[f].charCodeAt(this._combined[f].length-1):2097151&m},v.prototype.isCombined=function(f){return 2097152&this._data[3*f+0]},v.prototype.getString=function(f){var m=this._data[3*f+0];return 2097152&m?this._combined[f]:2097151&m?(0,s.stringFromCodePoint)(2097151&m):""},v.prototype.loadCell=function(f,m){var _=3*f;return m.content=this._data[_+0],m.fg=this._data[_+1],m.bg=this._data[_+2],2097152&m.content&&(m.combinedData=this._combined[f]),268435456&m.bg&&(m.extended=this._extendedAttrs[f]),m},v.prototype.setCell=function(f,m){2097152&m.content&&(this._combined[f]=m.combinedData),268435456&m.bg&&(this._extendedAttrs[f]=m.extended),this._data[3*f+0]=m.content,this._data[3*f+1]=m.fg,this._data[3*f+2]=m.bg},v.prototype.setCellFromCodePoint=function(f,m,_,g,p,d){268435456&p&&(this._extendedAttrs[f]=d),this._data[3*f+0]=m|_<<22,this._data[3*f+1]=g,this._data[3*f+2]=p},v.prototype.addCodepointToCell=function(f,m){var _=this._data[3*f+0];2097152&_?this._combined[f]+=(0,s.stringFromCodePoint)(m):(2097151&_?(this._combined[f]=(0,s.stringFromCodePoint)(2097151&_)+(0,s.stringFromCodePoint)(m),_&=-2097152,_|=2097152):_=m|1<<22,this._data[3*f+0]=_)},v.prototype.insertCells=function(f,m,_,g){if((f%=this.length)&&this.getWidth(f-1)===2&&this.setCellFromCodePoint(f-1,0,1,(g==null?void 0:g.fg)||0,(g==null?void 0:g.bg)||0,(g==null?void 0:g.extended)||new c.ExtendedAttrs),m<this.length-f){for(var p=new u.CellData,d=this.length-f-m-1;d>=0;--d)this.setCell(f+m+d,this.loadCell(f+d,p));for(d=0;d<m;++d)this.setCell(f+d,_)}else for(d=f;d<this.length;++d)this.setCell(d,_);this.getWidth(this.length-1)===2&&this.setCellFromCodePoint(this.length-1,0,1,(g==null?void 0:g.fg)||0,(g==null?void 0:g.bg)||0,(g==null?void 0:g.extended)||new c.ExtendedAttrs)},v.prototype.deleteCells=function(f,m,_,g){if(f%=this.length,m<this.length-f){for(var p=new u.CellData,d=0;d<this.length-f-m;++d)this.setCell(f+d,this.loadCell(f+m+d,p));for(d=this.length-m;d<this.length;++d)this.setCell(d,_)}else for(d=f;d<this.length;++d)this.setCell(d,_);f&&this.getWidth(f-1)===2&&this.setCellFromCodePoint(f-1,0,1,(g==null?void 0:g.fg)||0,(g==null?void 0:g.bg)||0,(g==null?void 0:g.extended)||new c.ExtendedAttrs),this.getWidth(f)!==0||this.hasContent(f)||this.setCellFromCodePoint(f,0,1,(g==null?void 0:g.fg)||0,(g==null?void 0:g.bg)||0,(g==null?void 0:g.extended)||new c.ExtendedAttrs)},v.prototype.replaceCells=function(f,m,_,g){for(f&&this.getWidth(f-1)===2&&this.setCellFromCodePoint(f-1,0,1,(g==null?void 0:g.fg)||0,(g==null?void 0:g.bg)||0,(g==null?void 0:g.extended)||new c.ExtendedAttrs),m<this.length&&this.getWidth(m-1)===2&&this.setCellFromCodePoint(m,0,1,(g==null?void 0:g.fg)||0,(g==null?void 0:g.bg)||0,(g==null?void 0:g.extended)||new c.ExtendedAttrs);f<m&&f<this.length;)this.setCell(f++,_)},v.prototype.resize=function(f,m){if(f!==this.length){if(f>this.length){var _=new Uint32Array(3*f);this.length&&(3*f<this._data.length?_.set(this._data.subarray(0,3*f)):_.set(this._data)),this._data=_;for(var g=this.length;g<f;++g)this.setCell(g,m)}else if(f){(_=new Uint32Array(3*f)).set(this._data.subarray(0,3*f)),this._data=_;var p=Object.keys(this._combined);for(g=0;g<p.length;g++){var d=parseInt(p[g],10);d>=f&&delete this._combined[d]}}else this._data=new Uint32Array(0),this._combined={};this.length=f}},v.prototype.fill=function(f){this._combined={},this._extendedAttrs={};for(var m=0;m<this.length;++m)this.setCell(m,f)},v.prototype.copyFrom=function(f){for(var m in this.length!==f.length?this._data=new Uint32Array(f._data):this._data.set(f._data),this.length=f.length,this._combined={},f._combined)this._combined[m]=f._combined[m];for(var m in this._extendedAttrs={},f._extendedAttrs)this._extendedAttrs[m]=f._extendedAttrs[m];this.isWrapped=f.isWrapped},v.prototype.clone=function(){var f=new v(0);for(var m in f._data=new Uint32Array(this._data),f.length=this.length,this._combined)f._combined[m]=this._combined[m];for(var m in this._extendedAttrs)f._extendedAttrs[m]=this._extendedAttrs[m];return f.isWrapped=this.isWrapped,f},v.prototype.getTrimmedLength=function(){for(var f=this.length-1;f>=0;--f)if(4194303&this._data[3*f+0])return f+(this._data[3*f+0]>>22);return 0},v.prototype.copyCellsFrom=function(f,m,_,g,p){var d=f._data;if(p)for(var b=g-1;b>=0;b--)for(var y=0;y<3;y++)this._data[3*(_+b)+y]=d[3*(m+b)+y];else for(b=0;b<g;b++)for(y=0;y<3;y++)this._data[3*(_+b)+y]=d[3*(m+b)+y];var x=Object.keys(f._combined);for(y=0;y<x.length;y++){var w=parseInt(x[y],10);w>=m&&(this._combined[w-m+_]=f._combined[w])}},v.prototype.translateToString=function(f,m,_){f===void 0&&(f=!1),m===void 0&&(m=0),_===void 0&&(_=this.length),f&&(_=Math.min(_,this.getTrimmedLength()));for(var g="";m<_;){var p=this._data[3*m+0],d=2097151&p;g+=2097152&p?this._combined[m]:d?(0,s.stringFromCodePoint)(d):l.WHITESPACE_CELL_CHAR,m+=p>>22||1}return g},v}();n.BufferLine=h},4841:(o,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.getRangeLength=void 0,n.getRangeLength=function(a,s){if(a.start.y>a.end.y)throw new Error("Buffer range end ("+a.end.x+", "+a.end.y+") cannot be before start ("+a.start.x+", "+a.start.y+")");return s*(a.end.y-a.start.y)+(a.end.x-a.start.x+1)}},4634:(o,n)=>{function a(s,l,u){if(l===s.length-1)return s[l].getTrimmedLength();var c=!s[l].hasContent(u-1)&&s[l].getWidth(u-1)===1,h=s[l+1].getWidth(0)===2;return c&&h?u-1:u}Object.defineProperty(n,"__esModule",{value:!0}),n.getWrappedLineTrimmedLength=n.reflowSmallerGetNewLineLengths=n.reflowLargerApplyNewLayout=n.reflowLargerCreateNewLayout=n.reflowLargerGetLinesToRemove=void 0,n.reflowLargerGetLinesToRemove=function(s,l,u,c,h){for(var v=[],f=0;f<s.length-1;f++){var m=f,_=s.get(++m);if(_.isWrapped){for(var g=[s.get(f)];m<s.length&&_.isWrapped;)g.push(_),_=s.get(++m);if(c>=f&&c<m)f+=g.length-1;else{for(var p=0,d=a(g,p,l),b=1,y=0;b<g.length;){var x=a(g,b,l),w=x-y,C=u-d,S=Math.min(w,C);g[p].copyCellsFrom(g[b],y,d,S,!1),(d+=S)===u&&(p++,d=0),(y+=S)===x&&(b++,y=0),d===0&&p!==0&&g[p-1].getWidth(u-1)===2&&(g[p].copyCellsFrom(g[p-1],u-1,d++,1,!1),g[p-1].setCell(u-1,h))}g[p].replaceCells(d,u,h);for(var T=0,M=g.length-1;M>0&&(M>p||g[M].getTrimmedLength()===0);M--)T++;T>0&&(v.push(f+g.length-T),v.push(T)),f+=g.length-1}}}return v},n.reflowLargerCreateNewLayout=function(s,l){for(var u=[],c=0,h=l[c],v=0,f=0;f<s.length;f++)if(h===f){var m=l[++c];s.onDeleteEmitter.fire({index:f-v,amount:m}),f+=m-1,v+=m,h=l[++c]}else u.push(f);return{layout:u,countRemoved:v}},n.reflowLargerApplyNewLayout=function(s,l){for(var u=[],c=0;c<l.length;c++)u.push(s.get(l[c]));for(c=0;c<u.length;c++)s.set(c,u[c]);s.length=l.length},n.reflowSmallerGetNewLineLengths=function(s,l,u){for(var c=[],h=s.map(function(d,b){return a(s,b,l)}).reduce(function(d,b){return d+b}),v=0,f=0,m=0;m<h;){if(h-m<u){c.push(h-m);break}v+=u;var _=a(s,f,l);v>_&&(v-=_,f++);var g=s[f].getWidth(v-1)===2;g&&v--;var p=g?u-1:u;c.push(p),m+=p}return c},n.getWrappedLineTrimmedLength=a},5295:function(o,n,a){var s,l=this&&this.__extends||(s=function(v,f){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,_){m.__proto__=_}||function(m,_){for(var g in _)Object.prototype.hasOwnProperty.call(_,g)&&(m[g]=_[g])},s(v,f)},function(v,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function m(){this.constructor=v}s(v,f),v.prototype=f===null?Object.create(f):(m.prototype=f.prototype,new m)});Object.defineProperty(n,"__esModule",{value:!0}),n.BufferSet=void 0;var u=a(9092),c=a(8460),h=function(v){function f(m,_){var g=v.call(this)||this;return g._optionsService=m,g._bufferService=_,g._onBufferActivate=g.register(new c.EventEmitter),g.reset(),g}return l(f,v),Object.defineProperty(f.prototype,"onBufferActivate",{get:function(){return this._onBufferActivate.event},enumerable:!1,configurable:!0}),f.prototype.reset=function(){this._normal=new u.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new u.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()},Object.defineProperty(f.prototype,"alt",{get:function(){return this._alt},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"active",{get:function(){return this._activeBuffer},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"normal",{get:function(){return this._normal},enumerable:!1,configurable:!0}),f.prototype.activateNormalBuffer=function(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))},f.prototype.activateAltBuffer=function(m){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(m),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))},f.prototype.resize=function(m,_){this._normal.resize(m,_),this._alt.resize(m,_)},f.prototype.setupTabStops=function(m){this._normal.setupTabStops(m),this._alt.setupTabStops(m)},f}(a(844).Disposable);n.BufferSet=h},511:function(o,n,a){var s,l=this&&this.__extends||(s=function(f,m){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,g){_.__proto__=g}||function(_,g){for(var p in g)Object.prototype.hasOwnProperty.call(g,p)&&(_[p]=g[p])},s(f,m)},function(f,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function _(){this.constructor=f}s(f,m),f.prototype=m===null?Object.create(m):(_.prototype=m.prototype,new _)});Object.defineProperty(n,"__esModule",{value:!0}),n.CellData=void 0;var u=a(482),c=a(643),h=a(3734),v=function(f){function m(){var _=f!==null&&f.apply(this,arguments)||this;return _.content=0,_.fg=0,_.bg=0,_.extended=new h.ExtendedAttrs,_.combinedData="",_}return l(m,f),m.fromCharData=function(_){var g=new m;return g.setFromCharData(_),g},m.prototype.isCombined=function(){return 2097152&this.content},m.prototype.getWidth=function(){return this.content>>22},m.prototype.getChars=function(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,u.stringFromCodePoint)(2097151&this.content):""},m.prototype.getCode=function(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content},m.prototype.setFromCharData=function(_){this.fg=_[c.CHAR_DATA_ATTR_INDEX],this.bg=0;var g=!1;if(_[c.CHAR_DATA_CHAR_INDEX].length>2)g=!0;else if(_[c.CHAR_DATA_CHAR_INDEX].length===2){var p=_[c.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=p&&p<=56319){var d=_[c.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=d&&d<=57343?this.content=1024*(p-55296)+d-56320+65536|_[c.CHAR_DATA_WIDTH_INDEX]<<22:g=!0}else g=!0}else this.content=_[c.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|_[c.CHAR_DATA_WIDTH_INDEX]<<22;g&&(this.combinedData=_[c.CHAR_DATA_CHAR_INDEX],this.content=2097152|_[c.CHAR_DATA_WIDTH_INDEX]<<22)},m.prototype.getAsCharData=function(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]},m}(h.AttributeData);n.CellData=v},643:(o,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.WHITESPACE_CELL_CODE=n.WHITESPACE_CELL_WIDTH=n.WHITESPACE_CELL_CHAR=n.NULL_CELL_CODE=n.NULL_CELL_WIDTH=n.NULL_CELL_CHAR=n.CHAR_DATA_CODE_INDEX=n.CHAR_DATA_WIDTH_INDEX=n.CHAR_DATA_CHAR_INDEX=n.CHAR_DATA_ATTR_INDEX=n.DEFAULT_ATTR=n.DEFAULT_COLOR=void 0,n.DEFAULT_COLOR=256,n.DEFAULT_ATTR=256|n.DEFAULT_COLOR<<9,n.CHAR_DATA_ATTR_INDEX=0,n.CHAR_DATA_CHAR_INDEX=1,n.CHAR_DATA_WIDTH_INDEX=2,n.CHAR_DATA_CODE_INDEX=3,n.NULL_CELL_CHAR="",n.NULL_CELL_WIDTH=1,n.NULL_CELL_CODE=0,n.WHITESPACE_CELL_CHAR=" ",n.WHITESPACE_CELL_WIDTH=1,n.WHITESPACE_CELL_CODE=32},4863:function(o,n,a){var s,l=this&&this.__extends||(s=function(h,v){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,m){f.__proto__=m}||function(f,m){for(var _ in m)Object.prototype.hasOwnProperty.call(m,_)&&(f[_]=m[_])},s(h,v)},function(h,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");function f(){this.constructor=h}s(h,v),h.prototype=v===null?Object.create(v):(f.prototype=v.prototype,new f)});Object.defineProperty(n,"__esModule",{value:!0}),n.Marker=void 0;var u=a(8460),c=function(h){function v(f){var m=h.call(this)||this;return m.line=f,m._id=v._nextId++,m.isDisposed=!1,m._onDispose=new u.EventEmitter,m}return l(v,h),Object.defineProperty(v.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"onDispose",{get:function(){return this._onDispose.event},enumerable:!1,configurable:!0}),v.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),h.prototype.dispose.call(this))},v._nextId=1,v}(a(844).Disposable);n.Marker=c},7116:(o,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.DEFAULT_CHARSET=n.CHARSETS=void 0,n.CHARSETS={},n.DEFAULT_CHARSET=n.CHARSETS.B,n.CHARSETS[0]={"`":"◆",a:"▒",b:"␉",c:"␌",d:"␍",e:"␊",f:"°",g:"±",h:"␤",i:"␋",j:"┘",k:"┐",l:"┌",m:"└",n:"┼",o:"⎺",p:"⎻",q:"─",r:"⎼",s:"⎽",t:"├",u:"┤",v:"┴",w:"┬",x:"│",y:"≤",z:"≥","{":"π","|":"≠","}":"£","~":"·"},n.CHARSETS.A={"#":"£"},n.CHARSETS.B=void 0,n.CHARSETS[4]={"#":"£","@":"¾","[":"ij","\\":"½","]":"|","{":"¨","|":"f","}":"¼","~":"´"},n.CHARSETS.C=n.CHARSETS[5]={"[":"Ä","\\":"Ö","]":"Å","^":"Ü","`":"é","{":"ä","|":"ö","}":"å","~":"ü"},n.CHARSETS.R={"#":"£","@":"à","[":"°","\\":"ç","]":"§","{":"é","|":"ù","}":"è","~":"¨"},n.CHARSETS.Q={"@":"à","[":"â","\\":"ç","]":"ê","^":"î","`":"ô","{":"é","|":"ù","}":"è","~":"û"},n.CHARSETS.K={"@":"§","[":"Ä","\\":"Ö","]":"Ü","{":"ä","|":"ö","}":"ü","~":"ß"},n.CHARSETS.Y={"#":"£","@":"§","[":"°","\\":"ç","]":"é","`":"ù","{":"à","|":"ò","}":"è","~":"ì"},n.CHARSETS.E=n.CHARSETS[6]={"@":"Ä","[":"Æ","\\":"Ø","]":"Å","^":"Ü","`":"ä","{":"æ","|":"ø","}":"å","~":"ü"},n.CHARSETS.Z={"#":"£","@":"§","[":"¡","\\":"Ñ","]":"¿","{":"°","|":"ñ","}":"ç"},n.CHARSETS.H=n.CHARSETS[7]={"@":"É","[":"Ä","\\":"Ö","]":"Å","^":"Ü","`":"é","{":"ä","|":"ö","}":"å","~":"ü"},n.CHARSETS["="]={"#":"ù","@":"à","[":"é","\\":"ç","]":"ê","^":"î",_:"è","`":"ô","{":"ä","|":"ö","}":"ü","~":"û"}},2584:(o,n)=>{var a,s;Object.defineProperty(n,"__esModule",{value:!0}),n.C1_ESCAPED=n.C1=n.C0=void 0,function(l){l.NUL="\0",l.SOH="",l.STX="",l.ETX="",l.EOT="",l.ENQ="",l.ACK="",l.BEL="\x07",l.BS="\b",l.HT="	",l.LF=`
`,l.VT="\v",l.FF="\f",l.CR="\r",l.SO="",l.SI="",l.DLE="",l.DC1="",l.DC2="",l.DC3="",l.DC4="",l.NAK="",l.SYN="",l.ETB="",l.CAN="",l.EM="",l.SUB="",l.ESC="\x1B",l.FS="",l.GS="",l.RS="",l.US="",l.SP=" ",l.DEL=""}(a=n.C0||(n.C0={})),(s=n.C1||(n.C1={})).PAD="",s.HOP="",s.BPH="",s.NBH="",s.IND="",s.NEL="",s.SSA="",s.ESA="",s.HTS="",s.HTJ="",s.VTS="",s.PLD="",s.PLU="",s.RI="",s.SS2="",s.SS3="",s.DCS="",s.PU1="",s.PU2="",s.STS="",s.CCH="",s.MW="",s.SPA="",s.EPA="",s.SOS="",s.SGCI="",s.SCI="",s.CSI="",s.ST="",s.OSC="",s.PM="",s.APC="",(n.C1_ESCAPED||(n.C1_ESCAPED={})).ST=a.ESC+"\\"},7399:(o,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.evaluateKeyboardEvent=void 0;var s=a(2584),l={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};n.evaluateKeyboardEvent=function(u,c,h,v){var f={type:0,cancel:!1,key:void 0},m=(u.shiftKey?1:0)|(u.altKey?2:0)|(u.ctrlKey?4:0)|(u.metaKey?8:0);switch(u.keyCode){case 0:u.key==="UIKeyInputUpArrow"?f.key=c?s.C0.ESC+"OA":s.C0.ESC+"[A":u.key==="UIKeyInputLeftArrow"?f.key=c?s.C0.ESC+"OD":s.C0.ESC+"[D":u.key==="UIKeyInputRightArrow"?f.key=c?s.C0.ESC+"OC":s.C0.ESC+"[C":u.key==="UIKeyInputDownArrow"&&(f.key=c?s.C0.ESC+"OB":s.C0.ESC+"[B");break;case 8:if(u.shiftKey){f.key=s.C0.BS;break}if(u.altKey){f.key=s.C0.ESC+s.C0.DEL;break}f.key=s.C0.DEL;break;case 9:if(u.shiftKey){f.key=s.C0.ESC+"[Z";break}f.key=s.C0.HT,f.cancel=!0;break;case 13:f.key=u.altKey?s.C0.ESC+s.C0.CR:s.C0.CR,f.cancel=!0;break;case 27:f.key=s.C0.ESC,u.altKey&&(f.key=s.C0.ESC+s.C0.ESC),f.cancel=!0;break;case 37:if(u.metaKey)break;m?(f.key=s.C0.ESC+"[1;"+(m+1)+"D",f.key===s.C0.ESC+"[1;3D"&&(f.key=s.C0.ESC+(h?"b":"[1;5D"))):f.key=c?s.C0.ESC+"OD":s.C0.ESC+"[D";break;case 39:if(u.metaKey)break;m?(f.key=s.C0.ESC+"[1;"+(m+1)+"C",f.key===s.C0.ESC+"[1;3C"&&(f.key=s.C0.ESC+(h?"f":"[1;5C"))):f.key=c?s.C0.ESC+"OC":s.C0.ESC+"[C";break;case 38:if(u.metaKey)break;m?(f.key=s.C0.ESC+"[1;"+(m+1)+"A",h||f.key!==s.C0.ESC+"[1;3A"||(f.key=s.C0.ESC+"[1;5A")):f.key=c?s.C0.ESC+"OA":s.C0.ESC+"[A";break;case 40:if(u.metaKey)break;m?(f.key=s.C0.ESC+"[1;"+(m+1)+"B",h||f.key!==s.C0.ESC+"[1;3B"||(f.key=s.C0.ESC+"[1;5B")):f.key=c?s.C0.ESC+"OB":s.C0.ESC+"[B";break;case 45:u.shiftKey||u.ctrlKey||(f.key=s.C0.ESC+"[2~");break;case 46:f.key=m?s.C0.ESC+"[3;"+(m+1)+"~":s.C0.ESC+"[3~";break;case 36:f.key=m?s.C0.ESC+"[1;"+(m+1)+"H":c?s.C0.ESC+"OH":s.C0.ESC+"[H";break;case 35:f.key=m?s.C0.ESC+"[1;"+(m+1)+"F":c?s.C0.ESC+"OF":s.C0.ESC+"[F";break;case 33:u.shiftKey?f.type=2:u.ctrlKey?f.key=s.C0.ESC+"[5;"+(m+1)+"~":f.key=s.C0.ESC+"[5~";break;case 34:u.shiftKey?f.type=3:u.ctrlKey?f.key=s.C0.ESC+"[6;"+(m+1)+"~":f.key=s.C0.ESC+"[6~";break;case 112:f.key=m?s.C0.ESC+"[1;"+(m+1)+"P":s.C0.ESC+"OP";break;case 113:f.key=m?s.C0.ESC+"[1;"+(m+1)+"Q":s.C0.ESC+"OQ";break;case 114:f.key=m?s.C0.ESC+"[1;"+(m+1)+"R":s.C0.ESC+"OR";break;case 115:f.key=m?s.C0.ESC+"[1;"+(m+1)+"S":s.C0.ESC+"OS";break;case 116:f.key=m?s.C0.ESC+"[15;"+(m+1)+"~":s.C0.ESC+"[15~";break;case 117:f.key=m?s.C0.ESC+"[17;"+(m+1)+"~":s.C0.ESC+"[17~";break;case 118:f.key=m?s.C0.ESC+"[18;"+(m+1)+"~":s.C0.ESC+"[18~";break;case 119:f.key=m?s.C0.ESC+"[19;"+(m+1)+"~":s.C0.ESC+"[19~";break;case 120:f.key=m?s.C0.ESC+"[20;"+(m+1)+"~":s.C0.ESC+"[20~";break;case 121:f.key=m?s.C0.ESC+"[21;"+(m+1)+"~":s.C0.ESC+"[21~";break;case 122:f.key=m?s.C0.ESC+"[23;"+(m+1)+"~":s.C0.ESC+"[23~";break;case 123:f.key=m?s.C0.ESC+"[24;"+(m+1)+"~":s.C0.ESC+"[24~";break;default:if(!u.ctrlKey||u.shiftKey||u.altKey||u.metaKey)if(h&&!v||!u.altKey||u.metaKey)!h||u.altKey||u.ctrlKey||u.shiftKey||!u.metaKey?u.key&&!u.ctrlKey&&!u.altKey&&!u.metaKey&&u.keyCode>=48&&u.key.length===1?f.key=u.key:u.key&&u.ctrlKey&&(u.key==="_"&&(f.key=s.C0.US),u.key==="@"&&(f.key=s.C0.NUL)):u.keyCode===65&&(f.type=1);else{var _=l[u.keyCode],g=_==null?void 0:_[u.shiftKey?1:0];if(g)f.key=s.C0.ESC+g;else if(u.keyCode>=65&&u.keyCode<=90){var p=u.ctrlKey?u.keyCode-64:u.keyCode+32,d=String.fromCharCode(p);u.shiftKey&&(d=d.toUpperCase()),f.key=s.C0.ESC+d}else u.key==="Dead"&&u.code.startsWith("Key")&&(d=u.code.slice(3,4),u.shiftKey||(d=d.toLowerCase()),f.key=s.C0.ESC+d,f.cancel=!0)}else u.keyCode>=65&&u.keyCode<=90?f.key=String.fromCharCode(u.keyCode-64):u.keyCode===32?f.key=s.C0.NUL:u.keyCode>=51&&u.keyCode<=55?f.key=String.fromCharCode(u.keyCode-51+27):u.keyCode===56?f.key=s.C0.DEL:u.keyCode===219?f.key=s.C0.ESC:u.keyCode===220?f.key=s.C0.FS:u.keyCode===221&&(f.key=s.C0.GS)}return f}},482:(o,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Utf8ToUtf32=n.StringToUtf32=n.utf32ToString=n.stringFromCodePoint=void 0,n.stringFromCodePoint=function(l){return l>65535?(l-=65536,String.fromCharCode(55296+(l>>10))+String.fromCharCode(l%1024+56320)):String.fromCharCode(l)},n.utf32ToString=function(l,u,c){u===void 0&&(u=0),c===void 0&&(c=l.length);for(var h="",v=u;v<c;++v){var f=l[v];f>65535?(f-=65536,h+=String.fromCharCode(55296+(f>>10))+String.fromCharCode(f%1024+56320)):h+=String.fromCharCode(f)}return h};var a=function(){function l(){this._interim=0}return l.prototype.clear=function(){this._interim=0},l.prototype.decode=function(u,c){var h=u.length;if(!h)return 0;var v=0,f=0;this._interim&&(56320<=(g=u.charCodeAt(f++))&&g<=57343?c[v++]=1024*(this._interim-55296)+g-56320+65536:(c[v++]=this._interim,c[v++]=g),this._interim=0);for(var m=f;m<h;++m){var _=u.charCodeAt(m);if(55296<=_&&_<=56319){if(++m>=h)return this._interim=_,v;var g;56320<=(g=u.charCodeAt(m))&&g<=57343?c[v++]=1024*(_-55296)+g-56320+65536:(c[v++]=_,c[v++]=g)}else _!==65279&&(c[v++]=_)}return v},l}();n.StringToUtf32=a;var s=function(){function l(){this.interim=new Uint8Array(3)}return l.prototype.clear=function(){this.interim.fill(0)},l.prototype.decode=function(u,c){var h=u.length;if(!h)return 0;var v,f,m,_,g=0,p=0,d=0;if(this.interim[0]){var b=!1,y=this.interim[0];y&=(224&y)==192?31:(240&y)==224?15:7;for(var x=0,w=void 0;(w=63&this.interim[++x])&&x<4;)y<<=6,y|=w;for(var C=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,S=C-x;d<S;){if(d>=h)return 0;if((192&(w=u[d++]))!=128){d--,b=!0;break}this.interim[x++]=w,y<<=6,y|=63&w}b||(C===2?y<128?d--:c[g++]=y:C===3?y<2048||y>=55296&&y<=57343||y===65279||(c[g++]=y):y<65536||y>1114111||(c[g++]=y)),this.interim.fill(0)}for(var T=h-4,M=d;M<h;){for(;!(!(M<T)||128&(v=u[M])||128&(f=u[M+1])||128&(m=u[M+2])||128&(_=u[M+3]));)c[g++]=v,c[g++]=f,c[g++]=m,c[g++]=_,M+=4;if((v=u[M++])<128)c[g++]=v;else if((224&v)==192){if(M>=h)return this.interim[0]=v,g;if((192&(f=u[M++]))!=128){M--;continue}if((p=(31&v)<<6|63&f)<128){M--;continue}c[g++]=p}else if((240&v)==224){if(M>=h)return this.interim[0]=v,g;if((192&(f=u[M++]))!=128){M--;continue}if(M>=h)return this.interim[0]=v,this.interim[1]=f,g;if((192&(m=u[M++]))!=128){M--;continue}if((p=(15&v)<<12|(63&f)<<6|63&m)<2048||p>=55296&&p<=57343||p===65279)continue;c[g++]=p}else if((248&v)==240){if(M>=h)return this.interim[0]=v,g;if((192&(f=u[M++]))!=128){M--;continue}if(M>=h)return this.interim[0]=v,this.interim[1]=f,g;if((192&(m=u[M++]))!=128){M--;continue}if(M>=h)return this.interim[0]=v,this.interim[1]=f,this.interim[2]=m,g;if((192&(_=u[M++]))!=128){M--;continue}if((p=(7&v)<<18|(63&f)<<12|(63&m)<<6|63&_)<65536||p>1114111)continue;c[g++]=p}}return g},l}();n.Utf8ToUtf32=s},225:(o,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.UnicodeV6=void 0;var s,l=a(8273),u=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],c=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]],h=function(){function v(){if(this.version="6",!s){s=new Uint8Array(65536),(0,l.fill)(s,1),s[0]=0,(0,l.fill)(s,0,1,32),(0,l.fill)(s,0,127,160),(0,l.fill)(s,2,4352,4448),s[9001]=2,s[9002]=2,(0,l.fill)(s,2,11904,42192),s[12351]=1,(0,l.fill)(s,2,44032,55204),(0,l.fill)(s,2,63744,64256),(0,l.fill)(s,2,65040,65050),(0,l.fill)(s,2,65072,65136),(0,l.fill)(s,2,65280,65377),(0,l.fill)(s,2,65504,65511);for(var f=0;f<u.length;++f)(0,l.fill)(s,0,u[f][0],u[f][1]+1)}}return v.prototype.wcwidth=function(f){return f<32?0:f<127?1:f<65536?s[f]:function(m,_){var g,p=0,d=_.length-1;if(m<_[0][0]||m>_[d][1])return!1;for(;d>=p;)if(m>_[g=p+d>>1][1])p=g+1;else{if(!(m<_[g][0]))return!0;d=g-1}return!1}(f,c)?0:f>=131072&&f<=196605||f>=196608&&f<=262141?2:1},v}();n.UnicodeV6=h},5981:(o,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.WriteBuffer=void 0;var s=a(8460),l=typeof queueMicrotask>"u"?function(c){Promise.resolve().then(c)}:queueMicrotask,u=function(){function c(h){this._action=h,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._onWriteParsed=new s.EventEmitter}return Object.defineProperty(c.prototype,"onWriteParsed",{get:function(){return this._onWriteParsed.event},enumerable:!1,configurable:!0}),c.prototype.writeSync=function(h,v){if(v!==void 0&&this._syncCalls>v)this._syncCalls=0;else if(this._pendingData+=h.length,this._writeBuffer.push(h),this._callbacks.push(void 0),this._syncCalls++,!this._isSyncWriting){var f;for(this._isSyncWriting=!0;f=this._writeBuffer.shift();){this._action(f);var m=this._callbacks.shift();m&&m()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}},c.prototype.write=function(h,v){var f=this;if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");this._writeBuffer.length||(this._bufferOffset=0,setTimeout(function(){return f._innerWrite()})),this._pendingData+=h.length,this._writeBuffer.push(h),this._callbacks.push(v)},c.prototype._innerWrite=function(h,v){var f=this;h===void 0&&(h=0),v===void 0&&(v=!0);for(var m=h||Date.now();this._writeBuffer.length>this._bufferOffset;){var _=this._writeBuffer[this._bufferOffset],g=this._action(_,v);if(g)return void g.catch(function(d){return l(function(){throw d}),Promise.resolve(!1)}).then(function(d){return Date.now()-m>=12?setTimeout(function(){return f._innerWrite(0,d)}):f._innerWrite(m,d)});var p=this._callbacks[this._bufferOffset];if(p&&p(),this._bufferOffset++,this._pendingData-=_.length,Date.now()-m>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(function(){return f._innerWrite()})):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()},c}();n.WriteBuffer=u},5941:function(o,n){var a=this&&this.__read||function(c,h){var v=typeof Symbol=="function"&&c[Symbol.iterator];if(!v)return c;var f,m,_=v.call(c),g=[];try{for(;(h===void 0||h-- >0)&&!(f=_.next()).done;)g.push(f.value)}catch(p){m={error:p}}finally{try{f&&!f.done&&(v=_.return)&&v.call(_)}finally{if(m)throw m.error}}return g};Object.defineProperty(n,"__esModule",{value:!0}),n.toRgbString=n.parseColor=void 0;var s=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,l=/^[\da-f]+$/;function u(c,h){var v=c.toString(16),f=v.length<2?"0"+v:v;switch(h){case 4:return v[0];case 8:return f;case 12:return(f+f).slice(0,3);default:return f+f}}n.parseColor=function(c){if(c){var h=c.toLowerCase();if(h.indexOf("rgb:")===0){h=h.slice(4);var v=s.exec(h);if(v){var f=v[1]?15:v[4]?255:v[7]?4095:65535;return[Math.round(parseInt(v[1]||v[4]||v[7]||v[10],16)/f*255),Math.round(parseInt(v[2]||v[5]||v[8]||v[11],16)/f*255),Math.round(parseInt(v[3]||v[6]||v[9]||v[12],16)/f*255)]}}else if(h.indexOf("#")===0&&(h=h.slice(1),l.exec(h)&&[3,6,9,12].includes(h.length))){for(var m=h.length/3,_=[0,0,0],g=0;g<3;++g){var p=parseInt(h.slice(m*g,m*g+m),16);_[g]=m===1?p<<4:m===2?p:m===3?p>>4:p>>8}return _}}},n.toRgbString=function(c,h){h===void 0&&(h=16);var v=a(c,3),f=v[0],m=v[1],_=v[2];return"rgb:"+u(f,h)+"/"+u(m,h)+"/"+u(_,h)}},5770:(o,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.PAYLOAD_LIMIT=void 0,n.PAYLOAD_LIMIT=1e7},6351:(o,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.DcsHandler=n.DcsParser=void 0;var s=a(482),l=a(8742),u=a(5770),c=[],h=function(){function m(){this._handlers=Object.create(null),this._active=c,this._ident=0,this._handlerFb=function(){},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}return m.prototype.dispose=function(){this._handlers=Object.create(null),this._handlerFb=function(){},this._active=c},m.prototype.registerHandler=function(_,g){this._handlers[_]===void 0&&(this._handlers[_]=[]);var p=this._handlers[_];return p.push(g),{dispose:function(){var d=p.indexOf(g);d!==-1&&p.splice(d,1)}}},m.prototype.clearHandler=function(_){this._handlers[_]&&delete this._handlers[_]},m.prototype.setHandlerFallback=function(_){this._handlerFb=_},m.prototype.reset=function(){if(this._active.length)for(var _=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;_>=0;--_)this._active[_].unhook(!1);this._stack.paused=!1,this._active=c,this._ident=0},m.prototype.hook=function(_,g){if(this.reset(),this._ident=_,this._active=this._handlers[_]||c,this._active.length)for(var p=this._active.length-1;p>=0;p--)this._active[p].hook(g);else this._handlerFb(this._ident,"HOOK",g)},m.prototype.put=function(_,g,p){if(this._active.length)for(var d=this._active.length-1;d>=0;d--)this._active[d].put(_,g,p);else this._handlerFb(this._ident,"PUT",(0,s.utf32ToString)(_,g,p))},m.prototype.unhook=function(_,g){if(g===void 0&&(g=!0),this._active.length){var p=!1,d=this._active.length-1,b=!1;if(this._stack.paused&&(d=this._stack.loopPosition-1,p=g,b=this._stack.fallThrough,this._stack.paused=!1),!b&&p===!1){for(;d>=0&&(p=this._active[d].unhook(_))!==!0;d--)if(p instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=d,this._stack.fallThrough=!1,p;d--}for(;d>=0;d--)if((p=this._active[d].unhook(!1))instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=d,this._stack.fallThrough=!0,p}else this._handlerFb(this._ident,"UNHOOK",_);this._active=c,this._ident=0},m}();n.DcsParser=h;var v=new l.Params;v.addParam(0);var f=function(){function m(_){this._handler=_,this._data="",this._params=v,this._hitLimit=!1}return m.prototype.hook=function(_){this._params=_.length>1||_.params[0]?_.clone():v,this._data="",this._hitLimit=!1},m.prototype.put=function(_,g,p){this._hitLimit||(this._data+=(0,s.utf32ToString)(_,g,p),this._data.length>u.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))},m.prototype.unhook=function(_){var g=this,p=!1;if(this._hitLimit)p=!1;else if(_&&(p=this._handler(this._data,this._params))instanceof Promise)return p.then(function(d){return g._params=v,g._data="",g._hitLimit=!1,d});return this._params=v,this._data="",this._hitLimit=!1,p},m}();n.DcsHandler=f},2015:function(o,n,a){var s,l=this&&this.__extends||(s=function(p,d){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,y){b.__proto__=y}||function(b,y){for(var x in y)Object.prototype.hasOwnProperty.call(y,x)&&(b[x]=y[x])},s(p,d)},function(p,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");function b(){this.constructor=p}s(p,d),p.prototype=d===null?Object.create(d):(b.prototype=d.prototype,new b)});Object.defineProperty(n,"__esModule",{value:!0}),n.EscapeSequenceParser=n.VT500_TRANSITION_TABLE=n.TransitionTable=void 0;var u=a(844),c=a(8273),h=a(8742),v=a(6242),f=a(6351),m=function(){function p(d){this.table=new Uint8Array(d)}return p.prototype.setDefault=function(d,b){(0,c.fill)(this.table,d<<4|b)},p.prototype.add=function(d,b,y,x){this.table[b<<8|d]=y<<4|x},p.prototype.addMany=function(d,b,y,x){for(var w=0;w<d.length;w++)this.table[b<<8|d[w]]=y<<4|x},p}();n.TransitionTable=m;var _=160;n.VT500_TRANSITION_TABLE=function(){var p=new m(4095),d=Array.apply(null,Array(256)).map(function(S,T){return T}),b=function(S,T){return d.slice(S,T)},y=b(32,127),x=b(0,24);x.push(25),x.push.apply(x,b(28,32));var w,C=b(0,14);for(w in p.setDefault(1,0),p.addMany(y,0,2,0),C)p.addMany([24,26,153,154],w,3,0),p.addMany(b(128,144),w,3,0),p.addMany(b(144,152),w,3,0),p.add(156,w,0,0),p.add(27,w,11,1),p.add(157,w,4,8),p.addMany([152,158,159],w,0,7),p.add(155,w,11,3),p.add(144,w,11,9);return p.addMany(x,0,3,0),p.addMany(x,1,3,1),p.add(127,1,0,1),p.addMany(x,8,0,8),p.addMany(x,3,3,3),p.add(127,3,0,3),p.addMany(x,4,3,4),p.add(127,4,0,4),p.addMany(x,6,3,6),p.addMany(x,5,3,5),p.add(127,5,0,5),p.addMany(x,2,3,2),p.add(127,2,0,2),p.add(93,1,4,8),p.addMany(y,8,5,8),p.add(127,8,5,8),p.addMany([156,27,24,26,7],8,6,0),p.addMany(b(28,32),8,0,8),p.addMany([88,94,95],1,0,7),p.addMany(y,7,0,7),p.addMany(x,7,0,7),p.add(156,7,0,0),p.add(127,7,0,7),p.add(91,1,11,3),p.addMany(b(64,127),3,7,0),p.addMany(b(48,60),3,8,4),p.addMany([60,61,62,63],3,9,4),p.addMany(b(48,60),4,8,4),p.addMany(b(64,127),4,7,0),p.addMany([60,61,62,63],4,0,6),p.addMany(b(32,64),6,0,6),p.add(127,6,0,6),p.addMany(b(64,127),6,0,0),p.addMany(b(32,48),3,9,5),p.addMany(b(32,48),5,9,5),p.addMany(b(48,64),5,0,6),p.addMany(b(64,127),5,7,0),p.addMany(b(32,48),4,9,5),p.addMany(b(32,48),1,9,2),p.addMany(b(32,48),2,9,2),p.addMany(b(48,127),2,10,0),p.addMany(b(48,80),1,10,0),p.addMany(b(81,88),1,10,0),p.addMany([89,90,92],1,10,0),p.addMany(b(96,127),1,10,0),p.add(80,1,11,9),p.addMany(x,9,0,9),p.add(127,9,0,9),p.addMany(b(28,32),9,0,9),p.addMany(b(32,48),9,9,12),p.addMany(b(48,60),9,8,10),p.addMany([60,61,62,63],9,9,10),p.addMany(x,11,0,11),p.addMany(b(32,128),11,0,11),p.addMany(b(28,32),11,0,11),p.addMany(x,10,0,10),p.add(127,10,0,10),p.addMany(b(28,32),10,0,10),p.addMany(b(48,60),10,8,10),p.addMany([60,61,62,63],10,0,11),p.addMany(b(32,48),10,9,12),p.addMany(x,12,0,12),p.add(127,12,0,12),p.addMany(b(28,32),12,0,12),p.addMany(b(32,48),12,9,12),p.addMany(b(48,64),12,0,11),p.addMany(b(64,127),12,12,13),p.addMany(b(64,127),10,12,13),p.addMany(b(64,127),9,12,13),p.addMany(x,13,13,13),p.addMany(y,13,13,13),p.add(127,13,0,13),p.addMany([27,156,24,26],13,14,0),p.add(_,0,2,0),p.add(_,8,5,8),p.add(_,6,0,6),p.add(_,11,0,11),p.add(_,13,13,13),p}();var g=function(p){function d(b){b===void 0&&(b=n.VT500_TRANSITION_TABLE);var y=p.call(this)||this;return y._transitions=b,y._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},y.initialState=0,y.currentState=y.initialState,y._params=new h.Params,y._params.addParam(0),y._collect=0,y.precedingCodepoint=0,y._printHandlerFb=function(x,w,C){},y._executeHandlerFb=function(x){},y._csiHandlerFb=function(x,w){},y._escHandlerFb=function(x){},y._errorHandlerFb=function(x){return x},y._printHandler=y._printHandlerFb,y._executeHandlers=Object.create(null),y._csiHandlers=Object.create(null),y._escHandlers=Object.create(null),y._oscParser=new v.OscParser,y._dcsParser=new f.DcsParser,y._errorHandler=y._errorHandlerFb,y.registerEscHandler({final:"\\"},function(){return!0}),y}return l(d,p),d.prototype._identifier=function(b,y){y===void 0&&(y=[64,126]);var x=0;if(b.prefix){if(b.prefix.length>1)throw new Error("only one byte as prefix supported");if((x=b.prefix.charCodeAt(0))&&60>x||x>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(b.intermediates){if(b.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(var w=0;w<b.intermediates.length;++w){var C=b.intermediates.charCodeAt(w);if(32>C||C>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");x<<=8,x|=C}}if(b.final.length!==1)throw new Error("final must be a single byte");var S=b.final.charCodeAt(0);if(y[0]>S||S>y[1])throw new Error("final must be in range "+y[0]+" .. "+y[1]);return(x<<=8)|S},d.prototype.identToString=function(b){for(var y=[];b;)y.push(String.fromCharCode(255&b)),b>>=8;return y.reverse().join("")},d.prototype.dispose=function(){this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null),this._oscParser.dispose(),this._dcsParser.dispose()},d.prototype.setPrintHandler=function(b){this._printHandler=b},d.prototype.clearPrintHandler=function(){this._printHandler=this._printHandlerFb},d.prototype.registerEscHandler=function(b,y){var x=this._identifier(b,[48,126]);this._escHandlers[x]===void 0&&(this._escHandlers[x]=[]);var w=this._escHandlers[x];return w.push(y),{dispose:function(){var C=w.indexOf(y);C!==-1&&w.splice(C,1)}}},d.prototype.clearEscHandler=function(b){this._escHandlers[this._identifier(b,[48,126])]&&delete this._escHandlers[this._identifier(b,[48,126])]},d.prototype.setEscHandlerFallback=function(b){this._escHandlerFb=b},d.prototype.setExecuteHandler=function(b,y){this._executeHandlers[b.charCodeAt(0)]=y},d.prototype.clearExecuteHandler=function(b){this._executeHandlers[b.charCodeAt(0)]&&delete this._executeHandlers[b.charCodeAt(0)]},d.prototype.setExecuteHandlerFallback=function(b){this._executeHandlerFb=b},d.prototype.registerCsiHandler=function(b,y){var x=this._identifier(b);this._csiHandlers[x]===void 0&&(this._csiHandlers[x]=[]);var w=this._csiHandlers[x];return w.push(y),{dispose:function(){var C=w.indexOf(y);C!==-1&&w.splice(C,1)}}},d.prototype.clearCsiHandler=function(b){this._csiHandlers[this._identifier(b)]&&delete this._csiHandlers[this._identifier(b)]},d.prototype.setCsiHandlerFallback=function(b){this._csiHandlerFb=b},d.prototype.registerDcsHandler=function(b,y){return this._dcsParser.registerHandler(this._identifier(b),y)},d.prototype.clearDcsHandler=function(b){this._dcsParser.clearHandler(this._identifier(b))},d.prototype.setDcsHandlerFallback=function(b){this._dcsParser.setHandlerFallback(b)},d.prototype.registerOscHandler=function(b,y){return this._oscParser.registerHandler(b,y)},d.prototype.clearOscHandler=function(b){this._oscParser.clearHandler(b)},d.prototype.setOscHandlerFallback=function(b){this._oscParser.setHandlerFallback(b)},d.prototype.setErrorHandler=function(b){this._errorHandler=b},d.prototype.clearErrorHandler=function(){this._errorHandler=this._errorHandlerFb},d.prototype.reset=function(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])},d.prototype._preserveStack=function(b,y,x,w,C){this._parseStack.state=b,this._parseStack.handlers=y,this._parseStack.handlerPos=x,this._parseStack.transition=w,this._parseStack.chunkPos=C},d.prototype.parse=function(b,y,x){var w,C=0,S=0,T=0;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,T=this._parseStack.chunkPos+1;else{if(x===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");var M=this._parseStack.handlers,D=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(x===!1&&D>-1){for(;D>=0&&(w=M[D](this._params))!==!0;D--)if(w instanceof Promise)return this._parseStack.handlerPos=D,w}this._parseStack.handlers=[];break;case 4:if(x===!1&&D>-1){for(;D>=0&&(w=M[D]())!==!0;D--)if(w instanceof Promise)return this._parseStack.handlerPos=D,w}this._parseStack.handlers=[];break;case 6:if(C=b[this._parseStack.chunkPos],w=this._dcsParser.unhook(C!==24&&C!==26,x))return w;C===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(C=b[this._parseStack.chunkPos],w=this._oscParser.end(C!==24&&C!==26,x))return w;C===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,T=this._parseStack.chunkPos+1,this.precedingCodepoint=0,this.currentState=15&this._parseStack.transition}for(var k=T;k<y;++k){switch(C=b[k],(S=this._transitions.table[this.currentState<<8|(C<160?C:_)])>>4){case 2:for(var R=k+1;;++R){if(R>=y||(C=b[R])<32||C>126&&C<_){this._printHandler(b,k,R),k=R-1;break}if(++R>=y||(C=b[R])<32||C>126&&C<_){this._printHandler(b,k,R),k=R-1;break}if(++R>=y||(C=b[R])<32||C>126&&C<_){this._printHandler(b,k,R),k=R-1;break}if(++R>=y||(C=b[R])<32||C>126&&C<_){this._printHandler(b,k,R),k=R-1;break}}break;case 3:this._executeHandlers[C]?this._executeHandlers[C]():this._executeHandlerFb(C),this.precedingCodepoint=0;break;case 0:break;case 1:if(this._errorHandler({position:k,code:C,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:for(var P=(M=this._csiHandlers[this._collect<<8|C])?M.length-1:-1;P>=0&&(w=M[P](this._params))!==!0;P--)if(w instanceof Promise)return this._preserveStack(3,M,P,S,k),w;P<0&&this._csiHandlerFb(this._collect<<8|C,this._params),this.precedingCodepoint=0;break;case 8:do switch(C){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(C-48)}while(++k<y&&(C=b[k])>47&&C<60);k--;break;case 9:this._collect<<=8,this._collect|=C;break;case 10:for(var E=this._escHandlers[this._collect<<8|C],O=E?E.length-1:-1;O>=0&&(w=E[O]())!==!0;O--)if(w instanceof Promise)return this._preserveStack(4,E,O,S,k),w;O<0&&this._escHandlerFb(this._collect<<8|C),this.precedingCodepoint=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|C,this._params);break;case 13:for(var I=k+1;;++I)if(I>=y||(C=b[I])===24||C===26||C===27||C>127&&C<_){this._dcsParser.put(b,k,I),k=I-1;break}break;case 14:if(w=this._dcsParser.unhook(C!==24&&C!==26))return this._preserveStack(6,[],0,S,k),w;C===27&&(S|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0;break;case 4:this._oscParser.start();break;case 5:for(var U=k+1;;U++)if(U>=y||(C=b[U])<32||C>127&&C<_){this._oscParser.put(b,k,U),k=U-1;break}break;case 6:if(w=this._oscParser.end(C!==24&&C!==26))return this._preserveStack(5,[],0,S,k),w;C===27&&(S|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0}this.currentState=15&S}},d}(u.Disposable);n.EscapeSequenceParser=g},6242:(o,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.OscHandler=n.OscParser=void 0;var s=a(5770),l=a(482),u=[],c=function(){function v(){this._state=0,this._active=u,this._id=-1,this._handlers=Object.create(null),this._handlerFb=function(){},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}return v.prototype.registerHandler=function(f,m){this._handlers[f]===void 0&&(this._handlers[f]=[]);var _=this._handlers[f];return _.push(m),{dispose:function(){var g=_.indexOf(m);g!==-1&&_.splice(g,1)}}},v.prototype.clearHandler=function(f){this._handlers[f]&&delete this._handlers[f]},v.prototype.setHandlerFallback=function(f){this._handlerFb=f},v.prototype.dispose=function(){this._handlers=Object.create(null),this._handlerFb=function(){},this._active=u},v.prototype.reset=function(){if(this._state===2)for(var f=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;f>=0;--f)this._active[f].end(!1);this._stack.paused=!1,this._active=u,this._id=-1,this._state=0},v.prototype._start=function(){if(this._active=this._handlers[this._id]||u,this._active.length)for(var f=this._active.length-1;f>=0;f--)this._active[f].start();else this._handlerFb(this._id,"START")},v.prototype._put=function(f,m,_){if(this._active.length)for(var g=this._active.length-1;g>=0;g--)this._active[g].put(f,m,_);else this._handlerFb(this._id,"PUT",(0,l.utf32ToString)(f,m,_))},v.prototype.start=function(){this.reset(),this._state=1},v.prototype.put=function(f,m,_){if(this._state!==3){if(this._state===1)for(;m<_;){var g=f[m++];if(g===59){this._state=2,this._start();break}if(g<48||57<g)return void(this._state=3);this._id===-1&&(this._id=0),this._id=10*this._id+g-48}this._state===2&&_-m>0&&this._put(f,m,_)}},v.prototype.end=function(f,m){if(m===void 0&&(m=!0),this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),this._active.length){var _=!1,g=this._active.length-1,p=!1;if(this._stack.paused&&(g=this._stack.loopPosition-1,_=m,p=this._stack.fallThrough,this._stack.paused=!1),!p&&_===!1){for(;g>=0&&(_=this._active[g].end(f))!==!0;g--)if(_ instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=g,this._stack.fallThrough=!1,_;g--}for(;g>=0;g--)if((_=this._active[g].end(!1))instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=g,this._stack.fallThrough=!0,_}else this._handlerFb(this._id,"END",f);this._active=u,this._id=-1,this._state=0}},v}();n.OscParser=c;var h=function(){function v(f){this._handler=f,this._data="",this._hitLimit=!1}return v.prototype.start=function(){this._data="",this._hitLimit=!1},v.prototype.put=function(f,m,_){this._hitLimit||(this._data+=(0,l.utf32ToString)(f,m,_),this._data.length>s.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))},v.prototype.end=function(f){var m=this,_=!1;if(this._hitLimit)_=!1;else if(f&&(_=this._handler(this._data))instanceof Promise)return _.then(function(g){return m._data="",m._hitLimit=!1,g});return this._data="",this._hitLimit=!1,_},v}();n.OscHandler=h},8742:(o,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Params=void 0;var a=2147483647,s=function(){function l(u,c){if(u===void 0&&(u=32),c===void 0&&(c=32),this.maxLength=u,this.maxSubParamsLength=c,c>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(u),this.length=0,this._subParams=new Int32Array(c),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(u),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}return l.fromArray=function(u){var c=new l;if(!u.length)return c;for(var h=Array.isArray(u[0])?1:0;h<u.length;++h){var v=u[h];if(Array.isArray(v))for(var f=0;f<v.length;++f)c.addSubParam(v[f]);else c.addParam(v)}return c},l.prototype.clone=function(){var u=new l(this.maxLength,this.maxSubParamsLength);return u.params.set(this.params),u.length=this.length,u._subParams.set(this._subParams),u._subParamsLength=this._subParamsLength,u._subParamsIdx.set(this._subParamsIdx),u._rejectDigits=this._rejectDigits,u._rejectSubDigits=this._rejectSubDigits,u._digitIsSub=this._digitIsSub,u},l.prototype.toArray=function(){for(var u=[],c=0;c<this.length;++c){u.push(this.params[c]);var h=this._subParamsIdx[c]>>8,v=255&this._subParamsIdx[c];v-h>0&&u.push(Array.prototype.slice.call(this._subParams,h,v))}return u},l.prototype.reset=function(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1},l.prototype.addParam=function(u){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(u<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=u>a?a:u}},l.prototype.addSubParam=function(u){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(u<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=u>a?a:u,this._subParamsIdx[this.length-1]++}},l.prototype.hasSubParams=function(u){return(255&this._subParamsIdx[u])-(this._subParamsIdx[u]>>8)>0},l.prototype.getSubParams=function(u){var c=this._subParamsIdx[u]>>8,h=255&this._subParamsIdx[u];return h-c>0?this._subParams.subarray(c,h):null},l.prototype.getSubParamsAll=function(){for(var u={},c=0;c<this.length;++c){var h=this._subParamsIdx[c]>>8,v=255&this._subParamsIdx[c];v-h>0&&(u[c]=this._subParams.slice(h,v))}return u},l.prototype.addDigit=function(u){var c;if(!(this._rejectDigits||!(c=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)){var h=this._digitIsSub?this._subParams:this.params,v=h[c-1];h[c-1]=~v?Math.min(10*v+u,a):u}},l}();n.Params=s},5741:(o,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.AddonManager=void 0;var a=function(){function s(){this._addons=[]}return s.prototype.dispose=function(){for(var l=this._addons.length-1;l>=0;l--)this._addons[l].instance.dispose()},s.prototype.loadAddon=function(l,u){var c=this,h={instance:u,dispose:u.dispose,isDisposed:!1};this._addons.push(h),u.dispose=function(){return c._wrappedAddonDispose(h)},u.activate(l)},s.prototype._wrappedAddonDispose=function(l){if(!l.isDisposed){for(var u=-1,c=0;c<this._addons.length;c++)if(this._addons[c]===l){u=c;break}if(u===-1)throw new Error("Could not dispose an addon that has not been loaded");l.isDisposed=!0,l.dispose.apply(l.instance),this._addons.splice(u,1)}},s}();n.AddonManager=a},8771:(o,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.BufferApiView=void 0;var s=a(3785),l=a(511),u=function(){function c(h,v){this._buffer=h,this.type=v}return c.prototype.init=function(h){return this._buffer=h,this},Object.defineProperty(c.prototype,"cursorY",{get:function(){return this._buffer.y},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"cursorX",{get:function(){return this._buffer.x},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"viewportY",{get:function(){return this._buffer.ydisp},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"baseY",{get:function(){return this._buffer.ybase},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"length",{get:function(){return this._buffer.lines.length},enumerable:!1,configurable:!0}),c.prototype.getLine=function(h){var v=this._buffer.lines.get(h);if(v)return new s.BufferLineApiView(v)},c.prototype.getNullCell=function(){return new l.CellData},c}();n.BufferApiView=u},3785:(o,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.BufferLineApiView=void 0;var s=a(511),l=function(){function u(c){this._line=c}return Object.defineProperty(u.prototype,"isWrapped",{get:function(){return this._line.isWrapped},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"length",{get:function(){return this._line.length},enumerable:!1,configurable:!0}),u.prototype.getCell=function(c,h){if(!(c<0||c>=this._line.length))return h?(this._line.loadCell(c,h),h):this._line.loadCell(c,new s.CellData)},u.prototype.translateToString=function(c,h,v){return this._line.translateToString(c,h,v)},u}();n.BufferLineApiView=l},8285:(o,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.BufferNamespaceApi=void 0;var s=a(8771),l=a(8460),u=function(){function c(h){var v=this;this._core=h,this._onBufferChange=new l.EventEmitter,this._normal=new s.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new s.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(function(){return v._onBufferChange.fire(v.active)})}return Object.defineProperty(c.prototype,"onBufferChange",{get:function(){return this._onBufferChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"active",{get:function(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"normal",{get:function(){return this._normal.init(this._core.buffers.normal)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"alternate",{get:function(){return this._alternate.init(this._core.buffers.alt)},enumerable:!1,configurable:!0}),c}();n.BufferNamespaceApi=u},7975:(o,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.ParserApi=void 0;var a=function(){function s(l){this._core=l}return s.prototype.registerCsiHandler=function(l,u){return this._core.registerCsiHandler(l,function(c){return u(c.toArray())})},s.prototype.addCsiHandler=function(l,u){return this.registerCsiHandler(l,u)},s.prototype.registerDcsHandler=function(l,u){return this._core.registerDcsHandler(l,function(c,h){return u(c,h.toArray())})},s.prototype.addDcsHandler=function(l,u){return this.registerDcsHandler(l,u)},s.prototype.registerEscHandler=function(l,u){return this._core.registerEscHandler(l,u)},s.prototype.addEscHandler=function(l,u){return this.registerEscHandler(l,u)},s.prototype.registerOscHandler=function(l,u){return this._core.registerOscHandler(l,u)},s.prototype.addOscHandler=function(l,u){return this.registerOscHandler(l,u)},s}();n.ParserApi=a},7090:(o,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.UnicodeApi=void 0;var a=function(){function s(l){this._core=l}return s.prototype.register=function(l){this._core.unicodeService.register(l)},Object.defineProperty(s.prototype,"versions",{get:function(){return this._core.unicodeService.versions},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"activeVersion",{get:function(){return this._core.unicodeService.activeVersion},set:function(l){this._core.unicodeService.activeVersion=l},enumerable:!1,configurable:!0}),s}();n.UnicodeApi=a},744:function(o,n,a){var s,l=this&&this.__extends||(s=function(g,p){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var y in b)Object.prototype.hasOwnProperty.call(b,y)&&(d[y]=b[y])},s(g,p)},function(g,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");function d(){this.constructor=g}s(g,p),g.prototype=p===null?Object.create(p):(d.prototype=p.prototype,new d)}),u=this&&this.__decorate||function(g,p,d,b){var y,x=arguments.length,w=x<3?p:b===null?b=Object.getOwnPropertyDescriptor(p,d):b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(g,p,d,b);else for(var C=g.length-1;C>=0;C--)(y=g[C])&&(w=(x<3?y(w):x>3?y(p,d,w):y(p,d))||w);return x>3&&w&&Object.defineProperty(p,d,w),w},c=this&&this.__param||function(g,p){return function(d,b){p(d,b,g)}};Object.defineProperty(n,"__esModule",{value:!0}),n.BufferService=n.MINIMUM_ROWS=n.MINIMUM_COLS=void 0;var h=a(2585),v=a(5295),f=a(8460),m=a(844);n.MINIMUM_COLS=2,n.MINIMUM_ROWS=1;var _=function(g){function p(d){var b=g.call(this)||this;return b._optionsService=d,b.isUserScrolling=!1,b._onResize=new f.EventEmitter,b._onScroll=new f.EventEmitter,b.cols=Math.max(d.rawOptions.cols||0,n.MINIMUM_COLS),b.rows=Math.max(d.rawOptions.rows||0,n.MINIMUM_ROWS),b.buffers=new v.BufferSet(d,b),b}return l(p,g),Object.defineProperty(p.prototype,"onResize",{get:function(){return this._onResize.event},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"onScroll",{get:function(){return this._onScroll.event},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"buffer",{get:function(){return this.buffers.active},enumerable:!1,configurable:!0}),p.prototype.dispose=function(){g.prototype.dispose.call(this),this.buffers.dispose()},p.prototype.resize=function(d,b){this.cols=d,this.rows=b,this.buffers.resize(d,b),this.buffers.setupTabStops(this.cols),this._onResize.fire({cols:d,rows:b})},p.prototype.reset=function(){this.buffers.reset(),this.isUserScrolling=!1},p.prototype.scroll=function(d,b){b===void 0&&(b=!1);var y,x=this.buffer;(y=this._cachedBlankLine)&&y.length===this.cols&&y.getFg(0)===d.fg&&y.getBg(0)===d.bg||(y=x.getBlankLine(d,b),this._cachedBlankLine=y),y.isWrapped=b;var w=x.ybase+x.scrollTop,C=x.ybase+x.scrollBottom;if(x.scrollTop===0){var S=x.lines.isFull;C===x.lines.length-1?S?x.lines.recycle().copyFrom(y):x.lines.push(y.clone()):x.lines.splice(C+1,0,y.clone()),S?this.isUserScrolling&&(x.ydisp=Math.max(x.ydisp-1,0)):(x.ybase++,this.isUserScrolling||x.ydisp++)}else{var T=C-w+1;x.lines.shiftElements(w+1,T-1,-1),x.lines.set(C,y.clone())}this.isUserScrolling||(x.ydisp=x.ybase),this._onScroll.fire(x.ydisp)},p.prototype.scrollLines=function(d,b,y){var x=this.buffer;if(d<0){if(x.ydisp===0)return;this.isUserScrolling=!0}else d+x.ydisp>=x.ybase&&(this.isUserScrolling=!1);var w=x.ydisp;x.ydisp=Math.max(Math.min(x.ydisp+d,x.ybase),0),w!==x.ydisp&&(b||this._onScroll.fire(x.ydisp))},p.prototype.scrollPages=function(d){this.scrollLines(d*(this.rows-1))},p.prototype.scrollToTop=function(){this.scrollLines(-this.buffer.ydisp)},p.prototype.scrollToBottom=function(){this.scrollLines(this.buffer.ybase-this.buffer.ydisp)},p.prototype.scrollToLine=function(d){var b=d-this.buffer.ydisp;b!==0&&this.scrollLines(b)},u([c(0,h.IOptionsService)],p)}(m.Disposable);n.BufferService=_},7994:(o,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.CharsetService=void 0;var a=function(){function s(){this.glevel=0,this._charsets=[]}return s.prototype.reset=function(){this.charset=void 0,this._charsets=[],this.glevel=0},s.prototype.setgLevel=function(l){this.glevel=l,this.charset=this._charsets[l]},s.prototype.setgCharset=function(l,u){this._charsets[l]=u,this.glevel===l&&(this.charset=u)},s}();n.CharsetService=a},1753:function(o,n,a){var s=this&&this.__decorate||function(p,d,b,y){var x,w=arguments.length,C=w<3?d:y===null?y=Object.getOwnPropertyDescriptor(d,b):y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(p,d,b,y);else for(var S=p.length-1;S>=0;S--)(x=p[S])&&(C=(w<3?x(C):w>3?x(d,b,C):x(d,b))||C);return w>3&&C&&Object.defineProperty(d,b,C),C},l=this&&this.__param||function(p,d){return function(b,y){d(b,y,p)}},u=this&&this.__values||function(p){var d=typeof Symbol=="function"&&Symbol.iterator,b=d&&p[d],y=0;if(b)return b.call(p);if(p&&typeof p.length=="number")return{next:function(){return p&&y>=p.length&&(p=void 0),{value:p&&p[y++],done:!p}}};throw new TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(n,"__esModule",{value:!0}),n.CoreMouseService=void 0;var c=a(2585),h=a(8460),v={NONE:{events:0,restrict:function(){return!1}},X10:{events:1,restrict:function(p){return p.button!==4&&p.action===1&&(p.ctrl=!1,p.alt=!1,p.shift=!1,!0)}},VT200:{events:19,restrict:function(p){return p.action!==32}},DRAG:{events:23,restrict:function(p){return p.action!==32||p.button!==3}},ANY:{events:31,restrict:function(p){return!0}}};function f(p,d){var b=(p.ctrl?16:0)|(p.shift?4:0)|(p.alt?8:0);return p.button===4?(b|=64,b|=p.action):(b|=3&p.button,4&p.button&&(b|=64),8&p.button&&(b|=128),p.action===32?b|=32:p.action!==0||d||(b|=3)),b}var m=String.fromCharCode,_={DEFAULT:function(p){var d=[f(p,!1)+32,p.col+32,p.row+32];return d[0]>255||d[1]>255||d[2]>255?"":"\x1B[M"+m(d[0])+m(d[1])+m(d[2])},SGR:function(p){var d=p.action===0&&p.button!==4?"m":"M";return"\x1B[<"+f(p,!0)+";"+p.col+";"+p.row+d}},g=function(){function p(d,b){var y,x,w,C;this._bufferService=d,this._coreService=b,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._onProtocolChange=new h.EventEmitter,this._lastEvent=null;try{for(var S=u(Object.keys(v)),T=S.next();!T.done;T=S.next()){var M=T.value;this.addProtocol(M,v[M])}}catch(P){y={error:P}}finally{try{T&&!T.done&&(x=S.return)&&x.call(S)}finally{if(y)throw y.error}}try{for(var D=u(Object.keys(_)),k=D.next();!k.done;k=D.next()){var R=k.value;this.addEncoding(R,_[R])}}catch(P){w={error:P}}finally{try{k&&!k.done&&(C=D.return)&&C.call(D)}finally{if(w)throw w.error}}this.reset()}return p.prototype.addProtocol=function(d,b){this._protocols[d]=b},p.prototype.addEncoding=function(d,b){this._encodings[d]=b},Object.defineProperty(p.prototype,"activeProtocol",{get:function(){return this._activeProtocol},set:function(d){if(!this._protocols[d])throw new Error('unknown protocol "'+d+'"');this._activeProtocol=d,this._onProtocolChange.fire(this._protocols[d].events)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"areMouseEventsActive",{get:function(){return this._protocols[this._activeProtocol].events!==0},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"activeEncoding",{get:function(){return this._activeEncoding},set:function(d){if(!this._encodings[d])throw new Error('unknown encoding "'+d+'"');this._activeEncoding=d},enumerable:!1,configurable:!0}),p.prototype.reset=function(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null},Object.defineProperty(p.prototype,"onProtocolChange",{get:function(){return this._onProtocolChange.event},enumerable:!1,configurable:!0}),p.prototype.triggerMouseEvent=function(d){if(d.col<0||d.col>=this._bufferService.cols||d.row<0||d.row>=this._bufferService.rows||d.button===4&&d.action===32||d.button===3&&d.action!==32||d.button!==4&&(d.action===2||d.action===3)||(d.col++,d.row++,d.action===32&&this._lastEvent&&this._compareEvents(this._lastEvent,d))||!this._protocols[this._activeProtocol].restrict(d))return!1;var b=this._encodings[this._activeEncoding](d);return b&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(b):this._coreService.triggerDataEvent(b,!0)),this._lastEvent=d,!0},p.prototype.explainEvents=function(d){return{down:!!(1&d),up:!!(2&d),drag:!!(4&d),move:!!(8&d),wheel:!!(16&d)}},p.prototype._compareEvents=function(d,b){return d.col===b.col&&d.row===b.row&&d.button===b.button&&d.action===b.action&&d.ctrl===b.ctrl&&d.alt===b.alt&&d.shift===b.shift},s([l(0,c.IBufferService),l(1,c.ICoreService)],p)}();n.CoreMouseService=g},6975:function(o,n,a){var s,l=this&&this.__extends||(s=function(d,b){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,x){y.__proto__=x}||function(y,x){for(var w in x)Object.prototype.hasOwnProperty.call(x,w)&&(y[w]=x[w])},s(d,b)},function(d,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function y(){this.constructor=d}s(d,b),d.prototype=b===null?Object.create(b):(y.prototype=b.prototype,new y)}),u=this&&this.__decorate||function(d,b,y,x){var w,C=arguments.length,S=C<3?b:x===null?x=Object.getOwnPropertyDescriptor(b,y):x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(d,b,y,x);else for(var T=d.length-1;T>=0;T--)(w=d[T])&&(S=(C<3?w(S):C>3?w(b,y,S):w(b,y))||S);return C>3&&S&&Object.defineProperty(b,y,S),S},c=this&&this.__param||function(d,b){return function(y,x){b(y,x,d)}};Object.defineProperty(n,"__esModule",{value:!0}),n.CoreService=void 0;var h=a(2585),v=a(8460),f=a(1439),m=a(844),_=Object.freeze({insertMode:!1}),g=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0}),p=function(d){function b(y,x,w,C){var S=d.call(this)||this;return S._bufferService=x,S._logService=w,S._optionsService=C,S.isCursorInitialized=!1,S.isCursorHidden=!1,S._onData=S.register(new v.EventEmitter),S._onUserInput=S.register(new v.EventEmitter),S._onBinary=S.register(new v.EventEmitter),S._scrollToBottom=y,S.register({dispose:function(){return S._scrollToBottom=void 0}}),S.modes=(0,f.clone)(_),S.decPrivateModes=(0,f.clone)(g),S}return l(b,d),Object.defineProperty(b.prototype,"onData",{get:function(){return this._onData.event},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"onUserInput",{get:function(){return this._onUserInput.event},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"onBinary",{get:function(){return this._onBinary.event},enumerable:!1,configurable:!0}),b.prototype.reset=function(){this.modes=(0,f.clone)(_),this.decPrivateModes=(0,f.clone)(g)},b.prototype.triggerDataEvent=function(y,x){if(x===void 0&&(x=!1),!this._optionsService.rawOptions.disableStdin){var w=this._bufferService.buffer;w.ybase!==w.ydisp&&this._scrollToBottom(),x&&this._onUserInput.fire(),this._logService.debug('sending data "'+y+'"',function(){return y.split("").map(function(C){return C.charCodeAt(0)})}),this._onData.fire(y)}},b.prototype.triggerBinaryEvent=function(y){this._optionsService.rawOptions.disableStdin||(this._logService.debug('sending binary "'+y+'"',function(){return y.split("").map(function(x){return x.charCodeAt(0)})}),this._onBinary.fire(y))},u([c(1,h.IBufferService),c(2,h.ILogService),c(3,h.IOptionsService)],b)}(m.Disposable);n.CoreService=p},9074:function(o,n,a){var s,l=this&&this.__extends||(s=function(p,d){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,y){b.__proto__=y}||function(b,y){for(var x in y)Object.prototype.hasOwnProperty.call(y,x)&&(b[x]=y[x])},s(p,d)},function(p,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");function b(){this.constructor=p}s(p,d),p.prototype=d===null?Object.create(d):(b.prototype=d.prototype,new b)}),u=this&&this.__generator||function(p,d){var b,y,x,w,C={label:0,sent:function(){if(1&x[0])throw x[1];return x[1]},trys:[],ops:[]};return w={next:S(0),throw:S(1),return:S(2)},typeof Symbol=="function"&&(w[Symbol.iterator]=function(){return this}),w;function S(T){return function(M){return function(D){if(b)throw new TypeError("Generator is already executing.");for(;C;)try{if(b=1,y&&(x=2&D[0]?y.return:D[0]?y.throw||((x=y.return)&&x.call(y),0):y.next)&&!(x=x.call(y,D[1])).done)return x;switch(y=0,x&&(D=[2&D[0],x.value]),D[0]){case 0:case 1:x=D;break;case 4:return C.label++,{value:D[1],done:!1};case 5:C.label++,y=D[1],D=[0];continue;case 7:D=C.ops.pop(),C.trys.pop();continue;default:if(!((x=(x=C.trys).length>0&&x[x.length-1])||D[0]!==6&&D[0]!==2)){C=0;continue}if(D[0]===3&&(!x||D[1]>x[0]&&D[1]<x[3])){C.label=D[1];break}if(D[0]===6&&C.label<x[1]){C.label=x[1],x=D;break}if(x&&C.label<x[2]){C.label=x[2],C.ops.push(D);break}x[2]&&C.ops.pop(),C.trys.pop();continue}D=d.call(p,C)}catch(k){D=[6,k],y=0}finally{b=x=0}if(5&D[0])throw D[1];return{value:D[0]?D[1]:void 0,done:!0}}([T,M])}}},c=this&&this.__values||function(p){var d=typeof Symbol=="function"&&Symbol.iterator,b=d&&p[d],y=0;if(b)return b.call(p);if(p&&typeof p.length=="number")return{next:function(){return p&&y>=p.length&&(p=void 0),{value:p&&p[y++],done:!p}}};throw new TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(n,"__esModule",{value:!0}),n.DecorationService=void 0;var h=a(8055),v=a(8460),f=a(844),m=a(6106),_=function(p){function d(){var b=p.call(this)||this;return b._decorations=new m.SortedList(function(y){return y.marker.line}),b._onDecorationRegistered=b.register(new v.EventEmitter),b._onDecorationRemoved=b.register(new v.EventEmitter),b}return l(d,p),Object.defineProperty(d.prototype,"onDecorationRegistered",{get:function(){return this._onDecorationRegistered.event},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"onDecorationRemoved",{get:function(){return this._onDecorationRemoved.event},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"decorations",{get:function(){return this._decorations.values()},enumerable:!1,configurable:!0}),d.prototype.registerDecoration=function(b){var y=this;if(!b.marker.isDisposed){var x=new g(b);if(x){var w=x.marker.onDispose(function(){return x.dispose()});x.onDispose(function(){x&&(y._decorations.delete(x)&&y._onDecorationRemoved.fire(x),w.dispose())}),this._decorations.insert(x),this._onDecorationRegistered.fire(x)}return x}},d.prototype.reset=function(){var b,y;try{for(var x=c(this._decorations.values()),w=x.next();!w.done;w=x.next())w.value.dispose()}catch(C){b={error:C}}finally{try{w&&!w.done&&(y=x.return)&&y.call(x)}finally{if(b)throw b.error}}this._decorations.clear()},d.prototype.getDecorationsAtLine=function(b){return u(this,function(y){return[2,this._decorations.getKeyIterator(b)]})},d.prototype.getDecorationsAtCell=function(b,y,x){var w,C,S,T,M,D,k,R,P,E,O;return u(this,function(I){switch(I.label){case 0:w=0,C=0,I.label=1;case 1:I.trys.push([1,6,7,8]),S=c(this._decorations.getKeyIterator(y)),T=S.next(),I.label=2;case 2:return T.done?[3,5]:(M=T.value,w=(P=M.options.x)!==null&&P!==void 0?P:0,C=w+((E=M.options.width)!==null&&E!==void 0?E:1),!(b>=w&&b<C)||x&&((O=M.options.layer)!==null&&O!==void 0?O:"bottom")!==x?[3,4]:[4,M]);case 3:I.sent(),I.label=4;case 4:return T=S.next(),[3,2];case 5:return[3,8];case 6:return D=I.sent(),k={error:D},[3,8];case 7:try{T&&!T.done&&(R=S.return)&&R.call(S)}finally{if(k)throw k.error}return[7];case 8:return[2]}})},d.prototype.dispose=function(){var b,y;try{for(var x=c(this._decorations.values()),w=x.next();!w.done;w=x.next()){var C=w.value;this._onDecorationRemoved.fire(C)}}catch(S){b={error:S}}finally{try{w&&!w.done&&(y=x.return)&&y.call(x)}finally{if(b)throw b.error}}this.reset()},d}(f.Disposable);n.DecorationService=_;var g=function(p){function d(b){var y=p.call(this)||this;return y.options=b,y.isDisposed=!1,y.onRenderEmitter=y.register(new v.EventEmitter),y.onRender=y.onRenderEmitter.event,y._onDispose=y.register(new v.EventEmitter),y.onDispose=y._onDispose.event,y._cachedBg=null,y._cachedFg=null,y.marker=b.marker,y.options.overviewRulerOptions&&!y.options.overviewRulerOptions.position&&(y.options.overviewRulerOptions.position="full"),y}return l(d,p),Object.defineProperty(d.prototype,"backgroundColorRGB",{get:function(){return this._cachedBg===null&&(this.options.backgroundColor?this._cachedBg=h.css.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"foregroundColorRGB",{get:function(){return this._cachedFg===null&&(this.options.foregroundColor?this._cachedFg=h.css.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg},enumerable:!1,configurable:!0}),d.prototype.dispose=function(){this._isDisposed||(this._isDisposed=!0,this._onDispose.fire(),p.prototype.dispose.call(this))},d}(f.Disposable)},3730:function(o,n,a){var s=this&&this.__decorate||function(h,v,f,m){var _,g=arguments.length,p=g<3?v:m===null?m=Object.getOwnPropertyDescriptor(v,f):m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(h,v,f,m);else for(var d=h.length-1;d>=0;d--)(_=h[d])&&(p=(g<3?_(p):g>3?_(v,f,p):_(v,f))||p);return g>3&&p&&Object.defineProperty(v,f,p),p},l=this&&this.__param||function(h,v){return function(f,m){v(f,m,h)}};Object.defineProperty(n,"__esModule",{value:!0}),n.DirtyRowService=void 0;var u=a(2585),c=function(){function h(v){this._bufferService=v,this.clearRange()}return Object.defineProperty(h.prototype,"start",{get:function(){return this._start},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"end",{get:function(){return this._end},enumerable:!1,configurable:!0}),h.prototype.clearRange=function(){this._start=this._bufferService.buffer.y,this._end=this._bufferService.buffer.y},h.prototype.markDirty=function(v){v<this._start?this._start=v:v>this._end&&(this._end=v)},h.prototype.markRangeDirty=function(v,f){if(v>f){var m=v;v=f,f=m}v<this._start&&(this._start=v),f>this._end&&(this._end=f)},h.prototype.markAllDirty=function(){this.markRangeDirty(0,this._bufferService.rows-1)},s([l(0,u.IBufferService)],h)}();n.DirtyRowService=c},4348:function(o,n,a){var s=this&&this.__values||function(m){var _=typeof Symbol=="function"&&Symbol.iterator,g=_&&m[_],p=0;if(g)return g.call(m);if(m&&typeof m.length=="number")return{next:function(){return m&&p>=m.length&&(m=void 0),{value:m&&m[p++],done:!m}}};throw new TypeError(_?"Object is not iterable.":"Symbol.iterator is not defined.")},l=this&&this.__read||function(m,_){var g=typeof Symbol=="function"&&m[Symbol.iterator];if(!g)return m;var p,d,b=g.call(m),y=[];try{for(;(_===void 0||_-- >0)&&!(p=b.next()).done;)y.push(p.value)}catch(x){d={error:x}}finally{try{p&&!p.done&&(g=b.return)&&g.call(b)}finally{if(d)throw d.error}}return y},u=this&&this.__spreadArray||function(m,_,g){if(g||arguments.length===2)for(var p,d=0,b=_.length;d<b;d++)!p&&d in _||(p||(p=Array.prototype.slice.call(_,0,d)),p[d]=_[d]);return m.concat(p||Array.prototype.slice.call(_))};Object.defineProperty(n,"__esModule",{value:!0}),n.InstantiationService=n.ServiceCollection=void 0;var c=a(2585),h=a(8343),v=function(){function m(){for(var _,g,p=[],d=0;d<arguments.length;d++)p[d]=arguments[d];this._entries=new Map;try{for(var b=s(p),y=b.next();!y.done;y=b.next()){var x=l(y.value,2),w=x[0],C=x[1];this.set(w,C)}}catch(S){_={error:S}}finally{try{y&&!y.done&&(g=b.return)&&g.call(b)}finally{if(_)throw _.error}}}return m.prototype.set=function(_,g){var p=this._entries.get(_);return this._entries.set(_,g),p},m.prototype.forEach=function(_){this._entries.forEach(function(g,p){return _(p,g)})},m.prototype.has=function(_){return this._entries.has(_)},m.prototype.get=function(_){return this._entries.get(_)},m}();n.ServiceCollection=v;var f=function(){function m(){this._services=new v,this._services.set(c.IInstantiationService,this)}return m.prototype.setService=function(_,g){this._services.set(_,g)},m.prototype.getService=function(_){return this._services.get(_)},m.prototype.createInstance=function(_){for(var g,p,d=[],b=1;b<arguments.length;b++)d[b-1]=arguments[b];var y=(0,h.getServiceDependencies)(_).sort(function(D,k){return D.index-k.index}),x=[];try{for(var w=s(y),C=w.next();!C.done;C=w.next()){var S=C.value,T=this._services.get(S.id);if(!T)throw new Error("[createInstance] "+_.name+" depends on UNKNOWN service "+S.id+".");x.push(T)}}catch(D){g={error:D}}finally{try{C&&!C.done&&(p=w.return)&&p.call(w)}finally{if(g)throw g.error}}var M=y.length>0?y[0].index:d.length;if(d.length!==M)throw new Error("[createInstance] First service dependency of "+_.name+" at position "+(M+1)+" conflicts with "+d.length+" static arguments");return new(_.bind.apply(_,u([void 0],l(u(u([],l(d),!1),l(x),!1)),!1)))},m}();n.InstantiationService=f},7866:function(o,n,a){var s=this&&this.__decorate||function(m,_,g,p){var d,b=arguments.length,y=b<3?_:p===null?p=Object.getOwnPropertyDescriptor(_,g):p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(m,_,g,p);else for(var x=m.length-1;x>=0;x--)(d=m[x])&&(y=(b<3?d(y):b>3?d(_,g,y):d(_,g))||y);return b>3&&y&&Object.defineProperty(_,g,y),y},l=this&&this.__param||function(m,_){return function(g,p){_(g,p,m)}},u=this&&this.__read||function(m,_){var g=typeof Symbol=="function"&&m[Symbol.iterator];if(!g)return m;var p,d,b=g.call(m),y=[];try{for(;(_===void 0||_-- >0)&&!(p=b.next()).done;)y.push(p.value)}catch(x){d={error:x}}finally{try{p&&!p.done&&(g=b.return)&&g.call(b)}finally{if(d)throw d.error}}return y},c=this&&this.__spreadArray||function(m,_,g){if(g||arguments.length===2)for(var p,d=0,b=_.length;d<b;d++)!p&&d in _||(p||(p=Array.prototype.slice.call(_,0,d)),p[d]=_[d]);return m.concat(p||Array.prototype.slice.call(_))};Object.defineProperty(n,"__esModule",{value:!0}),n.LogService=void 0;var h=a(2585),v={debug:h.LogLevelEnum.DEBUG,info:h.LogLevelEnum.INFO,warn:h.LogLevelEnum.WARN,error:h.LogLevelEnum.ERROR,off:h.LogLevelEnum.OFF},f=function(){function m(_){var g=this;this._optionsService=_,this.logLevel=h.LogLevelEnum.OFF,this._updateLogLevel(),this._optionsService.onOptionChange(function(p){p==="logLevel"&&g._updateLogLevel()})}return m.prototype._updateLogLevel=function(){this.logLevel=v[this._optionsService.rawOptions.logLevel]},m.prototype._evalLazyOptionalParams=function(_){for(var g=0;g<_.length;g++)typeof _[g]=="function"&&(_[g]=_[g]())},m.prototype._log=function(_,g,p){this._evalLazyOptionalParams(p),_.call.apply(_,c([console,"xterm.js: "+g],u(p),!1))},m.prototype.debug=function(_){for(var g=[],p=1;p<arguments.length;p++)g[p-1]=arguments[p];this.logLevel<=h.LogLevelEnum.DEBUG&&this._log(console.log,_,g)},m.prototype.info=function(_){for(var g=[],p=1;p<arguments.length;p++)g[p-1]=arguments[p];this.logLevel<=h.LogLevelEnum.INFO&&this._log(console.info,_,g)},m.prototype.warn=function(_){for(var g=[],p=1;p<arguments.length;p++)g[p-1]=arguments[p];this.logLevel<=h.LogLevelEnum.WARN&&this._log(console.warn,_,g)},m.prototype.error=function(_){for(var g=[],p=1;p<arguments.length;p++)g[p-1]=arguments[p];this.logLevel<=h.LogLevelEnum.ERROR&&this._log(console.error,_,g)},s([l(0,h.IOptionsService)],m)}();n.LogService=f},7302:function(o,n,a){var s=this&&this.__assign||function(){return s=Object.assign||function(v){for(var f,m=1,_=arguments.length;m<_;m++)for(var g in f=arguments[m])Object.prototype.hasOwnProperty.call(f,g)&&(v[g]=f[g]);return v},s.apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0}),n.OptionsService=n.DEFAULT_OPTIONS=n.DEFAULT_BELL_SOUND=void 0;var l=a(8460),u=a(6114);n.DEFAULT_BELL_SOUND="data:audio/mp3;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4LjMyLjEwNAAAAAAAAAAAAAAA//tQxAADB8AhSmxhIIEVCSiJrDCQBTcu3UrAIwUdkRgQbFAZC1CQEwTJ9mjRvBA4UOLD8nKVOWfh+UlK3z/177OXrfOdKl7pyn3Xf//WreyTRUoAWgBgkOAGbZHBgG1OF6zM82DWbZaUmMBptgQhGjsyYqc9ae9XFz280948NMBWInljyzsNRFLPWdnZGWrddDsjK1unuSrVN9jJsK8KuQtQCtMBjCEtImISdNKJOopIpBFpNSMbIHCSRpRR5iakjTiyzLhchUUBwCgyKiweBv/7UsQbg8isVNoMPMjAAAA0gAAABEVFGmgqK////9bP/6XCykxBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq",n.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,customGlyphs:!0,bellSound:n.DEFAULT_BELL_SOUND,bellStyle:"none",drawBoldTextInBrightColors:!0,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",lineHeight:1,linkTooltipHoverDuration:500,letterSpacing:0,logLevel:"info",scrollback:1e3,scrollSensitivity:1,screenReaderMode:!1,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!0,allowTransparency:!1,tabStopWidth:8,theme:{},rightClickSelectsWord:u.isMac,rendererType:"canvas",windowOptions:{},windowsMode:!1,wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:void 0};var c=["normal","bold","100","200","300","400","500","600","700","800","900"],h=function(){function v(f){this._onOptionChange=new l.EventEmitter;var m=s({},n.DEFAULT_OPTIONS);for(var _ in f)if(_ in m)try{var g=f[_];m[_]=this._sanitizeAndValidateOption(_,g)}catch(p){console.error(p)}this.rawOptions=m,this.options=s({},m),this._setupOptions()}return Object.defineProperty(v.prototype,"onOptionChange",{get:function(){return this._onOptionChange.event},enumerable:!1,configurable:!0}),v.prototype._setupOptions=function(){var f=this,m=function(d){if(!(d in n.DEFAULT_OPTIONS))throw new Error('No option with key "'+d+'"');return f.rawOptions[d]},_=function(d,b){if(!(d in n.DEFAULT_OPTIONS))throw new Error('No option with key "'+d+'"');b=f._sanitizeAndValidateOption(d,b),f.rawOptions[d]!==b&&(f.rawOptions[d]=b,f._onOptionChange.fire(d))};for(var g in this.rawOptions){var p={get:m.bind(this,g),set:_.bind(this,g)};Object.defineProperty(this.options,g,p)}},v.prototype.setOption=function(f,m){this.options[f]=m},v.prototype._sanitizeAndValidateOption=function(f,m){switch(f){case"bellStyle":case"cursorStyle":case"rendererType":case"wordSeparator":m||(m=n.DEFAULT_OPTIONS[f]);break;case"fontWeight":case"fontWeightBold":if(typeof m=="number"&&1<=m&&m<=1e3)break;m=c.includes(m)?m:n.DEFAULT_OPTIONS[f];break;case"cursorWidth":m=Math.floor(m);case"lineHeight":case"tabStopWidth":if(m<1)throw new Error(f+" cannot be less than 1, value: "+m);break;case"minimumContrastRatio":m=Math.max(1,Math.min(21,Math.round(10*m)/10));break;case"scrollback":if((m=Math.min(m,4294967295))<0)throw new Error(f+" cannot be less than 0, value: "+m);break;case"fastScrollSensitivity":case"scrollSensitivity":if(m<=0)throw new Error(f+" cannot be less than or equal to 0, value: "+m);case"rows":case"cols":if(!m&&m!==0)throw new Error(f+" must be numeric, value: "+m)}return m},v.prototype.getOption=function(f){return this.options[f]},v}();n.OptionsService=h},8343:(o,n)=>{function a(s,l,u){l.di$target===l?l.di$dependencies.push({id:s,index:u}):(l.di$dependencies=[{id:s,index:u}],l.di$target=l)}Object.defineProperty(n,"__esModule",{value:!0}),n.createDecorator=n.getServiceDependencies=n.serviceRegistry=void 0,n.serviceRegistry=new Map,n.getServiceDependencies=function(s){return s.di$dependencies||[]},n.createDecorator=function(s){if(n.serviceRegistry.has(s))return n.serviceRegistry.get(s);var l=function(u,c,h){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");a(l,u,h)};return l.toString=function(){return s},n.serviceRegistry.set(s,l),l}},2585:(o,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.IDecorationService=n.IUnicodeService=n.IOptionsService=n.ILogService=n.LogLevelEnum=n.IInstantiationService=n.IDirtyRowService=n.ICharsetService=n.ICoreService=n.ICoreMouseService=n.IBufferService=void 0;var s,l=a(8343);n.IBufferService=(0,l.createDecorator)("BufferService"),n.ICoreMouseService=(0,l.createDecorator)("CoreMouseService"),n.ICoreService=(0,l.createDecorator)("CoreService"),n.ICharsetService=(0,l.createDecorator)("CharsetService"),n.IDirtyRowService=(0,l.createDecorator)("DirtyRowService"),n.IInstantiationService=(0,l.createDecorator)("InstantiationService"),(s=n.LogLevelEnum||(n.LogLevelEnum={}))[s.DEBUG=0]="DEBUG",s[s.INFO=1]="INFO",s[s.WARN=2]="WARN",s[s.ERROR=3]="ERROR",s[s.OFF=4]="OFF",n.ILogService=(0,l.createDecorator)("LogService"),n.IOptionsService=(0,l.createDecorator)("OptionsService"),n.IUnicodeService=(0,l.createDecorator)("UnicodeService"),n.IDecorationService=(0,l.createDecorator)("DecorationService")},1480:(o,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.UnicodeService=void 0;var s=a(8460),l=a(225),u=function(){function c(){this._providers=Object.create(null),this._active="",this._onChange=new s.EventEmitter;var h=new l.UnicodeV6;this.register(h),this._active=h.version,this._activeProvider=h}return Object.defineProperty(c.prototype,"onChange",{get:function(){return this._onChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"versions",{get:function(){return Object.keys(this._providers)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"activeVersion",{get:function(){return this._active},set:function(h){if(!this._providers[h])throw new Error('unknown Unicode version "'+h+'"');this._active=h,this._activeProvider=this._providers[h],this._onChange.fire(h)},enumerable:!1,configurable:!0}),c.prototype.register=function(h){this._providers[h.version]=h},c.prototype.wcwidth=function(h){return this._activeProvider.wcwidth(h)},c.prototype.getStringCellWidth=function(h){for(var v=0,f=h.length,m=0;m<f;++m){var _=h.charCodeAt(m);if(55296<=_&&_<=56319){if(++m>=f)return v+this.wcwidth(_);var g=h.charCodeAt(m);56320<=g&&g<=57343?_=1024*(_-55296)+g-56320+65536:v+=this.wcwidth(g)}v+=this.wcwidth(_)}return v},c}();n.UnicodeService=u}},i={};return function o(n){var a=i[n];if(a!==void 0)return a.exports;var s=i[n]={exports:{}};return r[n].call(s.exports,s,s.exports,o),s.exports}(4389)})()})})(yk);var rF=yk.exports,_k={exports:{}};(function(e,t){(function(r,i){e.exports=i()})(self,function(){return(()=>{var r={775:(o,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.FitAddon=void 0;var a=function(){function s(){}return s.prototype.activate=function(l){this._terminal=l},s.prototype.dispose=function(){},s.prototype.fit=function(){var l=this.proposeDimensions();if(l&&this._terminal){var u=this._terminal._core;this._terminal.rows===l.rows&&this._terminal.cols===l.cols||(u._renderService.clear(),this._terminal.resize(l.cols,l.rows))}},s.prototype.proposeDimensions=function(){if(this._terminal&&this._terminal.element&&this._terminal.element.parentElement){var l=this._terminal._core;if(l._renderService.dimensions.actualCellWidth!==0&&l._renderService.dimensions.actualCellHeight!==0){var u=window.getComputedStyle(this._terminal.element.parentElement),c=parseInt(u.getPropertyValue("height")),h=Math.max(0,parseInt(u.getPropertyValue("width"))),v=window.getComputedStyle(this._terminal.element),f=c-(parseInt(v.getPropertyValue("padding-top"))+parseInt(v.getPropertyValue("padding-bottom"))),m=h-(parseInt(v.getPropertyValue("padding-right"))+parseInt(v.getPropertyValue("padding-left")))-l.viewport.scrollBarWidth;return{cols:Math.max(2,Math.floor(m/l._renderService.dimensions.actualCellWidth)),rows:Math.max(1,Math.floor(f/l._renderService.dimensions.actualCellHeight))}}}},s}();n.FitAddon=a}},i={};return function o(n){if(i[n])return i[n].exports;var a=i[n]={exports:{}};return r[n](a,a.exports,o),a.exports}(775)})()})})(_k);var nF=_k.exports;const bk={write:e=>{if(e[0]==="--help")return new Promise(i=>{i(["WRITE:","This command adds a write request to the queue for batch execution","NOTE: When accessing single fields the whole register gets written anyway","the default value for non accessed fields is 0","format: write [REGISTER/FIELD] [VALUE]"])});let t=e[0],r=e[1];return o0(t,r),new Promise(i=>{i([])})},write_direct:e=>{if(e[0]==="--help")return new Promise(o=>{o(["WRITE DIRECT:","This command immediately writes to the specified register","NOTE: This command can only write full registers","format: write_direct [REGISTER] [VALUE]"])});let t=e[0],r=e[1];o0(t,r);let i=Zd(Fa,lo);return Fa.length=0,Qn.bulk_register_write({payload:i}).then(),new Promise(o=>{o([])})},clear_queue:e=>e[0]==="--help"?new Promise(t=>{t(["CLEAR QUEUE:","This command clears the write command queue","format: clear_queue"])}):(Fa.length=0,new Promise(t=>{t([])})),execute_queue:e=>{if(e[0]==="--help")return new Promise(r=>{r(["EXECUTE QUEUE:","This command executes the write command queue","format: execute_queue"])});let t=Zd(Fa,lo);return Fa.length=0,Qn.bulk_register_write({payload:t}).then(),new Promise(r=>{r([])})},read:e=>{if(e[0]==="--help")return new Promise(r=>{r(["READ:","This command reads the value of the specified register","format: read [REGISTER]"])});o0(e[0],"0");let t=Zd(Fa,lo);return Fa.length=0,Qn.direct_register_read(t[0].address).then(r=>[r.response])},load_program:e=>{if(e[0]==="--help")return new Promise(a=>{a(["LOAD CORE:","This command reads the value of the specified register","format: load_program [PROGRAM ID] [CORE ID]"])});let t=Yr.getState(),r=parseInt(e[0]),i=t.programs[r];if(i===void 0)return new Promise((a,s)=>{s(["ERROR: Specified program not found"])});i=new Qo(t.programs[r]);let o=t.applications[t.settings.application],n=o.soft_cores.filter(a=>a.id===e[1]);return n.length===0?new Promise((a,s)=>{s(["ERROR: Core not found"])}):n.length>1?new Promise((a,s)=>{s(["ERROR: Found multiple cores with the same id"])}):i.load(n[0].id,o.application_name).then(a=>[a.response])}},o0=(e,t)=>{let r=e.split(".");r.length===2&&r.push("value");let i=lo[r[0]].regs[r[1]];i[r[2]]=parseInt(t)},eo={black:"\x1B[30m",red:"\x1B[31m",green:"\x1B[32m",yellow:"\x1B[33m",blue:"\x1B[34m",magenta:"\x1B[35m",cyan:"\x1B[36m",white:"\x1B[37m",brightBlack:"\x1B[1;30m",brightRed:"\x1B[1;31m",brightGreen:"\x1B[1;32m",brightYellow:"\x1B[1;33m",brightBlue:"\x1B[1;34m",brightMagenta:"\x1B[1;35m",brightCyan:"\x1B[1;36m",brightWhite:"\x1B[1;37m"},Wg=Object.keys(bk);let ii="",ri=null;const r3=new nF.FitAddon,iF=()=>(ri=new rF.Terminal({convertEol:!0,fontFamily:"'Fira Mono', monospace",fontSize:15,fontWeight:900}),ri.options.theme={background:"black",foreground:"white"},ri.loadAddon(r3),ri.open(document.getElementById("xterm")),r3.fit(),ri.onData(e=>{hF(e)}),mu(),ri),aF=e=>{if(!e[0]||e.length===1)return e[0]||"";let t=0;for(;e[0][t]&&e.every(r=>r[t]===e[0][t]);)t++;return e[0].substring(0,t)},oF=()=>{let e=Wg.includes(ii),t=Wg.filter(r=>r.startsWith(ii));t.length===1?(mu(),ii=t[0],ri.write(t[0])):t.length>1&&(e||(ii=aF(t)),ri.write(`\r
`+eo.blue+t.join("   ")+eo.white),mu(),ri.write(ii))},sF=()=>{let e=ii.split(" ");switch(e[0]){case"write":case"write_direct":case"read":let t={from:0,to:1,text:"this."+e[1]},i=VN(t,!0).map(o=>o.label);if(i.length===1){let o=e[1].split(".").pop(),n=i[0].replace(o,"");ii=ii+n,ri.write(n)}else{for(let o=0;o<i.length;o+=5)ri.write(`\r
`+eo.blue+i.slice(o,o+5).join("         ")+eo.white);mu(),ri.write(ii)}break}},lF=()=>{switch(ii.split(" ").length-1){case 0:oF();break;case 1:sF();break}},uF=e=>{let t=e.split(" "),r=t.shift();return Wg.includes(r)?bk[r](t).then(i=>{for(const o of i)ri.write(`\r
`+eo.green+o+eo.white)}).catch(i=>{for(const o of i)ri.write(`\r
`+eo.brightRed+o+eo.white)}):(ri.write(`\r
`+eo.brightRed+"Unrecognized command: "+r+eo.white),new Promise(i=>{i([])}))},cF=()=>ii.length>0?uF(ii).then(()=>{ii="",mu()}):new Promise(e=>{mu(),e()}),fF=()=>{ii.length!==0&&(ri.write("\b \b"),ii=ii.slice(0,-1))},dF=e=>{ii=ii+e,ri.write(e)},hF=e=>{if(e==="\r")return cF();e===""?fF():e==="	"?lF():dF(e)},mu=()=>{let e="$ ";ri.write(`\r
`+e)},pF=e=>new Promise((t,r)=>{Rr("auth/login",e).then(i=>{t(i)}).catch(i=>{alert("login failed"),r(i)})}),vF=e=>Rr(yr.platform.users.add,e),mF=e=>lv(yr.platform.users.delete,e),gF=()=>ni(yr.platform.users.need_onboarding),yF=e=>Rr(yr.platform.users.do_onboarding,e),_F=()=>ni(yr.platform.users.get_list),bF=()=>ni(yr.platform.db.dump),wF=e=>Rr(yr.platform.db.restore,e),xF=(e,t,r)=>i=>Du.post(e,t,r).then(o=>{i(SF(t))}).catch(o=>{alert(`ERROR: error while setting a channel status
`+o.message)}),SF=e=>({type:MA,payload:{channel:e,enabled:!0}}),CF=()=>({type:EA,payload:{value:!0}}),wk=e=>({type:RA,payload:e}),TF=()=>({type:LA,payload:{value:!1}}),AF=()=>({type:DA,payload:{value:!1}}),kF=(e,t)=>r=>Du.get(e,t).then(i=>{r(MF(i.data))}).catch(i=>{alert(`ERROR: error while fetching channel data
`+i.message)}),MF=e=>({type:PA,payload:e}),EF=()=>mk(kF,yr.plot.fetch_data),Vg=e=>mk(xF,yr.plot.set_channel_status,e),xk=e=>new Promise((t,r)=>{Rr(yr.plot.set_widths,{widths:e}).then(i=>{t(i)}).catch(i=>{alert(`ERROR: error while setting up channel widths
`+i.message),r(i)})}),Sk=e=>new Promise((t,r)=>{Rr(yr.plot.scaling_factors,{scaling_factors:e}).then(i=>{t(i)}).catch(i=>{alert(`ERROR: error while setting up channel scaling factors
`+i.message),r(i)})});let Ck=e=>({x:Array.from(Array(1024).keys()),y:Array(1024).fill(0),type:"scatter",mode:"lines",name:e.name,visible:e.enabled,spec:e}),Tk=(e,t)=>{let r=[];for(let i of e.channels){let o=t.filter(n=>n.id===i.value);r.push(o[0])}return r},LF=(e,t)=>{for(let r of t)if(r.spec.id===e)return r.spec.number};class Ri{constructor(t){xr(this,"add_remote",()=>(Yr.dispatch(gd({[this.application_name]:this})),Rr(yr.applications.add,this._get_app())));xr(this,"set_active",()=>ni(yr.applications.set+"/"+this.application_name));xr(this,"add_channel",t=>{let r={name:t,id:t.replace(/\s/g,"_").toLowerCase(),phys_width:16,number:0,mux_setting:0,enabled:!1,max_value:"1000",min_value:"0",scaling_factor:1};this.channels.push(r);let i={application:this.application_name,channel:r,action:"add_channel"};return Rr(yr.applications.edit,i)});xr(this,"add_channel_group",t=>{let r={group_name:t,group_id:t.replace(/\s/g,"_").toLowerCase(),channels:[],default:!1};this.channel_groups.push(r);let i={application:this.application_name,group:r,action:"add_channel_group"};return Rr(yr.applications.edit,i)});xr(this,"add_irv",t=>{let r={address:t,value:"0"};this.initial_registers_values.push(r);let i={application:this.application_name,irv:r,action:"add_irv"};return Rr(yr.applications.edit,i)});xr(this,"add_macro",t=>{let r={name:t,trigger:""};this.macro.push(r);let i={application:this.application_name,macro:r,action:"add_macro"};return Rr(yr.applications.edit,i)});xr(this,"add_parameter",t=>{let r={parameter_name:t,parameter_id:t.replace(/\s/g,"_").toLowerCase(),trigger:"",value:"0",visible:!1};this.parameters.push(r);let i={application:this.application_name,parameter:r,action:"add_parameter"};return Rr(yr.applications.edit,i)});xr(this,"add_peripheral",t=>{let r={name:t,peripheral_id:t.replace(/\s/g,"_").toLowerCase(),base_address:"0",proxied:!1,proxy_address:"0",type:"Registers",spec_id:""},i={application:this.application_name,peripheral:r,action:"add_peripheral"};return this.peripherals.push(r),Rr(yr.applications.edit,i)});xr(this,"add_soft_core",t=>{let r={id:t,address:0,default_program:"",io:[]},i={application:this.application_name,soft_core:r,action:"add_soft_core"};return this.soft_cores.push(r),Rr(yr.applications.edit,i)});xr(this,"set_misc_param",t=>{let r={application:this.application_name,field:{name:t,value:"0"},action:"add_misc"};return this[t]=0,Yr.dispatch(gd({[this.application_name]:this})),Rr(yr.applications.edit,r)});xr(this,"edit_channel",(t,r,i)=>{let[o]=this.channels.filter(a=>a.name===t);o[r]=i;let n={application:this.application_name,channel:t,field:r,value:i,action:"edit_channel"};return Rr(yr.applications.edit,n)});xr(this,"edit_channel_group",(t,r,i)=>{let[o]=this.channel_groups.filter(a=>a.group_name===t);o[r]=i;let n={application:this.application_name,group:t,field:r,value:i,action:"edit_channel_group"};return Rr(yr.applications.edit,n)});xr(this,"edit_irv",(t,r,i)=>{let[o]=this.initial_registers_values.filter(a=>a.address===t);o[r]=i;let n={application:this.application_name,address:t,field:r,value:i,action:"edit_irv"};return Rr(yr.applications.edit,n)});xr(this,"edit_macro",(t,r,i)=>{let[o]=this.macro.filter(a=>a.name===t);o[r]=i;let n={application:this.application_name,name:t,field:r,value:i,action:"edit_macro"};return Rr(yr.applications.edit,n)});xr(this,"edit_parameters",(t,r,i)=>{let[o]=this.parameters.filter(a=>a.parameter_id===t);o[r]=i;let n={application:this.application_name,parameter:t,field:r,value:i,action:"edit_parameter"};return Rr(yr.applications.edit,n)});xr(this,"edit_peripheral",(t,r,i)=>{let[o]=this.peripherals.filter(a=>a.name===t);o[r]=i;let n={application:this.application_name,peripheral:t,field:r,value:i,action:"edit_peripheral"};return Rr(yr.applications.edit,n)});xr(this,"edit_misc_param",(t,r,i)=>{let o={};return i?(o={application:this.application_name,field:{old_name:t,name:r},action:"edit_misc"},this[r]=this[t],delete this[t]):(o={application:this.application_name,field:{old_name:null,name:t,value:r},action:"edit_misc"},this[t]=r),Yr.dispatch(gd({[this.application_name]:this})),Rr(yr.applications.edit,o)});xr(this,"edit_soft_core",(t,r,i)=>{let[o]=this.soft_cores.filter(a=>a.id===t);o[r]=i;let n={application:this.application_name,core:t,field:r,value:i,action:"edit_soft_core"};return Rr(yr.applications.edit,n)});xr(this,"remove_channel",t=>{let r=this.channels.findIndex(o=>o.id===t);this.channels.splice(r,1);let i={application:this.application_name,channel:t,action:"remove_channel"};return Rr(yr.applications.edit,i)});xr(this,"remove_channel_groups",t=>{let r=this.channel_groups.findIndex(o=>o.group_id===t);this.channel_groups.splice(r,1);let i={application:this.application_name,group:t,action:"remove_channel_group"};return Rr(yr.applications.edit,i)});xr(this,"remove_irv",t=>{let r=this.initial_registers_values.filter(o=>o.address===t);this.initial_registers_values.splice(r,1);let i={application:this.application_name,address:t,action:"remove_irv"};return Rr(yr.applications.edit,i)});xr(this,"remove_macro",t=>{let r=this.macro.filter(o=>o.name===t);this.macro.splice(r,1);let i={application:this.application_name,name:t,action:"remove_macro"};return Rr(yr.applications.edit,i)});xr(this,"remove_parameter",t=>{let r=this.parameters.filter(o=>o.parameter_id===t);this.parameters.splice(r,1);let i={application:this.application_name,parameter:t,action:"remove_parameter"};return Rr(yr.applications.edit,i)});xr(this,"remove_peripheral",t=>{let r=this.peripherals.filter(o=>o.peripheral_id===t);this.peripherals.splice(r,1);let i={application:this.application_name,peripheral:t,action:"remove_peripheral"};return Rr(yr.applications.edit,i)});xr(this,"remove_soft_core",t=>{let r=this.soft_cores.filter(o=>o.id===t);this.soft_cores.splice(r,1);let i={application:this.application_name,core:t,action:"remove_soft_core"};return Rr(yr.applications.edit,i)});xr(this,"remove_misc_field",t=>{delete this[t];let r={application:this.application_name,field:{name:t},action:"remove_misc"};return Yr.dispatch(gd({[this.application_name]:this})),Rr(yr.applications.edit,r)});xr(this,"_get_app",()=>{let t=Ri._get_nonstandard_fields(this),r={[this.application_name]:{application_name:this.application_name,bitstream:this.bitstream,channels:this.channels,channel_groups:this.channel_groups,clock_frequency:this.clock_frequency,initial_registers_values:this.initial_registers_values,macro:this.macro,n_enables:this.n_enables,parameters:this.parameters,peripherals:this.peripherals,timebase_address:this.timebase_address,soft_cores:this.soft_cores}};for(const i of t)r[this.application_name][i]=this[i];return r});if(!t)return;this.application_name=t.application_name,this.bitstream=t.bitstream,this.channels=t.channels,this.channel_groups=t.channel_groups,this.clock_frequency=t.clock_frequency,this.initial_registers_values=t.initial_registers_values,this.macro=t.macro,this.n_enables=t.n_enables,this.parameters=t.parameters,this.peripherals=t.peripherals,this.timebase_address=t.timebase_address,this.soft_cores=t.soft_cores;let r=Ri._get_nonstandard_fields(t);for(let i of r)this[i]=t[i]}static construct_empty(t){let r={application_name:t,bitstream:"",channels:[],channel_groups:[],clock_frequency:1e8,initial_registers_values:[],macro:[],n_enables:0,parameters:[],peripherals:[],timebase_address:"",soft_cores:[]};return new Ri(r)}static delete_application(t){return ni(yr.applications.remove+"/"+t).then(()=>{Yr.dispatch(DI(t))})}static _get_nonstandard_fields(t){return Object.keys(t).filter(r=>{let i=typeof t[r]!="function";return!["application_name","bitstream","channels","channel_groups","clock_frequency","initial_registers_values","macro","n_enables","parameters","peripherals","timebase_address"].includes(r)&&i})}}var Gg={exports:{}},Ak={},Wa={},gu={},bf={},Br={},af={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends t{constructor(d){if(super(),!e.IDENTIFIER.test(d))throw new Error("CodeGen: name must be a valid identifier");this.str=d}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=r;class i extends t{constructor(d){super(),this._items=typeof d=="string"?[d]:d}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const d=this._items[0];return d===""||d==='""'}get str(){var d;return(d=this._str)!==null&&d!==void 0?d:this._str=this._items.reduce((b,y)=>`${b}${y}`,"")}get names(){var d;return(d=this._names)!==null&&d!==void 0?d:this._names=this._items.reduce((b,y)=>(y instanceof r&&(b[y.str]=(b[y.str]||0)+1),b),{})}}e._Code=i,e.nil=new i("");function o(p,...d){const b=[p[0]];let y=0;for(;y<d.length;)s(b,d[y]),b.push(p[++y]);return new i(b)}e._=o;const n=new i("+");function a(p,...d){const b=[f(p[0])];let y=0;for(;y<d.length;)b.push(n),s(b,d[y]),b.push(n,f(p[++y]));return l(b),new i(b)}e.str=a;function s(p,d){d instanceof i?p.push(...d._items):d instanceof r?p.push(d):p.push(h(d))}e.addCodeArg=s;function l(p){let d=1;for(;d<p.length-1;){if(p[d]===n){const b=u(p[d-1],p[d+1]);if(b!==void 0){p.splice(d-1,3,b);continue}p[d++]="+"}d++}}function u(p,d){if(d==='""')return p;if(p==='""')return d;if(typeof p=="string")return d instanceof r||p[p.length-1]!=='"'?void 0:typeof d!="string"?`${p.slice(0,-1)}${d}"`:d[0]==='"'?p.slice(0,-1)+d.slice(1):void 0;if(typeof d=="string"&&d[0]==='"'&&!(p instanceof r))return`"${p}${d.slice(1)}`}function c(p,d){return d.emptyStr()?p:p.emptyStr()?d:a`${p}${d}`}e.strConcat=c;function h(p){return typeof p=="number"||typeof p=="boolean"||p===null?p:f(Array.isArray(p)?p.join(","):p)}function v(p){return new i(f(p))}e.stringify=v;function f(p){return JSON.stringify(p).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=f;function m(p){return typeof p=="string"&&e.IDENTIFIER.test(p)?new i(`.${p}`):o`[${p}]`}e.getProperty=m;function _(p){if(typeof p=="string"&&e.IDENTIFIER.test(p))return new i(`${p}`);throw new Error(`CodeGen: invalid export name: ${p}, use explicit $id name mapping`)}e.getEsmExportName=_;function g(p){return new i(p.toString())}e.regexpCode=g})(af);var Yg={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=af;class r extends Error{constructor(u){super(`CodeGen: "code" for ${u} not defined`),this.value=u.value}}var i;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(i=e.UsedValueState||(e.UsedValueState={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class o{constructor({prefixes:u,parent:c}={}){this._names={},this._prefixes=u,this._parent=c}toName(u){return u instanceof t.Name?u:this.name(u)}name(u){return new t.Name(this._newName(u))}_newName(u){const c=this._names[u]||this._nameGroup(u);return`${u}${c.index++}`}_nameGroup(u){var c,h;if(!((h=(c=this._parent)===null||c===void 0?void 0:c._prefixes)===null||h===void 0)&&h.has(u)||this._prefixes&&!this._prefixes.has(u))throw new Error(`CodeGen: prefix "${u}" is not allowed in this scope`);return this._names[u]={prefix:u,index:0}}}e.Scope=o;class n extends t.Name{constructor(u,c){super(c),this.prefix=u}setValue(u,{property:c,itemIndex:h}){this.value=u,this.scopePath=(0,t._)`.${new t.Name(c)}[${h}]`}}e.ValueScopeName=n;const a=(0,t._)`\n`;class s extends o{constructor(u){super(u),this._values={},this._scope=u.scope,this.opts={...u,_n:u.lines?a:t.nil}}get(){return this._scope}name(u){return new n(u,this._newName(u))}value(u,c){var h;if(c.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const v=this.toName(u),{prefix:f}=v,m=(h=c.key)!==null&&h!==void 0?h:c.ref;let _=this._values[f];if(_){const d=_.get(m);if(d)return d}else _=this._values[f]=new Map;_.set(m,v);const g=this._scope[f]||(this._scope[f]=[]),p=g.length;return g[p]=c.ref,v.setValue(c,{property:f,itemIndex:p}),v}getValue(u,c){const h=this._values[u];if(h)return h.get(c)}scopeRefs(u,c=this._values){return this._reduceValues(c,h=>{if(h.scopePath===void 0)throw new Error(`CodeGen: name "${h}" has no value`);return(0,t._)`${u}${h.scopePath}`})}scopeCode(u=this._values,c,h){return this._reduceValues(u,v=>{if(v.value===void 0)throw new Error(`CodeGen: name "${v}" has no value`);return v.value.code},c,h)}_reduceValues(u,c,h={},v){let f=t.nil;for(const m in u){const _=u[m];if(!_)continue;const g=h[m]=h[m]||new Map;_.forEach(p=>{if(g.has(p))return;g.set(p,i.Started);let d=c(p);if(d){const b=this.opts.es5?e.varKinds.var:e.varKinds.const;f=(0,t._)`${f}${b} ${p} = ${d};${this.opts._n}`}else if(d=v==null?void 0:v(p))f=(0,t._)`${f}${d}${this.opts._n}`;else throw new r(p);g.set(p,i.Completed)})}return f}}e.ValueScope=s})(Yg);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=af,r=Yg;var i=af;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return i._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return i.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return i.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return i.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return i.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return i.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return i.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return i.Name}});var o=Yg;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return o.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return o.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return o.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return o.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class n{optimizeNodes(){return this}optimizeNames(W,F){return this}}class a extends n{constructor(W,F,K){super(),this.varKind=W,this.name=F,this.rhs=K}render({es5:W,_n:F}){const K=W?r.varKinds.var:this.varKind,fe=this.rhs===void 0?"":` = ${this.rhs}`;return`${K} ${this.name}${fe};`+F}optimizeNames(W,F){if(W[this.name.str])return this.rhs&&(this.rhs=P(this.rhs,W,F)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class s extends n{constructor(W,F,K){super(),this.lhs=W,this.rhs=F,this.sideEffects=K}render({_n:W}){return`${this.lhs} = ${this.rhs};`+W}optimizeNames(W,F){if(!(this.lhs instanceof t.Name&&!W[this.lhs.str]&&!this.sideEffects))return this.rhs=P(this.rhs,W,F),this}get names(){const W=this.lhs instanceof t.Name?{}:{...this.lhs.names};return R(W,this.rhs)}}class l extends s{constructor(W,F,K,fe){super(W,K,fe),this.op=F}render({_n:W}){return`${this.lhs} ${this.op}= ${this.rhs};`+W}}class u extends n{constructor(W){super(),this.label=W,this.names={}}render({_n:W}){return`${this.label}:`+W}}class c extends n{constructor(W){super(),this.label=W,this.names={}}render({_n:W}){return`break${this.label?` ${this.label}`:""};`+W}}class h extends n{constructor(W){super(),this.error=W}render({_n:W}){return`throw ${this.error};`+W}get names(){return this.error.names}}class v extends n{constructor(W){super(),this.code=W}render({_n:W}){return`${this.code};`+W}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(W,F){return this.code=P(this.code,W,F),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class f extends n{constructor(W=[]){super(),this.nodes=W}render(W){return this.nodes.reduce((F,K)=>F+K.render(W),"")}optimizeNodes(){const{nodes:W}=this;let F=W.length;for(;F--;){const K=W[F].optimizeNodes();Array.isArray(K)?W.splice(F,1,...K):K?W[F]=K:W.splice(F,1)}return W.length>0?this:void 0}optimizeNames(W,F){const{nodes:K}=this;let fe=K.length;for(;fe--;){const se=K[fe];se.optimizeNames(W,F)||(E(W,se.names),K.splice(fe,1))}return K.length>0?this:void 0}get names(){return this.nodes.reduce((W,F)=>k(W,F.names),{})}}class m extends f{render(W){return"{"+W._n+super.render(W)+"}"+W._n}}class _ extends f{}class g extends m{}g.kind="else";class p extends m{constructor(W,F){super(F),this.condition=W}render(W){let F=`if(${this.condition})`+super.render(W);return this.else&&(F+="else "+this.else.render(W)),F}optimizeNodes(){super.optimizeNodes();const W=this.condition;if(W===!0)return this.nodes;let F=this.else;if(F){const K=F.optimizeNodes();F=this.else=Array.isArray(K)?new g(K):K}if(F)return W===!1?F instanceof p?F:F.nodes:this.nodes.length?this:new p(O(W),F instanceof p?[F]:F.nodes);if(!(W===!1||!this.nodes.length))return this}optimizeNames(W,F){var K;if(this.else=(K=this.else)===null||K===void 0?void 0:K.optimizeNames(W,F),!!(super.optimizeNames(W,F)||this.else))return this.condition=P(this.condition,W,F),this}get names(){const W=super.names;return R(W,this.condition),this.else&&k(W,this.else.names),W}}p.kind="if";class d extends m{}d.kind="for";class b extends d{constructor(W){super(),this.iteration=W}render(W){return`for(${this.iteration})`+super.render(W)}optimizeNames(W,F){if(super.optimizeNames(W,F))return this.iteration=P(this.iteration,W,F),this}get names(){return k(super.names,this.iteration.names)}}class y extends d{constructor(W,F,K,fe){super(),this.varKind=W,this.name=F,this.from=K,this.to=fe}render(W){const F=W.es5?r.varKinds.var:this.varKind,{name:K,from:fe,to:se}=this;return`for(${F} ${K}=${fe}; ${K}<${se}; ${K}++)`+super.render(W)}get names(){const W=R(super.names,this.from);return R(W,this.to)}}class x extends d{constructor(W,F,K,fe){super(),this.loop=W,this.varKind=F,this.name=K,this.iterable=fe}render(W){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(W)}optimizeNames(W,F){if(super.optimizeNames(W,F))return this.iterable=P(this.iterable,W,F),this}get names(){return k(super.names,this.iterable.names)}}class w extends m{constructor(W,F,K){super(),this.name=W,this.args=F,this.async=K}render(W){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(W)}}w.kind="func";class C extends f{render(W){return"return "+super.render(W)}}C.kind="return";class S extends m{render(W){let F="try"+super.render(W);return this.catch&&(F+=this.catch.render(W)),this.finally&&(F+=this.finally.render(W)),F}optimizeNodes(){var W,F;return super.optimizeNodes(),(W=this.catch)===null||W===void 0||W.optimizeNodes(),(F=this.finally)===null||F===void 0||F.optimizeNodes(),this}optimizeNames(W,F){var K,fe;return super.optimizeNames(W,F),(K=this.catch)===null||K===void 0||K.optimizeNames(W,F),(fe=this.finally)===null||fe===void 0||fe.optimizeNames(W,F),this}get names(){const W=super.names;return this.catch&&k(W,this.catch.names),this.finally&&k(W,this.finally.names),W}}class T extends m{constructor(W){super(),this.error=W}render(W){return`catch(${this.error})`+super.render(W)}}T.kind="catch";class M extends m{render(W){return"finally"+super.render(W)}}M.kind="finally";class D{constructor(W,F={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...F,_n:F.lines?`
`:""},this._extScope=W,this._scope=new r.Scope({parent:W}),this._nodes=[new _]}toString(){return this._root.render(this.opts)}name(W){return this._scope.name(W)}scopeName(W){return this._extScope.name(W)}scopeValue(W,F){const K=this._extScope.value(W,F);return(this._values[K.prefix]||(this._values[K.prefix]=new Set)).add(K),K}getScopeValue(W,F){return this._extScope.getValue(W,F)}scopeRefs(W){return this._extScope.scopeRefs(W,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(W,F,K,fe){const se=this._scope.toName(F);return K!==void 0&&fe&&(this._constants[se.str]=K),this._leafNode(new a(W,se,K)),se}const(W,F,K){return this._def(r.varKinds.const,W,F,K)}let(W,F,K){return this._def(r.varKinds.let,W,F,K)}var(W,F,K){return this._def(r.varKinds.var,W,F,K)}assign(W,F,K){return this._leafNode(new s(W,F,K))}add(W,F){return this._leafNode(new l(W,e.operators.ADD,F))}code(W){return typeof W=="function"?W():W!==t.nil&&this._leafNode(new v(W)),this}object(...W){const F=["{"];for(const[K,fe]of W)F.length>1&&F.push(","),F.push(K),(K!==fe||this.opts.es5)&&(F.push(":"),(0,t.addCodeArg)(F,fe));return F.push("}"),new t._Code(F)}if(W,F,K){if(this._blockNode(new p(W)),F&&K)this.code(F).else().code(K).endIf();else if(F)this.code(F).endIf();else if(K)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(W){return this._elseNode(new p(W))}else(){return this._elseNode(new g)}endIf(){return this._endBlockNode(p,g)}_for(W,F){return this._blockNode(W),F&&this.code(F).endFor(),this}for(W,F){return this._for(new b(W),F)}forRange(W,F,K,fe,se=this.opts.es5?r.varKinds.var:r.varKinds.let){const ee=this._scope.toName(W);return this._for(new y(se,ee,F,K),()=>fe(ee))}forOf(W,F,K,fe=r.varKinds.const){const se=this._scope.toName(W);if(this.opts.es5){const ee=F instanceof t.Name?F:this.var("_arr",F);return this.forRange("_i",0,(0,t._)`${ee}.length`,ie=>{this.var(se,(0,t._)`${ee}[${ie}]`),K(se)})}return this._for(new x("of",fe,se,F),()=>K(se))}forIn(W,F,K,fe=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(W,(0,t._)`Object.keys(${F})`,K);const se=this._scope.toName(W);return this._for(new x("in",fe,se,F),()=>K(se))}endFor(){return this._endBlockNode(d)}label(W){return this._leafNode(new u(W))}break(W){return this._leafNode(new c(W))}return(W){const F=new C;if(this._blockNode(F),this.code(W),F.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(C)}try(W,F,K){if(!F&&!K)throw new Error('CodeGen: "try" without "catch" and "finally"');const fe=new S;if(this._blockNode(fe),this.code(W),F){const se=this.name("e");this._currNode=fe.catch=new T(se),F(se)}return K&&(this._currNode=fe.finally=new M,this.code(K)),this._endBlockNode(T,M)}throw(W){return this._leafNode(new h(W))}block(W,F){return this._blockStarts.push(this._nodes.length),W&&this.code(W).endBlock(F),this}endBlock(W){const F=this._blockStarts.pop();if(F===void 0)throw new Error("CodeGen: not in self-balancing block");const K=this._nodes.length-F;if(K<0||W!==void 0&&K!==W)throw new Error(`CodeGen: wrong number of nodes: ${K} vs ${W} expected`);return this._nodes.length=F,this}func(W,F=t.nil,K,fe){return this._blockNode(new w(W,F,K)),fe&&this.code(fe).endFunc(),this}endFunc(){return this._endBlockNode(w)}optimize(W=1){for(;W-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(W){return this._currNode.nodes.push(W),this}_blockNode(W){this._currNode.nodes.push(W),this._nodes.push(W)}_endBlockNode(W,F){const K=this._currNode;if(K instanceof W||F&&K instanceof F)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${F?`${W.kind}/${F.kind}`:W.kind}"`)}_elseNode(W){const F=this._currNode;if(!(F instanceof p))throw new Error('CodeGen: "else" without "if"');return this._currNode=F.else=W,this}get _root(){return this._nodes[0]}get _currNode(){const W=this._nodes;return W[W.length-1]}set _currNode(W){const F=this._nodes;F[F.length-1]=W}}e.CodeGen=D;function k(B,W){for(const F in W)B[F]=(B[F]||0)+(W[F]||0);return B}function R(B,W){return W instanceof t._CodeOrName?k(B,W.names):B}function P(B,W,F){if(B instanceof t.Name)return K(B);if(!fe(B))return B;return new t._Code(B._items.reduce((se,ee)=>(ee instanceof t.Name&&(ee=K(ee)),ee instanceof t._Code?se.push(...ee._items):se.push(ee),se),[]));function K(se){const ee=F[se.str];return ee===void 0||W[se.str]!==1?se:(delete W[se.str],ee)}function fe(se){return se instanceof t._Code&&se._items.some(ee=>ee instanceof t.Name&&W[ee.str]===1&&F[ee.str]!==void 0)}}function E(B,W){for(const F in W)B[F]=(B[F]||0)-(W[F]||0)}function O(B){return typeof B=="boolean"||typeof B=="number"||B===null?!B:(0,t._)`!${H(B)}`}e.not=O;const I=z(e.operators.AND);function U(...B){return B.reduce(I)}e.and=U;const V=z(e.operators.OR);function Z(...B){return B.reduce(V)}e.or=Z;function z(B){return(W,F)=>W===t.nil?F:F===t.nil?W:(0,t._)`${H(W)} ${B} ${H(F)}`}function H(B){return B instanceof t.Name?B:(0,t._)`(${B})`}})(Br);var en={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;const t=Br,r=af;function i(w){const C={};for(const S of w)C[S]=!0;return C}e.toHash=i;function o(w,C){return typeof C=="boolean"?C:Object.keys(C).length===0?!0:(n(w,C),!a(C,w.self.RULES.all))}e.alwaysValidSchema=o;function n(w,C=w.schema){const{opts:S,self:T}=w;if(!S.strictSchema||typeof C=="boolean")return;const M=T.RULES.keywords;for(const D in C)M[D]||x(w,`unknown keyword: "${D}"`)}e.checkUnknownRules=n;function a(w,C){if(typeof w=="boolean")return!w;for(const S in w)if(C[S])return!0;return!1}e.schemaHasRules=a;function s(w,C){if(typeof w=="boolean")return!w;for(const S in w)if(S!=="$ref"&&C.all[S])return!0;return!1}e.schemaHasRulesButRef=s;function l({topSchemaRef:w,schemaPath:C},S,T,M){if(!M){if(typeof S=="number"||typeof S=="boolean")return S;if(typeof S=="string")return(0,t._)`${S}`}return(0,t._)`${w}${C}${(0,t.getProperty)(T)}`}e.schemaRefOrVal=l;function u(w){return v(decodeURIComponent(w))}e.unescapeFragment=u;function c(w){return encodeURIComponent(h(w))}e.escapeFragment=c;function h(w){return typeof w=="number"?`${w}`:w.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeJsonPointer=h;function v(w){return w.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeJsonPointer=v;function f(w,C){if(Array.isArray(w))for(const S of w)C(S);else C(w)}e.eachItem=f;function m({mergeNames:w,mergeToName:C,mergeValues:S,resultToName:T}){return(M,D,k,R)=>{const P=k===void 0?D:k instanceof t.Name?(D instanceof t.Name?w(M,D,k):C(M,D,k),k):D instanceof t.Name?(C(M,k,D),D):S(D,k);return R===t.Name&&!(P instanceof t.Name)?T(M,P):P}}e.mergeEvaluated={props:m({mergeNames:(w,C,S)=>w.if((0,t._)`${S} !== true && ${C} !== undefined`,()=>{w.if((0,t._)`${C} === true`,()=>w.assign(S,!0),()=>w.assign(S,(0,t._)`${S} || {}`).code((0,t._)`Object.assign(${S}, ${C})`))}),mergeToName:(w,C,S)=>w.if((0,t._)`${S} !== true`,()=>{C===!0?w.assign(S,!0):(w.assign(S,(0,t._)`${S} || {}`),g(w,S,C))}),mergeValues:(w,C)=>w===!0?!0:{...w,...C},resultToName:_}),items:m({mergeNames:(w,C,S)=>w.if((0,t._)`${S} !== true && ${C} !== undefined`,()=>w.assign(S,(0,t._)`${C} === true ? true : ${S} > ${C} ? ${S} : ${C}`)),mergeToName:(w,C,S)=>w.if((0,t._)`${S} !== true`,()=>w.assign(S,C===!0?!0:(0,t._)`${S} > ${C} ? ${S} : ${C}`)),mergeValues:(w,C)=>w===!0?!0:Math.max(w,C),resultToName:(w,C)=>w.var("items",C)})};function _(w,C){if(C===!0)return w.var("props",!0);const S=w.var("props",(0,t._)`{}`);return C!==void 0&&g(w,S,C),S}e.evaluatedPropsToName=_;function g(w,C,S){Object.keys(S).forEach(T=>w.assign((0,t._)`${C}${(0,t.getProperty)(T)}`,!0))}e.setEvaluated=g;const p={};function d(w,C){return w.scopeValue("func",{ref:C,code:p[C.code]||(p[C.code]=new r._Code(C.code))})}e.useFunc=d;var b;(function(w){w[w.Num=0]="Num",w[w.Str=1]="Str"})(b=e.Type||(e.Type={}));function y(w,C,S){if(w instanceof t.Name){const T=C===b.Num;return S?T?(0,t._)`"[" + ${w} + "]"`:(0,t._)`"['" + ${w} + "']"`:T?(0,t._)`"/" + ${w}`:(0,t._)`"/" + ${w}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return S?(0,t.getProperty)(w).toString():"/"+h(w)}e.getErrorPath=y;function x(w,C,S=w.opts.strictSchema){if(S){if(C=`strict mode: ${C}`,S===!0)throw new Error(C);w.self.logger.warn(C)}}e.checkStrictMode=x})(en);var ha={};Object.defineProperty(ha,"__esModule",{value:!0});const Si=Br,DF={data:new Si.Name("data"),valCxt:new Si.Name("valCxt"),instancePath:new Si.Name("instancePath"),parentData:new Si.Name("parentData"),parentDataProperty:new Si.Name("parentDataProperty"),rootData:new Si.Name("rootData"),dynamicAnchors:new Si.Name("dynamicAnchors"),vErrors:new Si.Name("vErrors"),errors:new Si.Name("errors"),this:new Si.Name("this"),self:new Si.Name("self"),scope:new Si.Name("scope"),json:new Si.Name("json"),jsonPos:new Si.Name("jsonPos"),jsonLen:new Si.Name("jsonLen"),jsonPart:new Si.Name("jsonPart")};ha.default=DF;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=Br,r=en,i=ha;e.keywordError={message:({keyword:g})=>(0,t.str)`must pass "${g}" keyword validation`},e.keyword$DataError={message:({keyword:g,schemaType:p})=>p?(0,t.str)`"${g}" keyword must be ${p} ($data)`:(0,t.str)`"${g}" keyword is invalid ($data)`};function o(g,p=e.keywordError,d,b){const{it:y}=g,{gen:x,compositeRule:w,allErrors:C}=y,S=h(g,p,d);b??(w||C)?l(x,S):u(y,(0,t._)`[${S}]`)}e.reportError=o;function n(g,p=e.keywordError,d){const{it:b}=g,{gen:y,compositeRule:x,allErrors:w}=b,C=h(g,p,d);l(y,C),x||w||u(b,i.default.vErrors)}e.reportExtraError=n;function a(g,p){g.assign(i.default.errors,p),g.if((0,t._)`${i.default.vErrors} !== null`,()=>g.if(p,()=>g.assign((0,t._)`${i.default.vErrors}.length`,p),()=>g.assign(i.default.vErrors,null)))}e.resetErrorsCount=a;function s({gen:g,keyword:p,schemaValue:d,data:b,errsCount:y,it:x}){if(y===void 0)throw new Error("ajv implementation error");const w=g.name("err");g.forRange("i",y,i.default.errors,C=>{g.const(w,(0,t._)`${i.default.vErrors}[${C}]`),g.if((0,t._)`${w}.instancePath === undefined`,()=>g.assign((0,t._)`${w}.instancePath`,(0,t.strConcat)(i.default.instancePath,x.errorPath))),g.assign((0,t._)`${w}.schemaPath`,(0,t.str)`${x.errSchemaPath}/${p}`),x.opts.verbose&&(g.assign((0,t._)`${w}.schema`,d),g.assign((0,t._)`${w}.data`,b))})}e.extendErrors=s;function l(g,p){const d=g.const("err",p);g.if((0,t._)`${i.default.vErrors} === null`,()=>g.assign(i.default.vErrors,(0,t._)`[${d}]`),(0,t._)`${i.default.vErrors}.push(${d})`),g.code((0,t._)`${i.default.errors}++`)}function u(g,p){const{gen:d,validateName:b,schemaEnv:y}=g;y.$async?d.throw((0,t._)`new ${g.ValidationError}(${p})`):(d.assign((0,t._)`${b}.errors`,p),d.return(!1))}const c={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function h(g,p,d){const{createErrors:b}=g.it;return b===!1?(0,t._)`{}`:v(g,p,d)}function v(g,p,d={}){const{gen:b,it:y}=g,x=[f(y,d),m(g,d)];return _(g,p,x),b.object(...x)}function f({errorPath:g},{instancePath:p}){const d=p?(0,t.str)`${g}${(0,r.getErrorPath)(p,r.Type.Str)}`:g;return[i.default.instancePath,(0,t.strConcat)(i.default.instancePath,d)]}function m({keyword:g,it:{errSchemaPath:p}},{schemaPath:d,parentSchema:b}){let y=b?p:(0,t.str)`${p}/${g}`;return d&&(y=(0,t.str)`${y}${(0,r.getErrorPath)(d,r.Type.Str)}`),[c.schemaPath,y]}function _(g,{params:p,message:d},b){const{keyword:y,data:x,schemaValue:w,it:C}=g,{opts:S,propertyName:T,topSchemaRef:M,schemaPath:D}=C;b.push([c.keyword,y],[c.params,typeof p=="function"?p(g):p||(0,t._)`{}`]),S.messages&&b.push([c.message,typeof d=="function"?d(g):d]),S.verbose&&b.push([c.schema,w],[c.parentSchema,(0,t._)`${M}${D}`],[i.default.data,x]),T&&b.push([c.propertyName,T])}})(bf);Object.defineProperty(gu,"__esModule",{value:!0});gu.boolOrEmptySchema=gu.topBoolOrEmptySchema=void 0;const PF=bf,RF=Br,OF=ha,IF={message:"boolean schema is false"};function NF(e){const{gen:t,schema:r,validateName:i}=e;r===!1?kk(e,!1):typeof r=="object"&&r.$async===!0?t.return(OF.default.data):(t.assign((0,RF._)`${i}.errors`,null),t.return(!0))}gu.topBoolOrEmptySchema=NF;function FF(e,t){const{gen:r,schema:i}=e;i===!1?(r.var(t,!1),kk(e)):r.var(t,!0)}gu.boolOrEmptySchema=FF;function kk(e,t){const{gen:r,data:i}=e,o={gen:r,keyword:"false schema",data:i,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,PF.reportError)(o,IF,void 0,t)}var wf={},ll={};Object.defineProperty(ll,"__esModule",{value:!0});ll.getRules=ll.isJSONType=void 0;const $F=["string","number","integer","boolean","null","object","array"],zF=new Set($F);function HF(e){return typeof e=="string"&&zF.has(e)}ll.isJSONType=HF;function BF(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}ll.getRules=BF;var So={};Object.defineProperty(So,"__esModule",{value:!0});So.shouldUseRule=So.shouldUseGroup=So.schemaHasRulesForType=void 0;function jF({schema:e,self:t},r){const i=t.RULES.types[r];return i&&i!==!0&&Mk(e,i)}So.schemaHasRulesForType=jF;function Mk(e,t){return t.rules.some(r=>Ek(e,r))}So.shouldUseGroup=Mk;function Ek(e,t){var r;return e[t.keyword]!==void 0||((r=t.definition.implements)===null||r===void 0?void 0:r.some(i=>e[i]!==void 0))}So.shouldUseRule=Ek;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;const t=ll,r=So,i=bf,o=Br,n=en;var a;(function(b){b[b.Correct=0]="Correct",b[b.Wrong=1]="Wrong"})(a=e.DataType||(e.DataType={}));function s(b){const y=l(b.type);if(y.includes("null")){if(b.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!y.length&&b.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');b.nullable===!0&&y.push("null")}return y}e.getSchemaTypes=s;function l(b){const y=Array.isArray(b)?b:b?[b]:[];if(y.every(t.isJSONType))return y;throw new Error("type must be JSONType or JSONType[]: "+y.join(","))}e.getJSONTypes=l;function u(b,y){const{gen:x,data:w,opts:C}=b,S=h(y,C.coerceTypes),T=y.length>0&&!(S.length===0&&y.length===1&&(0,r.schemaHasRulesForType)(b,y[0]));if(T){const M=_(y,w,C.strictNumbers,a.Wrong);x.if(M,()=>{S.length?v(b,y,S):p(b)})}return T}e.coerceAndCheckDataType=u;const c=new Set(["string","number","integer","boolean","null"]);function h(b,y){return y?b.filter(x=>c.has(x)||y==="array"&&x==="array"):[]}function v(b,y,x){const{gen:w,data:C,opts:S}=b,T=w.let("dataType",(0,o._)`typeof ${C}`),M=w.let("coerced",(0,o._)`undefined`);S.coerceTypes==="array"&&w.if((0,o._)`${T} == 'object' && Array.isArray(${C}) && ${C}.length == 1`,()=>w.assign(C,(0,o._)`${C}[0]`).assign(T,(0,o._)`typeof ${C}`).if(_(y,C,S.strictNumbers),()=>w.assign(M,C))),w.if((0,o._)`${M} !== undefined`);for(const k of x)(c.has(k)||k==="array"&&S.coerceTypes==="array")&&D(k);w.else(),p(b),w.endIf(),w.if((0,o._)`${M} !== undefined`,()=>{w.assign(C,M),f(b,M)});function D(k){switch(k){case"string":w.elseIf((0,o._)`${T} == "number" || ${T} == "boolean"`).assign(M,(0,o._)`"" + ${C}`).elseIf((0,o._)`${C} === null`).assign(M,(0,o._)`""`);return;case"number":w.elseIf((0,o._)`${T} == "boolean" || ${C} === null
              || (${T} == "string" && ${C} && ${C} == +${C})`).assign(M,(0,o._)`+${C}`);return;case"integer":w.elseIf((0,o._)`${T} === "boolean" || ${C} === null
              || (${T} === "string" && ${C} && ${C} == +${C} && !(${C} % 1))`).assign(M,(0,o._)`+${C}`);return;case"boolean":w.elseIf((0,o._)`${C} === "false" || ${C} === 0 || ${C} === null`).assign(M,!1).elseIf((0,o._)`${C} === "true" || ${C} === 1`).assign(M,!0);return;case"null":w.elseIf((0,o._)`${C} === "" || ${C} === 0 || ${C} === false`),w.assign(M,null);return;case"array":w.elseIf((0,o._)`${T} === "string" || ${T} === "number"
              || ${T} === "boolean" || ${C} === null`).assign(M,(0,o._)`[${C}]`)}}}function f({gen:b,parentData:y,parentDataProperty:x},w){b.if((0,o._)`${y} !== undefined`,()=>b.assign((0,o._)`${y}[${x}]`,w))}function m(b,y,x,w=a.Correct){const C=w===a.Correct?o.operators.EQ:o.operators.NEQ;let S;switch(b){case"null":return(0,o._)`${y} ${C} null`;case"array":S=(0,o._)`Array.isArray(${y})`;break;case"object":S=(0,o._)`${y} && typeof ${y} == "object" && !Array.isArray(${y})`;break;case"integer":S=T((0,o._)`!(${y} % 1) && !isNaN(${y})`);break;case"number":S=T();break;default:return(0,o._)`typeof ${y} ${C} ${b}`}return w===a.Correct?S:(0,o.not)(S);function T(M=o.nil){return(0,o.and)((0,o._)`typeof ${y} == "number"`,M,x?(0,o._)`isFinite(${y})`:o.nil)}}e.checkDataType=m;function _(b,y,x,w){if(b.length===1)return m(b[0],y,x,w);let C;const S=(0,n.toHash)(b);if(S.array&&S.object){const T=(0,o._)`typeof ${y} != "object"`;C=S.null?T:(0,o._)`!${y} || ${T}`,delete S.null,delete S.array,delete S.object}else C=o.nil;S.number&&delete S.integer;for(const T in S)C=(0,o.and)(C,m(T,y,x,w));return C}e.checkDataTypes=_;const g={message:({schema:b})=>`must be ${b}`,params:({schema:b,schemaValue:y})=>typeof b=="string"?(0,o._)`{type: ${b}}`:(0,o._)`{type: ${y}}`};function p(b){const y=d(b);(0,i.reportError)(y,g)}e.reportTypeError=p;function d(b){const{gen:y,data:x,schema:w}=b,C=(0,n.schemaRefOrVal)(b,w,"type");return{gen:y,keyword:"type",data:x,schema:w.type,schemaCode:C,schemaValue:C,parentSchema:w,params:{},it:b}}})(wf);var uv={};Object.defineProperty(uv,"__esModule",{value:!0});uv.assignDefaults=void 0;const Sl=Br,UF=en;function WF(e,t){const{properties:r,items:i}=e.schema;if(t==="object"&&r)for(const o in r)n3(e,o,r[o].default);else t==="array"&&Array.isArray(i)&&i.forEach((o,n)=>n3(e,n,o.default))}uv.assignDefaults=WF;function n3(e,t,r){const{gen:i,compositeRule:o,data:n,opts:a}=e;if(r===void 0)return;const s=(0,Sl._)`${n}${(0,Sl.getProperty)(t)}`;if(o){(0,UF.checkStrictMode)(e,`default is ignored for: ${s}`);return}let l=(0,Sl._)`${s} === undefined`;a.useDefaults==="empty"&&(l=(0,Sl._)`${l} || ${s} === null || ${s} === ""`),i.if(l,(0,Sl._)`${s} = ${(0,Sl.stringify)(r)}`)}var io={},Kr={};Object.defineProperty(Kr,"__esModule",{value:!0});Kr.validateUnion=Kr.validateArray=Kr.usePattern=Kr.callValidateCode=Kr.schemaProperties=Kr.allSchemaProperties=Kr.noPropertyInData=Kr.propertyInData=Kr.isOwnProperty=Kr.hasPropFunc=Kr.reportMissingProp=Kr.checkMissingProp=Kr.checkReportMissingProp=void 0;const Tn=Br,q1=en,zo=ha,VF=en;function GF(e,t){const{gen:r,data:i,it:o}=e;r.if(t_(r,i,t,o.opts.ownProperties),()=>{e.setParams({missingProperty:(0,Tn._)`${t}`},!0),e.error()})}Kr.checkReportMissingProp=GF;function YF({gen:e,data:t,it:{opts:r}},i,o){return(0,Tn.or)(...i.map(n=>(0,Tn.and)(t_(e,t,n,r.ownProperties),(0,Tn._)`${o} = ${n}`)))}Kr.checkMissingProp=YF;function KF(e,t){e.setParams({missingProperty:t},!0),e.error()}Kr.reportMissingProp=KF;function Lk(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,Tn._)`Object.prototype.hasOwnProperty`})}Kr.hasPropFunc=Lk;function e_(e,t,r){return(0,Tn._)`${Lk(e)}.call(${t}, ${r})`}Kr.isOwnProperty=e_;function XF(e,t,r,i){const o=(0,Tn._)`${t}${(0,Tn.getProperty)(r)} !== undefined`;return i?(0,Tn._)`${o} && ${e_(e,t,r)}`:o}Kr.propertyInData=XF;function t_(e,t,r,i){const o=(0,Tn._)`${t}${(0,Tn.getProperty)(r)} === undefined`;return i?(0,Tn.or)(o,(0,Tn.not)(e_(e,t,r))):o}Kr.noPropertyInData=t_;function Dk(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}Kr.allSchemaProperties=Dk;function ZF(e,t){return Dk(t).filter(r=>!(0,q1.alwaysValidSchema)(e,t[r]))}Kr.schemaProperties=ZF;function JF({schemaCode:e,data:t,it:{gen:r,topSchemaRef:i,schemaPath:o,errorPath:n},it:a},s,l,u){const c=u?(0,Tn._)`${e}, ${t}, ${i}${o}`:t,h=[[zo.default.instancePath,(0,Tn.strConcat)(zo.default.instancePath,n)],[zo.default.parentData,a.parentData],[zo.default.parentDataProperty,a.parentDataProperty],[zo.default.rootData,zo.default.rootData]];a.opts.dynamicRef&&h.push([zo.default.dynamicAnchors,zo.default.dynamicAnchors]);const v=(0,Tn._)`${c}, ${r.object(...h)}`;return l!==Tn.nil?(0,Tn._)`${s}.call(${l}, ${v})`:(0,Tn._)`${s}(${v})`}Kr.callValidateCode=JF;const QF=(0,Tn._)`new RegExp`;function qF({gen:e,it:{opts:t}},r){const i=t.unicodeRegExp?"u":"",{regExp:o}=t.code,n=o(r,i);return e.scopeValue("pattern",{key:n.toString(),ref:n,code:(0,Tn._)`${o.code==="new RegExp"?QF:(0,VF.useFunc)(e,o)}(${r}, ${i})`})}Kr.usePattern=qF;function e$(e){const{gen:t,data:r,keyword:i,it:o}=e,n=t.name("valid");if(o.allErrors){const s=t.let("valid",!0);return a(()=>t.assign(s,!1)),s}return t.var(n,!0),a(()=>t.break()),n;function a(s){const l=t.const("len",(0,Tn._)`${r}.length`);t.forRange("i",0,l,u=>{e.subschema({keyword:i,dataProp:u,dataPropType:q1.Type.Num},n),t.if((0,Tn.not)(n),s)})}}Kr.validateArray=e$;function t$(e){const{gen:t,schema:r,keyword:i,it:o}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(l=>(0,q1.alwaysValidSchema)(o,l))&&!o.opts.unevaluated)return;const a=t.let("valid",!1),s=t.name("_valid");t.block(()=>r.forEach((l,u)=>{const c=e.subschema({keyword:i,schemaProp:u,compositeRule:!0},s);t.assign(a,(0,Tn._)`${a} || ${s}`),e.mergeValidEvaluated(c,s)||t.if((0,Tn.not)(a))})),e.result(a,()=>e.reset(),()=>e.error(!0))}Kr.validateUnion=t$;Object.defineProperty(io,"__esModule",{value:!0});io.validateKeywordUsage=io.validSchemaType=io.funcKeywordCode=io.macroKeywordCode=void 0;const Pi=Br,Bs=ha,r$=Kr,n$=bf;function i$(e,t){const{gen:r,keyword:i,schema:o,parentSchema:n,it:a}=e,s=t.macro.call(a.self,o,n,a),l=Pk(r,i,s);a.opts.validateSchema!==!1&&a.self.validateSchema(s,!0);const u=r.name("valid");e.subschema({schema:s,schemaPath:Pi.nil,errSchemaPath:`${a.errSchemaPath}/${i}`,topSchemaRef:l,compositeRule:!0},u),e.pass(u,()=>e.error(!0))}io.macroKeywordCode=i$;function a$(e,t){var r;const{gen:i,keyword:o,schema:n,parentSchema:a,$data:s,it:l}=e;s$(l,t);const u=!s&&t.compile?t.compile.call(l.self,n,a,l):t.validate,c=Pk(i,o,u),h=i.let("valid");e.block$data(h,v),e.ok((r=t.valid)!==null&&r!==void 0?r:h);function v(){if(t.errors===!1)_(),t.modifying&&i3(e),g(()=>e.error());else{const p=t.async?f():m();t.modifying&&i3(e),g(()=>o$(e,p))}}function f(){const p=i.let("ruleErrs",null);return i.try(()=>_((0,Pi._)`await `),d=>i.assign(h,!1).if((0,Pi._)`${d} instanceof ${l.ValidationError}`,()=>i.assign(p,(0,Pi._)`${d}.errors`),()=>i.throw(d))),p}function m(){const p=(0,Pi._)`${c}.errors`;return i.assign(p,null),_(Pi.nil),p}function _(p=t.async?(0,Pi._)`await `:Pi.nil){const d=l.opts.passContext?Bs.default.this:Bs.default.self,b=!("compile"in t&&!s||t.schema===!1);i.assign(h,(0,Pi._)`${p}${(0,r$.callValidateCode)(e,c,d,b)}`,t.modifying)}function g(p){var d;i.if((0,Pi.not)((d=t.valid)!==null&&d!==void 0?d:h),p)}}io.funcKeywordCode=a$;function i3(e){const{gen:t,data:r,it:i}=e;t.if(i.parentData,()=>t.assign(r,(0,Pi._)`${i.parentData}[${i.parentDataProperty}]`))}function o$(e,t){const{gen:r}=e;r.if((0,Pi._)`Array.isArray(${t})`,()=>{r.assign(Bs.default.vErrors,(0,Pi._)`${Bs.default.vErrors} === null ? ${t} : ${Bs.default.vErrors}.concat(${t})`).assign(Bs.default.errors,(0,Pi._)`${Bs.default.vErrors}.length`),(0,n$.extendErrors)(e)},()=>e.error())}function s$({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function Pk(e,t,r){if(r===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,Pi.stringify)(r)})}function l$(e,t,r=!1){return!t.length||t.some(i=>i==="array"?Array.isArray(e):i==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==i||r&&typeof e>"u")}io.validSchemaType=l$;function u$({schema:e,opts:t,self:r,errSchemaPath:i},o,n){if(Array.isArray(o.keyword)?!o.keyword.includes(n):o.keyword!==n)throw new Error("ajv implementation error");const a=o.dependencies;if(a!=null&&a.some(s=>!Object.prototype.hasOwnProperty.call(e,s)))throw new Error(`parent schema must have dependencies of ${n}: ${a.join(",")}`);if(o.validateSchema&&!o.validateSchema(e[n])){const l=`keyword "${n}" value is invalid at path "${i}": `+r.errorsText(o.validateSchema.errors);if(t.validateSchema==="log")r.logger.error(l);else throw new Error(l)}}io.validateKeywordUsage=u$;var fs={};Object.defineProperty(fs,"__esModule",{value:!0});fs.extendSubschemaMode=fs.extendSubschemaData=fs.getSubschema=void 0;const ro=Br,Rk=en;function c$(e,{keyword:t,schemaProp:r,schema:i,schemaPath:o,errSchemaPath:n,topSchemaRef:a}){if(t!==void 0&&i!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const s=e.schema[t];return r===void 0?{schema:s,schemaPath:(0,ro._)`${e.schemaPath}${(0,ro.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:s[r],schemaPath:(0,ro._)`${e.schemaPath}${(0,ro.getProperty)(t)}${(0,ro.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,Rk.escapeFragment)(r)}`}}if(i!==void 0){if(o===void 0||n===void 0||a===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:i,schemaPath:o,topSchemaRef:a,errSchemaPath:n}}throw new Error('either "keyword" or "schema" must be passed')}fs.getSubschema=c$;function f$(e,t,{dataProp:r,dataPropType:i,data:o,dataTypes:n,propertyName:a}){if(o!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:s}=t;if(r!==void 0){const{errorPath:u,dataPathArr:c,opts:h}=t,v=s.let("data",(0,ro._)`${t.data}${(0,ro.getProperty)(r)}`,!0);l(v),e.errorPath=(0,ro.str)`${u}${(0,Rk.getErrorPath)(r,i,h.jsPropertySyntax)}`,e.parentDataProperty=(0,ro._)`${r}`,e.dataPathArr=[...c,e.parentDataProperty]}if(o!==void 0){const u=o instanceof ro.Name?o:s.let("data",o,!0);l(u),a!==void 0&&(e.propertyName=a)}n&&(e.dataTypes=n);function l(u){e.data=u,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,u]}}fs.extendSubschemaData=f$;function d$(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:i,createErrors:o,allErrors:n}){i!==void 0&&(e.compositeRule=i),o!==void 0&&(e.createErrors=o),n!==void 0&&(e.allErrors=n),e.jtdDiscriminator=t,e.jtdMetadata=r}fs.extendSubschemaMode=d$;var pi={},Ok=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var i,o,n;if(Array.isArray(t)){if(i=t.length,i!=r.length)return!1;for(o=i;o--!==0;)if(!e(t[o],r[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(n=Object.keys(t),i=n.length,i!==Object.keys(r).length)return!1;for(o=i;o--!==0;)if(!Object.prototype.hasOwnProperty.call(r,n[o]))return!1;for(o=i;o--!==0;){var a=n[o];if(!e(t[a],r[a]))return!1}return!0}return t!==t&&r!==r},Ik={exports:{}},qo=Ik.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var i=typeof r=="function"?r:r.pre||function(){},o=r.post||function(){};Jd(t,i,o,e,"",e)};qo.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};qo.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};qo.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};qo.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function Jd(e,t,r,i,o,n,a,s,l,u){if(i&&typeof i=="object"&&!Array.isArray(i)){t(i,o,n,a,s,l,u);for(var c in i){var h=i[c];if(Array.isArray(h)){if(c in qo.arrayKeywords)for(var v=0;v<h.length;v++)Jd(e,t,r,h[v],o+"/"+c+"/"+v,n,o,c,i,v)}else if(c in qo.propsKeywords){if(h&&typeof h=="object")for(var f in h)Jd(e,t,r,h[f],o+"/"+c+"/"+h$(f),n,o,c,i,f)}else(c in qo.keywords||e.allKeys&&!(c in qo.skipKeywords))&&Jd(e,t,r,h,o+"/"+c,n,o,c,i)}r(i,o,n,a,s,l,u)}}function h$(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var p$=Ik.exports;Object.defineProperty(pi,"__esModule",{value:!0});pi.getSchemaRefs=pi.resolveUrl=pi.normalizeId=pi._getFullPath=pi.getFullPath=pi.inlineRef=void 0;const v$=en,m$=Ok,g$=p$,y$=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function _$(e,t=!0){return typeof e=="boolean"?!0:t===!0?!Kg(e):t?Nk(e)<=t:!1}pi.inlineRef=_$;const b$=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function Kg(e){for(const t in e){if(b$.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(Kg)||typeof r=="object"&&Kg(r))return!0}return!1}function Nk(e){let t=0;for(const r in e){if(r==="$ref")return 1/0;if(t++,!y$.has(r)&&(typeof e[r]=="object"&&(0,v$.eachItem)(e[r],i=>t+=Nk(i)),t===1/0))return 1/0}return t}function Fk(e,t="",r){r!==!1&&(t=Jl(t));const i=e.parse(t);return $k(e,i)}pi.getFullPath=Fk;function $k(e,t){return e.serialize(t).split("#")[0]+"#"}pi._getFullPath=$k;const w$=/#\/?$/;function Jl(e){return e?e.replace(w$,""):""}pi.normalizeId=Jl;function x$(e,t,r){return r=Jl(r),e.resolve(t,r)}pi.resolveUrl=x$;const S$=/^[a-z_][-a-z0-9._]*$/i;function C$(e,t){if(typeof e=="boolean")return{};const{schemaId:r,uriResolver:i}=this.opts,o=Jl(e[r]||t),n={"":o},a=Fk(i,o,!1),s={},l=new Set;return g$(e,{allKeys:!0},(h,v,f,m)=>{if(m===void 0)return;const _=a+v;let g=n[m];typeof h[r]=="string"&&(g=p.call(this,h[r])),d.call(this,h.$anchor),d.call(this,h.$dynamicAnchor),n[v]=g;function p(b){const y=this.opts.uriResolver.resolve;if(b=Jl(g?y(g,b):b),l.has(b))throw c(b);l.add(b);let x=this.refs[b];return typeof x=="string"&&(x=this.refs[x]),typeof x=="object"?u(h,x.schema,b):b!==Jl(_)&&(b[0]==="#"?(u(h,s[b],b),s[b]=h):this.refs[b]=_),b}function d(b){if(typeof b=="string"){if(!S$.test(b))throw new Error(`invalid anchor "${b}"`);p.call(this,`#${b}`)}}}),s;function u(h,v,f){if(v!==void 0&&!m$(h,v))throw c(f)}function c(h){return new Error(`reference "${h}" resolves to more than one schema`)}}pi.getSchemaRefs=C$;Object.defineProperty(Wa,"__esModule",{value:!0});Wa.getData=Wa.KeywordCxt=Wa.validateFunctionCode=void 0;const zk=gu,a3=wf,r_=So,Uh=wf,T$=uv,kc=io,s0=fs,Ar=Br,Nr=ha,A$=pi,Co=en,nc=bf;function k$(e){if(jk(e)&&(Uk(e),Bk(e))){L$(e);return}Hk(e,()=>(0,zk.topBoolOrEmptySchema)(e))}Wa.validateFunctionCode=k$;function Hk({gen:e,validateName:t,schema:r,schemaEnv:i,opts:o},n){o.code.es5?e.func(t,(0,Ar._)`${Nr.default.data}, ${Nr.default.valCxt}`,i.$async,()=>{e.code((0,Ar._)`"use strict"; ${o3(r,o)}`),E$(e,o),e.code(n)}):e.func(t,(0,Ar._)`${Nr.default.data}, ${M$(o)}`,i.$async,()=>e.code(o3(r,o)).code(n))}function M$(e){return(0,Ar._)`{${Nr.default.instancePath}="", ${Nr.default.parentData}, ${Nr.default.parentDataProperty}, ${Nr.default.rootData}=${Nr.default.data}${e.dynamicRef?(0,Ar._)`, ${Nr.default.dynamicAnchors}={}`:Ar.nil}}={}`}function E$(e,t){e.if(Nr.default.valCxt,()=>{e.var(Nr.default.instancePath,(0,Ar._)`${Nr.default.valCxt}.${Nr.default.instancePath}`),e.var(Nr.default.parentData,(0,Ar._)`${Nr.default.valCxt}.${Nr.default.parentData}`),e.var(Nr.default.parentDataProperty,(0,Ar._)`${Nr.default.valCxt}.${Nr.default.parentDataProperty}`),e.var(Nr.default.rootData,(0,Ar._)`${Nr.default.valCxt}.${Nr.default.rootData}`),t.dynamicRef&&e.var(Nr.default.dynamicAnchors,(0,Ar._)`${Nr.default.valCxt}.${Nr.default.dynamicAnchors}`)},()=>{e.var(Nr.default.instancePath,(0,Ar._)`""`),e.var(Nr.default.parentData,(0,Ar._)`undefined`),e.var(Nr.default.parentDataProperty,(0,Ar._)`undefined`),e.var(Nr.default.rootData,Nr.default.data),t.dynamicRef&&e.var(Nr.default.dynamicAnchors,(0,Ar._)`{}`)})}function L$(e){const{schema:t,opts:r,gen:i}=e;Hk(e,()=>{r.$comment&&t.$comment&&Vk(e),I$(e),i.let(Nr.default.vErrors,null),i.let(Nr.default.errors,0),r.unevaluated&&D$(e),Wk(e),$$(e)})}function D$(e){const{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,Ar._)`${r}.evaluated`),t.if((0,Ar._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,Ar._)`${e.evaluated}.props`,(0,Ar._)`undefined`)),t.if((0,Ar._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,Ar._)`${e.evaluated}.items`,(0,Ar._)`undefined`))}function o3(e,t){const r=typeof e=="object"&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,Ar._)`/*# sourceURL=${r} */`:Ar.nil}function P$(e,t){if(jk(e)&&(Uk(e),Bk(e))){R$(e,t);return}(0,zk.boolOrEmptySchema)(e,t)}function Bk({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const r in e)if(t.RULES.all[r])return!0;return!1}function jk(e){return typeof e.schema!="boolean"}function R$(e,t){const{schema:r,gen:i,opts:o}=e;o.$comment&&r.$comment&&Vk(e),N$(e),F$(e);const n=i.const("_errs",Nr.default.errors);Wk(e,n),i.var(t,(0,Ar._)`${n} === ${Nr.default.errors}`)}function Uk(e){(0,Co.checkUnknownRules)(e),O$(e)}function Wk(e,t){if(e.opts.jtd)return s3(e,[],!1,t);const r=(0,a3.getSchemaTypes)(e.schema),i=(0,a3.coerceAndCheckDataType)(e,r);s3(e,r,!i,t)}function O$(e){const{schema:t,errSchemaPath:r,opts:i,self:o}=e;t.$ref&&i.ignoreKeywordsWithRef&&(0,Co.schemaHasRulesButRef)(t,o.RULES)&&o.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function I$(e){const{schema:t,opts:r}=e;t.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,Co.checkStrictMode)(e,"default is ignored in the schema root")}function N$(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,A$.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function F$(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function Vk({gen:e,schemaEnv:t,schema:r,errSchemaPath:i,opts:o}){const n=r.$comment;if(o.$comment===!0)e.code((0,Ar._)`${Nr.default.self}.logger.log(${n})`);else if(typeof o.$comment=="function"){const a=(0,Ar.str)`${i}/$comment`,s=e.scopeValue("root",{ref:t.root});e.code((0,Ar._)`${Nr.default.self}.opts.$comment(${n}, ${a}, ${s}.schema)`)}}function $$(e){const{gen:t,schemaEnv:r,validateName:i,ValidationError:o,opts:n}=e;r.$async?t.if((0,Ar._)`${Nr.default.errors} === 0`,()=>t.return(Nr.default.data),()=>t.throw((0,Ar._)`new ${o}(${Nr.default.vErrors})`)):(t.assign((0,Ar._)`${i}.errors`,Nr.default.vErrors),n.unevaluated&&z$(e),t.return((0,Ar._)`${Nr.default.errors} === 0`))}function z$({gen:e,evaluated:t,props:r,items:i}){r instanceof Ar.Name&&e.assign((0,Ar._)`${t}.props`,r),i instanceof Ar.Name&&e.assign((0,Ar._)`${t}.items`,i)}function s3(e,t,r,i){const{gen:o,schema:n,data:a,allErrors:s,opts:l,self:u}=e,{RULES:c}=u;if(n.$ref&&(l.ignoreKeywordsWithRef||!(0,Co.schemaHasRulesButRef)(n,c))){o.block(()=>Yk(e,"$ref",c.all.$ref.definition));return}l.jtd||H$(e,t),o.block(()=>{for(const v of c.rules)h(v);h(c.post)});function h(v){(0,r_.shouldUseGroup)(n,v)&&(v.type?(o.if((0,Uh.checkDataType)(v.type,a,l.strictNumbers)),l3(e,v),t.length===1&&t[0]===v.type&&r&&(o.else(),(0,Uh.reportTypeError)(e)),o.endIf()):l3(e,v),s||o.if((0,Ar._)`${Nr.default.errors} === ${i||0}`))}}function l3(e,t){const{gen:r,schema:i,opts:{useDefaults:o}}=e;o&&(0,T$.assignDefaults)(e,t.type),r.block(()=>{for(const n of t.rules)(0,r_.shouldUseRule)(i,n)&&Yk(e,n.keyword,n.definition,t.type)})}function H$(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(B$(e,t),e.opts.allowUnionTypes||j$(e,t),U$(e,e.dataTypes))}function B$(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(r=>{u3(e.dataTypes,r)||n_(e,`type "${r}" not allowed by context "${e.dataTypes.join(",")}"`)}),e.dataTypes=e.dataTypes.filter(r=>u3(t,r))}}function j$(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&n_(e,"use allowUnionTypes to allow union type keyword")}function U$(e,t){const r=e.self.RULES.all;for(const i in r){const o=r[i];if(typeof o=="object"&&(0,r_.shouldUseRule)(e.schema,o)){const{type:n}=o.definition;n.length&&!n.some(a=>W$(t,a))&&n_(e,`missing type "${n.join(",")}" for keyword "${i}"`)}}}function W$(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function u3(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function n_(e,t){const r=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${r}" (strictTypes)`,(0,Co.checkStrictMode)(e,t,e.opts.strictTypes)}class Gk{constructor(t,r,i){if((0,kc.validateKeywordUsage)(t,r,i),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=i,this.data=t.data,this.schema=t.schema[i],this.$data=r.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,Co.schemaRefOrVal)(t,this.schema,i,this.$data),this.schemaType=r.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=r,this.$data)this.schemaCode=t.gen.const("vSchema",Kk(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,kc.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${i} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=t.gen.const("_errs",Nr.default.errors))}result(t,r,i){this.failResult((0,Ar.not)(t),r,i)}failResult(t,r,i){this.gen.if(t),i?i():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,r){this.failResult((0,Ar.not)(t),void 0,r)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:r}=this;this.fail((0,Ar._)`${r} !== undefined && (${(0,Ar.or)(this.invalid$data(),t)})`)}error(t,r,i){if(r){this.setParams(r),this._error(t,i),this.setParams({});return}this._error(t,i)}_error(t,r){(t?nc.reportExtraError:nc.reportError)(this,this.def.error,r)}$dataError(){(0,nc.reportError)(this,this.def.$dataError||nc.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,nc.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,r){r?Object.assign(this.params,t):this.params=t}block$data(t,r,i=Ar.nil){this.gen.block(()=>{this.check$data(t,i),r()})}check$data(t=Ar.nil,r=Ar.nil){if(!this.$data)return;const{gen:i,schemaCode:o,schemaType:n,def:a}=this;i.if((0,Ar.or)((0,Ar._)`${o} === undefined`,r)),t!==Ar.nil&&i.assign(t,!0),(n.length||a.validateSchema)&&(i.elseIf(this.invalid$data()),this.$dataError(),t!==Ar.nil&&i.assign(t,!1)),i.else()}invalid$data(){const{gen:t,schemaCode:r,schemaType:i,def:o,it:n}=this;return(0,Ar.or)(a(),s());function a(){if(i.length){if(!(r instanceof Ar.Name))throw new Error("ajv implementation error");const l=Array.isArray(i)?i:[i];return(0,Ar._)`${(0,Uh.checkDataTypes)(l,r,n.opts.strictNumbers,Uh.DataType.Wrong)}`}return Ar.nil}function s(){if(o.validateSchema){const l=t.scopeValue("validate$data",{ref:o.validateSchema});return(0,Ar._)`!${l}(${r})`}return Ar.nil}}subschema(t,r){const i=(0,s0.getSubschema)(this.it,t);(0,s0.extendSubschemaData)(i,this.it,t),(0,s0.extendSubschemaMode)(i,t);const o={...this.it,...i,items:void 0,props:void 0};return P$(o,r),o}mergeEvaluated(t,r){const{it:i,gen:o}=this;i.opts.unevaluated&&(i.props!==!0&&t.props!==void 0&&(i.props=Co.mergeEvaluated.props(o,t.props,i.props,r)),i.items!==!0&&t.items!==void 0&&(i.items=Co.mergeEvaluated.items(o,t.items,i.items,r)))}mergeValidEvaluated(t,r){const{it:i,gen:o}=this;if(i.opts.unevaluated&&(i.props!==!0||i.items!==!0))return o.if(r,()=>this.mergeEvaluated(t,Ar.Name)),!0}}Wa.KeywordCxt=Gk;function Yk(e,t,r,i){const o=new Gk(e,r,t);"code"in r?r.code(o,i):o.$data&&r.validate?(0,kc.funcKeywordCode)(o,r):"macro"in r?(0,kc.macroKeywordCode)(o,r):(r.compile||r.validate)&&(0,kc.funcKeywordCode)(o,r)}const V$=/^\/(?:[^~]|~0|~1)*$/,G$=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Kk(e,{dataLevel:t,dataNames:r,dataPathArr:i}){let o,n;if(e==="")return Nr.default.rootData;if(e[0]==="/"){if(!V$.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);o=e,n=Nr.default.rootData}else{const u=G$.exec(e);if(!u)throw new Error(`Invalid JSON-pointer: ${e}`);const c=+u[1];if(o=u[2],o==="#"){if(c>=t)throw new Error(l("property/index",c));return i[t-c]}if(c>t)throw new Error(l("data",c));if(n=r[t-c],!o)return n}let a=n;const s=o.split("/");for(const u of s)u&&(n=(0,Ar._)`${n}${(0,Ar.getProperty)((0,Co.unescapeJsonPointer)(u))}`,a=(0,Ar._)`${a} && ${n}`);return a;function l(u,c){return`Cannot access ${u} ${c} levels up, current level is ${t}`}}Wa.getData=Kk;var cv={};Object.defineProperty(cv,"__esModule",{value:!0});class Y$ extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}}cv.default=Y$;var fv={};Object.defineProperty(fv,"__esModule",{value:!0});const l0=pi;class K$ extends Error{constructor(t,r,i,o){super(o||`can't resolve reference ${i} from id ${r}`),this.missingRef=(0,l0.resolveUrl)(t,r,i),this.missingSchema=(0,l0.normalizeId)((0,l0.getFullPath)(t,this.missingRef))}}fv.default=K$;var Oi={};Object.defineProperty(Oi,"__esModule",{value:!0});Oi.resolveSchema=Oi.getCompilingSchema=Oi.resolveRef=Oi.compileSchema=Oi.SchemaEnv=void 0;const Da=Br,X$=cv,Ps=ha,za=pi,c3=en,Z$=Wa;class dv{constructor(t){var r;this.refs={},this.dynamicAnchors={};let i;typeof t.schema=="object"&&(i=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,za.normalizeId)(i==null?void 0:i[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=i==null?void 0:i.$async,this.refs={}}}Oi.SchemaEnv=dv;function i_(e){const t=Xk.call(this,e);if(t)return t;const r=(0,za.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:i,lines:o}=this.opts.code,{ownProperties:n}=this.opts,a=new Da.CodeGen(this.scope,{es5:i,lines:o,ownProperties:n});let s;e.$async&&(s=a.scopeValue("Error",{ref:X$.default,code:(0,Da._)`require("ajv/dist/runtime/validation_error").default`}));const l=a.scopeName("validate");e.validateName=l;const u={gen:a,allErrors:this.opts.allErrors,data:Ps.default.data,parentData:Ps.default.parentData,parentDataProperty:Ps.default.parentDataProperty,dataNames:[Ps.default.data],dataPathArr:[Da.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:a.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,Da.stringify)(e.schema)}:{ref:e.schema}),validateName:l,ValidationError:s,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:Da.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,Da._)`""`,opts:this.opts,self:this};let c;try{this._compilations.add(e),(0,Z$.validateFunctionCode)(u),a.optimize(this.opts.code.optimize);const h=a.toString();c=`${a.scopeRefs(Ps.default.scope)}return ${h}`,this.opts.code.process&&(c=this.opts.code.process(c,e));const f=new Function(`${Ps.default.self}`,`${Ps.default.scope}`,c)(this,this.scope.get());if(this.scope.value(l,{ref:f}),f.errors=null,f.schema=e.schema,f.schemaEnv=e,e.$async&&(f.$async=!0),this.opts.code.source===!0&&(f.source={validateName:l,validateCode:h,scopeValues:a._values}),this.opts.unevaluated){const{props:m,items:_}=u;f.evaluated={props:m instanceof Da.Name?void 0:m,items:_ instanceof Da.Name?void 0:_,dynamicProps:m instanceof Da.Name,dynamicItems:_ instanceof Da.Name},f.source&&(f.source.evaluated=(0,Da.stringify)(f.evaluated))}return e.validate=f,e}catch(h){throw delete e.validate,delete e.validateName,c&&this.logger.error("Error compiling schema, function code:",c),h}finally{this._compilations.delete(e)}}Oi.compileSchema=i_;function J$(e,t,r){var i;r=(0,za.resolveUrl)(this.opts.uriResolver,t,r);const o=e.refs[r];if(o)return o;let n=ez.call(this,e,r);if(n===void 0){const a=(i=e.localRefs)===null||i===void 0?void 0:i[r],{schemaId:s}=this.opts;a&&(n=new dv({schema:a,schemaId:s,root:e,baseId:t}))}if(n!==void 0)return e.refs[r]=Q$.call(this,n)}Oi.resolveRef=J$;function Q$(e){return(0,za.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:i_.call(this,e)}function Xk(e){for(const t of this._compilations)if(q$(t,e))return t}Oi.getCompilingSchema=Xk;function q$(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function ez(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||hv.call(this,e,t)}function hv(e,t){const r=this.opts.uriResolver.parse(t),i=(0,za._getFullPath)(this.opts.uriResolver,r);let o=(0,za.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&i===o)return u0.call(this,r,e);const n=(0,za.normalizeId)(i),a=this.refs[n]||this.schemas[n];if(typeof a=="string"){const s=hv.call(this,e,a);return typeof(s==null?void 0:s.schema)!="object"?void 0:u0.call(this,r,s)}if(typeof(a==null?void 0:a.schema)=="object"){if(a.validate||i_.call(this,a),n===(0,za.normalizeId)(t)){const{schema:s}=a,{schemaId:l}=this.opts,u=s[l];return u&&(o=(0,za.resolveUrl)(this.opts.uriResolver,o,u)),new dv({schema:s,schemaId:l,root:e,baseId:o})}return u0.call(this,r,a)}}Oi.resolveSchema=hv;const tz=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function u0(e,{baseId:t,schema:r,root:i}){var o;if(((o=e.fragment)===null||o===void 0?void 0:o[0])!=="/")return;for(const s of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const l=r[(0,c3.unescapeFragment)(s)];if(l===void 0)return;r=l;const u=typeof r=="object"&&r[this.opts.schemaId];!tz.has(s)&&u&&(t=(0,za.resolveUrl)(this.opts.uriResolver,t,u))}let n;if(typeof r!="boolean"&&r.$ref&&!(0,c3.schemaHasRulesButRef)(r,this.RULES)){const s=(0,za.resolveUrl)(this.opts.uriResolver,t,r.$ref);n=hv.call(this,i,s)}const{schemaId:a}=this.opts;if(n=n||new dv({schema:r,schemaId:a,root:i,baseId:t}),n.schema!==n.root.schema)return n}const rz="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",nz="Meta-schema for $data reference (JSON AnySchema extension proposal)",iz="object",az=["$data"],oz={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},sz=!1,lz={$id:rz,description:nz,type:iz,required:az,properties:oz,additionalProperties:sz};var a_={},Xg={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(e,t){(function(r,i){i(t)})(Ba,function(r){function i(){for(var xe=arguments.length,ye=Array(xe),Ee=0;Ee<xe;Ee++)ye[Ee]=arguments[Ee];if(ye.length>1){ye[0]=ye[0].slice(0,-1);for(var $e=ye.length-1,Ie=1;Ie<$e;++Ie)ye[Ie]=ye[Ie].slice(1,-1);return ye[$e]=ye[$e].slice(1),ye.join("")}else return ye[0]}function o(xe){return"(?:"+xe+")"}function n(xe){return xe===void 0?"undefined":xe===null?"null":Object.prototype.toString.call(xe).split(" ").pop().split("]").shift().toLowerCase()}function a(xe){return xe.toUpperCase()}function s(xe){return xe!=null?xe instanceof Array?xe:typeof xe.length!="number"||xe.split||xe.setInterval||xe.call?[xe]:Array.prototype.slice.call(xe):[]}function l(xe,ye){var Ee=xe;if(ye)for(var $e in ye)Ee[$e]=ye[$e];return Ee}function u(xe){var ye="[A-Za-z]",Ee="[0-9]",$e=i(Ee,"[A-Fa-f]"),Ie=o(o("%[EFef]"+$e+"%"+$e+$e+"%"+$e+$e)+"|"+o("%[89A-Fa-f]"+$e+"%"+$e+$e)+"|"+o("%"+$e+$e)),Be="[\\:\\/\\?\\#\\[\\]\\@]",st="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",gt=i(Be,st),wt=xe?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",Wt=xe?"[\\uE000-\\uF8FF]":"[]",Yt=i(ye,Ee,"[\\-\\.\\_\\~]",wt);o(ye+i(ye,Ee,"[\\+\\-\\.]")+"*"),o(o(Ie+"|"+i(Yt,st,"[\\:]"))+"*");var qt=o(o("25[0-5]")+"|"+o("2[0-4]"+Ee)+"|"+o("1"+Ee+Ee)+"|"+o("0?[1-9]"+Ee)+"|0?0?"+Ee),Bt=o(qt+"\\."+qt+"\\."+qt+"\\."+qt),Ut=o($e+"{1,4}"),Nt=o(o(Ut+"\\:"+Ut)+"|"+Bt),dt=o(o(Ut+"\\:")+"{6}"+Nt),Vt=o("\\:\\:"+o(Ut+"\\:")+"{5}"+Nt),Gt=o(o(Ut)+"?\\:\\:"+o(Ut+"\\:")+"{4}"+Nt),rr=o(o(o(Ut+"\\:")+"{0,1}"+Ut)+"?\\:\\:"+o(Ut+"\\:")+"{3}"+Nt),Jt=o(o(o(Ut+"\\:")+"{0,2}"+Ut)+"?\\:\\:"+o(Ut+"\\:")+"{2}"+Nt),Dt=o(o(o(Ut+"\\:")+"{0,3}"+Ut)+"?\\:\\:"+Ut+"\\:"+Nt),er=o(o(o(Ut+"\\:")+"{0,4}"+Ut)+"?\\:\\:"+Nt),tr=o(o(o(Ut+"\\:")+"{0,5}"+Ut)+"?\\:\\:"+Ut),he=o(o(o(Ut+"\\:")+"{0,6}"+Ut)+"?\\:\\:"),le=o([dt,Vt,Gt,rr,Jt,Dt,er,tr,he].join("|")),Ne=o(o(Yt+"|"+Ie)+"+");o("[vV]"+$e+"+\\."+i(Yt,st,"[\\:]")+"+"),o(o(Ie+"|"+i(Yt,st))+"*");var Fe=o(Ie+"|"+i(Yt,st,"[\\:\\@]"));return o(o(Ie+"|"+i(Yt,st,"[\\@]"))+"+"),o(o(Fe+"|"+i("[\\/\\?]",Wt))+"*"),{NOT_SCHEME:new RegExp(i("[^]",ye,Ee,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(i("[^\\%\\:]",Yt,st),"g"),NOT_HOST:new RegExp(i("[^\\%\\[\\]\\:]",Yt,st),"g"),NOT_PATH:new RegExp(i("[^\\%\\/\\:\\@]",Yt,st),"g"),NOT_PATH_NOSCHEME:new RegExp(i("[^\\%\\/\\@]",Yt,st),"g"),NOT_QUERY:new RegExp(i("[^\\%]",Yt,st,"[\\:\\@\\/\\?]",Wt),"g"),NOT_FRAGMENT:new RegExp(i("[^\\%]",Yt,st,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(i("[^]",Yt,st),"g"),UNRESERVED:new RegExp(Yt,"g"),OTHER_CHARS:new RegExp(i("[^\\%]",Yt,gt),"g"),PCT_ENCODED:new RegExp(Ie,"g"),IPV4ADDRESS:new RegExp("^("+Bt+")$"),IPV6ADDRESS:new RegExp("^\\[?("+le+")"+o(o("\\%25|\\%(?!"+$e+"{2})")+"("+Ne+")")+"?\\]?$")}}var c=u(!1),h=u(!0),v=function(){function xe(ye,Ee){var $e=[],Ie=!0,Be=!1,st=void 0;try{for(var gt=ye[Symbol.iterator](),wt;!(Ie=(wt=gt.next()).done)&&($e.push(wt.value),!(Ee&&$e.length===Ee));Ie=!0);}catch(Wt){Be=!0,st=Wt}finally{try{!Ie&&gt.return&&gt.return()}finally{if(Be)throw st}}return $e}return function(ye,Ee){if(Array.isArray(ye))return ye;if(Symbol.iterator in Object(ye))return xe(ye,Ee);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(xe){if(Array.isArray(xe)){for(var ye=0,Ee=Array(xe.length);ye<xe.length;ye++)Ee[ye]=xe[ye];return Ee}else return Array.from(xe)},m=2147483647,_=36,g=1,p=26,d=38,b=700,y=72,x=128,w="-",C=/^xn--/,S=/[^\0-\x7E]/,T=/[\x2E\u3002\uFF0E\uFF61]/g,M={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},D=_-g,k=Math.floor,R=String.fromCharCode;function P(xe){throw new RangeError(M[xe])}function E(xe,ye){for(var Ee=[],$e=xe.length;$e--;)Ee[$e]=ye(xe[$e]);return Ee}function O(xe,ye){var Ee=xe.split("@"),$e="";Ee.length>1&&($e=Ee[0]+"@",xe=Ee[1]),xe=xe.replace(T,".");var Ie=xe.split("."),Be=E(Ie,ye).join(".");return $e+Be}function I(xe){for(var ye=[],Ee=0,$e=xe.length;Ee<$e;){var Ie=xe.charCodeAt(Ee++);if(Ie>=55296&&Ie<=56319&&Ee<$e){var Be=xe.charCodeAt(Ee++);(Be&64512)==56320?ye.push(((Ie&1023)<<10)+(Be&1023)+65536):(ye.push(Ie),Ee--)}else ye.push(Ie)}return ye}var U=function(ye){return String.fromCodePoint.apply(String,f(ye))},V=function(ye){return ye-48<10?ye-22:ye-65<26?ye-65:ye-97<26?ye-97:_},Z=function(ye,Ee){return ye+22+75*(ye<26)-((Ee!=0)<<5)},z=function(ye,Ee,$e){var Ie=0;for(ye=$e?k(ye/b):ye>>1,ye+=k(ye/Ee);ye>D*p>>1;Ie+=_)ye=k(ye/D);return k(Ie+(D+1)*ye/(ye+d))},H=function(ye){var Ee=[],$e=ye.length,Ie=0,Be=x,st=y,gt=ye.lastIndexOf(w);gt<0&&(gt=0);for(var wt=0;wt<gt;++wt)ye.charCodeAt(wt)>=128&&P("not-basic"),Ee.push(ye.charCodeAt(wt));for(var Wt=gt>0?gt+1:0;Wt<$e;){for(var Yt=Ie,qt=1,Bt=_;;Bt+=_){Wt>=$e&&P("invalid-input");var Ut=V(ye.charCodeAt(Wt++));(Ut>=_||Ut>k((m-Ie)/qt))&&P("overflow"),Ie+=Ut*qt;var Nt=Bt<=st?g:Bt>=st+p?p:Bt-st;if(Ut<Nt)break;var dt=_-Nt;qt>k(m/dt)&&P("overflow"),qt*=dt}var Vt=Ee.length+1;st=z(Ie-Yt,Vt,Yt==0),k(Ie/Vt)>m-Be&&P("overflow"),Be+=k(Ie/Vt),Ie%=Vt,Ee.splice(Ie++,0,Be)}return String.fromCodePoint.apply(String,Ee)},B=function(ye){var Ee=[];ye=I(ye);var $e=ye.length,Ie=x,Be=0,st=y,gt=!0,wt=!1,Wt=void 0;try{for(var Yt=ye[Symbol.iterator](),qt;!(gt=(qt=Yt.next()).done);gt=!0){var Bt=qt.value;Bt<128&&Ee.push(R(Bt))}}catch(lt){wt=!0,Wt=lt}finally{try{!gt&&Yt.return&&Yt.return()}finally{if(wt)throw Wt}}var Ut=Ee.length,Nt=Ut;for(Ut&&Ee.push(w);Nt<$e;){var dt=m,Vt=!0,Gt=!1,rr=void 0;try{for(var Jt=ye[Symbol.iterator](),Dt;!(Vt=(Dt=Jt.next()).done);Vt=!0){var er=Dt.value;er>=Ie&&er<dt&&(dt=er)}}catch(lt){Gt=!0,rr=lt}finally{try{!Vt&&Jt.return&&Jt.return()}finally{if(Gt)throw rr}}var tr=Nt+1;dt-Ie>k((m-Be)/tr)&&P("overflow"),Be+=(dt-Ie)*tr,Ie=dt;var he=!0,le=!1,Ne=void 0;try{for(var Fe=ye[Symbol.iterator](),We;!(he=(We=Fe.next()).done);he=!0){var Ze=We.value;if(Ze<Ie&&++Be>m&&P("overflow"),Ze==Ie){for(var Ve=Be,je=_;;je+=_){var ut=je<=st?g:je>=st+p?p:je-st;if(Ve<ut)break;var St=Ve-ut,Pt=_-ut;Ee.push(R(Z(ut+St%Pt,0))),Ve=k(St/Pt)}Ee.push(R(Z(Ve,0))),st=z(Be,tr,Nt==Ut),Be=0,++Nt}}}catch(lt){le=!0,Ne=lt}finally{try{!he&&Fe.return&&Fe.return()}finally{if(le)throw Ne}}++Be,++Ie}return Ee.join("")},W=function(ye){return O(ye,function(Ee){return C.test(Ee)?H(Ee.slice(4).toLowerCase()):Ee})},F=function(ye){return O(ye,function(Ee){return S.test(Ee)?"xn--"+B(Ee):Ee})},K={version:"2.1.0",ucs2:{decode:I,encode:U},decode:H,encode:B,toASCII:F,toUnicode:W},fe={};function se(xe){var ye=xe.charCodeAt(0),Ee=void 0;return ye<16?Ee="%0"+ye.toString(16).toUpperCase():ye<128?Ee="%"+ye.toString(16).toUpperCase():ye<2048?Ee="%"+(ye>>6|192).toString(16).toUpperCase()+"%"+(ye&63|128).toString(16).toUpperCase():Ee="%"+(ye>>12|224).toString(16).toUpperCase()+"%"+(ye>>6&63|128).toString(16).toUpperCase()+"%"+(ye&63|128).toString(16).toUpperCase(),Ee}function ee(xe){for(var ye="",Ee=0,$e=xe.length;Ee<$e;){var Ie=parseInt(xe.substr(Ee+1,2),16);if(Ie<128)ye+=String.fromCharCode(Ie),Ee+=3;else if(Ie>=194&&Ie<224){if($e-Ee>=6){var Be=parseInt(xe.substr(Ee+4,2),16);ye+=String.fromCharCode((Ie&31)<<6|Be&63)}else ye+=xe.substr(Ee,6);Ee+=6}else if(Ie>=224){if($e-Ee>=9){var st=parseInt(xe.substr(Ee+4,2),16),gt=parseInt(xe.substr(Ee+7,2),16);ye+=String.fromCharCode((Ie&15)<<12|(st&63)<<6|gt&63)}else ye+=xe.substr(Ee,9);Ee+=9}else ye+=xe.substr(Ee,3),Ee+=3}return ye}function ie(xe,ye){function Ee($e){var Ie=ee($e);return Ie.match(ye.UNRESERVED)?Ie:$e}return xe.scheme&&(xe.scheme=String(xe.scheme).replace(ye.PCT_ENCODED,Ee).toLowerCase().replace(ye.NOT_SCHEME,"")),xe.userinfo!==void 0&&(xe.userinfo=String(xe.userinfo).replace(ye.PCT_ENCODED,Ee).replace(ye.NOT_USERINFO,se).replace(ye.PCT_ENCODED,a)),xe.host!==void 0&&(xe.host=String(xe.host).replace(ye.PCT_ENCODED,Ee).toLowerCase().replace(ye.NOT_HOST,se).replace(ye.PCT_ENCODED,a)),xe.path!==void 0&&(xe.path=String(xe.path).replace(ye.PCT_ENCODED,Ee).replace(xe.scheme?ye.NOT_PATH:ye.NOT_PATH_NOSCHEME,se).replace(ye.PCT_ENCODED,a)),xe.query!==void 0&&(xe.query=String(xe.query).replace(ye.PCT_ENCODED,Ee).replace(ye.NOT_QUERY,se).replace(ye.PCT_ENCODED,a)),xe.fragment!==void 0&&(xe.fragment=String(xe.fragment).replace(ye.PCT_ENCODED,Ee).replace(ye.NOT_FRAGMENT,se).replace(ye.PCT_ENCODED,a)),xe}function J(xe){return xe.replace(/^0*(.*)/,"$1")||"0"}function te(xe,ye){var Ee=xe.match(ye.IPV4ADDRESS)||[],$e=v(Ee,2),Ie=$e[1];return Ie?Ie.split(".").map(J).join("."):xe}function L(xe,ye){var Ee=xe.match(ye.IPV6ADDRESS)||[],$e=v(Ee,3),Ie=$e[1],Be=$e[2];if(Ie){for(var st=Ie.toLowerCase().split("::").reverse(),gt=v(st,2),wt=gt[0],Wt=gt[1],Yt=Wt?Wt.split(":").map(J):[],qt=wt.split(":").map(J),Bt=ye.IPV4ADDRESS.test(qt[qt.length-1]),Ut=Bt?7:8,Nt=qt.length-Ut,dt=Array(Ut),Vt=0;Vt<Ut;++Vt)dt[Vt]=Yt[Vt]||qt[Nt+Vt]||"";Bt&&(dt[Ut-1]=te(dt[Ut-1],ye));var Gt=dt.reduce(function(tr,he,le){if(!he||he==="0"){var Ne=tr[tr.length-1];Ne&&Ne.index+Ne.length===le?Ne.length++:tr.push({index:le,length:1})}return tr},[]),rr=Gt.sort(function(tr,he){return he.length-tr.length})[0],Jt=void 0;if(rr&&rr.length>1){var Dt=dt.slice(0,rr.index),er=dt.slice(rr.index+rr.length);Jt=Dt.join(":")+"::"+er.join(":")}else Jt=dt.join(":");return Be&&(Jt+="%"+Be),Jt}else return xe}var N=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,G="".match(/(){0}/)[1]===void 0;function Y(xe){var ye=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ee={},$e=ye.iri!==!1?h:c;ye.reference==="suffix"&&(xe=(ye.scheme?ye.scheme+":":"")+"//"+xe);var Ie=xe.match(N);if(Ie){G?(Ee.scheme=Ie[1],Ee.userinfo=Ie[3],Ee.host=Ie[4],Ee.port=parseInt(Ie[5],10),Ee.path=Ie[6]||"",Ee.query=Ie[7],Ee.fragment=Ie[8],isNaN(Ee.port)&&(Ee.port=Ie[5])):(Ee.scheme=Ie[1]||void 0,Ee.userinfo=xe.indexOf("@")!==-1?Ie[3]:void 0,Ee.host=xe.indexOf("//")!==-1?Ie[4]:void 0,Ee.port=parseInt(Ie[5],10),Ee.path=Ie[6]||"",Ee.query=xe.indexOf("?")!==-1?Ie[7]:void 0,Ee.fragment=xe.indexOf("#")!==-1?Ie[8]:void 0,isNaN(Ee.port)&&(Ee.port=xe.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?Ie[4]:void 0)),Ee.host&&(Ee.host=L(te(Ee.host,$e),$e)),Ee.scheme===void 0&&Ee.userinfo===void 0&&Ee.host===void 0&&Ee.port===void 0&&!Ee.path&&Ee.query===void 0?Ee.reference="same-document":Ee.scheme===void 0?Ee.reference="relative":Ee.fragment===void 0?Ee.reference="absolute":Ee.reference="uri",ye.reference&&ye.reference!=="suffix"&&ye.reference!==Ee.reference&&(Ee.error=Ee.error||"URI is not a "+ye.reference+" reference.");var Be=fe[(ye.scheme||Ee.scheme||"").toLowerCase()];if(!ye.unicodeSupport&&(!Be||!Be.unicodeSupport)){if(Ee.host&&(ye.domainHost||Be&&Be.domainHost))try{Ee.host=K.toASCII(Ee.host.replace($e.PCT_ENCODED,ee).toLowerCase())}catch(st){Ee.error=Ee.error||"Host's domain name can not be converted to ASCII via punycode: "+st}ie(Ee,c)}else ie(Ee,$e);Be&&Be.parse&&Be.parse(Ee,ye)}else Ee.error=Ee.error||"URI can not be parsed.";return Ee}function j(xe,ye){var Ee=ye.iri!==!1?h:c,$e=[];return xe.userinfo!==void 0&&($e.push(xe.userinfo),$e.push("@")),xe.host!==void 0&&$e.push(L(te(String(xe.host),Ee),Ee).replace(Ee.IPV6ADDRESS,function(Ie,Be,st){return"["+Be+(st?"%25"+st:"")+"]"})),(typeof xe.port=="number"||typeof xe.port=="string")&&($e.push(":"),$e.push(String(xe.port))),$e.length?$e.join(""):void 0}var Q=/^\.\.?\//,q=/^\/\.(\/|$)/,re=/^\/\.\.(\/|$)/,ue=/^\/?(?:.|\n)*?(?=\/|$)/;function de(xe){for(var ye=[];xe.length;)if(xe.match(Q))xe=xe.replace(Q,"");else if(xe.match(q))xe=xe.replace(q,"/");else if(xe.match(re))xe=xe.replace(re,"/"),ye.pop();else if(xe==="."||xe==="..")xe="";else{var Ee=xe.match(ue);if(Ee){var $e=Ee[0];xe=xe.slice($e.length),ye.push($e)}else throw new Error("Unexpected dot segment condition")}return ye.join("")}function me(xe){var ye=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ee=ye.iri?h:c,$e=[],Ie=fe[(ye.scheme||xe.scheme||"").toLowerCase()];if(Ie&&Ie.serialize&&Ie.serialize(xe,ye),xe.host&&!Ee.IPV6ADDRESS.test(xe.host)){if(ye.domainHost||Ie&&Ie.domainHost)try{xe.host=ye.iri?K.toUnicode(xe.host):K.toASCII(xe.host.replace(Ee.PCT_ENCODED,ee).toLowerCase())}catch(gt){xe.error=xe.error||"Host's domain name can not be converted to "+(ye.iri?"Unicode":"ASCII")+" via punycode: "+gt}}ie(xe,Ee),ye.reference!=="suffix"&&xe.scheme&&($e.push(xe.scheme),$e.push(":"));var Be=j(xe,ye);if(Be!==void 0&&(ye.reference!=="suffix"&&$e.push("//"),$e.push(Be),xe.path&&xe.path.charAt(0)!=="/"&&$e.push("/")),xe.path!==void 0){var st=xe.path;!ye.absolutePath&&(!Ie||!Ie.absolutePath)&&(st=de(st)),Be===void 0&&(st=st.replace(/^\/\//,"/%2F")),$e.push(st)}return xe.query!==void 0&&($e.push("?"),$e.push(xe.query)),xe.fragment!==void 0&&($e.push("#"),$e.push(xe.fragment)),$e.join("")}function pe(xe,ye){var Ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},$e=arguments[3],Ie={};return $e||(xe=Y(me(xe,Ee),Ee),ye=Y(me(ye,Ee),Ee)),Ee=Ee||{},!Ee.tolerant&&ye.scheme?(Ie.scheme=ye.scheme,Ie.userinfo=ye.userinfo,Ie.host=ye.host,Ie.port=ye.port,Ie.path=de(ye.path||""),Ie.query=ye.query):(ye.userinfo!==void 0||ye.host!==void 0||ye.port!==void 0?(Ie.userinfo=ye.userinfo,Ie.host=ye.host,Ie.port=ye.port,Ie.path=de(ye.path||""),Ie.query=ye.query):(ye.path?(ye.path.charAt(0)==="/"?Ie.path=de(ye.path):((xe.userinfo!==void 0||xe.host!==void 0||xe.port!==void 0)&&!xe.path?Ie.path="/"+ye.path:xe.path?Ie.path=xe.path.slice(0,xe.path.lastIndexOf("/")+1)+ye.path:Ie.path=ye.path,Ie.path=de(Ie.path)),Ie.query=ye.query):(Ie.path=xe.path,ye.query!==void 0?Ie.query=ye.query:Ie.query=xe.query),Ie.userinfo=xe.userinfo,Ie.host=xe.host,Ie.port=xe.port),Ie.scheme=xe.scheme),Ie.fragment=ye.fragment,Ie}function ge(xe,ye,Ee){var $e=l({scheme:"null"},Ee);return me(pe(Y(xe,$e),Y(ye,$e),$e,!0),$e)}function Te(xe,ye){return typeof xe=="string"?xe=me(Y(xe,ye),ye):n(xe)==="object"&&(xe=Y(me(xe,ye),ye)),xe}function He(xe,ye,Ee){return typeof xe=="string"?xe=me(Y(xe,Ee),Ee):n(xe)==="object"&&(xe=me(xe,Ee)),typeof ye=="string"?ye=me(Y(ye,Ee),Ee):n(ye)==="object"&&(ye=me(ye,Ee)),xe===ye}function Oe(xe,ye){return xe&&xe.toString().replace(!ye||!ye.iri?c.ESCAPE:h.ESCAPE,se)}function tt(xe,ye){return xe&&xe.toString().replace(!ye||!ye.iri?c.PCT_ENCODED:h.PCT_ENCODED,ee)}var Le={scheme:"http",domainHost:!0,parse:function(ye,Ee){return ye.host||(ye.error=ye.error||"HTTP URIs must have a host."),ye},serialize:function(ye,Ee){var $e=String(ye.scheme).toLowerCase()==="https";return(ye.port===($e?443:80)||ye.port==="")&&(ye.port=void 0),ye.path||(ye.path="/"),ye}},De={scheme:"https",domainHost:Le.domainHost,parse:Le.parse,serialize:Le.serialize};function Se(xe){return typeof xe.secure=="boolean"?xe.secure:String(xe.scheme).toLowerCase()==="wss"}var ze={scheme:"ws",domainHost:!0,parse:function(ye,Ee){var $e=ye;return $e.secure=Se($e),$e.resourceName=($e.path||"/")+($e.query?"?"+$e.query:""),$e.path=void 0,$e.query=void 0,$e},serialize:function(ye,Ee){if((ye.port===(Se(ye)?443:80)||ye.port==="")&&(ye.port=void 0),typeof ye.secure=="boolean"&&(ye.scheme=ye.secure?"wss":"ws",ye.secure=void 0),ye.resourceName){var $e=ye.resourceName.split("?"),Ie=v($e,2),Be=Ie[0],st=Ie[1];ye.path=Be&&Be!=="/"?Be:void 0,ye.query=st,ye.resourceName=void 0}return ye.fragment=void 0,ye}},Ke={scheme:"wss",domainHost:ze.domainHost,parse:ze.parse,serialize:ze.serialize},_t={},Qe="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",et="[0-9A-Fa-f]",rt=o(o("%[EFef]"+et+"%"+et+et+"%"+et+et)+"|"+o("%[89A-Fa-f]"+et+"%"+et+et)+"|"+o("%"+et+et)),ft="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",bt="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",Ft=i(bt,'[\\"\\\\]'),ct="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",nt=new RegExp(Qe,"g"),at=new RegExp(rt,"g"),It=new RegExp(i("[^]",ft,"[\\.]",'[\\"]',Ft),"g"),zt=new RegExp(i("[^]",Qe,ct),"g"),be=zt;function Me(xe){var ye=ee(xe);return ye.match(nt)?ye:xe}var Ue={scheme:"mailto",parse:function(ye,Ee){var $e=ye,Ie=$e.to=$e.path?$e.path.split(","):[];if($e.path=void 0,$e.query){for(var Be=!1,st={},gt=$e.query.split("&"),wt=0,Wt=gt.length;wt<Wt;++wt){var Yt=gt[wt].split("=");switch(Yt[0]){case"to":for(var qt=Yt[1].split(","),Bt=0,Ut=qt.length;Bt<Ut;++Bt)Ie.push(qt[Bt]);break;case"subject":$e.subject=tt(Yt[1],Ee);break;case"body":$e.body=tt(Yt[1],Ee);break;default:Be=!0,st[tt(Yt[0],Ee)]=tt(Yt[1],Ee);break}}Be&&($e.headers=st)}$e.query=void 0;for(var Nt=0,dt=Ie.length;Nt<dt;++Nt){var Vt=Ie[Nt].split("@");if(Vt[0]=tt(Vt[0]),Ee.unicodeSupport)Vt[1]=tt(Vt[1],Ee).toLowerCase();else try{Vt[1]=K.toASCII(tt(Vt[1],Ee).toLowerCase())}catch(Gt){$e.error=$e.error||"Email address's domain name can not be converted to ASCII via punycode: "+Gt}Ie[Nt]=Vt.join("@")}return $e},serialize:function(ye,Ee){var $e=ye,Ie=s(ye.to);if(Ie){for(var Be=0,st=Ie.length;Be<st;++Be){var gt=String(Ie[Be]),wt=gt.lastIndexOf("@"),Wt=gt.slice(0,wt).replace(at,Me).replace(at,a).replace(It,se),Yt=gt.slice(wt+1);try{Yt=Ee.iri?K.toUnicode(Yt):K.toASCII(tt(Yt,Ee).toLowerCase())}catch(Nt){$e.error=$e.error||"Email address's domain name can not be converted to "+(Ee.iri?"Unicode":"ASCII")+" via punycode: "+Nt}Ie[Be]=Wt+"@"+Yt}$e.path=Ie.join(",")}var qt=ye.headers=ye.headers||{};ye.subject&&(qt.subject=ye.subject),ye.body&&(qt.body=ye.body);var Bt=[];for(var Ut in qt)qt[Ut]!==_t[Ut]&&Bt.push(Ut.replace(at,Me).replace(at,a).replace(zt,se)+"="+qt[Ut].replace(at,Me).replace(at,a).replace(be,se));return Bt.length&&($e.query=Bt.join("&")),$e}},ce=/^([^\:]+)\:(.*)/,Ce={scheme:"urn",parse:function(ye,Ee){var $e=ye.path&&ye.path.match(ce),Ie=ye;if($e){var Be=Ee.scheme||Ie.scheme||"urn",st=$e[1].toLowerCase(),gt=$e[2],wt=Be+":"+(Ee.nid||st),Wt=fe[wt];Ie.nid=st,Ie.nss=gt,Ie.path=void 0,Wt&&(Ie=Wt.parse(Ie,Ee))}else Ie.error=Ie.error||"URN can not be parsed.";return Ie},serialize:function(ye,Ee){var $e=Ee.scheme||ye.scheme||"urn",Ie=ye.nid,Be=$e+":"+(Ee.nid||Ie),st=fe[Be];st&&(ye=st.serialize(ye,Ee));var gt=ye,wt=ye.nss;return gt.path=(Ie||Ee.nid)+":"+wt,gt}},Ae=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,ke={scheme:"urn:uuid",parse:function(ye,Ee){var $e=ye;return $e.uuid=$e.nss,$e.nss=void 0,!Ee.tolerant&&(!$e.uuid||!$e.uuid.match(Ae))&&($e.error=$e.error||"UUID is not valid."),$e},serialize:function(ye,Ee){var $e=ye;return $e.nss=(ye.uuid||"").toLowerCase(),$e}};fe[Le.scheme]=Le,fe[De.scheme]=De,fe[ze.scheme]=ze,fe[Ke.scheme]=Ke,fe[Ue.scheme]=Ue,fe[Ce.scheme]=Ce,fe[ke.scheme]=ke,r.SCHEMES=fe,r.pctEncChar=se,r.pctDecChars=ee,r.parse=Y,r.removeDotSegments=de,r.serialize=me,r.resolveComponents=pe,r.resolve=ge,r.normalize=Te,r.equal=He,r.escapeComponent=Oe,r.unescapeComponent=tt,Object.defineProperty(r,"__esModule",{value:!0})})})(Xg,Xg.exports);var uz=Xg.exports;Object.defineProperty(a_,"__esModule",{value:!0});const Zk=uz;Zk.code='require("ajv/dist/runtime/uri").default';a_.default=Zk;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=Wa;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=Br;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const i=cv,o=fv,n=ll,a=Oi,s=Br,l=pi,u=wf,c=en,h=lz,v=a_,f=(Z,z)=>new RegExp(Z,z);f.code="new RegExp";const m=["removeAdditional","useDefaults","coerceTypes"],_=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),g={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},p={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},d=200;function b(Z){var z,H,B,W,F,K,fe,se,ee,ie,J,te,L,N,G,Y,j,Q,q,re,ue,de,me,pe,ge;const Te=Z.strict,He=(z=Z.code)===null||z===void 0?void 0:z.optimize,Oe=He===!0||He===void 0?1:He||0,tt=(B=(H=Z.code)===null||H===void 0?void 0:H.regExp)!==null&&B!==void 0?B:f,Le=(W=Z.uriResolver)!==null&&W!==void 0?W:v.default;return{strictSchema:(K=(F=Z.strictSchema)!==null&&F!==void 0?F:Te)!==null&&K!==void 0?K:!0,strictNumbers:(se=(fe=Z.strictNumbers)!==null&&fe!==void 0?fe:Te)!==null&&se!==void 0?se:!0,strictTypes:(ie=(ee=Z.strictTypes)!==null&&ee!==void 0?ee:Te)!==null&&ie!==void 0?ie:"log",strictTuples:(te=(J=Z.strictTuples)!==null&&J!==void 0?J:Te)!==null&&te!==void 0?te:"log",strictRequired:(N=(L=Z.strictRequired)!==null&&L!==void 0?L:Te)!==null&&N!==void 0?N:!1,code:Z.code?{...Z.code,optimize:Oe,regExp:tt}:{optimize:Oe,regExp:tt},loopRequired:(G=Z.loopRequired)!==null&&G!==void 0?G:d,loopEnum:(Y=Z.loopEnum)!==null&&Y!==void 0?Y:d,meta:(j=Z.meta)!==null&&j!==void 0?j:!0,messages:(Q=Z.messages)!==null&&Q!==void 0?Q:!0,inlineRefs:(q=Z.inlineRefs)!==null&&q!==void 0?q:!0,schemaId:(re=Z.schemaId)!==null&&re!==void 0?re:"$id",addUsedSchema:(ue=Z.addUsedSchema)!==null&&ue!==void 0?ue:!0,validateSchema:(de=Z.validateSchema)!==null&&de!==void 0?de:!0,validateFormats:(me=Z.validateFormats)!==null&&me!==void 0?me:!0,unicodeRegExp:(pe=Z.unicodeRegExp)!==null&&pe!==void 0?pe:!0,int32range:(ge=Z.int32range)!==null&&ge!==void 0?ge:!0,uriResolver:Le}}class y{constructor(z={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,z=this.opts={...z,...b(z)};const{es5:H,lines:B}=this.opts.code;this.scope=new s.ValueScope({scope:{},prefixes:_,es5:H,lines:B}),this.logger=k(z.logger);const W=z.validateFormats;z.validateFormats=!1,this.RULES=(0,n.getRules)(),x.call(this,g,z,"NOT SUPPORTED"),x.call(this,p,z,"DEPRECATED","warn"),this._metaOpts=M.call(this),z.formats&&S.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),z.keywords&&T.call(this,z.keywords),typeof z.meta=="object"&&this.addMetaSchema(z.meta),C.call(this),z.validateFormats=W}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:z,meta:H,schemaId:B}=this.opts;let W=h;B==="id"&&(W={...h},W.id=W.$id,delete W.$id),H&&z&&this.addMetaSchema(W,W[B],!1)}defaultMeta(){const{meta:z,schemaId:H}=this.opts;return this.opts.defaultMeta=typeof z=="object"?z[H]||z:void 0}validate(z,H){let B;if(typeof z=="string"){if(B=this.getSchema(z),!B)throw new Error(`no schema with key or ref "${z}"`)}else B=this.compile(z);const W=B(H);return"$async"in B||(this.errors=B.errors),W}compile(z,H){const B=this._addSchema(z,H);return B.validate||this._compileSchemaEnv(B)}compileAsync(z,H){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:B}=this.opts;return W.call(this,z,H);async function W(ie,J){await F.call(this,ie.$schema);const te=this._addSchema(ie,J);return te.validate||K.call(this,te)}async function F(ie){ie&&!this.getSchema(ie)&&await W.call(this,{$ref:ie},!0)}async function K(ie){try{return this._compileSchemaEnv(ie)}catch(J){if(!(J instanceof o.default))throw J;return fe.call(this,J),await se.call(this,J.missingSchema),K.call(this,ie)}}function fe({missingSchema:ie,missingRef:J}){if(this.refs[ie])throw new Error(`AnySchema ${ie} is loaded but ${J} cannot be resolved`)}async function se(ie){const J=await ee.call(this,ie);this.refs[ie]||await F.call(this,J.$schema),this.refs[ie]||this.addSchema(J,ie,H)}async function ee(ie){const J=this._loading[ie];if(J)return J;try{return await(this._loading[ie]=B(ie))}finally{delete this._loading[ie]}}}addSchema(z,H,B,W=this.opts.validateSchema){if(Array.isArray(z)){for(const K of z)this.addSchema(K,void 0,B,W);return this}let F;if(typeof z=="object"){const{schemaId:K}=this.opts;if(F=z[K],F!==void 0&&typeof F!="string")throw new Error(`schema ${K} must be string`)}return H=(0,l.normalizeId)(H||F),this._checkUnique(H),this.schemas[H]=this._addSchema(z,B,H,W,!0),this}addMetaSchema(z,H,B=this.opts.validateSchema){return this.addSchema(z,H,!0,B),this}validateSchema(z,H){if(typeof z=="boolean")return!0;let B;if(B=z.$schema,B!==void 0&&typeof B!="string")throw new Error("$schema must be a string");if(B=B||this.opts.defaultMeta||this.defaultMeta(),!B)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const W=this.validate(B,z);if(!W&&H){const F="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(F);else throw new Error(F)}return W}getSchema(z){let H;for(;typeof(H=w.call(this,z))=="string";)z=H;if(H===void 0){const{schemaId:B}=this.opts,W=new a.SchemaEnv({schema:{},schemaId:B});if(H=a.resolveSchema.call(this,W,z),!H)return;this.refs[z]=H}return H.validate||this._compileSchemaEnv(H)}removeSchema(z){if(z instanceof RegExp)return this._removeAllSchemas(this.schemas,z),this._removeAllSchemas(this.refs,z),this;switch(typeof z){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const H=w.call(this,z);return typeof H=="object"&&this._cache.delete(H.schema),delete this.schemas[z],delete this.refs[z],this}case"object":{const H=z;this._cache.delete(H);let B=z[this.opts.schemaId];return B&&(B=(0,l.normalizeId)(B),delete this.schemas[B],delete this.refs[B]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(z){for(const H of z)this.addKeyword(H);return this}addKeyword(z,H){let B;if(typeof z=="string")B=z,typeof H=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),H.keyword=B);else if(typeof z=="object"&&H===void 0){if(H=z,B=H.keyword,Array.isArray(B)&&!B.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(P.call(this,B,H),!H)return(0,c.eachItem)(B,F=>E.call(this,F)),this;I.call(this,H);const W={...H,type:(0,u.getJSONTypes)(H.type),schemaType:(0,u.getJSONTypes)(H.schemaType)};return(0,c.eachItem)(B,W.type.length===0?F=>E.call(this,F,W):F=>W.type.forEach(K=>E.call(this,F,W,K))),this}getKeyword(z){const H=this.RULES.all[z];return typeof H=="object"?H.definition:!!H}removeKeyword(z){const{RULES:H}=this;delete H.keywords[z],delete H.all[z];for(const B of H.rules){const W=B.rules.findIndex(F=>F.keyword===z);W>=0&&B.rules.splice(W,1)}return this}addFormat(z,H){return typeof H=="string"&&(H=new RegExp(H)),this.formats[z]=H,this}errorsText(z=this.errors,{separator:H=", ",dataVar:B="data"}={}){return!z||z.length===0?"No errors":z.map(W=>`${B}${W.instancePath} ${W.message}`).reduce((W,F)=>W+H+F)}$dataMetaSchema(z,H){const B=this.RULES.all;z=JSON.parse(JSON.stringify(z));for(const W of H){const F=W.split("/").slice(1);let K=z;for(const fe of F)K=K[fe];for(const fe in B){const se=B[fe];if(typeof se!="object")continue;const{$data:ee}=se.definition,ie=K[fe];ee&&ie&&(K[fe]=V(ie))}}return z}_removeAllSchemas(z,H){for(const B in z){const W=z[B];(!H||H.test(B))&&(typeof W=="string"?delete z[B]:W&&!W.meta&&(this._cache.delete(W.schema),delete z[B]))}}_addSchema(z,H,B,W=this.opts.validateSchema,F=this.opts.addUsedSchema){let K;const{schemaId:fe}=this.opts;if(typeof z=="object")K=z[fe];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof z!="boolean")throw new Error("schema must be object or boolean")}let se=this._cache.get(z);if(se!==void 0)return se;B=(0,l.normalizeId)(K||B);const ee=l.getSchemaRefs.call(this,z,B);return se=new a.SchemaEnv({schema:z,schemaId:fe,meta:H,baseId:B,localRefs:ee}),this._cache.set(se.schema,se),F&&!B.startsWith("#")&&(B&&this._checkUnique(B),this.refs[B]=se),W&&this.validateSchema(z,!0),se}_checkUnique(z){if(this.schemas[z]||this.refs[z])throw new Error(`schema with key or id "${z}" already exists`)}_compileSchemaEnv(z){if(z.meta?this._compileMetaSchema(z):a.compileSchema.call(this,z),!z.validate)throw new Error("ajv implementation error");return z.validate}_compileMetaSchema(z){const H=this.opts;this.opts=this._metaOpts;try{a.compileSchema.call(this,z)}finally{this.opts=H}}}e.default=y,y.ValidationError=i.default,y.MissingRefError=o.default;function x(Z,z,H,B="error"){for(const W in Z){const F=W;F in z&&this.logger[B](`${H}: option ${W}. ${Z[F]}`)}}function w(Z){return Z=(0,l.normalizeId)(Z),this.schemas[Z]||this.refs[Z]}function C(){const Z=this.opts.schemas;if(Z)if(Array.isArray(Z))this.addSchema(Z);else for(const z in Z)this.addSchema(Z[z],z)}function S(){for(const Z in this.opts.formats){const z=this.opts.formats[Z];z&&this.addFormat(Z,z)}}function T(Z){if(Array.isArray(Z)){this.addVocabulary(Z);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const z in Z){const H=Z[z];H.keyword||(H.keyword=z),this.addKeyword(H)}}function M(){const Z={...this.opts};for(const z of m)delete Z[z];return Z}const D={log(){},warn(){},error(){}};function k(Z){if(Z===!1)return D;if(Z===void 0)return console;if(Z.log&&Z.warn&&Z.error)return Z;throw new Error("logger must implement log, warn and error methods")}const R=/^[a-z_$][a-z0-9_$:-]*$/i;function P(Z,z){const{RULES:H}=this;if((0,c.eachItem)(Z,B=>{if(H.keywords[B])throw new Error(`Keyword ${B} is already defined`);if(!R.test(B))throw new Error(`Keyword ${B} has invalid name`)}),!!z&&z.$data&&!("code"in z||"validate"in z))throw new Error('$data keyword must have "code" or "validate" function')}function E(Z,z,H){var B;const W=z==null?void 0:z.post;if(H&&W)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:F}=this;let K=W?F.post:F.rules.find(({type:se})=>se===H);if(K||(K={type:H,rules:[]},F.rules.push(K)),F.keywords[Z]=!0,!z)return;const fe={keyword:Z,definition:{...z,type:(0,u.getJSONTypes)(z.type),schemaType:(0,u.getJSONTypes)(z.schemaType)}};z.before?O.call(this,K,fe,z.before):K.rules.push(fe),F.all[Z]=fe,(B=z.implements)===null||B===void 0||B.forEach(se=>this.addKeyword(se))}function O(Z,z,H){const B=Z.rules.findIndex(W=>W.keyword===H);B>=0?Z.rules.splice(B,0,z):(Z.rules.push(z),this.logger.warn(`rule ${H} is not defined`))}function I(Z){let{metaSchema:z}=Z;z!==void 0&&(Z.$data&&this.opts.$data&&(z=V(z)),Z.validateSchema=this.compile(z,!0))}const U={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function V(Z){return{anyOf:[Z,U]}}})(Ak);var o_={},s_={},l_={};Object.defineProperty(l_,"__esModule",{value:!0});const cz={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};l_.default=cz;var Do={};Object.defineProperty(Do,"__esModule",{value:!0});Do.callRef=Do.getValidate=void 0;const fz=fv,f3=Kr,ji=Br,Cl=ha,d3=Oi,_d=en,dz={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:r,it:i}=e,{baseId:o,schemaEnv:n,validateName:a,opts:s,self:l}=i,{root:u}=n;if((r==="#"||r==="#/")&&o===u.baseId)return h();const c=d3.resolveRef.call(l,u,o,r);if(c===void 0)throw new fz.default(i.opts.uriResolver,o,r);if(c instanceof d3.SchemaEnv)return v(c);return f(c);function h(){if(n===u)return Qd(e,a,n,n.$async);const m=t.scopeValue("root",{ref:u});return Qd(e,(0,ji._)`${m}.validate`,u,u.$async)}function v(m){const _=Jk(e,m);Qd(e,_,m,m.$async)}function f(m){const _=t.scopeValue("schema",s.code.source===!0?{ref:m,code:(0,ji.stringify)(m)}:{ref:m}),g=t.name("valid"),p=e.subschema({schema:m,dataTypes:[],schemaPath:ji.nil,topSchemaRef:_,errSchemaPath:r},g);e.mergeEvaluated(p),e.ok(g)}}};function Jk(e,t){const{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,ji._)`${r.scopeValue("wrapper",{ref:t})}.validate`}Do.getValidate=Jk;function Qd(e,t,r,i){const{gen:o,it:n}=e,{allErrors:a,schemaEnv:s,opts:l}=n,u=l.passContext?Cl.default.this:ji.nil;i?c():h();function c(){if(!s.$async)throw new Error("async schema referenced by sync schema");const m=o.let("valid");o.try(()=>{o.code((0,ji._)`await ${(0,f3.callValidateCode)(e,t,u)}`),f(t),a||o.assign(m,!0)},_=>{o.if((0,ji._)`!(${_} instanceof ${n.ValidationError})`,()=>o.throw(_)),v(_),a||o.assign(m,!1)}),e.ok(m)}function h(){e.result((0,f3.callValidateCode)(e,t,u),()=>f(t),()=>v(t))}function v(m){const _=(0,ji._)`${m}.errors`;o.assign(Cl.default.vErrors,(0,ji._)`${Cl.default.vErrors} === null ? ${_} : ${Cl.default.vErrors}.concat(${_})`),o.assign(Cl.default.errors,(0,ji._)`${Cl.default.vErrors}.length`)}function f(m){var _;if(!n.opts.unevaluated)return;const g=(_=r==null?void 0:r.validate)===null||_===void 0?void 0:_.evaluated;if(n.props!==!0)if(g&&!g.dynamicProps)g.props!==void 0&&(n.props=_d.mergeEvaluated.props(o,g.props,n.props));else{const p=o.var("props",(0,ji._)`${m}.evaluated.props`);n.props=_d.mergeEvaluated.props(o,p,n.props,ji.Name)}if(n.items!==!0)if(g&&!g.dynamicItems)g.items!==void 0&&(n.items=_d.mergeEvaluated.items(o,g.items,n.items));else{const p=o.var("items",(0,ji._)`${m}.evaluated.items`);n.items=_d.mergeEvaluated.items(o,p,n.items,ji.Name)}}}Do.callRef=Qd;Do.default=dz;Object.defineProperty(s_,"__esModule",{value:!0});const hz=l_,pz=Do,vz=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",hz.default,pz.default];s_.default=vz;var u_={},c_={};Object.defineProperty(c_,"__esModule",{value:!0});const Wh=Br,Ho=Wh.operators,Vh={maximum:{okStr:"<=",ok:Ho.LTE,fail:Ho.GT},minimum:{okStr:">=",ok:Ho.GTE,fail:Ho.LT},exclusiveMaximum:{okStr:"<",ok:Ho.LT,fail:Ho.GTE},exclusiveMinimum:{okStr:">",ok:Ho.GT,fail:Ho.LTE}},mz={message:({keyword:e,schemaCode:t})=>(0,Wh.str)`must be ${Vh[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,Wh._)`{comparison: ${Vh[e].okStr}, limit: ${t}}`},gz={keyword:Object.keys(Vh),type:"number",schemaType:"number",$data:!0,error:mz,code(e){const{keyword:t,data:r,schemaCode:i}=e;e.fail$data((0,Wh._)`${r} ${Vh[t].fail} ${i} || isNaN(${r})`)}};c_.default=gz;var f_={};Object.defineProperty(f_,"__esModule",{value:!0});const Mc=Br,yz={message:({schemaCode:e})=>(0,Mc.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,Mc._)`{multipleOf: ${e}}`},_z={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:yz,code(e){const{gen:t,data:r,schemaCode:i,it:o}=e,n=o.opts.multipleOfPrecision,a=t.let("res"),s=n?(0,Mc._)`Math.abs(Math.round(${a}) - ${a}) > 1e-${n}`:(0,Mc._)`${a} !== parseInt(${a})`;e.fail$data((0,Mc._)`(${i} === 0 || (${a} = ${r}/${i}, ${s}))`)}};f_.default=_z;var d_={},h_={};Object.defineProperty(h_,"__esModule",{value:!0});function Qk(e){const t=e.length;let r=0,i=0,o;for(;i<t;)r++,o=e.charCodeAt(i++),o>=55296&&o<=56319&&i<t&&(o=e.charCodeAt(i),(o&64512)===56320&&i++);return r}h_.default=Qk;Qk.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(d_,"__esModule",{value:!0});const js=Br,bz=en,wz=h_,xz={message({keyword:e,schemaCode:t}){const r=e==="maxLength"?"more":"fewer";return(0,js.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,js._)`{limit: ${e}}`},Sz={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:xz,code(e){const{keyword:t,data:r,schemaCode:i,it:o}=e,n=t==="maxLength"?js.operators.GT:js.operators.LT,a=o.opts.unicode===!1?(0,js._)`${r}.length`:(0,js._)`${(0,bz.useFunc)(e.gen,wz.default)}(${r})`;e.fail$data((0,js._)`${a} ${n} ${i}`)}};d_.default=Sz;var p_={};Object.defineProperty(p_,"__esModule",{value:!0});const Cz=Kr,Gh=Br,Tz={message:({schemaCode:e})=>(0,Gh.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,Gh._)`{pattern: ${e}}`},Az={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:Tz,code(e){const{data:t,$data:r,schema:i,schemaCode:o,it:n}=e,a=n.opts.unicodeRegExp?"u":"",s=r?(0,Gh._)`(new RegExp(${o}, ${a}))`:(0,Cz.usePattern)(e,i);e.fail$data((0,Gh._)`!${s}.test(${t})`)}};p_.default=Az;var v_={};Object.defineProperty(v_,"__esModule",{value:!0});const Ec=Br,kz={message({keyword:e,schemaCode:t}){const r=e==="maxProperties"?"more":"fewer";return(0,Ec.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,Ec._)`{limit: ${e}}`},Mz={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:kz,code(e){const{keyword:t,data:r,schemaCode:i}=e,o=t==="maxProperties"?Ec.operators.GT:Ec.operators.LT;e.fail$data((0,Ec._)`Object.keys(${r}).length ${o} ${i}`)}};v_.default=Mz;var m_={};Object.defineProperty(m_,"__esModule",{value:!0});const ic=Kr,Lc=Br,Ez=en,Lz={message:({params:{missingProperty:e}})=>(0,Lc.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,Lc._)`{missingProperty: ${e}}`},Dz={keyword:"required",type:"object",schemaType:"array",$data:!0,error:Lz,code(e){const{gen:t,schema:r,schemaCode:i,data:o,$data:n,it:a}=e,{opts:s}=a;if(!n&&r.length===0)return;const l=r.length>=s.loopRequired;if(a.allErrors?u():c(),s.strictRequired){const f=e.parentSchema.properties,{definedProperties:m}=e.it;for(const _ of r)if((f==null?void 0:f[_])===void 0&&!m.has(_)){const g=a.schemaEnv.baseId+a.errSchemaPath,p=`required property "${_}" is not defined at "${g}" (strictRequired)`;(0,Ez.checkStrictMode)(a,p,a.opts.strictRequired)}}function u(){if(l||n)e.block$data(Lc.nil,h);else for(const f of r)(0,ic.checkReportMissingProp)(e,f)}function c(){const f=t.let("missing");if(l||n){const m=t.let("valid",!0);e.block$data(m,()=>v(f,m)),e.ok(m)}else t.if((0,ic.checkMissingProp)(e,r,f)),(0,ic.reportMissingProp)(e,f),t.else()}function h(){t.forOf("prop",i,f=>{e.setParams({missingProperty:f}),t.if((0,ic.noPropertyInData)(t,o,f,s.ownProperties),()=>e.error())})}function v(f,m){e.setParams({missingProperty:f}),t.forOf(f,i,()=>{t.assign(m,(0,ic.propertyInData)(t,o,f,s.ownProperties)),t.if((0,Lc.not)(m),()=>{e.error(),t.break()})},Lc.nil)}}};m_.default=Dz;var g_={};Object.defineProperty(g_,"__esModule",{value:!0});const Dc=Br,Pz={message({keyword:e,schemaCode:t}){const r=e==="maxItems"?"more":"fewer";return(0,Dc.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,Dc._)`{limit: ${e}}`},Rz={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:Pz,code(e){const{keyword:t,data:r,schemaCode:i}=e,o=t==="maxItems"?Dc.operators.GT:Dc.operators.LT;e.fail$data((0,Dc._)`${r}.length ${o} ${i}`)}};g_.default=Rz;var y_={},xf={};Object.defineProperty(xf,"__esModule",{value:!0});const qk=Ok;qk.code='require("ajv/dist/runtime/equal").default';xf.default=qk;Object.defineProperty(y_,"__esModule",{value:!0});const c0=wf,ui=Br,Oz=en,Iz=xf,Nz={message:({params:{i:e,j:t}})=>(0,ui.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,ui._)`{i: ${e}, j: ${t}}`},Fz={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:Nz,code(e){const{gen:t,data:r,$data:i,schema:o,parentSchema:n,schemaCode:a,it:s}=e;if(!i&&!o)return;const l=t.let("valid"),u=n.items?(0,c0.getSchemaTypes)(n.items):[];e.block$data(l,c,(0,ui._)`${a} === false`),e.ok(l);function c(){const m=t.let("i",(0,ui._)`${r}.length`),_=t.let("j");e.setParams({i:m,j:_}),t.assign(l,!0),t.if((0,ui._)`${m} > 1`,()=>(h()?v:f)(m,_))}function h(){return u.length>0&&!u.some(m=>m==="object"||m==="array")}function v(m,_){const g=t.name("item"),p=(0,c0.checkDataTypes)(u,g,s.opts.strictNumbers,c0.DataType.Wrong),d=t.const("indices",(0,ui._)`{}`);t.for((0,ui._)`;${m}--;`,()=>{t.let(g,(0,ui._)`${r}[${m}]`),t.if(p,(0,ui._)`continue`),u.length>1&&t.if((0,ui._)`typeof ${g} == "string"`,(0,ui._)`${g} += "_"`),t.if((0,ui._)`typeof ${d}[${g}] == "number"`,()=>{t.assign(_,(0,ui._)`${d}[${g}]`),e.error(),t.assign(l,!1).break()}).code((0,ui._)`${d}[${g}] = ${m}`)})}function f(m,_){const g=(0,Oz.useFunc)(t,Iz.default),p=t.name("outer");t.label(p).for((0,ui._)`;${m}--;`,()=>t.for((0,ui._)`${_} = ${m}; ${_}--;`,()=>t.if((0,ui._)`${g}(${r}[${m}], ${r}[${_}])`,()=>{e.error(),t.assign(l,!1).break(p)})))}}};y_.default=Fz;var __={};Object.defineProperty(__,"__esModule",{value:!0});const Zg=Br,$z=en,zz=xf,Hz={message:"must be equal to constant",params:({schemaCode:e})=>(0,Zg._)`{allowedValue: ${e}}`},Bz={keyword:"const",$data:!0,error:Hz,code(e){const{gen:t,data:r,$data:i,schemaCode:o,schema:n}=e;i||n&&typeof n=="object"?e.fail$data((0,Zg._)`!${(0,$z.useFunc)(t,zz.default)}(${r}, ${o})`):e.fail((0,Zg._)`${n} !== ${r}`)}};__.default=Bz;var b_={};Object.defineProperty(b_,"__esModule",{value:!0});const hc=Br,jz=en,Uz=xf,Wz={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,hc._)`{allowedValues: ${e}}`},Vz={keyword:"enum",schemaType:"array",$data:!0,error:Wz,code(e){const{gen:t,data:r,$data:i,schema:o,schemaCode:n,it:a}=e;if(!i&&o.length===0)throw new Error("enum must have non-empty array");const s=o.length>=a.opts.loopEnum;let l;const u=()=>l??(l=(0,jz.useFunc)(t,Uz.default));let c;if(s||i)c=t.let("valid"),e.block$data(c,h);else{if(!Array.isArray(o))throw new Error("ajv implementation error");const f=t.const("vSchema",n);c=(0,hc.or)(...o.map((m,_)=>v(f,_)))}e.pass(c);function h(){t.assign(c,!1),t.forOf("v",n,f=>t.if((0,hc._)`${u()}(${r}, ${f})`,()=>t.assign(c,!0).break()))}function v(f,m){const _=o[m];return typeof _=="object"&&_!==null?(0,hc._)`${u()}(${r}, ${f}[${m}])`:(0,hc._)`${r} === ${_}`}}};b_.default=Vz;Object.defineProperty(u_,"__esModule",{value:!0});const Gz=c_,Yz=f_,Kz=d_,Xz=p_,Zz=v_,Jz=m_,Qz=g_,qz=y_,eH=__,tH=b_,rH=[Gz.default,Yz.default,Kz.default,Xz.default,Zz.default,Jz.default,Qz.default,qz.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},eH.default,tH.default];u_.default=rH;var w_={},Pu={};Object.defineProperty(Pu,"__esModule",{value:!0});Pu.validateAdditionalItems=void 0;const Us=Br,Jg=en,nH={message:({params:{len:e}})=>(0,Us.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Us._)`{limit: ${e}}`},iH={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:nH,code(e){const{parentSchema:t,it:r}=e,{items:i}=t;if(!Array.isArray(i)){(0,Jg.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}e4(e,i)}};function e4(e,t){const{gen:r,schema:i,data:o,keyword:n,it:a}=e;a.items=!0;const s=r.const("len",(0,Us._)`${o}.length`);if(i===!1)e.setParams({len:t.length}),e.pass((0,Us._)`${s} <= ${t.length}`);else if(typeof i=="object"&&!(0,Jg.alwaysValidSchema)(a,i)){const u=r.var("valid",(0,Us._)`${s} <= ${t.length}`);r.if((0,Us.not)(u),()=>l(u)),e.ok(u)}function l(u){r.forRange("i",t.length,s,c=>{e.subschema({keyword:n,dataProp:c,dataPropType:Jg.Type.Num},u),a.allErrors||r.if((0,Us.not)(u),()=>r.break())})}}Pu.validateAdditionalItems=e4;Pu.default=iH;var x_={},Ru={};Object.defineProperty(Ru,"__esModule",{value:!0});Ru.validateTuple=void 0;const h3=Br,qd=en,aH=Kr,oH={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:r}=e;if(Array.isArray(t))return t4(e,"additionalItems",t);r.items=!0,!(0,qd.alwaysValidSchema)(r,t)&&e.ok((0,aH.validateArray)(e))}};function t4(e,t,r=e.schema){const{gen:i,parentSchema:o,data:n,keyword:a,it:s}=e;c(o),s.opts.unevaluated&&r.length&&s.items!==!0&&(s.items=qd.mergeEvaluated.items(i,r.length,s.items));const l=i.name("valid"),u=i.const("len",(0,h3._)`${n}.length`);r.forEach((h,v)=>{(0,qd.alwaysValidSchema)(s,h)||(i.if((0,h3._)`${u} > ${v}`,()=>e.subschema({keyword:a,schemaProp:v,dataProp:v},l)),e.ok(l))});function c(h){const{opts:v,errSchemaPath:f}=s,m=r.length,_=m===h.minItems&&(m===h.maxItems||h[t]===!1);if(v.strictTuples&&!_){const g=`"${a}" is ${m}-tuple, but minItems or maxItems/${t} are not specified or different at path "${f}"`;(0,qd.checkStrictMode)(s,g,v.strictTuples)}}}Ru.validateTuple=t4;Ru.default=oH;Object.defineProperty(x_,"__esModule",{value:!0});const sH=Ru,lH={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,sH.validateTuple)(e,"items")};x_.default=lH;var S_={};Object.defineProperty(S_,"__esModule",{value:!0});const p3=Br,uH=en,cH=Kr,fH=Pu,dH={message:({params:{len:e}})=>(0,p3.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,p3._)`{limit: ${e}}`},hH={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:dH,code(e){const{schema:t,parentSchema:r,it:i}=e,{prefixItems:o}=r;i.items=!0,!(0,uH.alwaysValidSchema)(i,t)&&(o?(0,fH.validateAdditionalItems)(e,o):e.ok((0,cH.validateArray)(e)))}};S_.default=hH;var C_={};Object.defineProperty(C_,"__esModule",{value:!0});const _a=Br,bd=en,pH={message:({params:{min:e,max:t}})=>t===void 0?(0,_a.str)`must contain at least ${e} valid item(s)`:(0,_a.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,_a._)`{minContains: ${e}}`:(0,_a._)`{minContains: ${e}, maxContains: ${t}}`},vH={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:pH,code(e){const{gen:t,schema:r,parentSchema:i,data:o,it:n}=e;let a,s;const{minContains:l,maxContains:u}=i;n.opts.next?(a=l===void 0?1:l,s=u):a=1;const c=t.const("len",(0,_a._)`${o}.length`);if(e.setParams({min:a,max:s}),s===void 0&&a===0){(0,bd.checkStrictMode)(n,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(s!==void 0&&a>s){(0,bd.checkStrictMode)(n,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,bd.alwaysValidSchema)(n,r)){let _=(0,_a._)`${c} >= ${a}`;s!==void 0&&(_=(0,_a._)`${_} && ${c} <= ${s}`),e.pass(_);return}n.items=!0;const h=t.name("valid");s===void 0&&a===1?f(h,()=>t.if(h,()=>t.break())):a===0?(t.let(h,!0),s!==void 0&&t.if((0,_a._)`${o}.length > 0`,v)):(t.let(h,!1),v()),e.result(h,()=>e.reset());function v(){const _=t.name("_valid"),g=t.let("count",0);f(_,()=>t.if(_,()=>m(g)))}function f(_,g){t.forRange("i",0,c,p=>{e.subschema({keyword:"contains",dataProp:p,dataPropType:bd.Type.Num,compositeRule:!0},_),g()})}function m(_){t.code((0,_a._)`${_}++`),s===void 0?t.if((0,_a._)`${_} >= ${a}`,()=>t.assign(h,!0).break()):(t.if((0,_a._)`${_} > ${s}`,()=>t.assign(h,!1).break()),a===1?t.assign(h,!0):t.if((0,_a._)`${_} >= ${a}`,()=>t.assign(h,!0)))}}};C_.default=vH;var pv={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=Br,r=en,i=Kr;e.error={message:({params:{property:l,depsCount:u,deps:c}})=>{const h=u===1?"property":"properties";return(0,t.str)`must have ${h} ${c} when property ${l} is present`},params:({params:{property:l,depsCount:u,deps:c,missingProperty:h}})=>(0,t._)`{property: ${l},
    missingProperty: ${h},
    depsCount: ${u},
    deps: ${c}}`};const o={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(l){const[u,c]=n(l);a(l,u),s(l,c)}};function n({schema:l}){const u={},c={};for(const h in l){if(h==="__proto__")continue;const v=Array.isArray(l[h])?u:c;v[h]=l[h]}return[u,c]}function a(l,u=l.schema){const{gen:c,data:h,it:v}=l;if(Object.keys(u).length===0)return;const f=c.let("missing");for(const m in u){const _=u[m];if(_.length===0)continue;const g=(0,i.propertyInData)(c,h,m,v.opts.ownProperties);l.setParams({property:m,depsCount:_.length,deps:_.join(", ")}),v.allErrors?c.if(g,()=>{for(const p of _)(0,i.checkReportMissingProp)(l,p)}):(c.if((0,t._)`${g} && (${(0,i.checkMissingProp)(l,_,f)})`),(0,i.reportMissingProp)(l,f),c.else())}}e.validatePropertyDeps=a;function s(l,u=l.schema){const{gen:c,data:h,keyword:v,it:f}=l,m=c.name("valid");for(const _ in u)(0,r.alwaysValidSchema)(f,u[_])||(c.if((0,i.propertyInData)(c,h,_,f.opts.ownProperties),()=>{const g=l.subschema({keyword:v,schemaProp:_},m);l.mergeValidEvaluated(g,m)},()=>c.var(m,!0)),l.ok(m))}e.validateSchemaDeps=s,e.default=o})(pv);var T_={};Object.defineProperty(T_,"__esModule",{value:!0});const r4=Br,mH=en,gH={message:"property name must be valid",params:({params:e})=>(0,r4._)`{propertyName: ${e.propertyName}}`},yH={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:gH,code(e){const{gen:t,schema:r,data:i,it:o}=e;if((0,mH.alwaysValidSchema)(o,r))return;const n=t.name("valid");t.forIn("key",i,a=>{e.setParams({propertyName:a}),e.subschema({keyword:"propertyNames",data:a,dataTypes:["string"],propertyName:a,compositeRule:!0},n),t.if((0,r4.not)(n),()=>{e.error(!0),o.allErrors||t.break()})}),e.ok(n)}};T_.default=yH;var vv={};Object.defineProperty(vv,"__esModule",{value:!0});const wd=Kr,Pa=Br,_H=ha,xd=en,bH={message:"must NOT have additional properties",params:({params:e})=>(0,Pa._)`{additionalProperty: ${e.additionalProperty}}`},wH={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:bH,code(e){const{gen:t,schema:r,parentSchema:i,data:o,errsCount:n,it:a}=e;if(!n)throw new Error("ajv implementation error");const{allErrors:s,opts:l}=a;if(a.props=!0,l.removeAdditional!=="all"&&(0,xd.alwaysValidSchema)(a,r))return;const u=(0,wd.allSchemaProperties)(i.properties),c=(0,wd.allSchemaProperties)(i.patternProperties);h(),e.ok((0,Pa._)`${n} === ${_H.default.errors}`);function h(){t.forIn("key",o,g=>{!u.length&&!c.length?m(g):t.if(v(g),()=>m(g))})}function v(g){let p;if(u.length>8){const d=(0,xd.schemaRefOrVal)(a,i.properties,"properties");p=(0,wd.isOwnProperty)(t,d,g)}else u.length?p=(0,Pa.or)(...u.map(d=>(0,Pa._)`${g} === ${d}`)):p=Pa.nil;return c.length&&(p=(0,Pa.or)(p,...c.map(d=>(0,Pa._)`${(0,wd.usePattern)(e,d)}.test(${g})`))),(0,Pa.not)(p)}function f(g){t.code((0,Pa._)`delete ${o}[${g}]`)}function m(g){if(l.removeAdditional==="all"||l.removeAdditional&&r===!1){f(g);return}if(r===!1){e.setParams({additionalProperty:g}),e.error(),s||t.break();return}if(typeof r=="object"&&!(0,xd.alwaysValidSchema)(a,r)){const p=t.name("valid");l.removeAdditional==="failing"?(_(g,p,!1),t.if((0,Pa.not)(p),()=>{e.reset(),f(g)})):(_(g,p),s||t.if((0,Pa.not)(p),()=>t.break()))}}function _(g,p,d){const b={keyword:"additionalProperties",dataProp:g,dataPropType:xd.Type.Str};d===!1&&Object.assign(b,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(b,p)}}};vv.default=wH;var A_={};Object.defineProperty(A_,"__esModule",{value:!0});const xH=Wa,v3=Kr,f0=en,m3=vv,SH={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,parentSchema:i,data:o,it:n}=e;n.opts.removeAdditional==="all"&&i.additionalProperties===void 0&&m3.default.code(new xH.KeywordCxt(n,m3.default,"additionalProperties"));const a=(0,v3.allSchemaProperties)(r);for(const h of a)n.definedProperties.add(h);n.opts.unevaluated&&a.length&&n.props!==!0&&(n.props=f0.mergeEvaluated.props(t,(0,f0.toHash)(a),n.props));const s=a.filter(h=>!(0,f0.alwaysValidSchema)(n,r[h]));if(s.length===0)return;const l=t.name("valid");for(const h of s)u(h)?c(h):(t.if((0,v3.propertyInData)(t,o,h,n.opts.ownProperties)),c(h),n.allErrors||t.else().var(l,!0),t.endIf()),e.it.definedProperties.add(h),e.ok(l);function u(h){return n.opts.useDefaults&&!n.compositeRule&&r[h].default!==void 0}function c(h){e.subschema({keyword:"properties",schemaProp:h,dataProp:h},l)}}};A_.default=SH;var k_={};Object.defineProperty(k_,"__esModule",{value:!0});const g3=Kr,Sd=Br,y3=en,_3=en,CH={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,data:i,parentSchema:o,it:n}=e,{opts:a}=n,s=(0,g3.allSchemaProperties)(r),l=s.filter(_=>(0,y3.alwaysValidSchema)(n,r[_]));if(s.length===0||l.length===s.length&&(!n.opts.unevaluated||n.props===!0))return;const u=a.strictSchema&&!a.allowMatchingProperties&&o.properties,c=t.name("valid");n.props!==!0&&!(n.props instanceof Sd.Name)&&(n.props=(0,_3.evaluatedPropsToName)(t,n.props));const{props:h}=n;v();function v(){for(const _ of s)u&&f(_),n.allErrors?m(_):(t.var(c,!0),m(_),t.if(c))}function f(_){for(const g in u)new RegExp(_).test(g)&&(0,y3.checkStrictMode)(n,`property ${g} matches pattern ${_} (use allowMatchingProperties)`)}function m(_){t.forIn("key",i,g=>{t.if((0,Sd._)`${(0,g3.usePattern)(e,_)}.test(${g})`,()=>{const p=l.includes(_);p||e.subschema({keyword:"patternProperties",schemaProp:_,dataProp:g,dataPropType:_3.Type.Str},c),n.opts.unevaluated&&h!==!0?t.assign((0,Sd._)`${h}[${g}]`,!0):!p&&!n.allErrors&&t.if((0,Sd.not)(c),()=>t.break())})})}}};k_.default=CH;var M_={};Object.defineProperty(M_,"__esModule",{value:!0});const TH=en,AH={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:r,it:i}=e;if((0,TH.alwaysValidSchema)(i,r)){e.fail();return}const o=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},o),e.failResult(o,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};M_.default=AH;var E_={};Object.defineProperty(E_,"__esModule",{value:!0});const kH=Kr,MH={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:kH.validateUnion,error:{message:"must match a schema in anyOf"}};E_.default=MH;var L_={};Object.defineProperty(L_,"__esModule",{value:!0});const eh=Br,EH=en,LH={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,eh._)`{passingSchemas: ${e.passing}}`},DH={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:LH,code(e){const{gen:t,schema:r,parentSchema:i,it:o}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(o.opts.discriminator&&i.discriminator)return;const n=r,a=t.let("valid",!1),s=t.let("passing",null),l=t.name("_valid");e.setParams({passing:s}),t.block(u),e.result(a,()=>e.reset(),()=>e.error(!0));function u(){n.forEach((c,h)=>{let v;(0,EH.alwaysValidSchema)(o,c)?t.var(l,!0):v=e.subschema({keyword:"oneOf",schemaProp:h,compositeRule:!0},l),h>0&&t.if((0,eh._)`${l} && ${a}`).assign(a,!1).assign(s,(0,eh._)`[${s}, ${h}]`).else(),t.if(l,()=>{t.assign(a,!0),t.assign(s,h),v&&e.mergeEvaluated(v,eh.Name)})})}}};L_.default=DH;var D_={};Object.defineProperty(D_,"__esModule",{value:!0});const PH=en,RH={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:r,it:i}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const o=t.name("valid");r.forEach((n,a)=>{if((0,PH.alwaysValidSchema)(i,n))return;const s=e.subschema({keyword:"allOf",schemaProp:a},o);e.ok(o),e.mergeEvaluated(s)})}};D_.default=RH;var P_={};Object.defineProperty(P_,"__esModule",{value:!0});const Yh=Br,n4=en,OH={message:({params:e})=>(0,Yh.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,Yh._)`{failingKeyword: ${e.ifClause}}`},IH={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:OH,code(e){const{gen:t,parentSchema:r,it:i}=e;r.then===void 0&&r.else===void 0&&(0,n4.checkStrictMode)(i,'"if" without "then" and "else" is ignored');const o=b3(i,"then"),n=b3(i,"else");if(!o&&!n)return;const a=t.let("valid",!0),s=t.name("_valid");if(l(),e.reset(),o&&n){const c=t.let("ifClause");e.setParams({ifClause:c}),t.if(s,u("then",c),u("else",c))}else o?t.if(s,u("then")):t.if((0,Yh.not)(s),u("else"));e.pass(a,()=>e.error(!0));function l(){const c=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},s);e.mergeEvaluated(c)}function u(c,h){return()=>{const v=e.subschema({keyword:c},s);t.assign(a,s),e.mergeValidEvaluated(v,a),h?t.assign(h,(0,Yh._)`${c}`):e.setParams({ifClause:c})}}}};function b3(e,t){const r=e.schema[t];return r!==void 0&&!(0,n4.alwaysValidSchema)(e,r)}P_.default=IH;var R_={};Object.defineProperty(R_,"__esModule",{value:!0});const NH=en,FH={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,NH.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};R_.default=FH;Object.defineProperty(w_,"__esModule",{value:!0});const $H=Pu,zH=x_,HH=Ru,BH=S_,jH=C_,UH=pv,WH=T_,VH=vv,GH=A_,YH=k_,KH=M_,XH=E_,ZH=L_,JH=D_,QH=P_,qH=R_;function eB(e=!1){const t=[KH.default,XH.default,ZH.default,JH.default,QH.default,qH.default,WH.default,VH.default,UH.default,GH.default,YH.default];return e?t.push(zH.default,BH.default):t.push($H.default,HH.default),t.push(jH.default),t}w_.default=eB;var O_={},Ou={};Object.defineProperty(Ou,"__esModule",{value:!0});Ou.dynamicAnchor=void 0;const d0=Br,tB=ha,w3=Oi,rB=Do,nB={keyword:"$dynamicAnchor",schemaType:"string",code:e=>i4(e,e.schema)};function i4(e,t){const{gen:r,it:i}=e;i.schemaEnv.root.dynamicAnchors[t]=!0;const o=(0,d0._)`${tB.default.dynamicAnchors}${(0,d0.getProperty)(t)}`,n=i.errSchemaPath==="#"?i.validateName:iB(e);r.if((0,d0._)`!${o}`,()=>r.assign(o,n))}Ou.dynamicAnchor=i4;function iB(e){const{schemaEnv:t,schema:r,self:i}=e.it,{root:o,baseId:n,localRefs:a,meta:s}=t.root,{schemaId:l}=i.opts,u=new w3.SchemaEnv({schema:r,schemaId:l,root:o,baseId:n,localRefs:a,meta:s});return w3.compileSchema.call(i,u),(0,rB.getValidate)(e,u)}Ou.default=nB;var Iu={};Object.defineProperty(Iu,"__esModule",{value:!0});Iu.dynamicRef=void 0;const x3=Br,aB=ha,S3=Do,oB={keyword:"$dynamicRef",schemaType:"string",code:e=>a4(e,e.schema)};function a4(e,t){const{gen:r,keyword:i,it:o}=e;if(t[0]!=="#")throw new Error(`"${i}" only supports hash fragment reference`);const n=t.slice(1);if(o.allErrors)a();else{const l=r.let("valid",!1);a(l),e.ok(l)}function a(l){if(o.schemaEnv.root.dynamicAnchors[n]){const u=r.let("_v",(0,x3._)`${aB.default.dynamicAnchors}${(0,x3.getProperty)(n)}`);r.if(u,s(u,l),s(o.validateName,l))}else s(o.validateName,l)()}function s(l,u){return u?()=>r.block(()=>{(0,S3.callRef)(e,l),r.let(u,!0)}):()=>(0,S3.callRef)(e,l)}}Iu.dynamicRef=a4;Iu.default=oB;var I_={};Object.defineProperty(I_,"__esModule",{value:!0});const sB=Ou,lB=en,uB={keyword:"$recursiveAnchor",schemaType:"boolean",code(e){e.schema?(0,sB.dynamicAnchor)(e,""):(0,lB.checkStrictMode)(e.it,"$recursiveAnchor: false is ignored")}};I_.default=uB;var N_={};Object.defineProperty(N_,"__esModule",{value:!0});const cB=Iu,fB={keyword:"$recursiveRef",schemaType:"string",code:e=>(0,cB.dynamicRef)(e,e.schema)};N_.default=fB;Object.defineProperty(O_,"__esModule",{value:!0});const dB=Ou,hB=Iu,pB=I_,vB=N_,mB=[dB.default,hB.default,pB.default,vB.default];O_.default=mB;var F_={},$_={};Object.defineProperty($_,"__esModule",{value:!0});const C3=pv,gB={keyword:"dependentRequired",type:"object",schemaType:"object",error:C3.error,code:e=>(0,C3.validatePropertyDeps)(e)};$_.default=gB;var z_={};Object.defineProperty(z_,"__esModule",{value:!0});const yB=pv,_B={keyword:"dependentSchemas",type:"object",schemaType:"object",code:e=>(0,yB.validateSchemaDeps)(e)};z_.default=_B;var H_={};Object.defineProperty(H_,"__esModule",{value:!0});const bB=en,wB={keyword:["maxContains","minContains"],type:"array",schemaType:"number",code({keyword:e,parentSchema:t,it:r}){t.contains===void 0&&(0,bB.checkStrictMode)(r,`"${e}" without "contains" is ignored`)}};H_.default=wB;Object.defineProperty(F_,"__esModule",{value:!0});const xB=$_,SB=z_,CB=H_,TB=[xB.default,SB.default,CB.default];F_.default=TB;var B_={},j_={};Object.defineProperty(j_,"__esModule",{value:!0});const Wo=Br,T3=en,AB=ha,kB={message:"must NOT have unevaluated properties",params:({params:e})=>(0,Wo._)`{unevaluatedProperty: ${e.unevaluatedProperty}}`},MB={keyword:"unevaluatedProperties",type:"object",schemaType:["boolean","object"],trackErrors:!0,error:kB,code(e){const{gen:t,schema:r,data:i,errsCount:o,it:n}=e;if(!o)throw new Error("ajv implementation error");const{allErrors:a,props:s}=n;s instanceof Wo.Name?t.if((0,Wo._)`${s} !== true`,()=>t.forIn("key",i,h=>t.if(u(s,h),()=>l(h)))):s!==!0&&t.forIn("key",i,h=>s===void 0?l(h):t.if(c(s,h),()=>l(h))),n.props=!0,e.ok((0,Wo._)`${o} === ${AB.default.errors}`);function l(h){if(r===!1){e.setParams({unevaluatedProperty:h}),e.error(),a||t.break();return}if(!(0,T3.alwaysValidSchema)(n,r)){const v=t.name("valid");e.subschema({keyword:"unevaluatedProperties",dataProp:h,dataPropType:T3.Type.Str},v),a||t.if((0,Wo.not)(v),()=>t.break())}}function u(h,v){return(0,Wo._)`!${h} || !${h}[${v}]`}function c(h,v){const f=[];for(const m in h)h[m]===!0&&f.push((0,Wo._)`${v} !== ${m}`);return(0,Wo.and)(...f)}}};j_.default=MB;var U_={};Object.defineProperty(U_,"__esModule",{value:!0});const Ws=Br,A3=en,EB={message:({params:{len:e}})=>(0,Ws.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Ws._)`{limit: ${e}}`},LB={keyword:"unevaluatedItems",type:"array",schemaType:["boolean","object"],error:EB,code(e){const{gen:t,schema:r,data:i,it:o}=e,n=o.items||0;if(n===!0)return;const a=t.const("len",(0,Ws._)`${i}.length`);if(r===!1)e.setParams({len:n}),e.fail((0,Ws._)`${a} > ${n}`);else if(typeof r=="object"&&!(0,A3.alwaysValidSchema)(o,r)){const l=t.var("valid",(0,Ws._)`${a} <= ${n}`);t.if((0,Ws.not)(l),()=>s(l,n)),e.ok(l)}o.items=!0;function s(l,u){t.forRange("i",u,a,c=>{e.subschema({keyword:"unevaluatedItems",dataProp:c,dataPropType:A3.Type.Num},l),o.allErrors||t.if((0,Ws.not)(l),()=>t.break())})}}};U_.default=LB;Object.defineProperty(B_,"__esModule",{value:!0});const DB=j_,PB=U_,RB=[DB.default,PB.default];B_.default=RB;var W_={},V_={};Object.defineProperty(V_,"__esModule",{value:!0});const Bn=Br,OB={message:({schemaCode:e})=>(0,Bn.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,Bn._)`{format: ${e}}`},IB={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:OB,code(e,t){const{gen:r,data:i,$data:o,schema:n,schemaCode:a,it:s}=e,{opts:l,errSchemaPath:u,schemaEnv:c,self:h}=s;if(!l.validateFormats)return;o?v():f();function v(){const m=r.scopeValue("formats",{ref:h.formats,code:l.code.formats}),_=r.const("fDef",(0,Bn._)`${m}[${a}]`),g=r.let("fType"),p=r.let("format");r.if((0,Bn._)`typeof ${_} == "object" && !(${_} instanceof RegExp)`,()=>r.assign(g,(0,Bn._)`${_}.type || "string"`).assign(p,(0,Bn._)`${_}.validate`),()=>r.assign(g,(0,Bn._)`"string"`).assign(p,_)),e.fail$data((0,Bn.or)(d(),b()));function d(){return l.strictSchema===!1?Bn.nil:(0,Bn._)`${a} && !${p}`}function b(){const y=c.$async?(0,Bn._)`(${_}.async ? await ${p}(${i}) : ${p}(${i}))`:(0,Bn._)`${p}(${i})`,x=(0,Bn._)`(typeof ${p} == "function" ? ${y} : ${p}.test(${i}))`;return(0,Bn._)`${p} && ${p} !== true && ${g} === ${t} && !${x}`}}function f(){const m=h.formats[n];if(!m){d();return}if(m===!0)return;const[_,g,p]=b(m);_===t&&e.pass(y());function d(){if(l.strictSchema===!1){h.logger.warn(x());return}throw new Error(x());function x(){return`unknown format "${n}" ignored in schema at path "${u}"`}}function b(x){const w=x instanceof RegExp?(0,Bn.regexpCode)(x):l.code.formats?(0,Bn._)`${l.code.formats}${(0,Bn.getProperty)(n)}`:void 0,C=r.scopeValue("formats",{key:n,ref:x,code:w});return typeof x=="object"&&!(x instanceof RegExp)?[x.type||"string",x.validate,(0,Bn._)`${C}.validate`]:["string",x,C]}function y(){if(typeof m=="object"&&!(m instanceof RegExp)&&m.async){if(!c.$async)throw new Error("async format in sync schema");return(0,Bn._)`await ${p}(${i})`}return typeof g=="function"?(0,Bn._)`${p}(${i})`:(0,Bn._)`${p}.test(${i})`}}}};V_.default=IB;Object.defineProperty(W_,"__esModule",{value:!0});const NB=V_,FB=[NB.default];W_.default=FB;var yu={};Object.defineProperty(yu,"__esModule",{value:!0});yu.contentVocabulary=yu.metadataVocabulary=void 0;yu.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];yu.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(o_,"__esModule",{value:!0});const $B=s_,zB=u_,HB=w_,BB=O_,jB=F_,UB=B_,WB=W_,k3=yu,VB=[BB.default,$B.default,zB.default,(0,HB.default)(!0),WB.default,k3.metadataVocabulary,k3.contentVocabulary,jB.default,UB.default];o_.default=VB;var G_={},o4={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0,function(t){t.Tag="tag",t.Mapping="mapping"}(e.DiscrError||(e.DiscrError={}))})(o4);Object.defineProperty(G_,"__esModule",{value:!0});const kl=Br,Qg=o4,M3=Oi,GB=en,YB={message:({params:{discrError:e,tagName:t}})=>e===Qg.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,kl._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},KB={keyword:"discriminator",type:"object",schemaType:"object",error:YB,code(e){const{gen:t,data:r,schema:i,parentSchema:o,it:n}=e,{oneOf:a}=o;if(!n.opts.discriminator)throw new Error("discriminator: requires discriminator option");const s=i.propertyName;if(typeof s!="string")throw new Error("discriminator: requires propertyName");if(i.mapping)throw new Error("discriminator: mapping is not supported");if(!a)throw new Error("discriminator: requires oneOf keyword");const l=t.let("valid",!1),u=t.const("tag",(0,kl._)`${r}${(0,kl.getProperty)(s)}`);t.if((0,kl._)`typeof ${u} == "string"`,()=>c(),()=>e.error(!1,{discrError:Qg.DiscrError.Tag,tag:u,tagName:s})),e.ok(l);function c(){const f=v();t.if(!1);for(const m in f)t.elseIf((0,kl._)`${u} === ${m}`),t.assign(l,h(f[m]));t.else(),e.error(!1,{discrError:Qg.DiscrError.Mapping,tag:u,tagName:s}),t.endIf()}function h(f){const m=t.name("valid"),_=e.subschema({keyword:"oneOf",schemaProp:f},m);return e.mergeEvaluated(_,kl.Name),m}function v(){var f;const m={},_=p(o);let g=!0;for(let y=0;y<a.length;y++){let x=a[y];x!=null&&x.$ref&&!(0,GB.schemaHasRulesButRef)(x,n.self.RULES)&&(x=M3.resolveRef.call(n.self,n.schemaEnv.root,n.baseId,x==null?void 0:x.$ref),x instanceof M3.SchemaEnv&&(x=x.schema));const w=(f=x==null?void 0:x.properties)===null||f===void 0?void 0:f[s];if(typeof w!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${s}"`);g=g&&(_||p(x)),d(w,y)}if(!g)throw new Error(`discriminator: "${s}" must be required`);return m;function p({required:y}){return Array.isArray(y)&&y.includes(s)}function d(y,x){if(y.const)b(y.const,x);else if(y.enum)for(const w of y.enum)b(w,x);else throw new Error(`discriminator: "properties/${s}" must have "const" or "enum"`)}function b(y,x){if(typeof y!="string"||y in m)throw new Error(`discriminator: "${s}" values must be unique strings`);m[y]=x}}}};G_.default=KB;var Y_={};const XB="https://json-schema.org/draft/2020-12/schema",ZB="https://json-schema.org/draft/2020-12/schema",JB={"https://json-schema.org/draft/2020-12/vocab/core":!0,"https://json-schema.org/draft/2020-12/vocab/applicator":!0,"https://json-schema.org/draft/2020-12/vocab/unevaluated":!0,"https://json-schema.org/draft/2020-12/vocab/validation":!0,"https://json-schema.org/draft/2020-12/vocab/meta-data":!0,"https://json-schema.org/draft/2020-12/vocab/format-annotation":!0,"https://json-schema.org/draft/2020-12/vocab/content":!0},QB="meta",qB="Core and Validation specifications meta-schema",ej=[{$ref:"meta/core"},{$ref:"meta/applicator"},{$ref:"meta/unevaluated"},{$ref:"meta/validation"},{$ref:"meta/meta-data"},{$ref:"meta/format-annotation"},{$ref:"meta/content"}],tj=["object","boolean"],rj="This meta-schema also defines keywords that have appeared in previous drafts in order to prevent incompatible extensions as they remain in common use.",nj={definitions:{$comment:'"definitions" has been replaced by "$defs".',type:"object",additionalProperties:{$dynamicRef:"#meta"},deprecated:!0,default:{}},dependencies:{$comment:'"dependencies" has been split and replaced by "dependentSchemas" and "dependentRequired" in order to serve their differing semantics.',type:"object",additionalProperties:{anyOf:[{$dynamicRef:"#meta"},{$ref:"meta/validation#/$defs/stringArray"}]},deprecated:!0,default:{}},$recursiveAnchor:{$comment:'"$recursiveAnchor" has been replaced by "$dynamicAnchor".',$ref:"meta/core#/$defs/anchorString",deprecated:!0},$recursiveRef:{$comment:'"$recursiveRef" has been replaced by "$dynamicRef".',$ref:"meta/core#/$defs/uriReferenceString",deprecated:!0}},ij={$schema:XB,$id:ZB,$vocabulary:JB,$dynamicAnchor:QB,title:qB,allOf:ej,type:tj,$comment:rj,properties:nj},aj="https://json-schema.org/draft/2020-12/schema",oj="https://json-schema.org/draft/2020-12/meta/applicator",sj={"https://json-schema.org/draft/2020-12/vocab/applicator":!0},lj="meta",uj="Applicator vocabulary meta-schema",cj=["object","boolean"],fj={prefixItems:{$ref:"#/$defs/schemaArray"},items:{$dynamicRef:"#meta"},contains:{$dynamicRef:"#meta"},additionalProperties:{$dynamicRef:"#meta"},properties:{type:"object",additionalProperties:{$dynamicRef:"#meta"},default:{}},patternProperties:{type:"object",additionalProperties:{$dynamicRef:"#meta"},propertyNames:{format:"regex"},default:{}},dependentSchemas:{type:"object",additionalProperties:{$dynamicRef:"#meta"},default:{}},propertyNames:{$dynamicRef:"#meta"},if:{$dynamicRef:"#meta"},then:{$dynamicRef:"#meta"},else:{$dynamicRef:"#meta"},allOf:{$ref:"#/$defs/schemaArray"},anyOf:{$ref:"#/$defs/schemaArray"},oneOf:{$ref:"#/$defs/schemaArray"},not:{$dynamicRef:"#meta"}},dj={schemaArray:{type:"array",minItems:1,items:{$dynamicRef:"#meta"}}},hj={$schema:aj,$id:oj,$vocabulary:sj,$dynamicAnchor:lj,title:uj,type:cj,properties:fj,$defs:dj},pj="https://json-schema.org/draft/2020-12/schema",vj="https://json-schema.org/draft/2020-12/meta/unevaluated",mj={"https://json-schema.org/draft/2020-12/vocab/unevaluated":!0},gj="meta",yj="Unevaluated applicator vocabulary meta-schema",_j=["object","boolean"],bj={unevaluatedItems:{$dynamicRef:"#meta"},unevaluatedProperties:{$dynamicRef:"#meta"}},wj={$schema:pj,$id:vj,$vocabulary:mj,$dynamicAnchor:gj,title:yj,type:_j,properties:bj},xj="https://json-schema.org/draft/2020-12/schema",Sj="https://json-schema.org/draft/2020-12/meta/content",Cj={"https://json-schema.org/draft/2020-12/vocab/content":!0},Tj="meta",Aj="Content vocabulary meta-schema",kj=["object","boolean"],Mj={contentEncoding:{type:"string"},contentMediaType:{type:"string"},contentSchema:{$dynamicRef:"#meta"}},Ej={$schema:xj,$id:Sj,$vocabulary:Cj,$dynamicAnchor:Tj,title:Aj,type:kj,properties:Mj},Lj="https://json-schema.org/draft/2020-12/schema",Dj="https://json-schema.org/draft/2020-12/meta/core",Pj={"https://json-schema.org/draft/2020-12/vocab/core":!0},Rj="meta",Oj="Core vocabulary meta-schema",Ij=["object","boolean"],Nj={$id:{$ref:"#/$defs/uriReferenceString",$comment:"Non-empty fragments not allowed.",pattern:"^[^#]*#?$"},$schema:{$ref:"#/$defs/uriString"},$ref:{$ref:"#/$defs/uriReferenceString"},$anchor:{$ref:"#/$defs/anchorString"},$dynamicRef:{$ref:"#/$defs/uriReferenceString"},$dynamicAnchor:{$ref:"#/$defs/anchorString"},$vocabulary:{type:"object",propertyNames:{$ref:"#/$defs/uriString"},additionalProperties:{type:"boolean"}},$comment:{type:"string"},$defs:{type:"object",additionalProperties:{$dynamicRef:"#meta"}}},Fj={anchorString:{type:"string",pattern:"^[A-Za-z_][-A-Za-z0-9._]*$"},uriString:{type:"string",format:"uri"},uriReferenceString:{type:"string",format:"uri-reference"}},$j={$schema:Lj,$id:Dj,$vocabulary:Pj,$dynamicAnchor:Rj,title:Oj,type:Ij,properties:Nj,$defs:Fj},zj="https://json-schema.org/draft/2020-12/schema",Hj="https://json-schema.org/draft/2020-12/meta/format-annotation",Bj={"https://json-schema.org/draft/2020-12/vocab/format-annotation":!0},jj="meta",Uj="Format vocabulary meta-schema for annotation results",Wj=["object","boolean"],Vj={format:{type:"string"}},Gj={$schema:zj,$id:Hj,$vocabulary:Bj,$dynamicAnchor:jj,title:Uj,type:Wj,properties:Vj},Yj="https://json-schema.org/draft/2020-12/schema",Kj="https://json-schema.org/draft/2020-12/meta/meta-data",Xj={"https://json-schema.org/draft/2020-12/vocab/meta-data":!0},Zj="meta",Jj="Meta-data vocabulary meta-schema",Qj=["object","boolean"],qj={title:{type:"string"},description:{type:"string"},default:!0,deprecated:{type:"boolean",default:!1},readOnly:{type:"boolean",default:!1},writeOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0}},eU={$schema:Yj,$id:Kj,$vocabulary:Xj,$dynamicAnchor:Zj,title:Jj,type:Qj,properties:qj},tU="https://json-schema.org/draft/2020-12/schema",rU="https://json-schema.org/draft/2020-12/meta/validation",nU={"https://json-schema.org/draft/2020-12/vocab/validation":!0},iU="meta",aU="Validation vocabulary meta-schema",oU=["object","boolean"],sU={type:{anyOf:[{$ref:"#/$defs/simpleTypes"},{type:"array",items:{$ref:"#/$defs/simpleTypes"},minItems:1,uniqueItems:!0}]},const:!0,enum:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/$defs/nonNegativeInteger"},minLength:{$ref:"#/$defs/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},maxItems:{$ref:"#/$defs/nonNegativeInteger"},minItems:{$ref:"#/$defs/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},maxContains:{$ref:"#/$defs/nonNegativeInteger"},minContains:{$ref:"#/$defs/nonNegativeInteger",default:1},maxProperties:{$ref:"#/$defs/nonNegativeInteger"},minProperties:{$ref:"#/$defs/nonNegativeIntegerDefault0"},required:{$ref:"#/$defs/stringArray"},dependentRequired:{type:"object",additionalProperties:{$ref:"#/$defs/stringArray"}}},lU={nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{$ref:"#/$defs/nonNegativeInteger",default:0},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},uU={$schema:tU,$id:rU,$vocabulary:nU,$dynamicAnchor:iU,title:aU,type:oU,properties:sU,$defs:lU};Object.defineProperty(Y_,"__esModule",{value:!0});const cU=ij,fU=hj,dU=wj,hU=Ej,pU=$j,vU=Gj,mU=eU,gU=uU,yU=["/properties"];function _U(e){return[cU,fU,dU,hU,pU,t(this,vU),mU,t(this,gU)].forEach(r=>this.addMetaSchema(r,void 0,!1)),this;function t(r,i){return e?r.$dataMetaSchema(i,yU):i}}Y_.default=_U;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const r=Ak,i=o_,o=G_,n=Y_,a="https://json-schema.org/draft/2020-12/schema";class s extends r.default{constructor(h={}){super({...h,dynamicRef:!0,next:!0,unevaluated:!0})}_addVocabularies(){super._addVocabularies(),i.default.forEach(h=>this.addVocabulary(h)),this.opts.discriminator&&this.addKeyword(o.default)}_addDefaultMetaSchema(){super._addDefaultMetaSchema();const{$data:h,meta:v}=this.opts;v&&(n.default.call(this,h),this.refs["http://json-schema.org/schema"]=a)}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(a)?a:void 0)}}e.exports=t=s,Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var l=Wa;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return l.KeywordCxt}});var u=Br;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return u._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return u.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return u.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return u.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return u.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return u.CodeGen}})})(Gg,Gg.exports);var bU=Gg.exports;const wU=cl(bU),xU="https://json-schema.org/draft/2020-12/schema",SU="Application Definition",CU="JSON object defining an application in the uPlatform suite",TU="object",AU={application_name:{description:"Name of the application",type:"string"},bitstream:{description:"Name of the bitstream file for this application",type:"string"},channel_groups:{description:"Array of objects that describe a channel group",type:"array",items:{}},channels:{description:"Array of channels that describe a data channel",type:"array",items:{}},clock_frequency:{description:"frequency of the main clock in the FPGA",type:"integer"},initial_registers_values:{description:"array of objects that specify values to be written to specific registers upon FPGA loading",type:"array",items:{}},macro:{description:"Array of user defined macros",type:"array",items:{}},n_enables:{type:"integer"},parameters:{description:"Array of user defined parameters",type:"array",items:{}},peripherals:{description:"Array of channels that describe a peripheral",type:"array",items:{type:"object",properties:{base_address:{description:"Base address of the peripheral, from which all other registers are located",type:"string"},name:{description:"User friendly name of the peripheral",type:"string"},peripheral_id:{description:"Unique ID that identifies the peripheral in the application",type:"string"},proxied:{description:"True if the peripheral is only accessible through some bridge peripheral and not from the main bus",type:"boolean"},proxy_address:{description:"Base address of the proxy peripheral",type:"string"},spec_id:{description:"ID that links this peripheral to the relative specification",type:"string"}},required:["base_address","name","peripheral_id","proxied","spec_id"],if:{properties:{proxied:{enum:[!0]}}},then:{required:["proxy_address"]},else:!0}},timebase_address:{description:"address of the main timebase generator",type:"string"}},kU=["application_name","bitstream","channel_groups","channels","clock_frequency","initial_registers_values","macro","n_enables","parameters","peripherals","timebase_address"],MU={$schema:xU,title:SU,description:CU,type:TU,properties:AU,required:kU},EU="https://json-schema.org/draft/2020-12/schema",LU="object",DU=1,PU={"[a-zA-Z1-9]+":{type:"object",properties:{peripheral_name:{type:"string"},registers:{type:"array",items:{type:"object",properties:{ID:{type:"string"},description:{type:"string"},direction:{type:"string"},fields:{type:"array",items:{type:"object",properties:{description:{type:"string"},length:{type:"integer"},name:{type:"string"},offset:{type:"integer"}},required:["description","length","name","offset"]}},offset:{type:"string"},register_format:{type:"string"},register_name:{type:"string"}},required:["ID","description","direction","offset","register_name"]}},version:{type:"string"}},additionalProperties:!1,required:["peripheral_name","registers","version"]}},RU={$schema:EU,type:LU,minProperties:DU,patternProperties:PU};let s4=(e,t)=>{const i=new wU().compile(t),o=i(e);let n=[];if(!o)for(let a of i.errors)n.push('Error at: "'+a.instancePath+'" --- '+a.message);return[o,n]};const OU=e=>{let t=JSON.parse(e),[r,i]=s4(t,MU);if(r){let o=new Ri(t);return o.add_remote().then(()=>o)}else return Promise.reject(i)},IU=e=>{let t=JSON.parse(e),[r,i]=s4(t,RU);if(r){let o=[];for(const n in t){let a=new Qn(t[n]);o.push(a.add_remote().then(()=>a))}return Promise.all(o)}else return Promise.reject(i)};let Nu=e=>{let t=null;if(e.length===0)return 1;for(var r=1;r<e.length;r++)e[r]-e[r-1]!==1&&(t=e[r-1]+1);return t===null&&(t=e.length+1),t},mv=(e,t)=>{let r=new Blob([JSON.stringify(e,null,4)],{type:"application/json"}),i=URL.createObjectURL(r),o=document.createElement("a");o.href=i,o.download=t,document.body.appendChild(o),o.click(),document.body.removeChild(o)},Sf=()=>new Promise((e,t)=>{let r=document.createElement("input");r.type="file",r.setAttribute("style","display:none"),r.onchange=i=>{let o=i.target.files[0],n=new FileReader;n.readAsText(o,"UTF-8"),n.onload=a=>{let s=a.target.result;e(s)}},document.body.appendChild(r),r.click(),document.body.removeChild(r)}),NU=()=>new Promise((e,t)=>{let r=document.createElement("input");r.type="file",r.setAttribute("style","display:none"),r.onchange=i=>{e(i)},document.body.appendChild(r),r.click(),document.body.removeChild(r)}),Yr=null;const FU=e=>{Yr=e};let $U=function(e){return Je.jsxs("div",{style:{display:"flex",flexDirection:"row"},children:[Je.jsx(Lo,{children:e.name}),e.additionalItems,Je.jsx(_I,{onRemove:e.onRemove})]})};const zU=Xr.div`
    display: flex;
    flex-direction: column;  
    border-color: ${e=>e.theme.background.borders};
    background-color: ${e=>e.theme.background.level_3};
    border-width: 2px;
    padding-left: 0.3em;
    border-style: solid;
`;let HU=function(e){let t=e.selector?Je.jsx(bI,{name:e.selector.name,onClick:e.selector.click,value:e.selector.value,label:e.selector.label}):null;return Je.jsxs(zU,{children:[Je.jsx($U,{name:e.name,onRemove:e.onRemove,additionalItems:t}),e.children]})};const BU=Xr.div`
  display: flex;
  flex-direction: column;
  text-align: center;
  margin-left: auto;
  margin-right: auto;
`,E3=Xr.div`
  margin-top: 1em;
  margin-left: auto;
  margin-right: auto;
  width:15em;
  height: 2px;
  background-color: ${e=>e.theme.background.bordersLight};
`;let vX=e=>{const t=an(f=>f.programs),r=Object.values(t).filter(f=>f.name===e.core.default_program)[0],[i,o]=ot.useState("");let n=f=>{debugger;let m=new Ri(e.application),_=e.core.io.filter(g=>f!==g.name);m.edit_soft_core(e.core.id,"io",_).then(()=>{e.forceUpdate()})},a=()=>{if(e.core.io)return[e.core.io.map(f=>Je.jsx(kA,{delete:!0,onRemove:n,type:f.type,name:f.name,onSelect:o,selected:i===f.name,iconSize:"1em"}))]},s=f=>{if(f.key==="Enter"||f.key==="Tab"){let m=f.target.name,_=f.target.value,g=new Ri(e.application),p=e.core.io.map(d=>{if(i===d.name){let b=d;return b[m]=_,b}return d});g.edit_soft_core(e.core.id,"io",p).then(()=>{e.forceUpdate()})}},l=f=>{let m=new Ri(e.application),_=e.core.io.map(g=>{if(i===g.name){let p=g;return p.type=f.value,p}return g});m.edit_soft_core(e.core.id,"io",_).then(()=>{e.forceUpdate()})},u=f=>{let m=new Ri(e.application),_=e.core.io.map(g=>{if(i===g.name){let p=g;return p.associated_io=f.value,p}return g});m.edit_soft_core(e.core.id,"io",_).then(()=>{e.forceUpdate()})},c=()=>{if(r&&r.build_settings){let f=[];return r.build_settings.io.inputs&&(f=r.build_settings.io.inputs.map(m=>({label:m,value:m}))),r.build_settings.io.outputs&&(f=[...f,...r.build_settings.io.outputs.map(m=>({label:m,value:m}))]),r.build_settings.io.memories&&(f=[...f,...r.build_settings.io.memories.map(m=>({label:m,value:m}))]),f}else return[]},h=()=>{let f=new Ri(e.application),m=e.core.io.map(p=>{const d=/new_io_(\d+)/g;let b=Array.from(p.name.matchAll(d),y=>y[1]);if(b.length>0)return b});m=m.filter(Boolean);let g={name:"new_io_"+Nu(m.sort()),type:"input",associated_io:"",address:0};f.edit_soft_core(e.core.id,"io",[...e.core.io,g]).then(()=>{e.forceUpdate()})},v=()=>{let f=[];return i?(f=e.core.io.filter(m=>m.name===i)[0],Je.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[Je.jsx(Gn,{inline:!0,ID:"name",name:"name",defaultValue:f.name,onKeyDown:s,label:"Name"}),Je.jsx(rf,{inline:!0,label:"Type",onChange:l,value:{value:f.type,label:f.type},defaultValue:"Select Type",name:"type",options:[{label:"input",value:"input"},{label:"output",value:"output"},{label:"memory",value:"memory"}]}),Je.jsx(rf,{inline:!0,label:"Associated Core IO",onChange:u,value:{value:f.associated_io,label:f.associated_io},defaultValue:"select associated IO",name:"assoc_core_io",options:c()}),Je.jsx(Gn,{inline:!0,ID:"address",name:"address",value:f.address,onKeyDown:s,label:"Address"})]})):null};return Je.jsxs("div",{children:[Je.jsx(E3,{}),Je.jsxs(BU,{children:[Je.jsxs("div",{style:{display:"flex",flexDirection:"row",marginTop:"0.25em"},children:[Je.jsx("h3",{children:"Core IO"}),Je.jsx(fI,{style:{marginLeft:"auto"},onClick:h})]}),a()]}),Je.jsx(E3,{}),v()]})};const jU=Xr.div`
  border-radius: 1rem;
  height: fit-content;
  padding: 0.2rem 0 0.4rem 0.6rem;
  margin: 0.1rem 0.5rem;
  width: auto;
  display: flex;
  flex-direction: column;
  background-color: ${e=>e.theme.background.level_4};
`;let UU=e=>{const t=new nf(e.field,e.register.register_name,e.peripheral.peripheral_name),[r,i]=ot.useState(!0);let o=()=>{i(!0)},n=c=>{c.key==="Enter"&&t.edit_name(c.target.value).then(()=>{e.forceUpdate()})},a=()=>{i(!1)},s=c=>{if(c.key==="Enter"||c.key==="Tab")switch(c.target.name){case"description":t.edit_description(c.target.value).then(()=>{e.forceUpdate()});break;case"offset":t.edit_offset(c.target.value).then(()=>{e.forceUpdate()});break;case"length":t.edit_length(c.target.value).then(()=>{e.forceUpdate()});break;default:return}},l=c=>{nf.remove_field(e.peripheral.peripheral_name,e.register.register_name,e.field.field_name).then(()=>{e.forceUpdate()})},u=c=>r?Je.jsxs(SI,{children:[Je.jsx(Gn,{inline:!0,ID:"name",name:"name",defaultValue:c.field.name,onKeyDown:n,label:"Name"}),Je.jsx(Gn,{inline:!0,ID:"description",name:"description",defaultValue:c.field.description,onKeyDown:s,label:"Description"}),Je.jsx(Gn,{inline:!0,ID:"offset",name:"offset",defaultValue:c.field.offset,onKeyDown:s,label:"Address offset"}),Je.jsx(Gn,{inline:!0,ID:"length",name:"length",defaultValue:c.field.length,onKeyDown:s,label:"Field Size"}),Je.jsx(xs,{onClick:l,children:"Remove"})]}):null;return Je.jsxs(jU,{children:[Je.jsxs(xI,{children:[Je.jsx(Lo,{children:e.field.name}),r?Je.jsx(vI,{size:Hr.icons_size,onClick:a,color:Hr.icons_color}):Je.jsx(pI,{size:Hr.icons_size,onClick:o,color:Hr.icons_color})]}),u(e)]})};const WU=Xr.div`
    display: grid;
    grid-template-columns: repeat(2, auto);
    grid-gap: 0.3rem;
    justify-content: space-between;
    align-items: start;
`;let mX=e=>{const t=new vu(e.register,e.peripheral.peripheral_name);let r=a=>{a.key==="Enter"&&t.edit_name(a.target.value).then(()=>{e.forceUpdate()})},i=a=>{t.edit_direction(a.target).then(()=>{e.forceUpdate()})},o=a=>{if(a.key==="Enter"||a.key==="Tab")switch(a.target.name){case"ID":t.edit_id(a.target.value).then(()=>{e.forceUpdate()});break;case"offset":t.edit_offset(a.target.value).then(()=>{e.forceUpdate()});break;case"description":t.edit_description(a.target.value).then(()=>{e.forceUpdate()});break;case"register_name":t.edit_name(a.target.value).then(()=>{e.forceUpdate()});break;default:return}},n=a=>{vu.remove_register(e.peripheral.peripheral_name,e.register.register_name).then(()=>{e.forceUpdate()})};return Je.jsxs(HU,{name:e.register.register_name,onRemove:n,children:[Je.jsx(Gn,{inline:!0,ID:"register_name",name:"register_name",defaultValue:e.register.register_name,onKeyDown:r,label:"Name"}),Je.jsx(Gn,{inline:!0,ID:"ID",name:"ID",defaultValue:e.register.ID,onKeyDown:o,label:"Register ID"}),Je.jsx(Gn,{inline:!0,ID:"offset",name:"offset",defaultValue:e.register.offset,onKeyDown:o,label:"Address offset"}),Je.jsx(Gn,{inline:!0,ID:"description",name:"description",defaultValue:e.register.description,onKeyDown:o,label:"Description"}),Je.jsxs(WU,{children:[Je.jsx(Lo,{children:"Register access capabilities"}),Je.jsxs("div",{children:[Je.jsx(jh,{name:"direction_read",value:e.register.direction.includes("R"),onChange:i,label:"Read"}),Je.jsx(jh,{name:"direction_write",value:e.register.direction.includes("W"),onChange:i,label:"Write"})]})]}),e.register.fields.map(a=>Je.jsx(UU,{peripheral:e.peripheral,forceUpdate:e.forceUpdate,register:e.register,field:a}))]})};const Mi=Xr.div`
  border-radius: 5px;
  overflow:hidden;
  display: flex;
  flex-direction: column;
  background: ${e=>e.theme.background[e.level]};
  border-color: #434343;
  border-width: 2px;
  border-style:solid;
`,VU=Xr.div`
  overflow:hidden;
  width: fit-content;
  cursor: default;
  border-color: ${e=>e.selected?e.theme.background.accents:"#43434300"};
  border-bottom-width: 3px;
  border-top-width: 0;
  border-left-width: 0;
  border-right-width: 0;
  border-style:solid;
`,GU=Xr.div`
  overflow-y:auto;
  overflow-x: hidden;
  border-style:solid;
  border-color: ${e=>e.theme.background.borders};
  border-bottom-width: 0;
  border-top-width: 3px;
  border-left-width: 0;
  border-right-width: 0;
`;let Vi=function(e){return Je.jsxs(Je.Fragment,{children:[Je.jsx(VU,{selected:!0,children:Je.jsx("p",{style:{marginLeft:"0.5em",marginRight:"0.5em",marginTop:"0.25em"},children:e.name})}),Je.jsx(GU,{children:e.content})]})};const gX=Xr.div`
    display: flex;
    flex-direction: row;  
    flex-wrap: wrap;
    gap: 1.2em;
  justify-content: center;
`,YU=Xr.div`
  margin: 0 auto;  
  display: flex;
  flex-direction: row;
  width: fit-content;
`;let KU=e=>{function t(r){let i={id:r.target.name,status:r.target.checked};e.onStatusChange(i)}return Je.jsxs(YU,{children:[Je.jsx(dI,{style:{marginTop:"3px"},color:Hr.plot_palette[e.idx]}),Je.jsx(jh,{style:{marginRight:"0.5rem"},name:e.id,onChange:t,value:e.value,label:e.name})]})};const kn=e=>({type:IA,payload:{name:e[0],value:e[1]}}),XU=Xr.div`
  display: flex;
  justify-content: center;
  flex-direction: row;
`;let ZU=e=>{const t=an(a=>a.settings),r=an(a=>a.applications),[i]=ot.useState(r[t.application].timebase_address),o=ka();let n=a=>{switch(a.target.id){case"play":let s=parseInt(i);Qn.direct_register_write([[s,1]]).then(),o(CF());break;case"pause":o(TF());break;case"stop":o(AF());break}};return Je.jsxs(XU,{children:[Je.jsx(uI,{id:"play",size:Hr.icons_size,color:Hr.icons_color,onClick:n}),Je.jsx(lI,{id:"pause",size:Hr.icons_size,color:Hr.icons_color,onClick:n}),Je.jsx(cI,{id:"stop",size:Hr.icons_size,color:Hr.icons_color,onClick:n})]})},JU=function(e){const t=an(n=>n.plot.data),r=ka();ot.useEffect(()=>{let n=i();Vg(n)},[]);let i=()=>{let n={};return t.map(a=>(n[a.spec.number]=a.visible,0)),n},o=n=>{let a=i(),s=LF(n.id,t);a[parseInt(s)]=n.status,Vg(a);let l=[];for(let u in a)a[u]&&l.push(Hr.plot_palette[parseInt(u)]);r(kn(["plot_palette",{colorway:l}]))};return Je.jsxs("div",{children:[t.map((n,a)=>Je.jsx(KU,{onStatusChange:o,id:n.spec.id,idx:a,name:n.spec.name,value:n.visible},n.spec.id)),Je.jsx(ZU,{})]})};function QU(e,t){const r=ot.useRef();ot.useEffect(()=>{r.current=e},[e]),ot.useEffect(()=>{function i(){r.current()}if(t!==null){let o=setInterval(i,t);return()=>clearInterval(o)}},[t])}function Cd(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var l4={exports:{}};(function(e,t){(function(r){e.exports=r()})(function(){return function(){function r(i,o,n){function a(u,c){if(!o[u]){if(!i[u]){var h=typeof Cd=="function"&&Cd;if(!c&&h)return h(u,!0);if(s)return s(u,!0);var v=new Error("Cannot find module '"+u+"'");throw v.code="MODULE_NOT_FOUND",v}var f=o[u]={exports:{}};i[u][0].call(f.exports,function(m){var _=i[u][1][m];return a(_||m)},f,f.exports,r,i,o,n)}return o[u].exports}for(var s=typeof Cd=="function"&&Cd,l=0;l<n.length;l++)a(n[l]);return a}return r}()({1:[function(r,i,o){var n=r("../src/lib"),a={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var s in a){var l=s.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");n.addStyleRule(l,a[s])}},{"../src/lib":244}],2:[function(r,i,o){i.exports=r("../src/transforms/aggregate")},{"../src/transforms/aggregate":395}],3:[function(r,i,o){i.exports=r("../src/traces/bar")},{"../src/traces/bar":345}],4:[function(r,i,o){i.exports=r("../src/components/calendars")},{"../src/components/calendars":101}],5:[function(r,i,o){i.exports=r("../src/core")},{"../src/core":226}],6:[function(r,i,o){i.exports=r("../src/transforms/filter")},{"../src/transforms/filter":396}],7:[function(r,i,o){i.exports=r("../src/transforms/groupby")},{"../src/transforms/groupby":397}],8:[function(r,i,o){var n=r("./core");n.register([r("./bar"),r("./pie"),r("./aggregate"),r("./filter"),r("./groupby"),r("./sort"),r("./calendars")]),i.exports=n},{"./aggregate":2,"./bar":3,"./calendars":4,"./core":5,"./filter":6,"./groupby":7,"./pie":9,"./sort":10}],9:[function(r,i,o){i.exports=r("../src/traces/pie")},{"../src/traces/pie":360}],10:[function(r,i,o){i.exports=r("../src/transforms/sort")},{"../src/transforms/sort":399}],11:[function(r,i,o){(function(){var n={version:"3.8.0"},a=[].slice,s=function(A){return a.call(A)},l=self.document;function u(A){return A&&(A.ownerDocument||A.document||A).documentElement}function c(A){return A&&(A.ownerDocument&&A.ownerDocument.defaultView||A.document&&A||A.defaultView)}if(l)try{s(l.documentElement.childNodes)[0].nodeType}catch{s=function($){for(var X=$.length,ne=new Array(X);X--;)ne[X]=$[X];return ne}}if(Date.now||(Date.now=function(){return+new Date}),l)try{l.createElement("DIV").style.setProperty("opacity",0,"")}catch{var h=this.Element.prototype,v=h.setAttribute,f=h.setAttributeNS,m=this.CSSStyleDeclaration.prototype,_=m.setProperty;h.setAttribute=function($,X){v.call(this,$,X+"")},h.setAttributeNS=function($,X,ne){f.call(this,$,X,ne+"")},m.setProperty=function($,X,ne){_.call(this,$,X+"",ne)}}n.ascending=g;function g(A,$){return A<$?-1:A>$?1:A>=$?0:NaN}n.descending=function(A,$){return $<A?-1:$>A?1:$>=A?0:NaN},n.min=function(A,$){var X=-1,ne=A.length,ae,oe;if(arguments.length===1){for(;++X<ne;)if((oe=A[X])!=null&&oe>=oe){ae=oe;break}for(;++X<ne;)(oe=A[X])!=null&&ae>oe&&(ae=oe)}else{for(;++X<ne;)if((oe=$.call(A,A[X],X))!=null&&oe>=oe){ae=oe;break}for(;++X<ne;)(oe=$.call(A,A[X],X))!=null&&ae>oe&&(ae=oe)}return ae},n.max=function(A,$){var X=-1,ne=A.length,ae,oe;if(arguments.length===1){for(;++X<ne;)if((oe=A[X])!=null&&oe>=oe){ae=oe;break}for(;++X<ne;)(oe=A[X])!=null&&oe>ae&&(ae=oe)}else{for(;++X<ne;)if((oe=$.call(A,A[X],X))!=null&&oe>=oe){ae=oe;break}for(;++X<ne;)(oe=$.call(A,A[X],X))!=null&&oe>ae&&(ae=oe)}return ae},n.extent=function(A,$){var X=-1,ne=A.length,ae,oe,_e;if(arguments.length===1){for(;++X<ne;)if((oe=A[X])!=null&&oe>=oe){ae=_e=oe;break}for(;++X<ne;)(oe=A[X])!=null&&(ae>oe&&(ae=oe),_e<oe&&(_e=oe))}else{for(;++X<ne;)if((oe=$.call(A,A[X],X))!=null&&oe>=oe){ae=_e=oe;break}for(;++X<ne;)(oe=$.call(A,A[X],X))!=null&&(ae>oe&&(ae=oe),_e<oe&&(_e=oe))}return[ae,_e]};function p(A){return A===null?NaN:+A}function d(A){return!isNaN(A)}n.sum=function(A,$){var X=0,ne=A.length,ae,oe=-1;if(arguments.length===1)for(;++oe<ne;)d(ae=+A[oe])&&(X+=ae);else for(;++oe<ne;)d(ae=+$.call(A,A[oe],oe))&&(X+=ae);return X},n.mean=function(A,$){var X=0,ne=A.length,ae,oe=-1,_e=ne;if(arguments.length===1)for(;++oe<ne;)d(ae=p(A[oe]))?X+=ae:--_e;else for(;++oe<ne;)d(ae=p($.call(A,A[oe],oe)))?X+=ae:--_e;if(_e)return X/_e},n.quantile=function(A,$){var X=(A.length-1)*$+1,ne=Math.floor(X),ae=+A[ne-1],oe=X-ne;return oe?ae+oe*(A[ne]-ae):ae},n.median=function(A,$){var X=[],ne=A.length,ae,oe=-1;if(arguments.length===1)for(;++oe<ne;)d(ae=p(A[oe]))&&X.push(ae);else for(;++oe<ne;)d(ae=p($.call(A,A[oe],oe)))&&X.push(ae);if(X.length)return n.quantile(X.sort(g),.5)},n.variance=function(A,$){var X=A.length,ne=0,ae,oe,_e=0,ve=-1,we=0;if(arguments.length===1)for(;++ve<X;)d(ae=p(A[ve]))&&(oe=ae-ne,ne+=oe/++we,_e+=oe*(ae-ne));else for(;++ve<X;)d(ae=p($.call(A,A[ve],ve)))&&(oe=ae-ne,ne+=oe/++we,_e+=oe*(ae-ne));if(we>1)return _e/(we-1)},n.deviation=function(){var A=n.variance.apply(this,arguments);return A&&Math.sqrt(A)};function b(A){return{left:function($,X,ne,ae){for(arguments.length<3&&(ne=0),arguments.length<4&&(ae=$.length);ne<ae;){var oe=ne+ae>>>1;A($[oe],X)<0?ne=oe+1:ae=oe}return ne},right:function($,X,ne,ae){for(arguments.length<3&&(ne=0),arguments.length<4&&(ae=$.length);ne<ae;){var oe=ne+ae>>>1;A($[oe],X)>0?ae=oe:ne=oe+1}return ne}}}var y=b(g);n.bisectLeft=y.left,n.bisect=n.bisectRight=y.right,n.bisector=function(A){return b(A.length===1?function($,X){return g(A($),X)}:A)},n.shuffle=function(A,$,X){(ne=arguments.length)<3&&(X=A.length,ne<2&&($=0));for(var ne=X-$,ae,oe;ne;)oe=Math.random()*ne--|0,ae=A[ne+$],A[ne+$]=A[oe+$],A[oe+$]=ae;return A},n.permute=function(A,$){for(var X=$.length,ne=new Array(X);X--;)ne[X]=A[$[X]];return ne},n.pairs=function(A){for(var $=0,X=A.length-1,ne=A[0],ae=new Array(X<0?0:X);$<X;)ae[$]=[ne,ne=A[++$]];return ae},n.transpose=function(A){if(!(oe=A.length))return[];for(var $=-1,X=n.min(A,x),ne=new Array(X);++$<X;)for(var ae=-1,oe,_e=ne[$]=new Array(oe);++ae<oe;)_e[ae]=A[ae][$];return ne};function x(A){return A.length}n.zip=function(){return n.transpose(arguments)},n.keys=function(A){var $=[];for(var X in A)$.push(X);return $},n.values=function(A){var $=[];for(var X in A)$.push(A[X]);return $},n.entries=function(A){var $=[];for(var X in A)$.push({key:X,value:A[X]});return $},n.merge=function(A){for(var $=A.length,X,ne=-1,ae=0,oe,_e;++ne<$;)ae+=A[ne].length;for(oe=new Array(ae);--$>=0;)for(_e=A[$],X=_e.length;--X>=0;)oe[--ae]=_e[X];return oe};var w=Math.abs;n.range=function(A,$,X){if(arguments.length<3&&(X=1,arguments.length<2&&($=A,A=0)),($-A)/X===1/0)throw new Error("infinite range");var ne=[],ae=C(w(X)),oe=-1,_e;if(A*=ae,$*=ae,X*=ae,X<0)for(;(_e=A+X*++oe)>$;)ne.push(_e/ae);else for(;(_e=A+X*++oe)<$;)ne.push(_e/ae);return ne};function C(A){for(var $=1;A*$%1;)$*=10;return $}function S(A,$){for(var X in $)Object.defineProperty(A.prototype,X,{value:$[X],enumerable:!1})}n.map=function(A,$){var X=new T;if(A instanceof T)A.forEach(function(ve,we){X.set(ve,we)});else if(Array.isArray(A)){var ne=-1,ae=A.length,oe;if(arguments.length===1)for(;++ne<ae;)X.set(ne,A[ne]);else for(;++ne<ae;)X.set($.call(A,oe=A[ne],ne),oe)}else for(var _e in A)X.set(_e,A[_e]);return X};function T(){this._=Object.create(null)}var M="__proto__",D="\0";S(T,{has:P,get:function(A){return this._[k(A)]},set:function(A,$){return this._[k(A)]=$},remove:E,keys:O,values:function(){var A=[];for(var $ in this._)A.push(this._[$]);return A},entries:function(){var A=[];for(var $ in this._)A.push({key:R($),value:this._[$]});return A},size:I,empty:U,forEach:function(A){for(var $ in this._)A.call(this,R($),this._[$])}});function k(A){return(A+="")===M||A[0]===D?D+A:A}function R(A){return(A+="")[0]===D?A.slice(1):A}function P(A){return k(A)in this._}function E(A){return(A=k(A))in this._&&delete this._[A]}function O(){var A=[];for(var $ in this._)A.push(R($));return A}function I(){var A=0;for(var $ in this._)++A;return A}function U(){for(var A in this._)return!1;return!0}n.nest=function(){var A={},$=[],X=[],ne,ae;function oe(ve,we,Pe){if(Pe>=$.length)return ae?ae.call(A,we):ne?we.sort(ne):we;for(var Re=-1,Ge=we.length,Ye=$[Pe++],vt,Ct,Xe,it=new T,ht;++Re<Ge;)(ht=it.get(vt=Ye(Ct=we[Re])))?ht.push(Ct):it.set(vt,[Ct]);return ve?(Ct=ve(),Xe=function(Tt,kt){Ct.set(Tt,oe(ve,kt,Pe))}):(Ct={},Xe=function(Tt,kt){Ct[Tt]=oe(ve,kt,Pe)}),it.forEach(Xe),Ct}function _e(ve,we){if(we>=$.length)return ve;var Pe=[],Re=X[we++];return ve.forEach(function(Ge,Ye){Pe.push({key:Ge,values:_e(Ye,we)})}),Re?Pe.sort(function(Ge,Ye){return Re(Ge.key,Ye.key)}):Pe}return A.map=function(ve,we){return oe(we,ve,0)},A.entries=function(ve){return _e(oe(n.map,ve,0),0)},A.key=function(ve){return $.push(ve),A},A.sortKeys=function(ve){return X[$.length-1]=ve,A},A.sortValues=function(ve){return ne=ve,A},A.rollup=function(ve){return ae=ve,A},A},n.set=function(A){var $=new V;if(A)for(var X=0,ne=A.length;X<ne;++X)$.add(A[X]);return $};function V(){this._=Object.create(null)}S(V,{has:P,add:function(A){return this._[k(A+="")]=!0,A},remove:E,values:O,size:I,empty:U,forEach:function(A){for(var $ in this._)A.call(this,R($))}}),n.behavior={};function Z(A){return A}n.rebind=function(A,$){for(var X=1,ne=arguments.length,ae;++X<ne;)A[ae=arguments[X]]=z(A,$,$[ae]);return A};function z(A,$,X){return function(){var ne=X.apply($,arguments);return ne===$?A:ne}}function H(A,$){if($ in A)return $;$=$.charAt(0).toUpperCase()+$.slice(1);for(var X=0,ne=B.length;X<ne;++X){var ae=B[X]+$;if(ae in A)return ae}}var B=["webkit","ms","moz","Moz","o","O"];function W(){}n.dispatch=function(){for(var A=new F,$=-1,X=arguments.length;++$<X;)A[arguments[$]]=K(A);return A};function F(){}F.prototype.on=function(A,$){var X=A.indexOf("."),ne="";if(X>=0&&(ne=A.slice(X+1),A=A.slice(0,X)),A)return arguments.length<2?this[A].on(ne):this[A].on(ne,$);if(arguments.length===2){if($==null)for(A in this)this.hasOwnProperty(A)&&this[A].on(ne,null);return this}};function K(A){var $=[],X=new T;function ne(){for(var ae=$,oe=-1,_e=ae.length,ve;++oe<_e;)(ve=ae[oe].on)&&ve.apply(this,arguments);return A}return ne.on=function(ae,oe){var _e=X.get(ae),ve;return arguments.length<2?_e&&_e.on:(_e&&(_e.on=null,$=$.slice(0,ve=$.indexOf(_e)).concat($.slice(ve+1)),X.remove(ae)),oe&&$.push(X.set(ae,{on:oe})),A)},ne}n.event=null;function fe(){n.event.preventDefault()}function se(){for(var A=n.event,$;$=A.sourceEvent;)A=$;return A}function ee(A){for(var $=new F,X=0,ne=arguments.length;++X<ne;)$[arguments[X]]=K($);return $.of=function(ae,oe){return function(_e){try{var ve=_e.sourceEvent=n.event;_e.target=A,n.event=_e,$[_e.type].apply(ae,oe)}finally{n.event=ve}}},$}n.requote=function(A){return A.replace(ie,"\\$&")};var ie=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,J={}.__proto__?function(A,$){A.__proto__=$}:function(A,$){for(var X in $)A[X]=$[X]};function te(A){return J(A,Y),A}var L=function(A,$){return $.querySelector(A)},N=function(A,$){return $.querySelectorAll(A)},G=function(A,$){var X=A.matches||A[H(A,"matchesSelector")];return G=function(ne,ae){return X.call(ne,ae)},G(A,$)};typeof Sizzle=="function"&&(L=function(A,$){return Sizzle(A,$)[0]||null},N=Sizzle,G=Sizzle.matchesSelector),n.selection=function(){return n.select(l.documentElement)};var Y=n.selection.prototype=[];Y.select=function(A){var $=[],X,ne,ae,oe;A=j(A);for(var _e=-1,ve=this.length;++_e<ve;){$.push(X=[]),X.parentNode=(ae=this[_e]).parentNode;for(var we=-1,Pe=ae.length;++we<Pe;)(oe=ae[we])?(X.push(ne=A.call(oe,oe.__data__,we,_e)),ne&&"__data__"in oe&&(ne.__data__=oe.__data__)):X.push(null)}return te($)};function j(A){return typeof A=="function"?A:function(){return L(A,this)}}Y.selectAll=function(A){var $=[],X,ne;A=Q(A);for(var ae=-1,oe=this.length;++ae<oe;)for(var _e=this[ae],ve=-1,we=_e.length;++ve<we;)(ne=_e[ve])&&($.push(X=s(A.call(ne,ne.__data__,ve,ae))),X.parentNode=ne);return te($)};function Q(A){return typeof A=="function"?A:function(){return N(A,this)}}var q="http://www.w3.org/1999/xhtml",re={svg:"http://www.w3.org/2000/svg",xhtml:q,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};n.ns={prefix:re,qualify:function(A){var $=A.indexOf(":"),X=A;return $>=0&&(X=A.slice(0,$))!=="xmlns"&&(A=A.slice($+1)),re.hasOwnProperty(X)?{space:re[X],local:A}:A}},Y.attr=function(A,$){if(arguments.length<2){if(typeof A=="string"){var X=this.node();return A=n.ns.qualify(A),A.local?X.getAttributeNS(A.space,A.local):X.getAttribute(A)}for($ in A)this.each(ue($,A[$]));return this}return this.each(ue(A,$))};function ue(A,$){A=n.ns.qualify(A);function X(){this.removeAttribute(A)}function ne(){this.removeAttributeNS(A.space,A.local)}function ae(){this.setAttribute(A,$)}function oe(){this.setAttributeNS(A.space,A.local,$)}function _e(){var we=$.apply(this,arguments);we==null?this.removeAttribute(A):this.setAttribute(A,we)}function ve(){var we=$.apply(this,arguments);we==null?this.removeAttributeNS(A.space,A.local):this.setAttributeNS(A.space,A.local,we)}return $==null?A.local?ne:X:typeof $=="function"?A.local?ve:_e:A.local?oe:ae}function de(A){return A.trim().replace(/\s+/g," ")}Y.classed=function(A,$){if(arguments.length<2){if(typeof A=="string"){var X=this.node(),ne=(A=pe(A)).length,ae=-1;if($=X.classList){for(;++ae<ne;)if(!$.contains(A[ae]))return!1}else for($=X.getAttribute("class");++ae<ne;)if(!me(A[ae]).test($))return!1;return!0}for($ in A)this.each(ge($,A[$]));return this}return this.each(ge(A,$))};function me(A){return new RegExp("(?:^|\\s+)"+n.requote(A)+"(?:\\s+|$)","g")}function pe(A){return(A+"").trim().split(/^|\s+/)}function ge(A,$){A=pe(A).map(Te);var X=A.length;function ne(){for(var oe=-1;++oe<X;)A[oe](this,$)}function ae(){for(var oe=-1,_e=$.apply(this,arguments);++oe<X;)A[oe](this,_e)}return typeof $=="function"?ae:ne}function Te(A){var $=me(A);return function(X,ne){if(ae=X.classList)return ne?ae.add(A):ae.remove(A);var ae=X.getAttribute("class")||"";ne?($.lastIndex=0,$.test(ae)||X.setAttribute("class",de(ae+" "+A))):X.setAttribute("class",de(ae.replace($," ")))}}Y.style=function(A,$,X){var ne=arguments.length;if(ne<3){if(typeof A!="string"){ne<2&&($="");for(X in A)this.each(He(X,A[X],$));return this}if(ne<2){var ae=this.node();return c(ae).getComputedStyle(ae,null).getPropertyValue(A)}X=""}return this.each(He(A,$,X))};function He(A,$,X){function ne(){this.style.removeProperty(A)}function ae(){this.style.setProperty(A,$,X)}function oe(){var _e=$.apply(this,arguments);_e==null?this.style.removeProperty(A):this.style.setProperty(A,_e,X)}return $==null?ne:typeof $=="function"?oe:ae}Y.property=function(A,$){if(arguments.length<2){if(typeof A=="string")return this.node()[A];for($ in A)this.each(Oe($,A[$]));return this}return this.each(Oe(A,$))};function Oe(A,$){function X(){delete this[A]}function ne(){this[A]=$}function ae(){var oe=$.apply(this,arguments);oe==null?delete this[A]:this[A]=oe}return $==null?X:typeof $=="function"?ae:ne}Y.text=function(A){return arguments.length?this.each(typeof A=="function"?function(){var $=A.apply(this,arguments);this.textContent=$??""}:A==null?function(){this.textContent=""}:function(){this.textContent=A}):this.node().textContent},Y.html=function(A){return arguments.length?this.each(typeof A=="function"?function(){var $=A.apply(this,arguments);this.innerHTML=$??""}:A==null?function(){this.innerHTML=""}:function(){this.innerHTML=A}):this.node().innerHTML},Y.append=function(A){return A=tt(A),this.select(function(){return this.appendChild(A.apply(this,arguments))})};function tt(A){function $(){var ne=this.ownerDocument,ae=this.namespaceURI;return ae===q&&ne.documentElement.namespaceURI===q?ne.createElement(A):ne.createElementNS(ae,A)}function X(){return this.ownerDocument.createElementNS(A.space,A.local)}return typeof A=="function"?A:(A=n.ns.qualify(A)).local?X:$}Y.insert=function(A,$){return A=tt(A),$=j($),this.select(function(){return this.insertBefore(A.apply(this,arguments),$.apply(this,arguments)||null)})},Y.remove=function(){return this.each(Le)};function Le(){var A=this.parentNode;A&&A.removeChild(this)}Y.data=function(A,$){var X=-1,ne=this.length,ae,oe;if(!arguments.length){for(A=new Array(ne=(ae=this[0]).length);++X<ne;)(oe=ae[X])&&(A[X]=oe.__data__);return A}function _e(Re,Ge){var Ye,vt=Re.length,Ct=Ge.length,Xe=Math.min(vt,Ct),it=new Array(Ct),ht=new Array(Ct),Tt=new Array(vt),kt,pt;if($){var Qt=new T,sr=new Array(vt),fr;for(Ye=-1;++Ye<vt;)(kt=Re[Ye])&&(Qt.has(fr=$.call(kt,kt.__data__,Ye))?Tt[Ye]=kt:Qt.set(fr,kt),sr[Ye]=fr);for(Ye=-1;++Ye<Ct;)(kt=Qt.get(fr=$.call(Ge,pt=Ge[Ye],Ye)))?kt!==!0&&(it[Ye]=kt,kt.__data__=pt):ht[Ye]=De(pt),Qt.set(fr,!0);for(Ye=-1;++Ye<vt;)Ye in sr&&Qt.get(sr[Ye])!==!0&&(Tt[Ye]=Re[Ye])}else{for(Ye=-1;++Ye<Xe;)kt=Re[Ye],pt=Ge[Ye],kt?(kt.__data__=pt,it[Ye]=kt):ht[Ye]=De(pt);for(;Ye<Ct;++Ye)ht[Ye]=De(Ge[Ye]);for(;Ye<vt;++Ye)Tt[Ye]=Re[Ye]}ht.update=it,ht.parentNode=it.parentNode=Tt.parentNode=Re.parentNode,ve.push(ht),we.push(it),Pe.push(Tt)}var ve=_t([]),we=te([]),Pe=te([]);if(typeof A=="function")for(;++X<ne;)_e(ae=this[X],A.call(ae,ae.parentNode.__data__,X));else for(;++X<ne;)_e(ae=this[X],A);return we.enter=function(){return ve},we.exit=function(){return Pe},we};function De(A){return{__data__:A}}Y.datum=function(A){return arguments.length?this.property("__data__",A):this.property("__data__")},Y.filter=function(A){var $=[],X,ne,ae;typeof A!="function"&&(A=Se(A));for(var oe=0,_e=this.length;oe<_e;oe++){$.push(X=[]),X.parentNode=(ne=this[oe]).parentNode;for(var ve=0,we=ne.length;ve<we;ve++)(ae=ne[ve])&&A.call(ae,ae.__data__,ve,oe)&&X.push(ae)}return te($)};function Se(A){return function(){return G(this,A)}}Y.order=function(){for(var A=-1,$=this.length;++A<$;)for(var X=this[A],ne=X.length-1,ae=X[ne],oe;--ne>=0;)(oe=X[ne])&&(ae&&ae!==oe.nextSibling&&ae.parentNode.insertBefore(oe,ae),ae=oe);return this},Y.sort=function(A){A=ze.apply(this,arguments);for(var $=-1,X=this.length;++$<X;)this[$].sort(A);return this.order()};function ze(A){return arguments.length||(A=g),function($,X){return $&&X?A($.__data__,X.__data__):!$-!X}}Y.each=function(A){return Ke(this,function($,X,ne){A.call($,$.__data__,X,ne)})};function Ke(A,$){for(var X=0,ne=A.length;X<ne;X++)for(var ae=A[X],oe=0,_e=ae.length,ve;oe<_e;oe++)(ve=ae[oe])&&$(ve,oe,X);return A}Y.call=function(A){var $=s(arguments);return A.apply($[0]=this,$),this},Y.empty=function(){return!this.node()},Y.node=function(){for(var A=0,$=this.length;A<$;A++)for(var X=this[A],ne=0,ae=X.length;ne<ae;ne++){var oe=X[ne];if(oe)return oe}return null},Y.size=function(){var A=0;return Ke(this,function(){++A}),A};function _t(A){return J(A,Qe),A}var Qe=[];n.selection.enter=_t,n.selection.enter.prototype=Qe,Qe.append=Y.append,Qe.empty=Y.empty,Qe.node=Y.node,Qe.call=Y.call,Qe.size=Y.size,Qe.select=function(A){for(var $=[],X,ne,ae,oe,_e,ve=-1,we=this.length;++ve<we;){ae=(oe=this[ve]).update,$.push(X=[]),X.parentNode=oe.parentNode;for(var Pe=-1,Re=oe.length;++Pe<Re;)(_e=oe[Pe])?(X.push(ae[Pe]=ne=A.call(oe.parentNode,_e.__data__,Pe,ve)),ne.__data__=_e.__data__):X.push(null)}return te($)},Qe.insert=function(A,$){return arguments.length<2&&($=et(this)),Y.insert.call(this,A,$)};function et(A){var $,X;return function(ne,ae,oe){var _e=A[oe].update,ve=_e.length,we;for(oe!=X&&(X=oe,$=0),ae>=$&&($=ae+1);!(we=_e[$])&&++$<ve;);return we}}n.select=function(A){var $;return typeof A=="string"?($=[L(A,l)],$.parentNode=l.documentElement):($=[A],$.parentNode=u(A)),te([$])},n.selectAll=function(A){var $;return typeof A=="string"?($=s(N(A,l)),$.parentNode=l.documentElement):($=s(A),$.parentNode=null),te([$])},Y.on=function(A,$,X){var ne=arguments.length;if(ne<3){if(typeof A!="string"){ne<2&&($=!1);for(X in A)this.each(rt(X,A[X],$));return this}if(ne<2)return(ne=this.node()["__on"+A])&&ne._;X=!1}return this.each(rt(A,$,X))};function rt(A,$,X){var ne="__on"+A,ae=A.indexOf("."),oe=bt;ae>0&&(A=A.slice(0,ae));var _e=ft.get(A);_e&&(A=_e,oe=Ft);function ve(){var Re=this[ne];Re&&(this.removeEventListener(A,Re,Re.$),delete this[ne])}function we(){var Re=oe($,s(arguments));ve.call(this),this.addEventListener(A,this[ne]=Re,Re.$=X),Re._=$}function Pe(){var Re=new RegExp("^__on([^.]+)"+n.requote(A)+"$"),Ge;for(var Ye in this)if(Ge=Ye.match(Re)){var vt=this[Ye];this.removeEventListener(Ge[1],vt,vt.$),delete this[Ye]}}return ae?$?we:ve:$?W:Pe}var ft=n.map({mouseenter:"mouseover",mouseleave:"mouseout"});l&&ft.forEach(function(A){"on"+A in l&&ft.remove(A)});function bt(A,$){return function(X){var ne=n.event;n.event=X,$[0]=this.__data__;try{A.apply(this,$)}finally{n.event=ne}}}function Ft(A,$){var X=bt(A,$);return function(ne){var ae=this,oe=ne.relatedTarget;(!oe||oe!==ae&&!(oe.compareDocumentPosition(ae)&8))&&X.call(ae,ne)}}var ct,nt=0;function at(A){var $=".dragsuppress-"+ ++nt,X="click"+$,ne=n.select(c(A)).on("touchmove"+$,fe).on("dragstart"+$,fe).on("selectstart"+$,fe);if(ct==null&&(ct="onselectstart"in A?!1:H(A.style,"userSelect")),ct){var ae=u(A).style,oe=ae[ct];ae[ct]="none"}return function(_e){if(ne.on($,null),ct&&(ae[ct]=oe),_e){var ve=function(){ne.on(X,null)};ne.on(X,function(){fe(),ve()},!0),setTimeout(ve,0)}}}n.mouse=function(A){return zt(A,se())};var It=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function zt(A,$){$.changedTouches&&($=$.changedTouches[0]);var X=A.ownerSVGElement||A;if(X.createSVGPoint){var ne=X.createSVGPoint();if(It<0){var ae=c(A);if(ae.scrollX||ae.scrollY){X=n.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var oe=X[0][0].getScreenCTM();It=!(oe.f||oe.e),X.remove()}}return It?(ne.x=$.pageX,ne.y=$.pageY):(ne.x=$.clientX,ne.y=$.clientY),ne=ne.matrixTransform(A.getScreenCTM().inverse()),[ne.x,ne.y]}var _e=A.getBoundingClientRect();return[$.clientX-_e.left-A.clientLeft,$.clientY-_e.top-A.clientTop]}n.touch=function(A,$,X){if(arguments.length<3&&(X=$,$=se().changedTouches),$){for(var ne=0,ae=$.length,oe;ne<ae;++ne)if((oe=$[ne]).identifier===X)return zt(A,oe)}},n.behavior.drag=function(){var A=ee(ae,"drag","dragstart","dragend"),$=null,X=oe(W,n.mouse,c,"mousemove","mouseup"),ne=oe(be,n.touch,Z,"touchmove","touchend");function ae(){this.on("mousedown.drag",X).on("touchstart.drag",ne)}function oe(_e,ve,we,Pe,Re){return function(){var Ge=this,Ye=n.event.target.correspondingElement||n.event.target,vt=Ge.parentNode,Ct=A.of(Ge,arguments),Xe=0,it=_e(),ht=".drag"+(it==null?"":"-"+it),Tt,kt=n.select(we(Ye)).on(Pe+ht,sr).on(Re+ht,fr),pt=at(Ye),Qt=ve(vt,it);$?(Tt=$.apply(Ge,arguments),Tt=[Tt.x-Qt[0],Tt.y-Qt[1]]):Tt=[0,0],Ct({type:"dragstart"});function sr(){var lr=ve(vt,it),hr,pr;lr&&(hr=lr[0]-Qt[0],pr=lr[1]-Qt[1],Xe|=hr|pr,Qt=lr,Ct({type:"drag",x:lr[0]+Tt[0],y:lr[1]+Tt[1],dx:hr,dy:pr}))}function fr(){ve(vt,it)&&(kt.on(Pe+ht,null).on(Re+ht,null),pt(Xe),Ct({type:"dragend"}))}}}return ae.origin=function(_e){return arguments.length?($=_e,ae):$},n.rebind(ae,A,"on")};function be(){return n.event.changedTouches[0].identifier}n.touches=function(A,$){return arguments.length<2&&($=se().touches),$?s($).map(function(X){var ne=zt(A,X);return ne.identifier=X.identifier,ne}):[]};var Me=1e-6,Ue=Me*Me,ce=Math.PI,Ce=2*ce,Ae=Ce-Me,ke=ce/2,xe=ce/180,ye=180/ce;function Ee(A,$,X){return($[0]-A[0])*(X[1]-A[1])-($[1]-A[1])*(X[0]-A[0])}function $e(A){return A>1?ke:A<-1?-ke:Math.asin(A)}function Ie(A){return((A=Math.exp(A))-1/A)/2}function Be(A){return((A=Math.exp(A))+1/A)/2}function st(A){return((A=Math.exp(2*A))-1)/(A+1)}var gt=Math.SQRT2,wt=2,Wt=4;n.interpolateZoom=function(A,$){var X=A[0],ne=A[1],ae=A[2],oe=$[0],_e=$[1],ve=$[2],we=oe-X,Pe=_e-ne,Re=we*we+Pe*Pe,Ge,Ye;if(Re<Ue)Ye=Math.log(ve/ae)/gt,Ge=function(Tt){return[X+Tt*we,ne+Tt*Pe,ae*Math.exp(gt*Tt*Ye)]};else{var vt=Math.sqrt(Re),Ct=(ve*ve-ae*ae+Wt*Re)/(2*ae*wt*vt),Xe=(ve*ve-ae*ae-Wt*Re)/(2*ve*wt*vt),it=Math.log(Math.sqrt(Ct*Ct+1)-Ct),ht=Math.log(Math.sqrt(Xe*Xe+1)-Xe);Ye=(ht-it)/gt,Ge=function(Tt){var kt=Tt*Ye,pt=Be(it),Qt=ae/(wt*vt)*(pt*st(gt*kt+it)-Ie(it));return[X+Qt*we,ne+Qt*Pe,ae*pt/Be(gt*kt+it)]}}return Ge.duration=Ye*1e3,Ge},n.behavior.zoom=function(){var A={x:0,y:0,k:1},$,X,ne,ae=[960,500],oe=Yt,_e=250,ve=0,we="mousedown.zoom",Pe="mousemove.zoom",Re="mouseup.zoom",Ge,Ye="touchstart.zoom",vt,Ct=ee(kt,"zoomstart","zoom","zoomend"),Xe,it,ht,Tt;Bt||(Bt="onwheel"in l?(qt=function(){return-n.event.deltaY*(n.event.deltaMode?120:1)},"wheel"):"onmousewheel"in l?(qt=function(){return n.event.wheelDelta},"mousewheel"):(qt=function(){return-n.event.detail},"MozMousePixelScroll"));function kt(or){or.on(we,Tr).on(Bt+".zoom",Pn).on("dblclick.zoom",ln).on(Ye,Jr)}kt.event=function(or){or.each(function(){var Er=Ct.of(this,arguments),Pr=A;ks?n.select(this).transition().each("start.zoom",function(){A=this.__chart__||{x:0,y:0,k:1},pr(Er)}).tween("zoom:zoom",function(){var Qr=ae[0],xn=ae[1],Hn=X?X[0]:Qr/2,qn=X?X[1]:xn/2,_i=n.interpolateZoom([(Hn-A.x)/A.k,(qn-A.y)/A.k,Qr/A.k],[(Hn-Pr.x)/Pr.k,(qn-Pr.y)/Pr.k,Qr/Pr.k]);return function(Li){var bi=_i(Li),$i=Qr/bi[2];this.__chart__=A={x:Hn-bi[0]*$i,y:qn-bi[1]*$i,k:$i},Mr(Er)}}).each("interrupt.zoom",function(){gr(Er)}).each("end.zoom",function(){gr(Er)}):(this.__chart__=A,pr(Er),Mr(Er),gr(Er))})},kt.translate=function(or){return arguments.length?(A={x:+or[0],y:+or[1],k:A.k},hr(),kt):[A.x,A.y]},kt.scale=function(or){return arguments.length?(A={x:A.x,y:A.y,k:null},sr(+or),hr(),kt):A.k},kt.scaleExtent=function(or){return arguments.length?(oe=or==null?Yt:[+or[0],+or[1]],kt):oe},kt.center=function(or){return arguments.length?(ne=or&&[+or[0],+or[1]],kt):ne},kt.size=function(or){return arguments.length?(ae=or&&[+or[0],+or[1]],kt):ae},kt.duration=function(or){return arguments.length?(_e=+or,kt):_e},kt.x=function(or){return arguments.length?(it=or,Xe=or.copy(),A={x:0,y:0,k:1},kt):it},kt.y=function(or){return arguments.length?(Tt=or,ht=or.copy(),A={x:0,y:0,k:1},kt):Tt};function pt(or){return[(or[0]-A.x)/A.k,(or[1]-A.y)/A.k]}function Qt(or){return[or[0]*A.k+A.x,or[1]*A.k+A.y]}function sr(or){A.k=Math.max(oe[0],Math.min(oe[1],or))}function fr(or,Er){Er=Qt(Er),A.x+=or[0]-Er[0],A.y+=or[1]-Er[1]}function lr(or,Er,Pr,Qr){or.__chart__={x:A.x,y:A.y,k:A.k},sr(Math.pow(2,Qr)),fr(X=Er,Pr),or=n.select(or),_e>0&&(or=or.transition().duration(_e)),or.call(kt.event)}function hr(){it&&it.domain(Xe.range().map(function(or){return(or-A.x)/A.k}).map(Xe.invert)),Tt&&Tt.domain(ht.range().map(function(or){return(or-A.y)/A.k}).map(ht.invert))}function pr(or){ve++||or({type:"zoomstart"})}function Mr(or){hr(),or({type:"zoom",scale:A.k,translate:[A.x,A.y]})}function gr(or){--ve||(or({type:"zoomend"}),X=null)}function Tr(){var or=this,Er=Ct.of(or,arguments),Pr=0,Qr=n.select(c(or)).on(Pe,qn).on(Re,_i),xn=pt(n.mouse(or)),Hn=at(or);Uf.call(or),pr(Er);function qn(){Pr=1,fr(n.mouse(or),xn),Mr(Er)}function _i(){Qr.on(Pe,null).on(Re,null),Hn(Pr),gr(Er)}}function Jr(){var or=this,Er=Ct.of(or,arguments),Pr={},Qr=0,xn,Hn=".zoom-"+n.event.changedTouches[0].identifier,qn="touchmove"+Hn,_i="touchend"+Hn,Li=[],bi=n.select(or),$i=at(or);zi(),pr(Er),bi.on(we,null).on(Ye,zi);function si(){var Ea=n.touches(or);return xn=A.k,Ea.forEach(function(ei){ei.identifier in Pr&&(Pr[ei.identifier]=pt(ei))}),Ea}function zi(){var Ea=n.event.target;n.select(Ea).on(qn,Ms).on(_i,o6),Li.push(Ea);for(var ei=n.event.changedTouches,va=0,Ka=ei.length;va<Ka;++va)Pr[ei[va].identifier]=null;var ma=si(),yl=Date.now();if(ma.length===1){if(yl-vt<500){var Es=ma[0];lr(or,Es,Pr[Es.identifier],Math.floor(Math.log(A.k)/Math.LN2)+1),fe()}vt=yl}else if(ma.length>1){var Es=ma[0],Fo=ma[1],Gf=Es[0]-Fo[0],C2=Es[1]-Fo[1];Qr=Gf*Gf+C2*C2}}function Ms(){var Ea=n.touches(or),ei,va,Ka,ma;Uf.call(or);for(var yl=0,Es=Ea.length;yl<Es;++yl,ma=null)if(Ka=Ea[yl],ma=Pr[Ka.identifier]){if(va)break;ei=Ka,va=ma}if(ma){var Fo=(Fo=Ka[0]-ei[0])*Fo+(Fo=Ka[1]-ei[1])*Fo,Gf=Qr&&Math.sqrt(Fo/Qr);ei=[(ei[0]+Ka[0])/2,(ei[1]+Ka[1])/2],va=[(va[0]+ma[0])/2,(va[1]+ma[1])/2],sr(Gf*xn)}vt=null,fr(ei,va),Mr(Er)}function o6(){if(n.event.touches.length){for(var Ea=n.event.changedTouches,ei=0,va=Ea.length;ei<va;++ei)delete Pr[Ea[ei].identifier];for(var Ka in Pr)return void si()}n.selectAll(Li).on(Hn,null),bi.on(we,Tr).on(Ye,Jr),$i(),gr(Er)}}function Pn(){var or=Ct.of(this,arguments);Ge?clearTimeout(Ge):(Uf.call(this),$=pt(X=ne||n.mouse(this)),pr(or)),Ge=setTimeout(function(){Ge=null,gr(or)},50),fe(),sr(Math.pow(2,qt()*.002)*A.k),fr(X,$),Mr(or)}function ln(){var or=n.mouse(this),Er=Math.log(A.k)/Math.LN2;lr(this,or,pt(or),n.event.shiftKey?Math.ceil(Er)-1:Math.floor(Er)+1)}return n.rebind(kt,Ct,"on")};var Yt=[0,1/0],qt,Bt;n.color=Ut;function Ut(){}Ut.prototype.toString=function(){return this.rgb()+""},n.hsl=Nt;function Nt(A,$,X){return this instanceof Nt?(this.h=+A,this.s=+$,void(this.l=+X)):arguments.length<2?A instanceof Nt?new Nt(A.h,A.s,A.l):Ot(""+A,At,Nt):new Nt(A,$,X)}var dt=Nt.prototype=new Ut;dt.brighter=function(A){return A=Math.pow(.7,arguments.length?A:1),new Nt(this.h,this.s,this.l/A)},dt.darker=function(A){return A=Math.pow(.7,arguments.length?A:1),new Nt(this.h,this.s,A*this.l)},dt.rgb=function(){return Vt(this.h,this.s,this.l)};function Vt(A,$,X){var ne,ae;A=isNaN(A)?0:(A%=360)<0?A+360:A,$=isNaN($)||$<0?0:$>1?1:$,X=X<0?0:X>1?1:X,ae=X<=.5?X*(1+$):X+$-X*$,ne=2*X-ae;function oe(ve){return ve>360?ve-=360:ve<0&&(ve+=360),ve<60?ne+(ae-ne)*ve/60:ve<180?ae:ve<240?ne+(ae-ne)*(240-ve)/60:ne}function _e(ve){return Math.round(oe(ve)*255)}return new ut(_e(A+120),_e(A),_e(A-120))}n.hcl=Gt;function Gt(A,$,X){return this instanceof Gt?(this.h=+A,this.c=+$,void(this.l=+X)):arguments.length<2?A instanceof Gt?new Gt(A.h,A.c,A.l):A instanceof Dt?We(A.l,A.a,A.b):We((A=mt((A=n.rgb(A)).r,A.g,A.b)).l,A.a,A.b):new Gt(A,$,X)}var rr=Gt.prototype=new Ut;rr.brighter=function(A){return new Gt(this.h,this.c,Math.min(100,this.l+er*(arguments.length?A:1)))},rr.darker=function(A){return new Gt(this.h,this.c,Math.max(0,this.l-er*(arguments.length?A:1)))},rr.rgb=function(){return Jt(this.h,this.c,this.l).rgb()};function Jt(A,$,X){return isNaN(A)&&(A=0),isNaN($)&&($=0),new Dt(X,Math.cos(A*=xe)*$,Math.sin(A)*$)}n.lab=Dt;function Dt(A,$,X){return this instanceof Dt?(this.l=+A,this.a=+$,void(this.b=+X)):arguments.length<2?A instanceof Dt?new Dt(A.l,A.a,A.b):A instanceof Gt?Jt(A.h,A.c,A.l):mt((A=ut(A)).r,A.g,A.b):new Dt(A,$,X)}var er=18,tr=.95047,he=1,le=1.08883,Ne=Dt.prototype=new Ut;Ne.brighter=function(A){return new Dt(Math.min(100,this.l+er*(arguments.length?A:1)),this.a,this.b)},Ne.darker=function(A){return new Dt(Math.max(0,this.l-er*(arguments.length?A:1)),this.a,this.b)},Ne.rgb=function(){return Fe(this.l,this.a,this.b)};function Fe(A,$,X){var ne=(A+16)/116,ae=ne+$/500,oe=ne-X/200;return ae=Ze(ae)*tr,ne=Ze(ne)*he,oe=Ze(oe)*le,new ut(je(3.2404542*ae-1.5371385*ne-.4985314*oe),je(-.969266*ae+1.8760108*ne+.041556*oe),je(.0556434*ae-.2040259*ne+1.0572252*oe))}function We(A,$,X){return A>0?new Gt(Math.atan2(X,$)*ye,Math.sqrt($*$+X*X),A):new Gt(NaN,NaN,A)}function Ze(A){return A>.206893034?A*A*A:(A-4/29)/7.787037}function Ve(A){return A>.008856?Math.pow(A,1/3):7.787037*A+4/29}function je(A){return Math.round(255*(A<=.00304?12.92*A:1.055*Math.pow(A,1/2.4)-.055))}n.rgb=ut;function ut(A,$,X){return this instanceof ut?(this.r=~~A,this.g=~~$,void(this.b=~~X)):arguments.length<2?A instanceof ut?new ut(A.r,A.g,A.b):Ot(""+A,ut,Vt):new ut(A,$,X)}function St(A){return new ut(A>>16,A>>8&255,A&255)}function Pt(A){return St(A)+""}var lt=ut.prototype=new Ut;lt.brighter=function(A){A=Math.pow(.7,arguments.length?A:1);var $=this.r,X=this.g,ne=this.b,ae=30;return!$&&!X&&!ne?new ut(ae,ae,ae):($&&$<ae&&($=ae),X&&X<ae&&(X=ae),ne&&ne<ae&&(ne=ae),new ut(Math.min(255,$/A),Math.min(255,X/A),Math.min(255,ne/A)))},lt.darker=function(A){return A=Math.pow(.7,arguments.length?A:1),new ut(A*this.r,A*this.g,A*this.b)},lt.hsl=function(){return At(this.r,this.g,this.b)},lt.toString=function(){return"#"+yt(this.r)+yt(this.g)+yt(this.b)};function yt(A){return A<16?"0"+Math.max(0,A).toString(16):Math.min(255,A).toString(16)}function Ot(A,$,X){var ne=0,ae=0,oe=0,_e,ve,we;if(_e=/([a-z]+)\((.*)\)/.exec(A=A.toLowerCase()),_e)switch(ve=_e[2].split(","),_e[1]){case"hsl":return X(parseFloat(ve[0]),parseFloat(ve[1])/100,parseFloat(ve[2])/100);case"rgb":return $(jt(ve[0]),jt(ve[1]),jt(ve[2]))}return(we=Lt.get(A))?$(we.r,we.g,we.b):(A!=null&&A.charAt(0)==="#"&&!isNaN(we=parseInt(A.slice(1),16))&&(A.length===4?(ne=(we&3840)>>4,ne=ne>>4|ne,ae=we&240,ae=ae>>4|ae,oe=we&15,oe=oe<<4|oe):A.length===7&&(ne=(we&16711680)>>16,ae=(we&65280)>>8,oe=we&255)),$(ne,ae,oe))}function At(A,$,X){var ne=Math.min(A/=255,$/=255,X/=255),ae=Math.max(A,$,X),oe=ae-ne,_e,ve,we=(ae+ne)/2;return oe?(ve=we<.5?oe/(ae+ne):oe/(2-ae-ne),A==ae?_e=($-X)/oe+($<X?6:0):$==ae?_e=(X-A)/oe+2:_e=(A-$)/oe+4,_e*=60):(_e=NaN,ve=we>0&&we<1?0:_e),new Nt(_e,ve,we)}function mt(A,$,X){A=Et(A),$=Et($),X=Et(X);var ne=Ve((.4124564*A+.3575761*$+.1804375*X)/tr),ae=Ve((.2126729*A+.7151522*$+.072175*X)/he),oe=Ve((.0193339*A+.119192*$+.9503041*X)/le);return Dt(116*ae-16,500*(ne-ae),200*(ae-oe))}function Et(A){return(A/=255)<=.04045?A/12.92:Math.pow((A+.055)/1.055,2.4)}function jt(A){var $=parseFloat(A);return A.charAt(A.length-1)==="%"?Math.round($*2.55):$}var Lt=n.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Lt.forEach(function(A,$){Lt.set(A,St($))});function Ht(A){return typeof A=="function"?A:function(){return A}}n.functor=Ht,n.xhr=Kt(Z);function Kt(A){return function($,X,ne){return arguments.length===2&&typeof X=="function"&&(ne=X,X=null),Xt($,X,A,ne)}}function Xt(A,$,X,ne){var ae={},oe=n.dispatch("beforesend","progress","load","error"),_e={},ve=new XMLHttpRequest,we=null;self.XDomainRequest&&!("withCredentials"in ve)&&/^(http(s)?:)?\/\//.test(A)&&(ve=new XDomainRequest),"onload"in ve?ve.onload=ve.onerror=Pe:ve.onreadystatechange=function(){ve.readyState>3&&Pe()};function Pe(){var Re=ve.status,Ge;if(!Re&&ar(ve)||Re>=200&&Re<300||Re===304){try{Ge=X.call(ae,ve)}catch(Ye){oe.error.call(ae,Ye);return}oe.load.call(ae,Ge)}else oe.error.call(ae,ve)}return ve.onprogress=function(Re){var Ge=n.event;n.event=Re;try{oe.progress.call(ae,ve)}finally{n.event=Ge}},ae.header=function(Re,Ge){return Re=(Re+"").toLowerCase(),arguments.length<2?_e[Re]:(Ge==null?delete _e[Re]:_e[Re]=Ge+"",ae)},ae.mimeType=function(Re){return arguments.length?($=Re==null?null:Re+"",ae):$},ae.responseType=function(Re){return arguments.length?(we=Re,ae):we},ae.response=function(Re){return X=Re,ae},["get","post"].forEach(function(Re){ae[Re]=function(){return ae.send.apply(ae,[Re].concat(s(arguments)))}}),ae.send=function(Re,Ge,Ye){if(arguments.length===2&&typeof Ge=="function"&&(Ye=Ge,Ge=null),ve.open(Re,A,!0),$!=null&&!("accept"in _e)&&(_e.accept=$+",*/*"),ve.setRequestHeader)for(var vt in _e)ve.setRequestHeader(vt,_e[vt]);return $!=null&&ve.overrideMimeType&&ve.overrideMimeType($),we!=null&&(ve.responseType=we),Ye!=null&&ae.on("error",Ye).on("load",function(Ct){Ye(null,Ct)}),oe.beforesend.call(ae,ve),ve.send(Ge??null),ae},ae.abort=function(){return ve.abort(),ae},n.rebind(ae,oe,"on"),ne==null?ae:ae.get($t(ne))}function $t(A){return A.length===1?function($,X){A($==null?X:null)}:A}function ar(A){var $=A.responseType;return $&&$!=="text"?A.response:A.responseText}n.dsv=function(A,$){var X=new RegExp('["'+A+`
]`),ne=A.charCodeAt(0);function ae(Pe,Re,Ge){arguments.length<3&&(Ge=Re,Re=null);var Ye=Xt(Pe,$,Re==null?oe:_e(Re),Ge);return Ye.row=function(vt){return arguments.length?Ye.response((Re=vt)==null?oe:_e(vt)):Re},Ye}function oe(Pe){return ae.parse(Pe.responseText)}function _e(Pe){return function(Re){return ae.parse(Re.responseText,Pe)}}ae.parse=function(Pe,Re){var Ge;return ae.parseRows(Pe,function(Ye,vt){if(Ge)return Ge(Ye,vt-1);var Ct=function(Xe){for(var it={},ht=Ye.length,Tt=0;Tt<ht;++Tt)it[Ye[Tt]]=Xe[Tt];return it};Ge=Re?function(Xe,it){return Re(Ct(Xe),it)}:Ct})},ae.parseRows=function(Pe,Re){var Ge={},Ye={},vt=[],Ct=Pe.length,Xe=0,it=0,ht,Tt;function kt(){if(Xe>=Ct)return Ye;if(Tt)return Tt=!1,Ge;var Qt=Xe;if(Pe.charCodeAt(Qt)===34){for(var sr=Qt;sr++<Ct;)if(Pe.charCodeAt(sr)===34){if(Pe.charCodeAt(sr+1)!==34)break;++sr}Xe=sr+2;var fr=Pe.charCodeAt(sr+1);return fr===13?(Tt=!0,Pe.charCodeAt(sr+2)===10&&++Xe):fr===10&&(Tt=!0),Pe.slice(Qt+1,sr).replace(/""/g,'"')}for(;Xe<Ct;){var fr=Pe.charCodeAt(Xe++),lr=1;if(fr===10)Tt=!0;else if(fr===13)Tt=!0,Pe.charCodeAt(Xe)===10&&(++Xe,++lr);else if(fr!==ne)continue;return Pe.slice(Qt,Xe-lr)}return Pe.slice(Qt)}for(;(ht=kt())!==Ye;){for(var pt=[];ht!==Ge&&ht!==Ye;)pt.push(ht),ht=kt();Re&&(pt=Re(pt,it++))==null||vt.push(pt)}return vt},ae.format=function(Pe){if(Array.isArray(Pe[0]))return ae.formatRows(Pe);var Re=new V,Ge=[];return Pe.forEach(function(Ye){for(var vt in Ye)Re.has(vt)||Ge.push(Re.add(vt))}),[Ge.map(we).join(A)].concat(Pe.map(function(Ye){return Ge.map(function(vt){return we(Ye[vt])}).join(A)})).join(`
`)},ae.formatRows=function(Pe){return Pe.map(ve).join(`
`)};function ve(Pe){return Pe.map(we).join(A)}function we(Pe){return X.test(Pe)?'"'+Pe.replace(/\"/g,'""')+'"':Pe}return ae},n.csv=n.dsv(",","text/csv"),n.tsv=n.dsv("	","text/tab-separated-values");var ir,cr,dr,vr,mr=this[H(this,"requestAnimationFrame")]||function(A){setTimeout(A,17)};n.timer=function(){_r.apply(this,arguments)};function _r(A,$,X){var ne=arguments.length;ne<2&&($=0),ne<3&&(X=Date.now());var ae=X+$,oe={c:A,t:ae,n:null};return cr?cr.n=oe:ir=oe,cr=oe,dr||(vr=clearTimeout(vr),dr=1,mr(Mt)),oe}function Mt(){var A=Rt(),$=Lr()-A;$>24?(isFinite($)&&(clearTimeout(vr),vr=setTimeout(Mt,$)),dr=0):(dr=1,mr(Mt))}n.timer.flush=function(){Rt(),Lr()};function Rt(){for(var A=Date.now(),$=ir;$;)A>=$.t&&$.c(A-$.t)&&($.c=null),$=$.n;return A}function Lr(){for(var A,$=ir,X=1/0;$;)$.c?($.t<X&&(X=$.t),$=(A=$).n):$=A?A.n=$.n:ir=$.n;return cr=A,X}n.round=function(A,$){return $?Math.round(A*($=Math.pow(10,$)))/$:Math.round(A)},n.geom={};function kr(A){return A[0]}function jr(A){return A[1]}n.geom.hull=function(A){var $=kr,X=jr;if(arguments.length)return ne(A);function ne(ae){if(ae.length<3)return[];var oe=Ht($),_e=Ht(X),ve,we=ae.length,Pe=[],Re=[];for(ve=0;ve<we;ve++)Pe.push([+oe.call(this,ae[ve],ve),+_e.call(this,ae[ve],ve),ve]);for(Pe.sort(on),ve=0;ve<we;ve++)Re.push([Pe[ve][0],-Pe[ve][1]]);var Ge=un(Pe),Ye=un(Re),vt=Ye[0]===Ge[0],Ct=Ye[Ye.length-1]===Ge[Ge.length-1],Xe=[];for(ve=Ge.length-1;ve>=0;--ve)Xe.push(ae[Pe[Ge[ve]][2]]);for(ve=+vt;ve<Ye.length-Ct;++ve)Xe.push(ae[Pe[Ye[ve]][2]]);return Xe}return ne.x=function(ae){return arguments.length?($=ae,ne):$},ne.y=function(ae){return arguments.length?(X=ae,ne):X},ne};function un(A){for(var $=A.length,X=[0,1],ne=2,ae=2;ae<$;ae++){for(;ne>1&&Ee(A[X[ne-2]],A[X[ne-1]],A[ae])<=0;)--ne;X[ne++]=ae}return X.slice(0,ne)}function on(A,$){return A[0]-$[0]||A[1]-$[1]}n.geom.polygon=function(A){return J(A,zr),A};var zr=n.geom.polygon.prototype=[];zr.area=function(){for(var A=-1,$=this.length,X,ne=this[$-1],ae=0;++A<$;)X=ne,ne=this[A],ae+=X[1]*ne[0]-X[0]*ne[1];return ae*.5},zr.centroid=function(A){var $=-1,X=this.length,ne=0,ae=0,oe,_e=this[X-1],ve;for(arguments.length||(A=-1/(6*this.area()));++$<X;)oe=_e,_e=this[$],ve=oe[0]*_e[1]-_e[0]*oe[1],ne+=(oe[0]+_e[0])*ve,ae+=(oe[1]+_e[1])*ve;return[ne*A,ae*A]},zr.clip=function(A){for(var $,X=Sr(A),ne=-1,ae=this.length-Sr(this),oe,_e,ve=this[ae-1],we,Pe,Re;++ne<ae;){for($=A.slice(),A.length=0,we=this[ne],Pe=$[(_e=$.length-X)-1],oe=-1;++oe<_e;)Re=$[oe],sn(Re,ve,we)?(sn(Pe,ve,we)||A.push(bn(Pe,Re,ve,we)),A.push(Re)):sn(Pe,ve,we)&&A.push(bn(Pe,Re,ve,we)),Pe=Re;X&&A.push(A[0]),ve=we}return A};function sn(A,$,X){return(X[0]-$[0])*(A[1]-$[1])<(X[1]-$[1])*(A[0]-$[0])}function bn(A,$,X,ne){var ae=A[0],oe=X[0],_e=$[0]-ae,ve=ne[0]-oe,we=A[1],Pe=X[1],Re=$[1]-we,Ge=ne[1]-Pe,Ye=(ve*(we-Pe)-Ge*(ae-oe))/(Ge*_e-ve*Re);return[ae+Ye*_e,we+Ye*Re]}function Sr(A){var $=A[0],X=A[A.length-1];return!($[0]-X[0]||$[1]-X[1])}var vn,Mn,En,Kn=[],qe,xt,Zt=[];function nr(){Pf(this),this.edge=this.site=this.circle=null}function Or(A){var $=Kn.pop()||new nr;return $.site=A,$}function br(A){mn(A),En.remove(A),Kn.push(A),Pf(A)}function Cr(A){var $=A.circle,X=$.x,ne=$.cy,ae={x:X,y:ne},oe=A.P,_e=A.N,ve=[A];br(A);for(var we=oe;we.circle&&w(X-we.circle.x)<Me&&w(ne-we.circle.cy)<Me;)oe=we.P,ve.unshift(we),br(we),we=oe;ve.unshift(we),mn(we);for(var Pe=_e;Pe.circle&&w(X-Pe.circle.x)<Me&&w(ne-Pe.circle.cy)<Me;)_e=Pe.N,ve.push(Pe),br(Pe),Pe=_e;ve.push(Pe),mn(Pe);var Re=ve.length,Ge;for(Ge=1;Ge<Re;++Ge)Pe=ve[Ge],we=ve[Ge-1],Lf(Pe.edge,we.site,Pe.site,ae);we=ve[0],Pe=ve[Re-1],Pe.edge=Ga(we.site,Pe.site,null,ae),rn(we),rn(Pe)}function Ur(A){for(var $=A.x,X=A.y,ne,ae,oe,_e,ve=En._;ve;)if(oe=cn(ve,X)-$,oe>Me)ve=ve.L;else if(_e=$-$r(ve,X),_e>Me){if(!ve.R){ne=ve;break}ve=ve.R}else{oe>-Me?(ne=ve.P,ae=ve):_e>-Me?(ne=ve,ae=ve.N):ne=ae=ve;break}var we=Or(A);if(En.insert(ne,we),!(!ne&&!ae)){if(ne===ae){mn(ne),ae=Or(ne.site),En.insert(we,ae),we.edge=ae.edge=Ga(ne.site,we.site),rn(ne),rn(ae);return}if(!ae){we.edge=Ga(ne.site,we.site);return}mn(ne),mn(ae);var Pe=ne.site,Re=Pe.x,Ge=Pe.y,Ye=A.x-Re,vt=A.y-Ge,Ct=ae.site,Xe=Ct.x-Re,it=Ct.y-Ge,ht=2*(Ye*it-vt*Xe),Tt=Ye*Ye+vt*vt,kt=Xe*Xe+it*it,pt={x:(it*Tt-vt*kt)/ht+Re,y:(Ye*kt-Xe*Tt)/ht+Ge};Lf(ae.edge,Pe,Ct,pt),we.edge=Ga(Pe,A,null,pt),ae.edge=Ga(A,Ct,null,pt),rn(ne),rn(ae)}}function cn(A,$){var X=A.site,ne=X.x,ae=X.y,oe=ae-$;if(!oe)return ne;var _e=A.P;if(!_e)return-1/0;X=_e.site;var ve=X.x,we=X.y,Pe=we-$;if(!Pe)return ve;var Re=ve-ne,Ge=1/oe-1/Pe,Ye=Re/Pe;return Ge?(-Ye+Math.sqrt(Ye*Ye-2*Ge*(Re*Re/(-2*Pe)-we+Pe/2+ae-oe/2)))/Ge+ne:(ne+ve)/2}function $r(A,$){var X=A.N;if(X)return cn(X,$);var ne=A.site;return ne.y===$?ne.x:1/0}function Wr(A){this.site=A,this.edges=[]}Wr.prototype.prepare=function(){for(var A=this.edges,$=A.length,X;$--;)X=A[$].edge,(!X.b||!X.a)&&A.splice($,1);return A.sort(Zr),A.length};function Vr(A){for(var $=A[0][0],X=A[1][0],ne=A[0][1],ae=A[1][1],oe,_e,ve,we,Pe=Mn,Re=Pe.length,Ge,Ye,vt,Ct,Xe,it;Re--;)if(Ge=Pe[Re],!(!Ge||!Ge.prepare()))for(vt=Ge.edges,Ct=vt.length,Ye=0;Ye<Ct;)it=vt[Ye].end(),ve=it.x,we=it.y,Xe=vt[++Ye%Ct].start(),oe=Xe.x,_e=Xe.y,(w(ve-oe)>Me||w(we-_e)>Me)&&(vt.splice(Ye,0,new Df(bM(Ge.site,it,w(ve-$)<Me&&ae-we>Me?{x:$,y:w(oe-$)<Me?_e:ae}:w(we-ae)<Me&&X-ve>Me?{x:w(_e-ae)<Me?oe:X,y:ae}:w(ve-X)<Me&&we-ne>Me?{x:X,y:w(oe-X)<Me?_e:ne}:w(we-ne)<Me&&ve-$>Me?{x:w(_e-ne)<Me?oe:$,y:ne}:null),Ge.site,null)),++Ct)}function Zr(A,$){return $.angle-A.angle}function Ln(){Pf(this),this.x=this.y=this.arc=this.site=this.cy=null}function rn(A){var $=A.P,X=A.N;if(!(!$||!X)){var ne=$.site,ae=A.site,oe=X.site;if(ne!==oe){var _e=ae.x,ve=ae.y,we=ne.x-_e,Pe=ne.y-ve,Re=oe.x-_e,it=oe.y-ve,Ge=2*(we*it-Pe*Re);if(!(Ge>=-Ue)){var Ye=we*we+Pe*Pe,vt=Re*Re+it*it,Ct=(it*Ye-Pe*vt)/Ge,Xe=(we*vt-Re*Ye)/Ge,it=Xe+ve,ht=Zt.pop()||new Ln;ht.arc=A,ht.site=ae,ht.x=Ct+_e,ht.y=it+Math.sqrt(Ct*Ct+Xe*Xe),ht.cy=it,A.circle=ht;for(var Tt=null,kt=xt._;kt;)if(ht.y<kt.y||ht.y===kt.y&&ht.x<=kt.x)if(kt.L)kt=kt.L;else{Tt=kt.P;break}else if(kt.R)kt=kt.R;else{Tt=kt;break}xt.insert(Tt,ht),Tt||(qe=ht)}}}}function mn(A){var $=A.circle;$&&($.P||(qe=$.N),xt.remove($),Zt.push($),Pf($),A.circle=null)}function Un(A,$,X,ne){return function(ae){var oe=ae.a,_e=ae.b,ve=oe.x,we=oe.y,Pe=_e.x,Re=_e.y,Ge=0,Ye=1,vt=Pe-ve,Ct=Re-we,Xe;if(Xe=A-ve,!(!vt&&Xe>0)){if(Xe/=vt,vt<0){if(Xe<Ge)return;Xe<Ye&&(Ye=Xe)}else if(vt>0){if(Xe>Ye)return;Xe>Ge&&(Ge=Xe)}if(Xe=X-ve,!(!vt&&Xe<0)){if(Xe/=vt,vt<0){if(Xe>Ye)return;Xe>Ge&&(Ge=Xe)}else if(vt>0){if(Xe<Ge)return;Xe<Ye&&(Ye=Xe)}if(Xe=$-we,!(!Ct&&Xe>0)){if(Xe/=Ct,Ct<0){if(Xe<Ge)return;Xe<Ye&&(Ye=Xe)}else if(Ct>0){if(Xe>Ye)return;Xe>Ge&&(Ge=Xe)}if(Xe=ne-we,!(!Ct&&Xe<0)){if(Xe/=Ct,Ct<0){if(Xe>Ye)return;Xe>Ge&&(Ge=Xe)}else if(Ct>0){if(Xe<Ge)return;Xe<Ye&&(Ye=Xe)}return Ge>0&&(ae.a={x:ve+Ge*vt,y:we+Ge*Ct}),Ye<1&&(ae.b={x:ve+Ye*vt,y:we+Ye*Ct}),ae}}}}}}function yi(A){for(var $=vn,X=Un(A[0][0],A[0][1],A[1][0],A[1][1]),ne=$.length,ae;ne--;)ae=$[ne],(!Cs(ae,A)||!X(ae)||w(ae.a.x-ae.b.x)<Me&&w(ae.a.y-ae.b.y)<Me)&&(ae.a=ae.b=null,$.splice(ne,1))}function Cs(A,$){var X=A.b;if(X)return!0;var ne=A.a,ae=$[0][0],oe=$[1][0],_e=$[0][1],ve=$[1][1],we=A.l,Pe=A.r,Re=we.x,Ge=we.y,Ye=Pe.x,vt=Pe.y,Ct=(Re+Ye)/2,Xe=(Ge+vt)/2,it,ht;if(vt===Ge){if(Ct<ae||Ct>=oe)return;if(Re>Ye){if(!ne)ne={x:Ct,y:_e};else if(ne.y>=ve)return;X={x:Ct,y:ve}}else{if(!ne)ne={x:Ct,y:ve};else if(ne.y<_e)return;X={x:Ct,y:_e}}}else if(it=(Re-Ye)/(vt-Ge),ht=Xe-it*Ct,it<-1||it>1)if(Re>Ye){if(!ne)ne={x:(_e-ht)/it,y:_e};else if(ne.y>=ve)return;X={x:(ve-ht)/it,y:ve}}else{if(!ne)ne={x:(ve-ht)/it,y:ve};else if(ne.y<_e)return;X={x:(_e-ht)/it,y:_e}}else if(Ge<vt){if(!ne)ne={x:ae,y:it*ae+ht};else if(ne.x>=oe)return;X={x:oe,y:it*oe+ht}}else{if(!ne)ne={x:oe,y:it*oe+ht};else if(ne.x<ae)return;X={x:ae,y:it*ae+ht}}return A.a=ne,A.b=X,!0}function Ts(A,$){this.l=A,this.r=$,this.a=this.b=null}function Ga(A,$,X,ne){var ae=new Ts(A,$);return vn.push(ae),X&&Lf(ae,A,$,X),ne&&Lf(ae,$,A,ne),Mn[A.i].edges.push(new Df(ae,A,$)),Mn[$.i].edges.push(new Df(ae,$,A)),ae}function bM(A,$,X){var ne=new Ts(A,null);return ne.a=$,ne.b=X,vn.push(ne),ne}function Lf(A,$,X,ne){!A.a&&!A.b?(A.a=ne,A.l=$,A.r=X):A.l===X?A.b=ne:A.a=ne}function Df(A,$,X){var ne=A.a,ae=A.b;this.edge=A,this.site=$,this.angle=X?Math.atan2(X.y-$.y,X.x-$.x):A.l===$?Math.atan2(ae.x-ne.x,ne.y-ae.y):Math.atan2(ne.x-ae.x,ae.y-ne.y)}Df.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};function Rv(){this._=null}function Pf(A){A.U=A.C=A.L=A.R=A.P=A.N=null}Rv.prototype={insert:function(A,$){var X,ne,ae;if(A){if($.P=A,$.N=A.N,A.N&&(A.N.P=$),A.N=$,A.R){for(A=A.R;A.L;)A=A.L;A.L=$}else A.R=$;X=A}else this._?(A=Sb(this._),$.P=null,$.N=A,A.P=A.L=$,X=A):($.P=$.N=null,this._=$,X=null);for($.L=$.R=null,$.U=X,$.C=!0,A=$;X&&X.C;)ne=X.U,X===ne.L?(ae=ne.R,ae&&ae.C?(X.C=ae.C=!1,ne.C=!0,A=ne):(A===X.R&&($u(this,X),A=X,X=A.U),X.C=!1,ne.C=!0,zu(this,ne))):(ae=ne.L,ae&&ae.C?(X.C=ae.C=!1,ne.C=!0,A=ne):(A===X.L&&(zu(this,X),A=X,X=A.U),X.C=!1,ne.C=!0,$u(this,ne))),X=A.U;this._.C=!1},remove:function(A){A.N&&(A.N.P=A.P),A.P&&(A.P.N=A.N),A.N=A.P=null;var $=A.U,X,ne=A.L,ae=A.R,oe,_e;if(ne?ae?oe=Sb(ae):oe=ne:oe=ae,$?$.L===A?$.L=oe:$.R=oe:this._=oe,ne&&ae?(_e=oe.C,oe.C=A.C,oe.L=ne,ne.U=oe,oe!==ae?($=oe.U,oe.U=A.U,A=oe.R,$.L=A,oe.R=ae,ae.U=oe):(oe.U=$,$=oe,A=oe.R)):(_e=A.C,A=oe),A&&(A.U=$),!_e){if(A&&A.C){A.C=!1;return}do{if(A===this._)break;if(A===$.L){if(X=$.R,X.C&&(X.C=!1,$.C=!0,$u(this,$),X=$.R),X.L&&X.L.C||X.R&&X.R.C){(!X.R||!X.R.C)&&(X.L.C=!1,X.C=!0,zu(this,X),X=$.R),X.C=$.C,$.C=X.R.C=!1,$u(this,$),A=this._;break}}else if(X=$.L,X.C&&(X.C=!1,$.C=!0,zu(this,$),X=$.L),X.L&&X.L.C||X.R&&X.R.C){(!X.L||!X.L.C)&&(X.R.C=!1,X.C=!0,$u(this,X),X=$.L),X.C=$.C,$.C=X.L.C=!1,zu(this,$),A=this._;break}X.C=!0,A=$,$=$.U}while(!A.C);A&&(A.C=!1)}}};function $u(A,$){var X=$,ne=$.R,ae=X.U;ae?ae.L===X?ae.L=ne:ae.R=ne:A._=ne,ne.U=ae,X.U=ne,X.R=ne.L,X.R&&(X.R.U=X),ne.L=X}function zu(A,$){var X=$,ne=$.L,ae=X.U;ae?ae.L===X?ae.L=ne:ae.R=ne:A._=ne,ne.U=ae,X.U=ne,X.L=ne.R,X.L&&(X.L.U=X),ne.R=X}function Sb(A){for(;A.L;)A=A.L;return A}function Ov(A,$){var X=A.sort(wM).pop(),ne,ae,oe;for(vn=[],Mn=new Array(A.length),En=new Rv,xt=new Rv;;)if(oe=qe,X&&(!oe||X.y<oe.y||X.y===oe.y&&X.x<oe.x))(X.x!==ne||X.y!==ae)&&(Mn[X.i]=new Wr(X),Ur(X),ne=X.x,ae=X.y),X=A.pop();else if(oe)Cr(oe.arc);else break;$&&(yi($),Vr($));var _e={cells:Mn,edges:vn};return En=xt=vn=Mn=null,_e}function wM(A,$){return $.y-A.y||$.x-A.x}n.geom.voronoi=function(A){var $=kr,X=jr,ne=$,ae=X,oe=Rf;if(A)return _e(A);function _e(we){var Pe=new Array(we.length),Re=oe[0][0],Ge=oe[0][1],Ye=oe[1][0],vt=oe[1][1];return Ov(ve(we),oe).cells.forEach(function(Ct,Xe){var it=Ct.edges,ht=Ct.site,Tt=Pe[Xe]=it.length?it.map(function(kt){var pt=kt.start();return[pt.x,pt.y]}):ht.x>=Re&&ht.x<=Ye&&ht.y>=Ge&&ht.y<=vt?[[Re,vt],[Ye,vt],[Ye,Ge],[Re,Ge]]:[];Tt.point=we[Xe]}),Pe}function ve(we){return we.map(function(Pe,Re){return{x:Math.round(ne(Pe,Re)/Me)*Me,y:Math.round(ae(Pe,Re)/Me)*Me,i:Re}})}return _e.links=function(we){return Ov(ve(we)).edges.filter(function(Pe){return Pe.l&&Pe.r}).map(function(Pe){return{source:we[Pe.l.i],target:we[Pe.r.i]}})},_e.triangles=function(we){var Pe=[];return Ov(ve(we)).cells.forEach(function(Re,Ge){for(var Ye=Re.site,vt=Re.edges.sort(Zr),Ct=-1,Xe=vt.length,it,ht=vt[Xe-1].edge,Tt=ht.l===Ye?ht.r:ht.l;++Ct<Xe;)it=Tt,ht=vt[Ct].edge,Tt=ht.l===Ye?ht.r:ht.l,Ge<it.i&&Ge<Tt.i&&xM(Ye,it,Tt)<0&&Pe.push([we[Ge],we[it.i],we[Tt.i]])}),Pe},_e.x=function(we){return arguments.length?(ne=Ht($=we),_e):$},_e.y=function(we){return arguments.length?(ae=Ht(X=we),_e):X},_e.clipExtent=function(we){return arguments.length?(oe=we??Rf,_e):oe===Rf?null:oe},_e.size=function(we){return arguments.length?_e.clipExtent(we&&[[0,0],we]):oe===Rf?null:oe&&oe[1]},_e};var Rf=[[-1e6,-1e6],[1e6,1e6]];function xM(A,$,X){return(A.x-X.x)*($.y-A.y)-(A.x-$.x)*(X.y-A.y)}n.geom.delaunay=function(A){return n.geom.voronoi().triangles(A)},n.geom.quadtree=function(A,$,X,ne,ae){var oe=kr,_e=jr,ve;if(ve=arguments.length)return oe=SM,_e=CM,ve===3&&(ae=X,ne=$,X=$=0),we(A);function we(Pe){var Re,Ge=Ht(oe),Ye=Ht(_e),vt,Ct,Xe,it,ht,Tt,kt,pt;if($!=null)ht=$,Tt=X,kt=ne,pt=ae;else if(kt=pt=-(ht=Tt=1/0),vt=[],Ct=[],it=Pe.length,ve)for(Xe=0;Xe<it;++Xe)Re=Pe[Xe],Re.x<ht&&(ht=Re.x),Re.y<Tt&&(Tt=Re.y),Re.x>kt&&(kt=Re.x),Re.y>pt&&(pt=Re.y),vt.push(Re.x),Ct.push(Re.y);else for(Xe=0;Xe<it;++Xe){var Qt=+Ge(Re=Pe[Xe],Xe),sr=+Ye(Re,Xe);Qt<ht&&(ht=Qt),sr<Tt&&(Tt=sr),Qt>kt&&(kt=Qt),sr>pt&&(pt=sr),vt.push(Qt),Ct.push(sr)}var fr=kt-ht,lr=pt-Tt;fr>lr?pt=Tt+fr:kt=ht+lr;function hr(gr,Tr,Jr,Pn,ln,or,Er,Pr){if(!(isNaN(Jr)||isNaN(Pn)))if(gr.leaf){var Qr=gr.x,xn=gr.y;if(Qr!=null)if(w(Qr-Jr)+w(xn-Pn)<.01)pr(gr,Tr,Jr,Pn,ln,or,Er,Pr);else{var Hn=gr.point;gr.x=gr.y=gr.point=null,pr(gr,Hn,Qr,xn,ln,or,Er,Pr),pr(gr,Tr,Jr,Pn,ln,or,Er,Pr)}else gr.x=Jr,gr.y=Pn,gr.point=Tr}else pr(gr,Tr,Jr,Pn,ln,or,Er,Pr)}function pr(gr,Tr,Jr,Pn,ln,or,Er,Pr){var Qr=(ln+Er)*.5,xn=(or+Pr)*.5,Hn=Jr>=Qr,qn=Pn>=xn,_i=qn<<1|Hn;gr.leaf=!1,gr=gr.nodes[_i]||(gr.nodes[_i]=Cb()),Hn?ln=Qr:Er=Qr,qn?or=xn:Pr=xn,hr(gr,Tr,Jr,Pn,ln,or,Er,Pr)}var Mr=Cb();if(Mr.add=function(gr){hr(Mr,gr,+Ge(gr,++Xe),+Ye(gr,Xe),ht,Tt,kt,pt)},Mr.visit=function(gr){Hu(gr,Mr,ht,Tt,kt,pt)},Mr.find=function(gr){return TM(Mr,gr[0],gr[1],ht,Tt,kt,pt)},Xe=-1,$==null){for(;++Xe<it;)hr(Mr,Pe[Xe],vt[Xe],Ct[Xe],ht,Tt,kt,pt);--Xe}else Pe.forEach(Mr.add);return vt=Ct=Pe=Re=null,Mr}return we.x=function(Pe){return arguments.length?(oe=Pe,we):oe},we.y=function(Pe){return arguments.length?(_e=Pe,we):_e},we.extent=function(Pe){return arguments.length?(Pe==null?$=X=ne=ae=null:($=+Pe[0][0],X=+Pe[0][1],ne=+Pe[1][0],ae=+Pe[1][1]),we):$==null?null:[[$,X],[ne,ae]]},we.size=function(Pe){return arguments.length?(Pe==null?$=X=ne=ae=null:($=X=0,ne=+Pe[0],ae=+Pe[1]),we):$==null?null:[ne-$,ae-X]},we};function SM(A){return A.x}function CM(A){return A.y}function Cb(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function Hu(A,$,X,ne,ae,oe){if(!A($,X,ne,ae,oe)){var _e=(X+ae)*.5,ve=(ne+oe)*.5,we=$.nodes;we[0]&&Hu(A,we[0],X,ne,_e,ve),we[1]&&Hu(A,we[1],_e,ne,ae,ve),we[2]&&Hu(A,we[2],X,ve,_e,oe),we[3]&&Hu(A,we[3],_e,ve,ae,oe)}}function TM(A,$,X,ne,ae,oe,_e){var ve=1/0,we;return function Pe(Re,Ge,Ye,vt,Ct){if(!(Ge>oe||Ye>_e||vt<ne||Ct<ae)){if(Xe=Re.point){var Xe,it=$-Re.x,ht=X-Re.y,Tt=it*it+ht*ht;if(Tt<ve){var kt=Math.sqrt(ve=Tt);ne=$-kt,ae=X-kt,oe=$+kt,_e=X+kt,we=Xe}}for(var pt=Re.nodes,Qt=(Ge+vt)*.5,sr=(Ye+Ct)*.5,fr=$>=Qt,lr=X>=sr,hr=lr<<1|fr,pr=hr+4;hr<pr;++hr)if(Re=pt[hr&3])switch(hr&3){case 0:Pe(Re,Ge,Ye,Qt,sr);break;case 1:Pe(Re,Qt,Ye,vt,sr);break;case 2:Pe(Re,Ge,sr,Qt,Ct);break;case 3:Pe(Re,Qt,sr,vt,Ct);break}}}(A,ne,ae,oe,_e),we}n.interpolateRgb=Iv;function Iv(A,$){A=n.rgb(A),$=n.rgb($);var X=A.r,ne=A.g,ae=A.b,oe=$.r-X,_e=$.g-ne,ve=$.b-ae;return function(we){return"#"+yt(Math.round(X+oe*we))+yt(Math.round(ne+_e*we))+yt(Math.round(ae+ve*we))}}n.interpolateObject=Tb;function Tb(A,$){var X={},ne={},ae;for(ae in A)ae in $?X[ae]=As(A[ae],$[ae]):ne[ae]=A[ae];for(ae in $)ae in A||(ne[ae]=$[ae]);return function(oe){for(ae in X)ne[ae]=X[ae](oe);return ne}}n.interpolateNumber=vo;function vo(A,$){return A=+A,$=+$,function(X){return A*(1-X)+$*X}}n.interpolateString=Ab;function Ab(A,$){var X=Nv.lastIndex=Fv.lastIndex=0,ne,ae,oe,_e=-1,ve=[],we=[];for(A=A+"",$=$+"";(ne=Nv.exec(A))&&(ae=Fv.exec($));)(oe=ae.index)>X&&(oe=$.slice(X,oe),ve[_e]?ve[_e]+=oe:ve[++_e]=oe),(ne=ne[0])===(ae=ae[0])?ve[_e]?ve[_e]+=ae:ve[++_e]=ae:(ve[++_e]=null,we.push({i:_e,x:vo(ne,ae)})),X=Fv.lastIndex;return X<$.length&&(oe=$.slice(X),ve[_e]?ve[_e]+=oe:ve[++_e]=oe),ve.length<2?we[0]?($=we[0].x,function(Pe){return $(Pe)+""}):function(){return $}:($=we.length,function(Pe){for(var Re=0,Ge;Re<$;++Re)ve[(Ge=we[Re]).i]=Ge.x(Pe);return ve.join("")})}var Nv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Fv=new RegExp(Nv.source,"g");n.interpolate=As;function As(A,$){for(var X=n.interpolators.length,ne;--X>=0&&!(ne=n.interpolators[X](A,$)););return ne}n.interpolators=[function(A,$){var X=typeof $;return(X==="string"?Lt.has($.toLowerCase())||/^(#|rgb\(|hsl\()/i.test($)?Iv:Ab:$ instanceof Ut?Iv:Array.isArray($)?Of:X==="object"&&isNaN($)?Tb:vo)(A,$)}],n.interpolateArray=Of;function Of(A,$){var X=[],ne=[],ae=A.length,oe=$.length,_e=Math.min(A.length,$.length),ve;for(ve=0;ve<_e;++ve)X.push(As(A[ve],$[ve]));for(;ve<ae;++ve)ne[ve]=A[ve];for(;ve<oe;++ve)ne[ve]=$[ve];return function(we){for(ve=0;ve<_e;++ve)ne[ve]=X[ve](we);return ne}}var kb=function(){return Z},AM=n.map({linear:kb,poly:PM,quad:function(){return EM},cubic:function(){return LM},sin:function(){return RM},exp:function(){return OM},circle:function(){return IM},elastic:NM,back:FM,bounce:function(){return $M}}),kM=n.map({in:Z,out:Mb,"in-out":Eb,"out-in":function(A){return Eb(Mb(A))}});n.ease=function(A){var $=A.indexOf("-"),X=$>=0?A.slice(0,$):A,ne=$>=0?A.slice($+1):"in";return X=AM.get(X)||kb,ne=kM.get(ne)||Z,MM(ne(X.apply(null,a.call(arguments,1))))};function MM(A){return function($){return $<=0?0:$>=1?1:A($)}}function Mb(A){return function($){return 1-A(1-$)}}function Eb(A){return function($){return .5*($<.5?A(2*$):2-A(2-2*$))}}function EM(A){return A*A}function LM(A){return A*A*A}function DM(A){if(A<=0)return 0;if(A>=1)return 1;var $=A*A,X=$*A;return 4*(A<.5?X:3*(A-$)+X-.75)}function PM(A){return function($){return Math.pow($,A)}}function RM(A){return 1-Math.cos(A*ke)}function OM(A){return Math.pow(2,10*(A-1))}function IM(A){return 1-Math.sqrt(1-A*A)}function NM(A,$){var X;return arguments.length<2&&($=.45),arguments.length?X=$/Ce*Math.asin(1/A):(A=1,X=$/4),function(ne){return 1+A*Math.pow(2,-10*ne)*Math.sin((ne-X)*Ce/$)}}function FM(A){return A||(A=1.70158),function($){return $*$*((A+1)*$-A)}}function $M(A){return A<1/2.75?7.5625*A*A:A<2/2.75?7.5625*(A-=1.5/2.75)*A+.75:A<2.5/2.75?7.5625*(A-=2.25/2.75)*A+.9375:7.5625*(A-=2.625/2.75)*A+.984375}n.interpolateHcl=zM;function zM(A,$){A=n.hcl(A),$=n.hcl($);var X=A.h,ne=A.c,ae=A.l,oe=$.h-X,_e=$.c-ne,ve=$.l-ae;return isNaN(_e)&&(_e=0,ne=isNaN(ne)?$.c:ne),isNaN(oe)?(oe=0,X=isNaN(X)?$.h:X):oe>180?oe-=360:oe<-180&&(oe+=360),function(we){return Jt(X+oe*we,ne+_e*we,ae+ve*we)+""}}n.interpolateHsl=HM;function HM(A,$){A=n.hsl(A),$=n.hsl($);var X=A.h,ne=A.s,ae=A.l,oe=$.h-X,_e=$.s-ne,ve=$.l-ae;return isNaN(_e)&&(_e=0,ne=isNaN(ne)?$.s:ne),isNaN(oe)?(oe=0,X=isNaN(X)?$.h:X):oe>180?oe-=360:oe<-180&&(oe+=360),function(we){return Vt(X+oe*we,ne+_e*we,ae+ve*we)+""}}n.interpolateLab=BM;function BM(A,$){A=n.lab(A),$=n.lab($);var X=A.l,ne=A.a,ae=A.b,oe=$.l-X,_e=$.a-ne,ve=$.b-ae;return function(we){return Fe(X+oe*we,ne+_e*we,ae+ve*we)+""}}n.interpolateRound=Lb;function Lb(A,$){return $-=A,function(X){return Math.round(A+$*X)}}n.transform=function(A){var $=l.createElementNS(n.ns.prefix.svg,"g");return(n.transform=function(X){if(X!=null){$.setAttribute("transform",X);var ne=$.transform.baseVal.consolidate()}return new Db(ne?ne.matrix:UM)})(A)};function Db(A){var $=[A.a,A.b],X=[A.c,A.d],ne=Rb($),ae=Pb($,X),oe=Rb(jM(X,$,-ae))||0;$[0]*X[1]<X[0]*$[1]&&($[0]*=-1,$[1]*=-1,ne*=-1,ae*=-1),this.rotate=(ne?Math.atan2($[1],$[0]):Math.atan2(-X[0],X[1]))*ye,this.translate=[A.e,A.f],this.scale=[ne,oe],this.skew=oe?Math.atan2(ae,oe)*ye:0}Db.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function Pb(A,$){return A[0]*$[0]+A[1]*$[1]}function Rb(A){var $=Math.sqrt(Pb(A,A));return $&&(A[0]/=$,A[1]/=$),$}function jM(A,$,X){return A[0]+=X*$[0],A[1]+=X*$[1],A}var UM={a:1,b:0,c:0,d:1,e:0,f:0};n.interpolateTransform=Ob;function gl(A){return A.length?A.pop()+",":""}function WM(A,$,X,ne){if(A[0]!==$[0]||A[1]!==$[1]){var ae=X.push("translate(",null,",",null,")");ne.push({i:ae-4,x:vo(A[0],$[0])},{i:ae-2,x:vo(A[1],$[1])})}else($[0]||$[1])&&X.push("translate("+$+")")}function VM(A,$,X,ne){A!==$?(A-$>180?$+=360:$-A>180&&(A+=360),ne.push({i:X.push(gl(X)+"rotate(",null,")")-2,x:vo(A,$)})):$&&X.push(gl(X)+"rotate("+$+")")}function GM(A,$,X,ne){A!==$?ne.push({i:X.push(gl(X)+"skewX(",null,")")-2,x:vo(A,$)}):$&&X.push(gl(X)+"skewX("+$+")")}function YM(A,$,X,ne){if(A[0]!==$[0]||A[1]!==$[1]){var ae=X.push(gl(X)+"scale(",null,",",null,")");ne.push({i:ae-4,x:vo(A[0],$[0])},{i:ae-2,x:vo(A[1],$[1])})}else($[0]!==1||$[1]!==1)&&X.push(gl(X)+"scale("+$+")")}function Ob(A,$){var X=[],ne=[];return A=n.transform(A),$=n.transform($),WM(A.translate,$.translate,X,ne),VM(A.rotate,$.rotate,X,ne),GM(A.skew,$.skew,X,ne),YM(A.scale,$.scale,X,ne),A=$=null,function(ae){for(var oe=-1,_e=ne.length,ve;++oe<_e;)X[(ve=ne[oe]).i]=ve.x(ae);return X.join("")}}function KM(A,$){return $=($-=A=+A)||1/$,function(X){return(X-A)/$}}function XM(A,$){return $=($-=A=+A)||1/$,function(X){return Math.max(0,Math.min(1,(X-A)/$))}}n.layout={},n.layout.bundle=function(){return function(A){for(var $=[],X=-1,ne=A.length;++X<ne;)$.push(ZM(A[X]));return $}};function ZM(A){for(var $=A.source,X=A.target,ne=JM($,X),ae=[$];$!==ne;)$=$.parent,ae.push($);for(var oe=ae.length;X!==ne;)ae.splice(oe,0,X),X=X.parent;return ae}function Ib(A){for(var $=[],X=A.parent;X!=null;)$.push(A),A=X,X=X.parent;return $.push(A),$}function JM(A,$){if(A===$)return A;for(var X=Ib(A),ne=Ib($),ae=X.pop(),oe=ne.pop(),_e=null;ae===oe;)_e=ae,ae=X.pop(),oe=ne.pop();return _e}n.layout.chord=function(){var A={},$,X,ne,ae,oe=0,_e,ve,we;function Pe(){var Ge={},Ye=[],vt=n.range(ae),Ct=[],Xe,it,ht,Tt,kt;for($=[],X=[],Xe=0,Tt=-1;++Tt<ae;){for(it=0,kt=-1;++kt<ae;)it+=ne[Tt][kt];Ye.push(it),Ct.push(n.range(ae)),Xe+=it}for(_e&&vt.sort(function(Mr,gr){return _e(Ye[Mr],Ye[gr])}),ve&&Ct.forEach(function(Mr,gr){Mr.sort(function(Tr,Jr){return ve(ne[gr][Tr],ne[gr][Jr])})}),Xe=(Ce-oe*ae)/Xe,it=0,Tt=-1;++Tt<ae;){for(ht=it,kt=-1;++kt<ae;){var pt=vt[Tt],Qt=Ct[pt][kt],sr=ne[pt][Qt],fr=it,lr=it+=sr*Xe;Ge[pt+"-"+Qt]={index:pt,subindex:Qt,startAngle:fr,endAngle:lr,value:sr}}X[pt]={index:pt,startAngle:ht,endAngle:it,value:Ye[pt]},it+=oe}for(Tt=-1;++Tt<ae;)for(kt=Tt-1;++kt<ae;){var hr=Ge[Tt+"-"+kt],pr=Ge[kt+"-"+Tt];(hr.value||pr.value)&&$.push(hr.value<pr.value?{source:pr,target:hr}:{source:hr,target:pr})}we&&Re()}function Re(){$.sort(function(Ge,Ye){return we((Ge.source.value+Ge.target.value)/2,(Ye.source.value+Ye.target.value)/2)})}return A.matrix=function(Ge){return arguments.length?(ae=(ne=Ge)&&ne.length,$=X=null,A):ne},A.padding=function(Ge){return arguments.length?(oe=Ge,$=X=null,A):oe},A.sortGroups=function(Ge){return arguments.length?(_e=Ge,$=X=null,A):_e},A.sortSubgroups=function(Ge){return arguments.length?(ve=Ge,$=null,A):ve},A.sortChords=function(Ge){return arguments.length?(we=Ge,$&&Re(),A):we},A.chords=function(){return $||Pe(),$},A.groups=function(){return X||Pe(),X},A},n.layout.force=function(){var A={},$=n.dispatch("start","tick","end"),X,ne=[1,1],ae,oe,_e=.9,ve=rE,we=nE,Pe=-30,Re=iE,Ge=.1,Ye=.64,vt=[],Ct=[],Xe,it,ht;function Tt(pt){return function(Qt,sr,fr,lr){if(Qt.point!==pt){var hr=Qt.cx-pt.x,pr=Qt.cy-pt.y,Mr=lr-sr,gr=hr*hr+pr*pr;if(Mr*Mr/Ye<gr){if(gr<Re){var Tr=Qt.charge/gr;pt.px-=hr*Tr,pt.py-=pr*Tr}return!0}if(Qt.point&&gr&&gr<Re){var Tr=Qt.pointCharge/gr;pt.px-=hr*Tr,pt.py-=pr*Tr}}return!Qt.charge}}A.tick=function(){if((oe*=.99)<.005)return X=null,$.end({type:"end",alpha:oe=0}),!0;var pt=vt.length,Qt=Ct.length,sr,fr,lr,hr,pr,Mr,gr,Tr,Jr;for(fr=0;fr<Qt;++fr)lr=Ct[fr],hr=lr.source,pr=lr.target,Tr=pr.x-hr.x,Jr=pr.y-hr.y,(Mr=Tr*Tr+Jr*Jr)&&(Mr=oe*it[fr]*((Mr=Math.sqrt(Mr))-Xe[fr])/Mr,Tr*=Mr,Jr*=Mr,pr.x-=Tr*(gr=hr.weight+pr.weight?hr.weight/(hr.weight+pr.weight):.5),pr.y-=Jr*gr,hr.x+=Tr*(gr=1-gr),hr.y+=Jr*gr);if((gr=oe*Ge)&&(Tr=ne[0]/2,Jr=ne[1]/2,fr=-1,gr))for(;++fr<pt;)lr=vt[fr],lr.x+=(Tr-lr.x)*gr,lr.y+=(Jr-lr.y)*gr;if(Pe)for(Nb(sr=n.geom.quadtree(vt),oe,ht),fr=-1;++fr<pt;)(lr=vt[fr]).fixed||sr.visit(Tt(lr));for(fr=-1;++fr<pt;)lr=vt[fr],lr.fixed?(lr.x=lr.px,lr.y=lr.py):(lr.x-=(lr.px-(lr.px=lr.x))*_e,lr.y-=(lr.py-(lr.py=lr.y))*_e);$.tick({type:"tick",alpha:oe})},A.nodes=function(pt){return arguments.length?(vt=pt,A):vt},A.links=function(pt){return arguments.length?(Ct=pt,A):Ct},A.size=function(pt){return arguments.length?(ne=pt,A):ne},A.linkDistance=function(pt){return arguments.length?(ve=typeof pt=="function"?pt:+pt,A):ve},A.distance=A.linkDistance,A.linkStrength=function(pt){return arguments.length?(we=typeof pt=="function"?pt:+pt,A):we},A.friction=function(pt){return arguments.length?(_e=+pt,A):_e},A.charge=function(pt){return arguments.length?(Pe=typeof pt=="function"?pt:+pt,A):Pe},A.chargeDistance=function(pt){return arguments.length?(Re=pt*pt,A):Math.sqrt(Re)},A.gravity=function(pt){return arguments.length?(Ge=+pt,A):Ge},A.theta=function(pt){return arguments.length?(Ye=pt*pt,A):Math.sqrt(Ye)},A.alpha=function(pt){return arguments.length?(pt=+pt,oe?pt>0?oe=pt:(X.c=null,X.t=NaN,X=null,$.end({type:"end",alpha:oe=0})):pt>0&&($.start({type:"start",alpha:oe=pt}),X=_r(A.tick)),A):oe},A.start=function(){var pt,Qt=vt.length,sr=Ct.length,fr=ne[0],lr=ne[1],hr,pr;for(pt=0;pt<Qt;++pt)(pr=vt[pt]).index=pt,pr.weight=0;for(pt=0;pt<sr;++pt)pr=Ct[pt],typeof pr.source=="number"&&(pr.source=vt[pr.source]),typeof pr.target=="number"&&(pr.target=vt[pr.target]),++pr.source.weight,++pr.target.weight;for(pt=0;pt<Qt;++pt)pr=vt[pt],isNaN(pr.x)&&(pr.x=Mr("x",fr)),isNaN(pr.y)&&(pr.y=Mr("y",lr)),isNaN(pr.px)&&(pr.px=pr.x),isNaN(pr.py)&&(pr.py=pr.y);if(Xe=[],typeof ve=="function")for(pt=0;pt<sr;++pt)Xe[pt]=+ve.call(this,Ct[pt],pt);else for(pt=0;pt<sr;++pt)Xe[pt]=ve;if(it=[],typeof we=="function")for(pt=0;pt<sr;++pt)it[pt]=+we.call(this,Ct[pt],pt);else for(pt=0;pt<sr;++pt)it[pt]=we;if(ht=[],typeof Pe=="function")for(pt=0;pt<Qt;++pt)ht[pt]=+Pe.call(this,vt[pt],pt);else for(pt=0;pt<Qt;++pt)ht[pt]=Pe;function Mr(gr,Tr){if(!hr){for(hr=new Array(Qt),ln=0;ln<Qt;++ln)hr[ln]=[];for(ln=0;ln<sr;++ln){var Jr=Ct[ln];hr[Jr.source.index].push(Jr.target),hr[Jr.target.index].push(Jr.source)}}for(var Pn=hr[pt],ln=-1,or=Pn.length,Er;++ln<or;)if(!isNaN(Er=Pn[ln][gr]))return Er;return Math.random()*Tr}return A.resume()},A.resume=function(){return A.alpha(.1)},A.stop=function(){return A.alpha(0)},A.drag=function(){if(ae||(ae=n.behavior.drag().origin(Z).on("dragstart.force",QM).on("drag.force",kt).on("dragend.force",qM)),!arguments.length)return ae;this.on("mouseover.force",eE).on("mouseout.force",tE).call(ae)};function kt(pt){pt.px=n.event.x,pt.py=n.event.y,A.resume()}return n.rebind(A,$,"on")};function QM(A){A.fixed|=2}function qM(A){A.fixed&=-7}function eE(A){A.fixed|=4,A.px=A.x,A.py=A.y}function tE(A){A.fixed&=-5}function Nb(A,$,X){var ne=0,ae=0;if(A.charge=0,!A.leaf)for(var oe=A.nodes,_e=oe.length,ve=-1,we;++ve<_e;)we=oe[ve],we!=null&&(Nb(we,$,X),A.charge+=we.charge,ne+=we.charge*we.cx,ae+=we.charge*we.cy);if(A.point){A.leaf||(A.point.x+=Math.random()-.5,A.point.y+=Math.random()-.5);var Pe=$*X[A.point.index];A.charge+=A.pointCharge=Pe,ne+=Pe*A.point.x,ae+=Pe*A.point.y}A.cx=ne/A.charge,A.cy=ae/A.charge}var rE=20,nE=1,iE=1/0;n.layout.hierarchy=function(){var A=sE,$=aE,X=oE;function ne(ae){var oe=[ae],_e=[],ve;for(ae.depth=0;(ve=oe.pop())!=null;)if(_e.push(ve),(Pe=$.call(ne,ve,ve.depth))&&(we=Pe.length)){for(var we,Pe,Re;--we>=0;)oe.push(Re=Pe[we]),Re.parent=ve,Re.depth=ve.depth+1;X&&(ve.value=0),ve.children=Pe}else X&&(ve.value=+X.call(ne,ve,ve.depth)||0),delete ve.children;return Ya(ae,function(Ge){var Ye,vt;A&&(Ye=Ge.children)&&Ye.sort(A),X&&(vt=Ge.parent)&&(vt.value+=Ge.value)}),_e}return ne.sort=function(ae){return arguments.length?(A=ae,ne):A},ne.children=function(ae){return arguments.length?($=ae,ne):$},ne.value=function(ae){return arguments.length?(X=ae,ne):X},ne.revalue=function(ae){return X&&(ju(ae,function(oe){oe.children&&(oe.value=0)}),Ya(ae,function(oe){var _e;oe.children||(oe.value=+X.call(ne,oe,oe.depth)||0),(_e=oe.parent)&&(_e.value+=oe.value)})),ae},ne};function Bu(A,$){return n.rebind(A,$,"sort","children","value"),A.nodes=A,A.links=lE,A}function ju(A,$){for(var X=[A];(A=X.pop())!=null;)if($(A),(ae=A.children)&&(ne=ae.length))for(var ne,ae;--ne>=0;)X.push(ae[ne])}function Ya(A,$){for(var X=[A],ne=[];(A=X.pop())!=null;)if(ne.push(A),(_e=A.children)&&(oe=_e.length))for(var ae=-1,oe,_e;++ae<oe;)X.push(_e[ae]);for(;(A=ne.pop())!=null;)$(A)}function aE(A){return A.children}function oE(A){return A.value}function sE(A,$){return $.value-A.value}function lE(A){return n.merge(A.map(function($){return($.children||[]).map(function(X){return{source:$,target:X}})}))}n.layout.partition=function(){var A=n.layout.hierarchy(),$=[1,1];function X(oe,_e,ve,we){var Pe=oe.children;if(oe.x=_e,oe.y=oe.depth*we,oe.dx=ve,oe.dy=we,Pe&&(Ge=Pe.length)){var Re=-1,Ge,Ye,vt;for(ve=oe.value?ve/oe.value:0;++Re<Ge;)X(Ye=Pe[Re],_e,vt=Ye.value*ve,we),_e+=vt}}function ne(oe){var _e=oe.children,ve=0;if(_e&&(Pe=_e.length))for(var we=-1,Pe;++we<Pe;)ve=Math.max(ve,ne(_e[we]));return 1+ve}function ae(oe,_e){var ve=A.call(this,oe,_e);return X(ve[0],0,$[0],$[1]/ne(ve[0])),ve}return ae.size=function(oe){return arguments.length?($=oe,ae):$},Bu(ae,A)},n.layout.pie=function(){var A=Number,$=Fb,X=0,ne=Ce,ae=0;function oe(_e){var ve=_e.length,we=_e.map(function(Tt,kt){return+A.call(oe,Tt,kt)}),Pe=+(typeof X=="function"?X.apply(this,arguments):X),Re=(typeof ne=="function"?ne.apply(this,arguments):ne)-Pe,Ge=Math.min(Math.abs(Re)/ve,+(typeof ae=="function"?ae.apply(this,arguments):ae)),Ye=Ge*(Re<0?-1:1),vt=n.sum(we),Ct=vt?(Re-ve*Ye)/vt:0,Xe=n.range(ve),it=[],ht;return $!=null&&Xe.sort($===Fb?function(Tt,kt){return we[kt]-we[Tt]}:function(Tt,kt){return $(_e[Tt],_e[kt])}),Xe.forEach(function(Tt){it[Tt]={data:_e[Tt],value:ht=we[Tt],startAngle:Pe,endAngle:Pe+=ht*Ct+Ye,padAngle:Ge}}),it}return oe.value=function(_e){return arguments.length?(A=_e,oe):A},oe.sort=function(_e){return arguments.length?($=_e,oe):$},oe.startAngle=function(_e){return arguments.length?(X=_e,oe):X},oe.endAngle=function(_e){return arguments.length?(ne=_e,oe):ne},oe.padAngle=function(_e){return arguments.length?(ae=_e,oe):ae},oe};var Fb={};n.layout.stack=function(){var A=Z,$=$v,X=zv,ne=fE,ae=uE,oe=cE;function _e(ve,we){if(!(Ct=ve.length))return ve;var Pe=ve.map(function(Tt,kt){return A.call(_e,Tt,kt)}),Re=Pe.map(function(Tt){return Tt.map(function(kt,pt){return[ae.call(_e,kt,pt),oe.call(_e,kt,pt)]})}),Ge=$.call(_e,Re,we);Pe=n.permute(Pe,Ge),Re=n.permute(Re,Ge);var Ye=X.call(_e,Re,we),vt=Pe[0].length,Ct,Xe,it,ht;for(it=0;it<vt;++it)for(ne.call(_e,Pe[0][it],ht=Ye[it],Re[0][it][1]),Xe=1;Xe<Ct;++Xe)ne.call(_e,Pe[Xe][it],ht+=Re[Xe-1][it][1],Re[Xe][it][1]);return ve}return _e.values=function(ve){return arguments.length?(A=ve,_e):A},_e.order=function(ve){return arguments.length?($=typeof ve=="function"?ve:dE.get(ve)||$v,_e):$},_e.offset=function(ve){return arguments.length?(X=typeof ve=="function"?ve:hE.get(ve)||zv,_e):X},_e.x=function(ve){return arguments.length?(ae=ve,_e):ae},_e.y=function(ve){return arguments.length?(oe=ve,_e):oe},_e.out=function(ve){return arguments.length?(ne=ve,_e):ne},_e};function uE(A){return A.x}function cE(A){return A.y}function fE(A,$,X){A.y0=$,A.y=X}var dE=n.map({"inside-out":function(A){var $=A.length,X,ne,ae=A.map(pE),oe=A.map(vE),_e=n.range($).sort(function(Ge,Ye){return ae[Ge]-ae[Ye]}),ve=0,we=0,Pe=[],Re=[];for(X=0;X<$;++X)ne=_e[X],ve<we?(ve+=oe[ne],Pe.push(ne)):(we+=oe[ne],Re.push(ne));return Re.reverse().concat(Pe)},reverse:function(A){return n.range(A.length).reverse()},default:$v}),hE=n.map({silhouette:function(A){var $=A.length,X=A[0].length,ne=[],ae=0,oe,_e,ve,we=[];for(_e=0;_e<X;++_e){for(oe=0,ve=0;oe<$;oe++)ve+=A[oe][_e][1];ve>ae&&(ae=ve),ne.push(ve)}for(_e=0;_e<X;++_e)we[_e]=(ae-ne[_e])/2;return we},wiggle:function(A){var $=A.length,X=A[0],ne=X.length,ae,oe,_e,ve,we,Pe,Re,Ge,Ye,vt=[];for(vt[0]=Ge=Ye=0,oe=1;oe<ne;++oe){for(ae=0,ve=0;ae<$;++ae)ve+=A[ae][oe][1];for(ae=0,we=0,Re=X[oe][0]-X[oe-1][0];ae<$;++ae){for(_e=0,Pe=(A[ae][oe][1]-A[ae][oe-1][1])/(2*Re);_e<ae;++_e)Pe+=(A[_e][oe][1]-A[_e][oe-1][1])/Re;we+=Pe*A[ae][oe][1]}vt[oe]=Ge-=ve?we/ve*Re:0,Ge<Ye&&(Ye=Ge)}for(oe=0;oe<ne;++oe)vt[oe]-=Ye;return vt},expand:function(A){var $=A.length,X=A[0].length,ne=1/$,ae,oe,_e,ve=[];for(oe=0;oe<X;++oe){for(ae=0,_e=0;ae<$;ae++)_e+=A[ae][oe][1];if(_e)for(ae=0;ae<$;ae++)A[ae][oe][1]/=_e;else for(ae=0;ae<$;ae++)A[ae][oe][1]=ne}for(oe=0;oe<X;++oe)ve[oe]=0;return ve},zero:zv});function $v(A){return n.range(A.length)}function zv(A){for(var $=-1,X=A[0].length,ne=[];++$<X;)ne[$]=0;return ne}function pE(A){for(var $=1,X=0,ne=A[0][1],ae,oe=A.length;$<oe;++$)(ae=A[$][1])>ne&&(X=$,ne=ae);return X}function vE(A){return A.reduce(mE,0)}function mE(A,$){return A+$[1]}n.layout.histogram=function(){var A=!0,$=Number,X=yE,ne=gE;function ae(oe,Ye){for(var ve=[],we=oe.map($,this),Pe=X.call(this,we,Ye),Re=ne.call(this,Pe,we,Ye),Ge,Ye=-1,vt=we.length,Ct=Re.length-1,Xe=A?1:1/vt,it;++Ye<Ct;)Ge=ve[Ye]=[],Ge.dx=Re[Ye+1]-(Ge.x=Re[Ye]),Ge.y=0;if(Ct>0)for(Ye=-1;++Ye<vt;)it=we[Ye],it>=Pe[0]&&it<=Pe[1]&&(Ge=ve[n.bisect(Re,it,1,Ct)-1],Ge.y+=Xe,Ge.push(oe[Ye]));return ve}return ae.value=function(oe){return arguments.length?($=oe,ae):$},ae.range=function(oe){return arguments.length?(X=Ht(oe),ae):X},ae.bins=function(oe){return arguments.length?(ne=typeof oe=="number"?function(_e){return $b(_e,oe)}:Ht(oe),ae):ne},ae.frequency=function(oe){return arguments.length?(A=!!oe,ae):A},ae};function gE(A,$){return $b(A,Math.ceil(Math.log($.length)/Math.LN2+1))}function $b(A,$){for(var X=-1,ne=+A[0],ae=(A[1]-ne)/$,oe=[];++X<=$;)oe[X]=ae*X+ne;return oe}function yE(A){return[n.min(A),n.max(A)]}n.layout.pack=function(){var A=n.layout.hierarchy().sort(_E),$=0,X=[1,1],ne;function ae(oe,_e){var ve=A.call(this,oe,_e),we=ve[0],Pe=X[0],Re=X[1],Ge=ne==null?Math.sqrt:typeof ne=="function"?ne:function(){return ne};if(we.x=we.y=0,Ya(we,function(vt){vt.r=+Ge(vt.value)}),Ya(we,Bb),$){var Ye=$*(ne?1:Math.max(2*we.r/Pe,2*we.r/Re))/2;Ya(we,function(vt){vt.r+=Ye}),Ya(we,Bb),Ya(we,function(vt){vt.r-=Ye})}return jb(we,Pe/2,Re/2,ne?1:1/Math.max(2*we.r/Pe,2*we.r/Re)),ve}return ae.size=function(oe){return arguments.length?(X=oe,ae):X},ae.radius=function(oe){return arguments.length?(ne=oe==null||typeof oe=="function"?oe:+oe,ae):ne},ae.padding=function(oe){return arguments.length?($=+oe,ae):$},Bu(ae,A)};function _E(A,$){return A.value-$.value}function Hv(A,$){var X=A._pack_next;A._pack_next=$,$._pack_prev=A,$._pack_next=X,X._pack_prev=$}function zb(A,$){A._pack_next=$,$._pack_prev=A}function Hb(A,$){var X=$.x-A.x,ne=$.y-A.y,ae=A.r+$.r;return .999*ae*ae>X*X+ne*ne}function Bb(A){if(!($=A.children)||!(Ye=$.length))return;var $,X=1/0,ne=-1/0,ae=1/0,oe=-1/0,_e,ve,we,Pe,Re,Ge,Ye;function vt(pt){X=Math.min(pt.x-pt.r,X),ne=Math.max(pt.x+pt.r,ne),ae=Math.min(pt.y-pt.r,ae),oe=Math.max(pt.y+pt.r,oe)}if($.forEach(bE),_e=$[0],_e.x=-_e.r,_e.y=0,vt(_e),Ye>1&&(ve=$[1],ve.x=ve.r,ve.y=0,vt(ve),Ye>2))for(we=$[2],Ub(_e,ve,we),vt(we),Hv(_e,we),_e._pack_prev=we,Hv(we,ve),ve=_e._pack_next,Pe=3;Pe<Ye;Pe++){Ub(_e,ve,we=$[Pe]);var Ct=0,Xe=1,it=1;for(Re=ve._pack_next;Re!==ve;Re=Re._pack_next,Xe++)if(Hb(Re,we)){Ct=1;break}if(Ct==1)for(Ge=_e._pack_prev;Ge!==Re._pack_prev&&!Hb(Ge,we);Ge=Ge._pack_prev,it++);Ct?(Xe<it||Xe==it&&ve.r<_e.r?zb(_e,ve=Re):zb(_e=Ge,ve),Pe--):(Hv(_e,we),ve=we,vt(we))}var ht=(X+ne)/2,Tt=(ae+oe)/2,kt=0;for(Pe=0;Pe<Ye;Pe++)we=$[Pe],we.x-=ht,we.y-=Tt,kt=Math.max(kt,we.r+Math.sqrt(we.x*we.x+we.y*we.y));A.r=kt,$.forEach(wE)}function bE(A){A._pack_next=A._pack_prev=A}function wE(A){delete A._pack_next,delete A._pack_prev}function jb(A,$,X,ne){var ae=A.children;if(A.x=$+=ne*A.x,A.y=X+=ne*A.y,A.r*=ne,ae)for(var oe=-1,_e=ae.length;++oe<_e;)jb(ae[oe],$,X,ne)}function Ub(A,$,X){var ne=A.r+X.r,ae=$.x-A.x,oe=$.y-A.y;if(ne&&(ae||oe)){var _e=$.r+X.r,ve=ae*ae+oe*oe;_e*=_e,ne*=ne;var we=.5+(ne-_e)/(2*ve),Pe=Math.sqrt(Math.max(0,2*_e*(ne+ve)-(ne-=ve)*ne-_e*_e))/(2*ve);X.x=A.x+we*ae+Pe*oe,X.y=A.y+we*oe-Pe*ae}else X.x=A.x+ne,X.y=A.y}n.layout.tree=function(){var A=n.layout.hierarchy().sort(null).value(null),$=Wb,X=[1,1],ne=null;function ae(Re,Ge){var Ye=A.call(this,Re,Ge),vt=Ye[0],Ct=oe(vt);if(Ya(Ct,_e),Ct.parent.m=-Ct.z,ju(Ct,ve),ne)ju(vt,Pe);else{var Xe=vt,it=vt,ht=vt;ju(vt,function(Qt){Qt.x<Xe.x&&(Xe=Qt),Qt.x>it.x&&(it=Qt),Qt.depth>ht.depth&&(ht=Qt)});var Tt=$(Xe,it)/2-Xe.x,kt=X[0]/(it.x+$(it,Xe)/2+Tt),pt=X[1]/(ht.depth||1);ju(vt,function(Qt){Qt.x=(Qt.x+Tt)*kt,Qt.y=Qt.depth*pt})}return Ye}function oe(Re){for(var Ge={A:null,children:[Re]},Ye=[Ge],vt;(vt=Ye.pop())!=null;)for(var Ct=vt.children,Xe,it=0,ht=Ct.length;it<ht;++it)Ye.push((Ct[it]=Xe={_:Ct[it],parent:vt,children:(Xe=Ct[it].children)&&Xe.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:it}).a=Xe);return Ge.children[0]}function _e(Re){var Ge=Re.children,Ye=Re.parent.children,vt=Re.i?Ye[Re.i-1]:null;if(Ge.length){SE(Re);var Ct=(Ge[0].z+Ge[Ge.length-1].z)/2;vt?(Re.z=vt.z+$(Re._,vt._),Re.m=Re.z-Ct):Re.z=Ct}else vt&&(Re.z=vt.z+$(Re._,vt._));Re.parent.A=we(Re,vt,Re.parent.A||Ye[0])}function ve(Re){Re._.x=Re.z+Re.parent.m,Re.m+=Re.parent.m}function we(Re,Ge,Ye){if(Ge){for(var vt=Re,Ct=Re,Xe=Ge,it=vt.parent.children[0],ht=vt.m,Tt=Ct.m,kt=Xe.m,pt=it.m,Qt;Xe=jv(Xe),vt=Bv(vt),Xe&&vt;)it=Bv(it),Ct=jv(Ct),Ct.a=Re,Qt=Xe.z+kt-vt.z-ht+$(Xe._,vt._),Qt>0&&(xE(CE(Xe,Re,Ye),Re,Qt),ht+=Qt,Tt+=Qt),kt+=Xe.m,ht+=vt.m,pt+=it.m,Tt+=Ct.m;Xe&&!jv(Ct)&&(Ct.t=Xe,Ct.m+=kt-Tt),vt&&!Bv(it)&&(it.t=vt,it.m+=ht-pt,Ye=Re)}return Ye}function Pe(Re){Re.x*=X[0],Re.y=Re.depth*X[1]}return ae.separation=function(Re){return arguments.length?($=Re,ae):$},ae.size=function(Re){return arguments.length?(ne=(X=Re)==null?Pe:null,ae):ne?null:X},ae.nodeSize=function(Re){return arguments.length?(ne=(X=Re)==null?null:Pe,ae):ne?X:null},Bu(ae,A)};function Wb(A,$){return A.parent==$.parent?1:2}function Bv(A){var $=A.children;return $.length?$[0]:A.t}function jv(A){var $=A.children,X;return(X=$.length)?$[X-1]:A.t}function xE(A,$,X){var ne=X/($.i-A.i);$.c-=ne,$.s+=X,A.c+=ne,$.z+=X,$.m+=X}function SE(A){for(var $=0,X=0,ne=A.children,ae=ne.length,oe;--ae>=0;)oe=ne[ae],oe.z+=$,oe.m+=$,$+=oe.s+(X+=oe.c)}function CE(A,$,X){return A.a.parent===$.parent?A.a:X}n.layout.cluster=function(){var A=n.layout.hierarchy().sort(null).value(null),$=Wb,X=[1,1],ne=!1;function ae(oe,_e){var ve=A.call(this,oe,_e),we=ve[0],Pe,Re=0;Ya(we,function(Xe){var it=Xe.children;it&&it.length?(Xe.x=AE(it),Xe.y=TE(it)):(Xe.x=Pe?Re+=$(Xe,Pe):0,Xe.y=0,Pe=Xe)});var Ge=Vb(we),Ye=Gb(we),vt=Ge.x-$(Ge,Ye)/2,Ct=Ye.x+$(Ye,Ge)/2;return Ya(we,ne?function(Xe){Xe.x=(Xe.x-we.x)*X[0],Xe.y=(we.y-Xe.y)*X[1]}:function(Xe){Xe.x=(Xe.x-vt)/(Ct-vt)*X[0],Xe.y=(1-(we.y?Xe.y/we.y:1))*X[1]}),ve}return ae.separation=function(oe){return arguments.length?($=oe,ae):$},ae.size=function(oe){return arguments.length?(ne=(X=oe)==null,ae):ne?null:X},ae.nodeSize=function(oe){return arguments.length?(ne=(X=oe)!=null,ae):ne?X:null},Bu(ae,A)};function TE(A){return 1+n.max(A,function($){return $.y})}function AE(A){return A.reduce(function($,X){return $+X.x},0)/A.length}function Vb(A){var $=A.children;return $&&$.length?Vb($[0]):A}function Gb(A){var $=A.children,X;return $&&(X=$.length)?Gb($[X-1]):A}n.layout.treemap=function(){var A=n.layout.hierarchy(),$=Math.round,X=[1,1],ne=null,ae=Uv,oe=!1,_e,ve="squarify",we=.5*(1+Math.sqrt(5));function Pe(Xe,it){for(var ht=-1,Tt=Xe.length,kt,pt;++ht<Tt;)pt=(kt=Xe[ht]).value*(it<0?0:it),kt.area=isNaN(pt)||pt<=0?0:pt}function Re(Xe){var it=Xe.children;if(it&&it.length){var ht=ae(Xe),Tt=[],kt=it.slice(),pt,Qt=1/0,sr,fr=ve==="slice"?ht.dx:ve==="dice"?ht.dy:ve==="slice-dice"?Xe.depth&1?ht.dy:ht.dx:Math.min(ht.dx,ht.dy),lr;for(Pe(kt,ht.dx*ht.dy/Xe.value),Tt.area=0;(lr=kt.length)>0;)Tt.push(pt=kt[lr-1]),Tt.area+=pt.area,ve!=="squarify"||(sr=Ye(Tt,fr))<=Qt?(kt.pop(),Qt=sr):(Tt.area-=Tt.pop().area,vt(Tt,fr,ht,!1),fr=Math.min(ht.dx,ht.dy),Tt.length=Tt.area=0,Qt=1/0);Tt.length&&(vt(Tt,fr,ht,!0),Tt.length=Tt.area=0),it.forEach(Re)}}function Ge(Xe){var it=Xe.children;if(it&&it.length){var ht=ae(Xe),Tt=it.slice(),kt,pt=[];for(Pe(Tt,ht.dx*ht.dy/Xe.value),pt.area=0;kt=Tt.pop();)pt.push(kt),pt.area+=kt.area,kt.z!=null&&(vt(pt,kt.z?ht.dx:ht.dy,ht,!Tt.length),pt.length=pt.area=0);it.forEach(Ge)}}function Ye(Xe,it){for(var ht=Xe.area,Tt,kt=0,pt=1/0,Qt=-1,sr=Xe.length;++Qt<sr;)(Tt=Xe[Qt].area)&&(Tt<pt&&(pt=Tt),Tt>kt&&(kt=Tt));return ht*=ht,it*=it,ht?Math.max(it*kt*we/ht,ht/(it*pt*we)):1/0}function vt(Xe,it,ht,Tt){var kt=-1,pt=Xe.length,Qt=ht.x,sr=ht.y,fr=it?$(Xe.area/it):0,lr;if(it==ht.dx){for((Tt||fr>ht.dy)&&(fr=ht.dy);++kt<pt;)lr=Xe[kt],lr.x=Qt,lr.y=sr,lr.dy=fr,Qt+=lr.dx=Math.min(ht.x+ht.dx-Qt,fr?$(lr.area/fr):0);lr.z=!0,lr.dx+=ht.x+ht.dx-Qt,ht.y+=fr,ht.dy-=fr}else{for((Tt||fr>ht.dx)&&(fr=ht.dx);++kt<pt;)lr=Xe[kt],lr.x=Qt,lr.y=sr,lr.dx=fr,sr+=lr.dy=Math.min(ht.y+ht.dy-sr,fr?$(lr.area/fr):0);lr.z=!1,lr.dy+=ht.y+ht.dy-sr,ht.x+=fr,ht.dx-=fr}}function Ct(Xe){var it=_e||A(Xe),ht=it[0];return ht.x=ht.y=0,ht.value?(ht.dx=X[0],ht.dy=X[1]):ht.dx=ht.dy=0,_e&&A.revalue(ht),Pe([ht],ht.dx*ht.dy/ht.value),(_e?Ge:Re)(ht),oe&&(_e=it),it}return Ct.size=function(Xe){return arguments.length?(X=Xe,Ct):X},Ct.padding=function(Xe){if(!arguments.length)return ne;function it(kt){var pt=Xe.call(Ct,kt,kt.depth);return pt==null?Uv(kt):Yb(kt,typeof pt=="number"?[pt,pt,pt,pt]:pt)}function ht(kt){return Yb(kt,Xe)}var Tt;return ae=(ne=Xe)==null?Uv:(Tt=typeof Xe)=="function"?it:(Tt==="number"&&(Xe=[Xe,Xe,Xe,Xe]),ht),Ct},Ct.round=function(Xe){return arguments.length?($=Xe?Math.round:Number,Ct):$!=Number},Ct.sticky=function(Xe){return arguments.length?(oe=Xe,_e=null,Ct):oe},Ct.ratio=function(Xe){return arguments.length?(we=Xe,Ct):we},Ct.mode=function(Xe){return arguments.length?(ve=Xe+"",Ct):ve},Bu(Ct,A)};function Uv(A){return{x:A.x,y:A.y,dx:A.dx,dy:A.dy}}function Yb(A,$){var X=A.x+$[3],ne=A.y+$[0],ae=A.dx-$[1]-$[3],oe=A.dy-$[0]-$[2];return ae<0&&(X+=ae/2,ae=0),oe<0&&(ne+=oe/2,oe=0),{x:X,y:ne,dx:ae,dy:oe}}n.random={normal:function(A,$){var X=arguments.length;return X<2&&($=1),X<1&&(A=0),function(){var ne,ae,oe;do ne=Math.random()*2-1,ae=Math.random()*2-1,oe=ne*ne+ae*ae;while(!oe||oe>1);return A+$*ne*Math.sqrt(-2*Math.log(oe)/oe)}},logNormal:function(){var A=n.random.normal.apply(n,arguments);return function(){return Math.exp(A())}},bates:function(A){var $=n.random.irwinHall(A);return function(){return $()/A}},irwinHall:function(A){return function(){for(var $=0,X=0;X<A;X++)$+=Math.random();return $}}},n.scale={};function If(A){var $=A[0],X=A[A.length-1];return $<X?[$,X]:[X,$]}function Nf(A){return A.rangeExtent?A.rangeExtent():If(A.range())}function kE(A,$,X,ne){var ae=X(A[0],A[1]),oe=ne($[0],$[1]);return function(_e){return oe(ae(_e))}}function Wv(A,$){var X=0,ne=A.length-1,ae=A[X],oe=A[ne],_e;return oe<ae&&(_e=X,X=ne,ne=_e,_e=ae,ae=oe,oe=_e),A[X]=$.floor(ae),A[ne]=$.ceil(oe),A}function Kb(A){return A?{floor:function($){return Math.floor($/A)*A},ceil:function($){return Math.ceil($/A)*A}}:ME}var ME={floor:Z,ceil:Z};function EE(A,$,X,ne){var ae=[],oe=[],_e=0,ve=Math.min(A.length,$.length)-1;for(A[ve]<A[0]&&(A=A.slice().reverse(),$=$.slice().reverse());++_e<=ve;)ae.push(X(A[_e-1],A[_e])),oe.push(ne($[_e-1],$[_e]));return function(we){var Pe=n.bisect(A,we,1,ve)-1;return oe[Pe](ae[Pe](we))}}n.scale.linear=function(){return Xb([0,1],[0,1],As,!1)};function Xb(A,$,X,ne){var ae,oe;function _e(){var we=Math.min(A.length,$.length)>2?EE:kE,Pe=ne?XM:KM;return ae=we(A,$,Pe,X),oe=we($,A,Pe,As),ve}function ve(we){return ae(we)}return ve.invert=function(we){return oe(we)},ve.domain=function(we){return arguments.length?(A=we.map(Number),_e()):A},ve.range=function(we){return arguments.length?($=we,_e()):$},ve.rangeRound=function(we){return ve.range(we).interpolate(Lb)},ve.clamp=function(we){return arguments.length?(ne=we,_e()):ne},ve.interpolate=function(we){return arguments.length?(X=we,_e()):X},ve.ticks=function(we){return Gv(A,we)},ve.tickFormat=function(we,Pe){return d3_scale_linearTickFormat(A,we,Pe)},ve.nice=function(we){return Jb(A,we),_e()},ve.copy=function(){return Xb(A,$,X,ne)},_e()}function Zb(A,$){return n.rebind(A,$,"range","rangeRound","interpolate","clamp")}function Jb(A,$){return Wv(A,Kb(Vv(A,$)[2])),Wv(A,Kb(Vv(A,$)[2])),A}function Vv(A,$){$==null&&($=10);var X=If(A),ne=X[1]-X[0],ae=Math.pow(10,Math.floor(Math.log(ne/$)/Math.LN10)),oe=$/ne*ae;return oe<=.15?ae*=10:oe<=.35?ae*=5:oe<=.75&&(ae*=2),X[0]=Math.ceil(X[0]/ae)*ae,X[1]=Math.floor(X[1]/ae)*ae+ae*.5,X[2]=ae,X}function Gv(A,$){return n.range.apply(n,Vv(A,$))}n.scale.log=function(){return Qb(n.scale.linear().domain([0,1]),10,!0,[1,10])};function Qb(A,$,X,ne){function ae(ve){return(X?Math.log(ve<0?0:ve):-Math.log(ve>0?0:-ve))/Math.log($)}function oe(ve){return X?Math.pow($,ve):-Math.pow($,-ve)}function _e(ve){return A(ae(ve))}return _e.invert=function(ve){return oe(A.invert(ve))},_e.domain=function(ve){return arguments.length?(X=ve[0]>=0,A.domain((ne=ve.map(Number)).map(ae)),_e):ne},_e.base=function(ve){return arguments.length?($=+ve,A.domain(ne.map(ae)),_e):$},_e.nice=function(){var ve=Wv(ne.map(ae),X?Math:LE);return A.domain(ve),ne=ve.map(oe),_e},_e.ticks=function(){var ve=If(ne),we=[],Pe=ve[0],Re=ve[1],Ge=Math.floor(ae(Pe)),Ye=Math.ceil(ae(Re)),vt=$%1?2:$;if(isFinite(Ye-Ge)){if(X){for(;Ge<Ye;Ge++)for(var Ct=1;Ct<vt;Ct++)we.push(oe(Ge)*Ct);we.push(oe(Ge))}else for(we.push(oe(Ge));Ge++<Ye;)for(var Ct=vt-1;Ct>0;Ct--)we.push(oe(Ge)*Ct);for(Ge=0;we[Ge]<Pe;Ge++);for(Ye=we.length;we[Ye-1]>Re;Ye--);we=we.slice(Ge,Ye)}return we},_e.copy=function(){return Qb(A.copy(),$,X,ne)},Zb(_e,A)}var LE={floor:function(A){return-Math.ceil(-A)},ceil:function(A){return-Math.floor(-A)}};n.scale.pow=function(){return qb(n.scale.linear(),1,[0,1])};function qb(A,$,X){var ne=Ff($),ae=Ff(1/$);function oe(_e){return A(ne(_e))}return oe.invert=function(_e){return ae(A.invert(_e))},oe.domain=function(_e){return arguments.length?(A.domain((X=_e.map(Number)).map(ne)),oe):X},oe.ticks=function(_e){return Gv(X,_e)},oe.tickFormat=function(_e,ve){return d3_scale_linearTickFormat(X,_e,ve)},oe.nice=function(_e){return oe.domain(Jb(X,_e))},oe.exponent=function(_e){return arguments.length?(ne=Ff($=_e),ae=Ff(1/$),A.domain(X.map(ne)),oe):$},oe.copy=function(){return qb(A.copy(),$,X)},Zb(oe,A)}function Ff(A){return function($){return $<0?-Math.pow(-$,A):Math.pow($,A)}}n.scale.sqrt=function(){return n.scale.pow().exponent(.5)},n.scale.ordinal=function(){return e2([],{t:"range",a:[[]]})};function e2(A,$){var X,ne,ae;function oe(ve){return ne[((X.get(ve)||($.t==="range"?X.set(ve,A.push(ve)):NaN))-1)%ne.length]}function _e(ve,we){return n.range(A.length).map(function(Pe){return ve+we*Pe})}return oe.domain=function(ve){if(!arguments.length)return A;A=[],X=new T;for(var we=-1,Pe=ve.length,Re;++we<Pe;)X.has(Re=ve[we])||X.set(Re,A.push(Re));return oe[$.t].apply(oe,$.a)},oe.range=function(ve){return arguments.length?(ne=ve,ae=0,$={t:"range",a:arguments},oe):ne},oe.rangePoints=function(ve,we){arguments.length<2&&(we=0);var Pe=ve[0],Re=ve[1],Ge=A.length<2?(Pe=(Pe+Re)/2,0):(Re-Pe)/(A.length-1+we);return ne=_e(Pe+Ge*we/2,Ge),ae=0,$={t:"rangePoints",a:arguments},oe},oe.rangeRoundPoints=function(ve,we){arguments.length<2&&(we=0);var Pe=ve[0],Re=ve[1],Ge=A.length<2?(Pe=Re=Math.round((Pe+Re)/2),0):(Re-Pe)/(A.length-1+we)|0;return ne=_e(Pe+Math.round(Ge*we/2+(Re-Pe-(A.length-1+we)*Ge)/2),Ge),ae=0,$={t:"rangeRoundPoints",a:arguments},oe},oe.rangeBands=function(ve,we,Pe){arguments.length<2&&(we=0),arguments.length<3&&(Pe=we);var Re=ve[1]<ve[0],Ge=ve[Re-0],Ye=ve[1-Re],vt=(Ye-Ge)/(A.length-we+2*Pe);return ne=_e(Ge+vt*Pe,vt),Re&&ne.reverse(),ae=vt*(1-we),$={t:"rangeBands",a:arguments},oe},oe.rangeRoundBands=function(ve,we,Pe){arguments.length<2&&(we=0),arguments.length<3&&(Pe=we);var Re=ve[1]<ve[0],Ge=ve[Re-0],Ye=ve[1-Re],vt=Math.floor((Ye-Ge)/(A.length-we+2*Pe));return ne=_e(Ge+Math.round((Ye-Ge-(A.length-we)*vt)/2),vt),Re&&ne.reverse(),ae=Math.round(vt*(1-we)),$={t:"rangeRoundBands",a:arguments},oe},oe.rangeBand=function(){return ae},oe.rangeExtent=function(){return If($.a[0])},oe.copy=function(){return e2(A,$)},oe.domain(A)}n.scale.category10=function(){return n.scale.ordinal().range(DE)},n.scale.category20=function(){return n.scale.ordinal().range(PE)},n.scale.category20b=function(){return n.scale.ordinal().range(RE)},n.scale.category20c=function(){return n.scale.ordinal().range(OE)};var DE=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Pt),PE=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(Pt),RE=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Pt),OE=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(Pt);n.scale.quantile=function(){return t2([],[])};function t2(A,$){var X;function ne(){var oe=0,_e=$.length;for(X=[];++oe<_e;)X[oe-1]=n.quantile(A,oe/_e);return ae}function ae(oe){if(!isNaN(oe=+oe))return $[n.bisect(X,oe)]}return ae.domain=function(oe){return arguments.length?(A=oe.map(p).filter(d).sort(g),ne()):A},ae.range=function(oe){return arguments.length?($=oe,ne()):$},ae.quantiles=function(){return X},ae.invertExtent=function(oe){return oe=$.indexOf(oe),oe<0?[NaN,NaN]:[oe>0?X[oe-1]:A[0],oe<X.length?X[oe]:A[A.length-1]]},ae.copy=function(){return t2(A,$)},ne()}n.scale.quantize=function(){return r2(0,1,[0,1])};function r2(A,$,X){var ne,ae;function oe(ve){return X[Math.max(0,Math.min(ae,Math.floor(ne*(ve-A))))]}function _e(){return ne=X.length/($-A),ae=X.length-1,oe}return oe.domain=function(ve){return arguments.length?(A=+ve[0],$=+ve[ve.length-1],_e()):[A,$]},oe.range=function(ve){return arguments.length?(X=ve,_e()):X},oe.invertExtent=function(ve){return ve=X.indexOf(ve),ve=ve<0?NaN:ve/ne+A,[ve,ve+1/ne]},oe.copy=function(){return r2(A,$,X)},_e()}n.scale.threshold=function(){return n2([.5],[0,1])};function n2(A,$){function X(ne){if(ne<=ne)return $[n.bisect(A,ne)]}return X.domain=function(ne){return arguments.length?(A=ne,X):A},X.range=function(ne){return arguments.length?($=ne,X):$},X.invertExtent=function(ne){return ne=$.indexOf(ne),[A[ne-1],A[ne]]},X.copy=function(){return n2(A,$)},X}n.scale.identity=function(){return i2([0,1])};function i2(A){function $(X){return+X}return $.invert=$,$.domain=$.range=function(X){return arguments.length?(A=X.map($),$):A},$.ticks=function(X){return Gv(A,X)},$.tickFormat=function(X,ne){return d3_scale_linearTickFormat(A,X,ne)},$.copy=function(){return i2(A)},$}n.svg={};function IE(){return 0}n.svg.arc=function(){var A=NE,$=FE,X=IE,ne=$f,ae=a2,oe=o2,_e=$E;function ve(){var Pe=Math.max(0,+A.apply(this,arguments)),Re=Math.max(0,+$.apply(this,arguments)),Ge=ae.apply(this,arguments)-ke,Ye=oe.apply(this,arguments)-ke,vt=Math.abs(Ye-Ge),Ct=Ge>Ye?0:1;if(Re<Pe&&(Xe=Re,Re=Pe,Pe=Xe),vt>=Ae)return we(Re,Ct)+(Pe?we(Pe,1-Ct):"")+"Z";var Xe,it,ht,Tt,kt=0,pt=0,Qt,sr,fr,lr,hr,pr,Mr,gr,Tr=[];if((Tt=(+_e.apply(this,arguments)||0)/2)&&(ht=ne===$f?Math.sqrt(Pe*Pe+Re*Re):+ne.apply(this,arguments),Ct||(pt*=-1),Re&&(pt=$e(ht/Re*Math.sin(Tt))),Pe&&(kt=$e(ht/Pe*Math.sin(Tt)))),Re){Qt=Re*Math.cos(Ge+pt),sr=Re*Math.sin(Ge+pt),fr=Re*Math.cos(Ye-pt),lr=Re*Math.sin(Ye-pt);var Jr=Math.abs(Ye-Ge-2*pt)<=ce?0:1;if(pt&&zf(Qt,sr,fr,lr)===Ct^Jr){var Pn=(Ge+Ye)/2;Qt=Re*Math.cos(Pn),sr=Re*Math.sin(Pn),fr=lr=null}}else Qt=sr=0;if(Pe){hr=Pe*Math.cos(Ye-kt),pr=Pe*Math.sin(Ye-kt),Mr=Pe*Math.cos(Ge+kt),gr=Pe*Math.sin(Ge+kt);var ln=Math.abs(Ge-Ye+2*kt)<=ce?0:1;if(kt&&zf(hr,pr,Mr,gr)===1-Ct^ln){var or=(Ge+Ye)/2;hr=Pe*Math.cos(or),pr=Pe*Math.sin(or),Mr=gr=null}}else hr=pr=0;if(vt>Me&&(Xe=Math.min(Math.abs(Re-Pe)/2,+X.apply(this,arguments)))>.001){it=Pe<Re^Ct?0:1;var Er=Xe,Pr=Xe;if(vt<ce){var Qr=Mr==null?[hr,pr]:fr==null?[Qt,sr]:bn([Qt,sr],[Mr,gr],[fr,lr],[hr,pr]),xn=Qt-Qr[0],Hn=sr-Qr[1],qn=fr-Qr[0],_i=lr-Qr[1],Li=1/Math.sin(Math.acos((xn*qn+Hn*_i)/(Math.sqrt(xn*xn+Hn*Hn)*Math.sqrt(qn*qn+_i*_i)))/2),bi=Math.sqrt(Qr[0]*Qr[0]+Qr[1]*Qr[1]);Pr=Math.min(Xe,(Pe-bi)/(Li-1)),Er=Math.min(Xe,(Re-bi)/(Li+1))}if(fr!=null){var $i=Hf(Mr==null?[hr,pr]:[Mr,gr],[Qt,sr],Re,Er,Ct),si=Hf([fr,lr],[hr,pr],Re,Er,Ct);Xe===Er?Tr.push("M",$i[0],"A",Er,",",Er," 0 0,",it," ",$i[1],"A",Re,",",Re," 0 ",1-Ct^zf($i[1][0],$i[1][1],si[1][0],si[1][1]),",",Ct," ",si[1],"A",Er,",",Er," 0 0,",it," ",si[0]):Tr.push("M",$i[0],"A",Er,",",Er," 0 1,",it," ",si[0])}else Tr.push("M",Qt,",",sr);if(Mr!=null){var zi=Hf([Qt,sr],[Mr,gr],Pe,-Pr,Ct),Ms=Hf([hr,pr],fr==null?[Qt,sr]:[fr,lr],Pe,-Pr,Ct);Xe===Pr?Tr.push("L",Ms[0],"A",Pr,",",Pr," 0 0,",it," ",Ms[1],"A",Pe,",",Pe," 0 ",Ct^zf(Ms[1][0],Ms[1][1],zi[1][0],zi[1][1]),",",1-Ct," ",zi[1],"A",Pr,",",Pr," 0 0,",it," ",zi[0]):Tr.push("L",Ms[0],"A",Pr,",",Pr," 0 0,",it," ",zi[0])}else Tr.push("L",hr,",",pr)}else Tr.push("M",Qt,",",sr),fr!=null&&Tr.push("A",Re,",",Re," 0 ",Jr,",",Ct," ",fr,",",lr),Tr.push("L",hr,",",pr),Mr!=null&&Tr.push("A",Pe,",",Pe," 0 ",ln,",",1-Ct," ",Mr,",",gr);return Tr.push("Z"),Tr.join("")}function we(Pe,Re){return"M0,"+Pe+"A"+Pe+","+Pe+" 0 1,"+Re+" 0,"+-Pe+"A"+Pe+","+Pe+" 0 1,"+Re+" 0,"+Pe}return ve.innerRadius=function(Pe){return arguments.length?(A=Ht(Pe),ve):A},ve.outerRadius=function(Pe){return arguments.length?($=Ht(Pe),ve):$},ve.cornerRadius=function(Pe){return arguments.length?(X=Ht(Pe),ve):X},ve.padRadius=function(Pe){return arguments.length?(ne=Pe==$f?$f:Ht(Pe),ve):ne},ve.startAngle=function(Pe){return arguments.length?(ae=Ht(Pe),ve):ae},ve.endAngle=function(Pe){return arguments.length?(oe=Ht(Pe),ve):oe},ve.padAngle=function(Pe){return arguments.length?(_e=Ht(Pe),ve):_e},ve.centroid=function(){var Pe=(+A.apply(this,arguments)+ +$.apply(this,arguments))/2,Re=(+ae.apply(this,arguments)+ +oe.apply(this,arguments))/2-ke;return[Math.cos(Re)*Pe,Math.sin(Re)*Pe]},ve};var $f="auto";function NE(A){return A.innerRadius}function FE(A){return A.outerRadius}function a2(A){return A.startAngle}function o2(A){return A.endAngle}function $E(A){return A&&A.padAngle}function zf(A,$,X,ne){return(A-X)*$-($-ne)*A>0?0:1}function Hf(A,$,X,ne,ae){var oe=A[0]-$[0],_e=A[1]-$[1],ve=(ae?ne:-ne)/Math.sqrt(oe*oe+_e*_e),we=ve*_e,Pe=-ve*oe,Re=A[0]+we,Ge=A[1]+Pe,Ye=$[0]+we,vt=$[1]+Pe,Ct=(Re+Ye)/2,Xe=(Ge+vt)/2,it=Ye-Re,ht=vt-Ge,Tt=it*it+ht*ht,kt=X-ne,pt=Re*vt-Ye*Ge,Qt=(ht<0?-1:1)*Math.sqrt(Math.max(0,kt*kt*Tt-pt*pt)),sr=(pt*ht-it*Qt)/Tt,fr=(-pt*it-ht*Qt)/Tt,lr=(pt*ht+it*Qt)/Tt,hr=(-pt*it+ht*Qt)/Tt,pr=sr-Ct,Mr=fr-Xe,gr=lr-Ct,Tr=hr-Xe;return pr*pr+Mr*Mr>gr*gr+Tr*Tr&&(sr=lr,fr=hr),[[sr-we,fr-Pe],[sr*X/kt,fr*X/kt]]}function s2(){return!0}function l2(A){var $=kr,X=jr,ne=s2,ae=Ma,oe=ae.key,_e=.7;function ve(we){var Pe=[],Re=[],Ge=-1,Ye=we.length,vt,Ct=Ht($),Xe=Ht(X);function it(){Pe.push("M",ae(A(Re),_e))}for(;++Ge<Ye;)ne.call(this,vt=we[Ge],Ge)?Re.push([+Ct.call(this,vt,Ge),+Xe.call(this,vt,Ge)]):Re.length&&(it(),Re=[]);return Re.length&&it(),Pe.length?Pe.join(""):null}return ve.x=function(we){return arguments.length?($=we,ve):$},ve.y=function(we){return arguments.length?(X=we,ve):X},ve.defined=function(we){return arguments.length?(ne=we,ve):ne},ve.interpolate=function(we){return arguments.length?(typeof we=="function"?oe=ae=we:oe=(ae=Yv.get(we)||Ma).key,ve):oe},ve.tension=function(we){return arguments.length?(_e=we,ve):_e},ve}n.svg.line=function(){return l2(Z)};var Yv=n.map({linear:Ma,"linear-closed":u2,step:zE,"step-before":Kv,"step-after":Xv,basis:c2,"basis-open":UE,"basis-closed":WE,bundle:VE,cardinal:jE,"cardinal-open":HE,"cardinal-closed":BE,monotone:KE});Yv.forEach(function(A,$){$.key=A,$.closed=/-closed$/.test(A)});function Ma(A){return A.length>1?A.join("L"):A+"Z"}function u2(A){return A.join("L")+"Z"}function zE(A){for(var $=0,X=A.length,ne=A[0],ae=[ne[0],",",ne[1]];++$<X;)ae.push("H",(ne[0]+(ne=A[$])[0])/2,"V",ne[1]);return X>1&&ae.push("H",ne[0]),ae.join("")}function Kv(A){for(var $=0,X=A.length,ne=A[0],ae=[ne[0],",",ne[1]];++$<X;)ae.push("V",(ne=A[$])[1],"H",ne[0]);return ae.join("")}function Xv(A){for(var $=0,X=A.length,ne=A[0],ae=[ne[0],",",ne[1]];++$<X;)ae.push("H",(ne=A[$])[0],"V",ne[1]);return ae.join("")}function HE(A,$){return A.length<4?Ma(A):A[1]+Bf(A.slice(1,-1),Zv(A,$))}function BE(A,$){return A.length<3?u2(A):A[0]+Bf((A.push(A[0]),A),Zv([A[A.length-2]].concat(A,[A[1]]),$))}function jE(A,$){return A.length<3?Ma(A):A[0]+Bf(A,Zv(A,$))}function Bf(A,$){if($.length<1||A.length!=$.length&&A.length!=$.length+2)return Ma(A);var X=A.length!=$.length,ne="",ae=A[0],oe=A[1],_e=$[0],ve=_e,we=1;if(X&&(ne+="Q"+(oe[0]-_e[0]*2/3)+","+(oe[1]-_e[1]*2/3)+","+oe[0]+","+oe[1],ae=A[1],we=2),$.length>1){ve=$[1],oe=A[we],we++,ne+="C"+(ae[0]+_e[0])+","+(ae[1]+_e[1])+","+(oe[0]-ve[0])+","+(oe[1]-ve[1])+","+oe[0]+","+oe[1];for(var Pe=2;Pe<$.length;Pe++,we++)oe=A[we],ve=$[Pe],ne+="S"+(oe[0]-ve[0])+","+(oe[1]-ve[1])+","+oe[0]+","+oe[1]}if(X){var Re=A[we];ne+="Q"+(oe[0]+ve[0]*2/3)+","+(oe[1]+ve[1]*2/3)+","+Re[0]+","+Re[1]}return ne}function Zv(A,$){for(var X=[],ne=(1-$)/2,ae,oe=A[0],_e=A[1],ve=1,we=A.length;++ve<we;)ae=oe,oe=_e,_e=A[ve],X.push([ne*(_e[0]-ae[0]),ne*(_e[1]-ae[1])]);return X}function c2(A){if(A.length<3)return Ma(A);var $=1,X=A.length,ne=A[0],ae=ne[0],oe=ne[1],_e=[ae,ae,ae,(ne=A[1])[0]],ve=[oe,oe,oe,ne[1]],we=[ae,",",oe,"L",pa(No,_e),",",pa(No,ve)];for(A.push(A[X-1]);++$<=X;)ne=A[$],_e.shift(),_e.push(ne[0]),ve.shift(),ve.push(ne[1]),Jv(we,_e,ve);return A.pop(),we.push("L",ne),we.join("")}function UE(A){if(A.length<4)return Ma(A);for(var $=[],X=-1,ne=A.length,ae,oe=[0],_e=[0];++X<3;)ae=A[X],oe.push(ae[0]),_e.push(ae[1]);for($.push(pa(No,oe)+","+pa(No,_e)),--X;++X<ne;)ae=A[X],oe.shift(),oe.push(ae[0]),_e.shift(),_e.push(ae[1]),Jv($,oe,_e);return $.join("")}function WE(A){for(var $,X=-1,ne=A.length,ae=ne+4,oe,_e=[],ve=[];++X<4;)oe=A[X%ne],_e.push(oe[0]),ve.push(oe[1]);for($=[pa(No,_e),",",pa(No,ve)],--X;++X<ae;)oe=A[X%ne],_e.shift(),_e.push(oe[0]),ve.shift(),ve.push(oe[1]),Jv($,_e,ve);return $.join("")}function VE(A,$){var X=A.length-1;if(X)for(var ne=A[0][0],ae=A[0][1],oe=A[X][0]-ne,_e=A[X][1]-ae,ve=-1,we,Pe;++ve<=X;)we=A[ve],Pe=ve/X,we[0]=$*we[0]+(1-$)*(ne+Pe*oe),we[1]=$*we[1]+(1-$)*(ae+Pe*_e);return c2(A)}function pa(A,$){return A[0]*$[0]+A[1]*$[1]+A[2]*$[2]+A[3]*$[3]}var f2=[0,2/3,1/3,0],d2=[0,1/3,2/3,0],No=[0,1/6,2/3,1/6];function Jv(A,$,X){A.push("C",pa(f2,$),",",pa(f2,X),",",pa(d2,$),",",pa(d2,X),",",pa(No,$),",",pa(No,X))}function Qv(A,$){return($[1]-A[1])/($[0]-A[0])}function GE(A){for(var $=0,X=A.length-1,ne=[],ae=A[0],oe=A[1],_e=ne[0]=Qv(ae,oe);++$<X;)ne[$]=(_e+(_e=Qv(ae=oe,oe=A[$+1])))/2;return ne[$]=_e,ne}function YE(A){for(var $=[],X,ne,ae,oe,_e=GE(A),ve=-1,we=A.length-1;++ve<we;)X=Qv(A[ve],A[ve+1]),w(X)<Me?_e[ve]=_e[ve+1]=0:(ne=_e[ve]/X,ae=_e[ve+1]/X,oe=ne*ne+ae*ae,oe>9&&(oe=X*3/Math.sqrt(oe),_e[ve]=oe*ne,_e[ve+1]=oe*ae));for(ve=-1;++ve<=we;)oe=(A[Math.min(we,ve+1)][0]-A[Math.max(0,ve-1)][0])/(6*(1+_e[ve]*_e[ve])),$.push([oe||0,_e[ve]*oe||0]);return $}function KE(A){return A.length<3?Ma(A):A[0]+Bf(A,YE(A))}n.svg.line.radial=function(){var A=l2(h2);return A.radius=A.x,delete A.x,A.angle=A.y,delete A.y,A};function h2(A){for(var $,X=-1,ne=A.length,ae,oe;++X<ne;)$=A[X],ae=$[0],oe=$[1]-ke,$[0]=ae*Math.cos(oe),$[1]=ae*Math.sin(oe);return A}function p2(A){var $=kr,X=kr,ne=0,ae=jr,oe=s2,_e=Ma,ve=_e.key,we=_e,Pe="L",Re=.7;function Ge(Ye){var vt=[],Ct=[],Xe=[],it=-1,ht=Ye.length,Tt,kt=Ht($),pt=Ht(ne),Qt=$===X?function(){return fr}:Ht(X),sr=ne===ae?function(){return lr}:Ht(ae),fr,lr;function hr(){vt.push("M",_e(A(Xe),Re),Pe,we(A(Ct.reverse()),Re),"Z")}for(;++it<ht;)oe.call(this,Tt=Ye[it],it)?(Ct.push([fr=+kt.call(this,Tt,it),lr=+pt.call(this,Tt,it)]),Xe.push([+Qt.call(this,Tt,it),+sr.call(this,Tt,it)])):Ct.length&&(hr(),Ct=[],Xe=[]);return Ct.length&&hr(),vt.length?vt.join(""):null}return Ge.x=function(Ye){return arguments.length?($=X=Ye,Ge):X},Ge.x0=function(Ye){return arguments.length?($=Ye,Ge):$},Ge.x1=function(Ye){return arguments.length?(X=Ye,Ge):X},Ge.y=function(Ye){return arguments.length?(ne=ae=Ye,Ge):ae},Ge.y0=function(Ye){return arguments.length?(ne=Ye,Ge):ne},Ge.y1=function(Ye){return arguments.length?(ae=Ye,Ge):ae},Ge.defined=function(Ye){return arguments.length?(oe=Ye,Ge):oe},Ge.interpolate=function(Ye){return arguments.length?(typeof Ye=="function"?ve=_e=Ye:ve=(_e=Yv.get(Ye)||Ma).key,we=_e.reverse||_e,Pe=_e.closed?"M":"L",Ge):ve},Ge.tension=function(Ye){return arguments.length?(Re=Ye,Ge):Re},Ge}Kv.reverse=Xv,Xv.reverse=Kv,n.svg.area=function(){return p2(Z)},n.svg.area.radial=function(){var A=p2(h2);return A.radius=A.x,delete A.x,A.innerRadius=A.x0,delete A.x0,A.outerRadius=A.x1,delete A.x1,A.angle=A.y,delete A.y,A.startAngle=A.y0,delete A.y0,A.endAngle=A.y1,delete A.y1,A};function v2(A){return A.source}function m2(A){return A.target}n.svg.chord=function(){var A=v2,$=m2,X=XE,ne=a2,ae=o2;function oe(Re,Ge){var Ye=_e(this,A,Re,Ge),vt=_e(this,$,Re,Ge);return"M"+Ye.p0+we(Ye.r,Ye.p1,Ye.a1-Ye.a0)+(ve(Ye,vt)?Pe(Ye.r,Ye.p1,Ye.r,Ye.p0):Pe(Ye.r,Ye.p1,vt.r,vt.p0)+we(vt.r,vt.p1,vt.a1-vt.a0)+Pe(vt.r,vt.p1,Ye.r,Ye.p0))+"Z"}function _e(Re,Ge,Ye,vt){var Ct=Ge.call(Re,Ye,vt),Xe=X.call(Re,Ct,vt),it=ne.call(Re,Ct,vt)-ke,ht=ae.call(Re,Ct,vt)-ke;return{r:Xe,a0:it,a1:ht,p0:[Xe*Math.cos(it),Xe*Math.sin(it)],p1:[Xe*Math.cos(ht),Xe*Math.sin(ht)]}}function ve(Re,Ge){return Re.a0==Ge.a0&&Re.a1==Ge.a1}function we(Re,Ge,Ye){return"A"+Re+","+Re+" 0 "+ +(Ye>ce)+",1 "+Ge}function Pe(Re,Ge,Ye,vt){return"Q 0,0 "+vt}return oe.radius=function(Re){return arguments.length?(X=Ht(Re),oe):X},oe.source=function(Re){return arguments.length?(A=Ht(Re),oe):A},oe.target=function(Re){return arguments.length?($=Ht(Re),oe):$},oe.startAngle=function(Re){return arguments.length?(ne=Ht(Re),oe):ne},oe.endAngle=function(Re){return arguments.length?(ae=Ht(Re),oe):ae},oe};function XE(A){return A.radius}n.svg.diagonal=function(){var A=v2,$=m2,X=g2;function ne(ae,oe){var _e=A.call(this,ae,oe),ve=$.call(this,ae,oe),we=(_e.y+ve.y)/2,Pe=[_e,{x:_e.x,y:we},{x:ve.x,y:we},ve];return Pe=Pe.map(X),"M"+Pe[0]+"C"+Pe[1]+" "+Pe[2]+" "+Pe[3]}return ne.source=function(ae){return arguments.length?(A=Ht(ae),ne):A},ne.target=function(ae){return arguments.length?($=Ht(ae),ne):$},ne.projection=function(ae){return arguments.length?(X=ae,ne):X},ne};function g2(A){return[A.x,A.y]}n.svg.diagonal.radial=function(){var A=n.svg.diagonal(),$=g2,X=A.projection;return A.projection=function(ne){return arguments.length?X(ZE($=ne)):$},A};function ZE(A){return function(){var $=A.apply(this,arguments),X=$[0],ne=$[1]-ke;return[X*Math.cos(ne),X*Math.sin(ne)]}}n.svg.symbol=function(){var A=QE,$=JE;function X(ne,ae){return(_2.get(A.call(this,ne,ae))||y2)($.call(this,ne,ae))}return X.type=function(ne){return arguments.length?(A=Ht(ne),X):A},X.size=function(ne){return arguments.length?($=Ht(ne),X):$},X};function JE(){return 64}function QE(){return"circle"}function y2(A){var $=Math.sqrt(A/ce);return"M0,"+$+"A"+$+","+$+" 0 1,1 0,"+-$+"A"+$+","+$+" 0 1,1 0,"+$+"Z"}var _2=n.map({circle:y2,cross:function(A){var $=Math.sqrt(A/5)/2;return"M"+-3*$+","+-$+"H"+-$+"V"+-3*$+"H"+$+"V"+-$+"H"+3*$+"V"+$+"H"+$+"V"+3*$+"H"+-$+"V"+$+"H"+-3*$+"Z"},diamond:function(A){var $=Math.sqrt(A/(2*b2)),X=$*b2;return"M0,"+-$+"L"+X+",0 0,"+$+" "+-X+",0Z"},square:function(A){var $=Math.sqrt(A)/2;return"M"+-$+","+-$+"L"+$+","+-$+" "+$+","+$+" "+-$+","+$+"Z"},"triangle-down":function(A){var $=Math.sqrt(A/jf),X=$*jf/2;return"M0,"+X+"L"+$+","+-X+" "+-$+","+-X+"Z"},"triangle-up":function(A){var $=Math.sqrt(A/jf),X=$*jf/2;return"M0,"+-X+"L"+$+","+X+" "+-$+","+X+"Z"}});n.svg.symbolTypes=_2.keys();var jf=Math.sqrt(3),b2=Math.tan(30*xe);Y.transition=function(A){for(var $=ks||++x2,X=em(A),ne=[],ae,oe,_e=Wf||{time:Date.now(),ease:DM,delay:0,duration:250},ve=-1,we=this.length;++ve<we;){ne.push(ae=[]);for(var Pe=this[ve],Re=-1,Ge=Pe.length;++Re<Ge;)(oe=Pe[Re])&&Vf(oe,Re,X,$,_e),ae.push(oe)}return Uu(ne,X,$)},Y.interrupt=function(A){return this.each(A==null?Uf:w2(em(A)))};var Uf=w2(em());function w2(A){return function(){var $,X,ne;($=this[A])&&(ne=$[X=$.active])&&(ne.timer.c=null,ne.timer.t=NaN,--$.count?delete $[X]:delete this[A],$.active+=.5,ne.event&&ne.event.interrupt.call(this,this.__data__,ne.index))}}function Uu(A,$,X){return J(A,zn),A.namespace=$,A.id=X,A}var zn=[],x2=0,ks,Wf;zn.call=Y.call,zn.empty=Y.empty,zn.node=Y.node,zn.size=Y.size,n.transition=function(A,$){return A&&A.transition?ks?A.transition($):A:n.selection().transition(A)},n.transition.prototype=zn,zn.select=function(A){var $=this.id,X=this.namespace,ne=[],ae,oe,_e;A=j(A);for(var ve=-1,we=this.length;++ve<we;){ne.push(ae=[]);for(var Pe=this[ve],Re=-1,Ge=Pe.length;++Re<Ge;)(_e=Pe[Re])&&(oe=A.call(_e,_e.__data__,Re,ve))?("__data__"in _e&&(oe.__data__=_e.__data__),Vf(oe,Re,X,$,_e[X][$]),ae.push(oe)):ae.push(null)}return Uu(ne,X,$)},zn.selectAll=function(A){var $=this.id,X=this.namespace,ne=[],ae,oe,_e,ve,we;A=Q(A);for(var Pe=-1,Re=this.length;++Pe<Re;)for(var Ge=this[Pe],Ye=-1,vt=Ge.length;++Ye<vt;)if(_e=Ge[Ye]){we=_e[X][$],oe=A.call(_e,_e.__data__,Ye,Pe),ne.push(ae=[]);for(var Ct=-1,Xe=oe.length;++Ct<Xe;)(ve=oe[Ct])&&Vf(ve,Ct,X,$,we),ae.push(ve)}return Uu(ne,X,$)},zn.filter=function(A){var $=[],X,ne,ae;typeof A!="function"&&(A=Se(A));for(var oe=0,_e=this.length;oe<_e;oe++){$.push(X=[]);for(var ne=this[oe],ve=0,we=ne.length;ve<we;ve++)(ae=ne[ve])&&A.call(ae,ae.__data__,ve,oe)&&X.push(ae)}return Uu($,this.namespace,this.id)},zn.tween=function(A,$){var X=this.id,ne=this.namespace;return arguments.length<2?this.node()[ne][X].tween.get(A):Ke(this,$==null?function(ae){ae[ne][X].tween.remove(A)}:function(ae){ae[ne][X].tween.set(A,$)})};function qv(A,$,X,ne){var ae=A.id,oe=A.namespace;return Ke(A,typeof X=="function"?function(_e,ve,we){_e[oe][ae].tween.set($,ne(X.call(_e,_e.__data__,ve,we)))}:(X=ne(X),function(_e){_e[oe][ae].tween.set($,X)}))}zn.attr=function(A,$){if(arguments.length<2){for($ in A)this.attr($,A[$]);return this}var X=A=="transform"?Ob:As,ne=n.ns.qualify(A);function ae(){this.removeAttribute(ne)}function oe(){this.removeAttributeNS(ne.space,ne.local)}function _e(we){return we==null?ae:(we+="",function(){var Pe=this.getAttribute(ne),Re;return Pe!==we&&(Re=X(Pe,we),function(Ge){this.setAttribute(ne,Re(Ge))})})}function ve(we){return we==null?oe:(we+="",function(){var Pe=this.getAttributeNS(ne.space,ne.local),Re;return Pe!==we&&(Re=X(Pe,we),function(Ge){this.setAttributeNS(ne.space,ne.local,Re(Ge))})})}return qv(this,"attr."+A,$,ne.local?ve:_e)},zn.attrTween=function(A,$){var X=n.ns.qualify(A);function ne(oe,_e){var ve=$.call(this,oe,_e,this.getAttribute(X));return ve&&function(we){this.setAttribute(X,ve(we))}}function ae(oe,_e){var ve=$.call(this,oe,_e,this.getAttributeNS(X.space,X.local));return ve&&function(we){this.setAttributeNS(X.space,X.local,ve(we))}}return this.tween("attr."+A,X.local?ae:ne)},zn.style=function(A,$,X){var ne=arguments.length;if(ne<3){if(typeof A!="string"){ne<2&&($="");for(X in A)this.style(X,A[X],$);return this}X=""}function ae(){this.style.removeProperty(A)}function oe(_e){return _e==null?ae:(_e+="",function(){var ve=c(this).getComputedStyle(this,null).getPropertyValue(A),we;return ve!==_e&&(we=As(ve,_e),function(Pe){this.style.setProperty(A,we(Pe),X)})})}return qv(this,"style."+A,$,oe)},zn.styleTween=function(A,$,X){arguments.length<3&&(X="");function ne(ae,oe){var _e=$.call(this,ae,oe,c(this).getComputedStyle(this,null).getPropertyValue(A));return _e&&function(ve){this.style.setProperty(A,_e(ve),X)}}return this.tween("style."+A,ne)},zn.text=function(A){return qv(this,"text",A,qE)};function qE(A){return A==null&&(A=""),function(){this.textContent=A}}zn.remove=function(){var A=this.namespace;return this.each("end.transition",function(){var $;this[A].count<2&&($=this.parentNode)&&$.removeChild(this)})},zn.ease=function(A){var $=this.id,X=this.namespace;return arguments.length<1?this.node()[X][$].ease:(typeof A!="function"&&(A=n.ease.apply(n,arguments)),Ke(this,function(ne){ne[X][$].ease=A}))},zn.delay=function(A){var $=this.id,X=this.namespace;return arguments.length<1?this.node()[X][$].delay:Ke(this,typeof A=="function"?function(ne,ae,oe){ne[X][$].delay=+A.call(ne,ne.__data__,ae,oe)}:(A=+A,function(ne){ne[X][$].delay=A}))},zn.duration=function(A){var $=this.id,X=this.namespace;return arguments.length<1?this.node()[X][$].duration:Ke(this,typeof A=="function"?function(ne,ae,oe){ne[X][$].duration=Math.max(1,A.call(ne,ne.__data__,ae,oe))}:(A=Math.max(1,A),function(ne){ne[X][$].duration=A}))},zn.each=function(A,$){var X=this.id,ne=this.namespace;if(arguments.length<2){var ae=Wf,oe=ks;try{ks=X,Ke(this,function(_e,ve,we){Wf=_e[ne][X],A.call(_e,_e.__data__,ve,we)})}finally{Wf=ae,ks=oe}}else Ke(this,function(_e){var ve=_e[ne][X];(ve.event||(ve.event=n.dispatch("start","end","interrupt"))).on(A,$)});return this},zn.transition=function(){for(var A=this.id,$=++x2,X=this.namespace,ne=[],ae,oe,_e,ve,we=0,Pe=this.length;we<Pe;we++){ne.push(ae=[]);for(var oe=this[we],Re=0,Ge=oe.length;Re<Ge;Re++)(_e=oe[Re])&&(ve=_e[X][A],Vf(_e,Re,X,$,{time:ve.time,ease:ve.ease,delay:ve.delay+ve.duration,duration:ve.duration})),ae.push(_e)}return Uu(ne,X,$)};function em(A){return A==null?"__transition__":"__transition_"+A+"__"}function Vf(A,$,X,ne,ae){var oe=A[X]||(A[X]={active:0,count:0}),_e=oe[ne],ve,we,Pe,Re,Ge;function Ye(Xe){var it=_e.delay;if(we.t=it+ve,it<=Xe)return vt(Xe-it);we.c=vt}function vt(Xe){var it=oe.active,ht=oe[it];ht&&(ht.timer.c=null,ht.timer.t=NaN,--oe.count,delete oe[it],ht.event&&ht.event.interrupt.call(A,A.__data__,ht.index));for(var Tt in oe)if(+Tt<ne){var kt=oe[Tt];kt.timer.c=null,kt.timer.t=NaN,--oe.count,delete oe[Tt]}we.c=Ct,_r(function(){return we.c&&Ct(Xe||1)&&(we.c=null,we.t=NaN),1},0,ve),oe.active=ne,_e.event&&_e.event.start.call(A,A.__data__,$),Ge=[],_e.tween.forEach(function(pt,Qt){(Qt=Qt.call(A,A.__data__,$))&&Ge.push(Qt)}),Re=_e.ease,Pe=_e.duration}function Ct(Xe){for(var it=Xe/Pe,ht=Re(it),Tt=Ge.length;Tt>0;)Ge[--Tt].call(A,ht);if(it>=1)return _e.event&&_e.event.end.call(A,A.__data__,$),--oe.count?delete oe[ne]:delete A[X],1}_e||(ve=ae.time,we=_r(Ye,0,ve),_e=oe[ne]={tween:new T,time:ve,timer:we,delay:ae.delay,duration:ae.duration,ease:ae.ease,index:$},ae=null,++oe.count)}n.svg.axis=function(){var A=n.scale.linear(),$=S2,X=6,ne=6,ae=3,oe=[10],_e=null,ve;function we(Pe){Pe.each(function(){var Re=n.select(this),Ge=this.__chart__||A,Ye=this.__chart__=A.copy(),vt=_e??(Ye.ticks?Ye.ticks.apply(Ye,oe):Ye.domain()),Ct=ve??(Ye.tickFormat?Ye.tickFormat.apply(Ye,oe):Z),Xe=Re.selectAll(".tick").data(vt,Ye),it=Xe.enter().insert("g",".domain").attr("class","tick").style("opacity",Me),ht=n.transition(Xe.exit()).style("opacity",Me).remove(),Tt=n.transition(Xe.order()).style("opacity",1),kt=Math.max(X,0)+ae,pt,Qt=Nf(Ye),sr=Re.selectAll(".domain").data([0]),fr=(sr.enter().append("path").attr("class","domain"),n.transition(sr));it.append("line"),it.append("text");var lr=it.select("line"),hr=Tt.select("line"),pr=Xe.select("text").text(Ct),Mr=it.select("text"),gr=Tt.select("text"),Tr=$==="top"||$==="left"?-1:1,Jr,Pn,ln,or;if($==="bottom"||$==="top"?(pt=t6,Jr="x",ln="y",Pn="x2",or="y2",pr.attr("dy",Tr<0?"0em":".71em").style("text-anchor","middle"),fr.attr("d","M"+Qt[0]+","+Tr*ne+"V0H"+Qt[1]+"V"+Tr*ne)):(pt=r6,Jr="y",ln="x",Pn="y2",or="x2",pr.attr("dy",".32em").style("text-anchor",Tr<0?"end":"start"),fr.attr("d","M"+Tr*ne+","+Qt[0]+"H0V"+Qt[1]+"H"+Tr*ne)),lr.attr(or,Tr*X),Mr.attr(ln,Tr*kt),hr.attr(Pn,0).attr(or,Tr*X),gr.attr(Jr,0).attr(ln,Tr*kt),Ye.rangeBand){var Er=Ye,Pr=Er.rangeBand()/2;Ge=Ye=function(Qr){return Er(Qr)+Pr}}else Ge.rangeBand?Ge=Ye:ht.call(pt,Ye,Ge);it.call(pt,Ge,Ye),Tt.call(pt,Ye,Ye)})}return we.scale=function(Pe){return arguments.length?(A=Pe,we):A},we.orient=function(Pe){return arguments.length?($=Pe in e6?Pe+"":S2,we):$},we.ticks=function(){return arguments.length?(oe=s(arguments),we):oe},we.tickValues=function(Pe){return arguments.length?(_e=Pe,we):_e},we.tickFormat=function(Pe){return arguments.length?(ve=Pe,we):ve},we.tickSize=function(Pe){var Re=arguments.length;return Re?(X=+Pe,ne=+arguments[Re-1],we):X},we.innerTickSize=function(Pe){return arguments.length?(X=+Pe,we):X},we.outerTickSize=function(Pe){return arguments.length?(ne=+Pe,we):ne},we.tickPadding=function(Pe){return arguments.length?(ae=+Pe,we):ae},we.tickSubdivide=function(){return arguments.length&&we},we};var S2="bottom",e6={top:1,right:1,bottom:1,left:1};function t6(A,$,X){A.attr("transform",function(ne){var ae=$(ne);return"translate("+(isFinite(ae)?ae:X(ne))+",0)"})}function r6(A,$,X){A.attr("transform",function(ne){var ae=$(ne);return"translate(0,"+(isFinite(ae)?ae:X(ne))+")"})}n.svg.brush=function(){var A=ee(Re,"brushstart","brush","brushend"),$=null,X=null,ne=[0,0],ae=[0,0],oe,_e,ve=!0,we=!0,Pe=tm[0];function Re(Xe){Xe.each(function(){var it=n.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",Ct).on("touchstart.brush",Ct),ht=it.selectAll(".background").data([0]);ht.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),it.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var Tt=it.selectAll(".resize").data(Pe,Z);Tt.exit().remove(),Tt.enter().append("g").attr("class",function(sr){return"resize "+sr}).style("cursor",function(sr){return n6[sr]}).append("rect").attr("x",function(sr){return/[ew]$/.test(sr)?-3:null}).attr("y",function(sr){return/^[ns]/.test(sr)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),Tt.style("display",Re.empty()?"none":null);var kt=n.transition(it),pt=n.transition(ht),Qt;$&&(Qt=Nf($),pt.attr("x",Qt[0]).attr("width",Qt[1]-Qt[0]),Ye(kt)),X&&(Qt=Nf(X),pt.attr("y",Qt[0]).attr("height",Qt[1]-Qt[0]),vt(kt)),Ge(kt)})}Re.event=function(Xe){Xe.each(function(){var it=A.of(this,arguments),ht={x:ne,y:ae,i:oe,j:_e},Tt=this.__chart__||ht;this.__chart__=ht,ks?n.select(this).transition().each("start.brush",function(){oe=Tt.i,_e=Tt.j,ne=Tt.x,ae=Tt.y,it({type:"brushstart"})}).tween("brush:brush",function(){var kt=Of(ne,ht.x),pt=Of(ae,ht.y);return oe=_e=null,function(Qt){ne=ht.x=kt(Qt),ae=ht.y=pt(Qt),it({type:"brush",mode:"resize"})}}).each("end.brush",function(){oe=ht.i,_e=ht.j,it({type:"brush",mode:"resize"}),it({type:"brushend"})}):(it({type:"brushstart"}),it({type:"brush",mode:"resize"}),it({type:"brushend"}))})};function Ge(Xe){Xe.selectAll(".resize").attr("transform",function(it){return"translate("+ne[+/e$/.test(it)]+","+ae[+/^s/.test(it)]+")"})}function Ye(Xe){Xe.select(".extent").attr("x",ne[0]),Xe.selectAll(".extent,.n>rect,.s>rect").attr("width",ne[1]-ne[0])}function vt(Xe){Xe.select(".extent").attr("y",ae[0]),Xe.selectAll(".extent,.e>rect,.w>rect").attr("height",ae[1]-ae[0])}function Ct(){var Xe=this,it=n.select(n.event.target),ht=A.of(Xe,arguments),Tt=n.select(Xe),kt=it.datum(),pt=!/^(n|s)$/.test(kt)&&$,Qt=!/^(e|w)$/.test(kt)&&X,sr=it.classed("extent"),fr=at(Xe),lr,hr=n.mouse(Xe),pr,Mr=n.select(c(Xe)).on("keydown.brush",Jr).on("keyup.brush",Pn);if(n.event.changedTouches?Mr.on("touchmove.brush",ln).on("touchend.brush",Er):Mr.on("mousemove.brush",ln).on("mouseup.brush",Er),Tt.interrupt().selectAll("*").interrupt(),sr)hr[0]=ne[0]-hr[0],hr[1]=ae[0]-hr[1];else if(kt){var gr=+/w$/.test(kt),Tr=+/^n/.test(kt);pr=[ne[1-gr]-hr[0],ae[1-Tr]-hr[1]],hr[0]=ne[gr],hr[1]=ae[Tr]}else n.event.altKey&&(lr=hr.slice());Tt.style("pointer-events","none").selectAll(".resize").style("display",null),n.select("body").style("cursor",it.style("cursor")),ht({type:"brushstart"}),ln();function Jr(){n.event.keyCode==32&&(sr||(lr=null,hr[0]-=ne[1],hr[1]-=ae[1],sr=2),fe())}function Pn(){n.event.keyCode==32&&sr==2&&(hr[0]+=ne[1],hr[1]+=ae[1],sr=0,fe())}function ln(){var Pr=n.mouse(Xe),Qr=!1;pr&&(Pr[0]+=pr[0],Pr[1]+=pr[1]),sr||(n.event.altKey?(lr||(lr=[(ne[0]+ne[1])/2,(ae[0]+ae[1])/2]),hr[0]=ne[+(Pr[0]<lr[0])],hr[1]=ae[+(Pr[1]<lr[1])]):lr=null),pt&&or(Pr,$,0)&&(Ye(Tt),Qr=!0),Qt&&or(Pr,X,1)&&(vt(Tt),Qr=!0),Qr&&(Ge(Tt),ht({type:"brush",mode:sr?"move":"resize"}))}function or(Pr,Qr,xn){var Hn=Nf(Qr),qn=Hn[0],_i=Hn[1],Li=hr[xn],bi=xn?ae:ne,$i=bi[1]-bi[0],si,zi;if(sr&&(qn-=Li,_i-=$i+Li),si=(xn?we:ve)?Math.max(qn,Math.min(_i,Pr[xn])):Pr[xn],sr?zi=(si+=Li)+$i:(lr&&(Li=Math.max(qn,Math.min(_i,2*lr[xn]-si))),Li<si?(zi=si,si=Li):zi=Li),bi[0]!=si||bi[1]!=zi)return xn?_e=null:oe=null,bi[0]=si,bi[1]=zi,!0}function Er(){ln(),Tt.style("pointer-events","all").selectAll(".resize").style("display",Re.empty()?"none":null),n.select("body").style("cursor",null),Mr.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),fr(),ht({type:"brushend"})}}return Re.x=function(Xe){return arguments.length?($=Xe,Pe=tm[!$<<1|!X],Re):$},Re.y=function(Xe){return arguments.length?(X=Xe,Pe=tm[!$<<1|!X],Re):X},Re.clamp=function(Xe){return arguments.length?($&&X?(ve=!!Xe[0],we=!!Xe[1]):$?ve=!!Xe:X&&(we=!!Xe),Re):$&&X?[ve,we]:$?ve:X?we:null},Re.extent=function(Xe){var it,ht,Tt,kt,pt;return arguments.length?($&&(it=Xe[0],ht=Xe[1],X&&(it=it[0],ht=ht[0]),oe=[it,ht],$.invert&&(it=$(it),ht=$(ht)),ht<it&&(pt=it,it=ht,ht=pt),(it!=ne[0]||ht!=ne[1])&&(ne=[it,ht])),X&&(Tt=Xe[0],kt=Xe[1],$&&(Tt=Tt[1],kt=kt[1]),_e=[Tt,kt],X.invert&&(Tt=X(Tt),kt=X(kt)),kt<Tt&&(pt=Tt,Tt=kt,kt=pt),(Tt!=ae[0]||kt!=ae[1])&&(ae=[Tt,kt])),Re):($&&(oe?(it=oe[0],ht=oe[1]):(it=ne[0],ht=ne[1],$.invert&&(it=$.invert(it),ht=$.invert(ht)),ht<it&&(pt=it,it=ht,ht=pt))),X&&(_e?(Tt=_e[0],kt=_e[1]):(Tt=ae[0],kt=ae[1],X.invert&&(Tt=X.invert(Tt),kt=X.invert(kt)),kt<Tt&&(pt=Tt,Tt=kt,kt=pt))),$&&X?[[it,Tt],[ht,kt]]:$?[it,ht]:X&&[Tt,kt])},Re.clear=function(){return Re.empty()||(ne=[0,0],ae=[0,0],oe=_e=null),Re},Re.empty=function(){return!!$&&ne[0]==ne[1]||!!X&&ae[0]==ae[1]},n.rebind(Re,A,"on")};var n6={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},tm=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];n.text=Kt(function(A){return A.responseText}),n.json=function(A,$){return Xt(A,"application/json",i6,$)};function i6(A){return JSON.parse(A.responseText)}n.html=function(A,$){return Xt(A,"text/html",a6,$)};function a6(A){var $=l.createRange();return $.selectNode(l.body),$.createContextualFragment(A.responseText)}n.xml=Kt(function(A){return A.responseXML}),typeof i=="object"&&i.exports?i.exports=n:this.d3=n}).apply(self)},{}],12:[function(r,i,o){var n=typeof Reflect=="object"?Reflect:null,a=n&&typeof n.apply=="function"?n.apply:function(S,T,M){return Function.prototype.apply.call(S,T,M)},s;n&&typeof n.ownKeys=="function"?s=n.ownKeys:Object.getOwnPropertySymbols?s=function(S){return Object.getOwnPropertyNames(S).concat(Object.getOwnPropertySymbols(S))}:s=function(S){return Object.getOwnPropertyNames(S)};function l(C){console&&console.warn&&console.warn(C)}var u=Number.isNaN||function(S){return S!==S};function c(){c.init.call(this)}i.exports=c,i.exports.once=w,c.EventEmitter=c,c.prototype._events=void 0,c.prototype._eventsCount=0,c.prototype._maxListeners=void 0;var h=10;function v(C){if(typeof C!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof C)}Object.defineProperty(c,"defaultMaxListeners",{enumerable:!0,get:function(){return h},set:function(C){if(typeof C!="number"||C<0||u(C))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+C+".");h=C}}),c.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},c.prototype.setMaxListeners=function(S){if(typeof S!="number"||S<0||u(S))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+S+".");return this._maxListeners=S,this};function f(C){return C._maxListeners===void 0?c.defaultMaxListeners:C._maxListeners}c.prototype.getMaxListeners=function(){return f(this)},c.prototype.emit=function(S){for(var T=[],M=1;M<arguments.length;M++)T.push(arguments[M]);var D=S==="error",k=this._events;if(k!==void 0)D=D&&k.error===void 0;else if(!D)return!1;if(D){var R;if(T.length>0&&(R=T[0]),R instanceof Error)throw R;var P=new Error("Unhandled error."+(R?" ("+R.message+")":""));throw P.context=R,P}var E=k[S];if(E===void 0)return!1;if(typeof E=="function")a(E,this,T);else for(var O=E.length,I=b(E,O),M=0;M<O;++M)a(I[M],this,T);return!0};function m(C,S,T,M){var D,k,R;if(v(T),k=C._events,k===void 0?(k=C._events=Object.create(null),C._eventsCount=0):(k.newListener!==void 0&&(C.emit("newListener",S,T.listener?T.listener:T),k=C._events),R=k[S]),R===void 0)R=k[S]=T,++C._eventsCount;else if(typeof R=="function"?R=k[S]=M?[T,R]:[R,T]:M?R.unshift(T):R.push(T),D=f(C),D>0&&R.length>D&&!R.warned){R.warned=!0;var P=new Error("Possible EventEmitter memory leak detected. "+R.length+" "+String(S)+" listeners added. Use emitter.setMaxListeners() to increase limit");P.name="MaxListenersExceededWarning",P.emitter=C,P.type=S,P.count=R.length,l(P)}return C}c.prototype.addListener=function(S,T){return m(this,S,T,!1)},c.prototype.on=c.prototype.addListener,c.prototype.prependListener=function(S,T){return m(this,S,T,!0)};function _(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function g(C,S,T){var M={fired:!1,wrapFn:void 0,target:C,type:S,listener:T},D=_.bind(M);return D.listener=T,M.wrapFn=D,D}c.prototype.once=function(S,T){return v(T),this.on(S,g(this,S,T)),this},c.prototype.prependOnceListener=function(S,T){return v(T),this.prependListener(S,g(this,S,T)),this},c.prototype.removeListener=function(S,T){var M,D,k,R,P;if(v(T),D=this._events,D===void 0)return this;if(M=D[S],M===void 0)return this;if(M===T||M.listener===T)--this._eventsCount===0?this._events=Object.create(null):(delete D[S],D.removeListener&&this.emit("removeListener",S,M.listener||T));else if(typeof M!="function"){for(k=-1,R=M.length-1;R>=0;R--)if(M[R]===T||M[R].listener===T){P=M[R].listener,k=R;break}if(k<0)return this;k===0?M.shift():y(M,k),M.length===1&&(D[S]=M[0]),D.removeListener!==void 0&&this.emit("removeListener",S,P||T)}return this},c.prototype.off=c.prototype.removeListener,c.prototype.removeAllListeners=function(S){var T,M,D;if(M=this._events,M===void 0)return this;if(M.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):M[S]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete M[S]),this;if(arguments.length===0){var k=Object.keys(M),R;for(D=0;D<k.length;++D)R=k[D],R!=="removeListener"&&this.removeAllListeners(R);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(T=M[S],typeof T=="function")this.removeListener(S,T);else if(T!==void 0)for(D=T.length-1;D>=0;D--)this.removeListener(S,T[D]);return this};function p(C,S,T){var M=C._events;if(M===void 0)return[];var D=M[S];return D===void 0?[]:typeof D=="function"?T?[D.listener||D]:[D]:T?x(D):b(D,D.length)}c.prototype.listeners=function(S){return p(this,S,!0)},c.prototype.rawListeners=function(S){return p(this,S,!1)},c.listenerCount=function(C,S){return typeof C.listenerCount=="function"?C.listenerCount(S):d.call(C,S)},c.prototype.listenerCount=d;function d(C){var S=this._events;if(S!==void 0){var T=S[C];if(typeof T=="function")return 1;if(T!==void 0)return T.length}return 0}c.prototype.eventNames=function(){return this._eventsCount>0?s(this._events):[]};function b(C,S){for(var T=new Array(S),M=0;M<S;++M)T[M]=C[M];return T}function y(C,S){for(;S+1<C.length;S++)C[S]=C[S+1];C.pop()}function x(C){for(var S=new Array(C.length),T=0;T<S.length;++T)S[T]=C[T].listener||C[T];return S}function w(C,S){return new Promise(function(T,M){function D(){k!==void 0&&C.removeListener("error",k),T([].slice.call(arguments))}var k;S!=="error"&&(k=function(P){C.removeListener(S,D),M(P)},C.once("error",k)),C.once(S,D)})}},{}],13:[function(r,i,o){(function(n,a){typeof o=="object"&&typeof i<"u"?a(o):(n=typeof globalThis<"u"?globalThis:n||self,a(n.d3=n.d3||{}))})(this,function(n){function a(k){return Math.abs(k=Math.round(k))>=1e21?k.toLocaleString("en").replace(/,/g,""):k.toString(10)}function s(k,R){if((P=(k=R?k.toExponential(R-1):k.toExponential()).indexOf("e"))<0)return null;var P,E=k.slice(0,P);return[E.length>1?E[0]+E.slice(2):E,+k.slice(P+1)]}function l(k){return k=s(Math.abs(k)),k?k[1]:NaN}function u(k,R){return function(P,E){for(var O=P.length,I=[],U=0,V=k[0],Z=0;O>0&&V>0&&(Z+V+1>E&&(V=Math.max(1,E-Z)),I.push(P.substring(O-=V,O+V)),!((Z+=V+1)>E));)V=k[U=(U+1)%k.length];return I.reverse().join(R)}}function c(k){return function(R){return R.replace(/[0-9]/g,function(P){return k[+P]})}}var h=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function v(k){if(!(R=h.exec(k)))throw new Error("invalid format: "+k);var R;return new f({fill:R[1],align:R[2],sign:R[3],symbol:R[4],zero:R[5],width:R[6],comma:R[7],precision:R[8]&&R[8].slice(1),trim:R[9],type:R[10]})}v.prototype=f.prototype;function f(k){this.fill=k.fill===void 0?" ":k.fill+"",this.align=k.align===void 0?">":k.align+"",this.sign=k.sign===void 0?"-":k.sign+"",this.symbol=k.symbol===void 0?"":k.symbol+"",this.zero=!!k.zero,this.width=k.width===void 0?void 0:+k.width,this.comma=!!k.comma,this.precision=k.precision===void 0?void 0:+k.precision,this.trim=!!k.trim,this.type=k.type===void 0?"":k.type+""}f.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function m(k){e:for(var R=k.length,P=1,E=-1,O;P<R;++P)switch(k[P]){case".":E=O=P;break;case"0":E===0&&(E=P),O=P;break;default:if(!+k[P])break e;E>0&&(E=0);break}return E>0?k.slice(0,E)+k.slice(O+1):k}var _;function g(k,R){var P=s(k,R);if(!P)return k+"";var E=P[0],O=P[1],I=O-(_=Math.max(-8,Math.min(8,Math.floor(O/3)))*3)+1,U=E.length;return I===U?E:I>U?E+new Array(I-U+1).join("0"):I>0?E.slice(0,I)+"."+E.slice(I):"0."+new Array(1-I).join("0")+s(k,Math.max(0,R+I-1))[0]}function p(k,R){var P=s(k,R);if(!P)return k+"";var E=P[0],O=P[1];return O<0?"0."+new Array(-O).join("0")+E:E.length>O+1?E.slice(0,O+1)+"."+E.slice(O+1):E+new Array(O-E.length+2).join("0")}var d={"%":function(k,R){return(k*100).toFixed(R)},b:function(k){return Math.round(k).toString(2)},c:function(k){return k+""},d:a,e:function(k,R){return k.toExponential(R)},f:function(k,R){return k.toFixed(R)},g:function(k,R){return k.toPrecision(R)},o:function(k){return Math.round(k).toString(8)},p:function(k,R){return p(k*100,R)},r:p,s:g,X:function(k){return Math.round(k).toString(16).toUpperCase()},x:function(k){return Math.round(k).toString(16)}};function b(k){return k}var y=Array.prototype.map,x=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function w(k){var R=k.grouping===void 0||k.thousands===void 0?b:u(y.call(k.grouping,Number),k.thousands+""),P=k.currency===void 0?"":k.currency[0]+"",E=k.currency===void 0?"":k.currency[1]+"",O=k.decimal===void 0?".":k.decimal+"",I=k.numerals===void 0?b:c(y.call(k.numerals,String)),U=k.percent===void 0?"%":k.percent+"",V=k.minus===void 0?"-":k.minus+"",Z=k.nan===void 0?"NaN":k.nan+"";function z(B){B=v(B);var W=B.fill,F=B.align,K=B.sign,fe=B.symbol,se=B.zero,ee=B.width,ie=B.comma,J=B.precision,te=B.trim,L=B.type;L==="n"?(ie=!0,L="g"):d[L]||(J===void 0&&(J=12),te=!0,L="g"),(se||W==="0"&&F==="=")&&(se=!0,W="0",F="=");var N=fe==="$"?P:fe==="#"&&/[boxX]/.test(L)?"0"+L.toLowerCase():"",G=fe==="$"?E:/[%p]/.test(L)?U:"",Y=d[L],j=/[defgprs%]/.test(L);J=J===void 0?6:/[gprs]/.test(L)?Math.max(1,Math.min(21,J)):Math.max(0,Math.min(20,J));function Q(q){var re=N,ue=G,de,me,pe;if(L==="c")ue=Y(q)+ue,q="";else{q=+q;var ge=q<0||1/q<0;if(q=isNaN(q)?Z:Y(Math.abs(q),J),te&&(q=m(q)),ge&&+q==0&&K!=="+"&&(ge=!1),re=(ge?K==="("?K:V:K==="-"||K==="("?"":K)+re,ue=(L==="s"?x[8+_/3]:"")+ue+(ge&&K==="("?")":""),j){for(de=-1,me=q.length;++de<me;)if(pe=q.charCodeAt(de),48>pe||pe>57){ue=(pe===46?O+q.slice(de+1):q.slice(de))+ue,q=q.slice(0,de);break}}}ie&&!se&&(q=R(q,1/0));var Te=re.length+q.length+ue.length,He=Te<ee?new Array(ee-Te+1).join(W):"";switch(ie&&se&&(q=R(He+q,He.length?ee-ue.length:1/0),He=""),F){case"<":q=re+q+ue+He;break;case"=":q=re+He+q+ue;break;case"^":q=He.slice(0,Te=He.length>>1)+re+q+ue+He.slice(Te);break;default:q=He+re+q+ue;break}return I(q)}return Q.toString=function(){return B+""},Q}function H(B,W){var F=z((B=v(B),B.type="f",B)),K=Math.max(-8,Math.min(8,Math.floor(l(W)/3)))*3,fe=Math.pow(10,-K),se=x[8+K/3];return function(ee){return F(fe*ee)+se}}return{format:z,formatPrefix:H}}var C;S({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function S(k){return C=w(k),n.format=C.format,n.formatPrefix=C.formatPrefix,C}function T(k){return Math.max(0,-l(Math.abs(k)))}function M(k,R){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(l(R)/3)))*3-l(Math.abs(k)))}function D(k,R){return k=Math.abs(k),R=Math.abs(R)-k,Math.max(0,l(R)-l(k))+1}n.FormatSpecifier=f,n.formatDefaultLocale=S,n.formatLocale=w,n.formatSpecifier=v,n.precisionFixed=T,n.precisionPrefix=M,n.precisionRound=D,Object.defineProperty(n,"__esModule",{value:!0})})},{}],14:[function(r,i,o){(function(n,a){typeof o=="object"&&typeof i<"u"?a(o,r("d3-time")):(n=n||self,a(n.d3=n.d3||{},n.d3))})(this,function(n,a){function s(be){if(0<=be.y&&be.y<100){var Me=new Date(-1,be.m,be.d,be.H,be.M,be.S,be.L);return Me.setFullYear(be.y),Me}return new Date(be.y,be.m,be.d,be.H,be.M,be.S,be.L)}function l(be){if(0<=be.y&&be.y<100){var Me=new Date(Date.UTC(-1,be.m,be.d,be.H,be.M,be.S,be.L));return Me.setUTCFullYear(be.y),Me}return new Date(Date.UTC(be.y,be.m,be.d,be.H,be.M,be.S,be.L))}function u(be,Me,Ue){return{y:be,m:Me,d:Ue,H:0,M:0,S:0,L:0}}function c(be){var Me=be.dateTime,Ue=be.date,ce=be.time,Ce=be.periods,Ae=be.days,ke=be.shortDays,xe=be.months,ye=be.shortMonths,Ee=p(Ce),$e=d(Ce),Ie=p(Ae),Be=d(Ae),st=p(ke),gt=d(ke),wt=p(xe),Wt=d(xe),Yt=p(ye),qt=d(ye),Bt={a:Fe,A:We,b:Ze,B:Ve,c:null,d:B,e:B,f:se,H:W,I:F,j:K,L:fe,m:ee,M:ie,p:je,q:ut,Q:rt,s:ft,S:J,u:te,U:L,V:N,w:G,W:Y,x:null,X:null,y:j,Y:Q,Z:q,"%":et},Ut={a:St,A:Pt,b:lt,B:yt,c:null,d:re,e:re,f:ge,H:ue,I:de,j:me,L:pe,m:Te,M:He,p:Ot,q:At,Q:rt,s:ft,S:Oe,u:tt,U:Le,V:De,w:Se,W:ze,x:null,X:null,y:Ke,Y:_t,Z:Qe,"%":et},Nt={a:Jt,A:Dt,b:er,B:tr,c:he,d:R,e:R,f:V,H:E,I:E,j:P,L:U,m:k,M:O,p:rr,q:D,Q:z,s:H,S:I,u:y,U:x,V:w,w:b,W:C,x:le,X:Ne,y:T,Y:S,Z:M,"%":Z};Bt.x=dt(Ue,Bt),Bt.X=dt(ce,Bt),Bt.c=dt(Me,Bt),Ut.x=dt(Ue,Ut),Ut.X=dt(ce,Ut),Ut.c=dt(Me,Ut);function dt(mt,Et){return function(jt){var Lt=[],Ht=-1,Kt=0,Xt=mt.length,$t,ar,ir;for(jt instanceof Date||(jt=new Date(+jt));++Ht<Xt;)mt.charCodeAt(Ht)===37&&(Lt.push(mt.slice(Kt,Ht)),(ar=h[$t=mt.charAt(++Ht)])!=null?$t=mt.charAt(++Ht):ar=$t==="e"?" ":"0",(ir=Et[$t])&&($t=ir(jt,ar)),Lt.push($t),Kt=Ht+1);return Lt.push(mt.slice(Kt,Ht)),Lt.join("")}}function Vt(mt,Et){return function(jt){var Lt=u(1900,void 0,1),Ht=Gt(Lt,mt,jt+="",0),Kt,Xt;if(Ht!=jt.length)return null;if("Q"in Lt)return new Date(Lt.Q);if("s"in Lt)return new Date(Lt.s*1e3+("L"in Lt?Lt.L:0));if(Et&&!("Z"in Lt)&&(Lt.Z=0),"p"in Lt&&(Lt.H=Lt.H%12+Lt.p*12),Lt.m===void 0&&(Lt.m="q"in Lt?Lt.q:0),"V"in Lt){if(Lt.V<1||Lt.V>53)return null;"w"in Lt||(Lt.w=1),"Z"in Lt?(Kt=l(u(Lt.y,0,1)),Xt=Kt.getUTCDay(),Kt=Xt>4||Xt===0?a.utcMonday.ceil(Kt):a.utcMonday(Kt),Kt=a.utcDay.offset(Kt,(Lt.V-1)*7),Lt.y=Kt.getUTCFullYear(),Lt.m=Kt.getUTCMonth(),Lt.d=Kt.getUTCDate()+(Lt.w+6)%7):(Kt=s(u(Lt.y,0,1)),Xt=Kt.getDay(),Kt=Xt>4||Xt===0?a.timeMonday.ceil(Kt):a.timeMonday(Kt),Kt=a.timeDay.offset(Kt,(Lt.V-1)*7),Lt.y=Kt.getFullYear(),Lt.m=Kt.getMonth(),Lt.d=Kt.getDate()+(Lt.w+6)%7)}else("W"in Lt||"U"in Lt)&&("w"in Lt||(Lt.w="u"in Lt?Lt.u%7:"W"in Lt?1:0),Xt="Z"in Lt?l(u(Lt.y,0,1)).getUTCDay():s(u(Lt.y,0,1)).getDay(),Lt.m=0,Lt.d="W"in Lt?(Lt.w+6)%7+Lt.W*7-(Xt+5)%7:Lt.w+Lt.U*7-(Xt+6)%7);return"Z"in Lt?(Lt.H+=Lt.Z/100|0,Lt.M+=Lt.Z%100,l(Lt)):s(Lt)}}function Gt(mt,Et,jt,Lt){for(var Ht=0,Kt=Et.length,Xt=jt.length,$t,ar;Ht<Kt;){if(Lt>=Xt)return-1;if($t=Et.charCodeAt(Ht++),$t===37){if($t=Et.charAt(Ht++),ar=Nt[$t in h?Et.charAt(Ht++):$t],!ar||(Lt=ar(mt,jt,Lt))<0)return-1}else if($t!=jt.charCodeAt(Lt++))return-1}return Lt}function rr(mt,Et,jt){var Lt=Ee.exec(Et.slice(jt));return Lt?(mt.p=$e[Lt[0].toLowerCase()],jt+Lt[0].length):-1}function Jt(mt,Et,jt){var Lt=st.exec(Et.slice(jt));return Lt?(mt.w=gt[Lt[0].toLowerCase()],jt+Lt[0].length):-1}function Dt(mt,Et,jt){var Lt=Ie.exec(Et.slice(jt));return Lt?(mt.w=Be[Lt[0].toLowerCase()],jt+Lt[0].length):-1}function er(mt,Et,jt){var Lt=Yt.exec(Et.slice(jt));return Lt?(mt.m=qt[Lt[0].toLowerCase()],jt+Lt[0].length):-1}function tr(mt,Et,jt){var Lt=wt.exec(Et.slice(jt));return Lt?(mt.m=Wt[Lt[0].toLowerCase()],jt+Lt[0].length):-1}function he(mt,Et,jt){return Gt(mt,Me,Et,jt)}function le(mt,Et,jt){return Gt(mt,Ue,Et,jt)}function Ne(mt,Et,jt){return Gt(mt,ce,Et,jt)}function Fe(mt){return ke[mt.getDay()]}function We(mt){return Ae[mt.getDay()]}function Ze(mt){return ye[mt.getMonth()]}function Ve(mt){return xe[mt.getMonth()]}function je(mt){return Ce[+(mt.getHours()>=12)]}function ut(mt){return 1+~~(mt.getMonth()/3)}function St(mt){return ke[mt.getUTCDay()]}function Pt(mt){return Ae[mt.getUTCDay()]}function lt(mt){return ye[mt.getUTCMonth()]}function yt(mt){return xe[mt.getUTCMonth()]}function Ot(mt){return Ce[+(mt.getUTCHours()>=12)]}function At(mt){return 1+~~(mt.getUTCMonth()/3)}return{format:function(mt){var Et=dt(mt+="",Bt);return Et.toString=function(){return mt},Et},parse:function(mt){var Et=Vt(mt+="",!1);return Et.toString=function(){return mt},Et},utcFormat:function(mt){var Et=dt(mt+="",Ut);return Et.toString=function(){return mt},Et},utcParse:function(mt){var Et=Vt(mt+="",!0);return Et.toString=function(){return mt},Et}}}var h={"-":"",_:" ",0:"0"},v=/^\s*\d+/,f=/^%/,m=/[\\^$*+?|[\]().{}]/g;function _(be,Me,Ue){var ce=be<0?"-":"",Ce=(ce?-be:be)+"",Ae=Ce.length;return ce+(Ae<Ue?new Array(Ue-Ae+1).join(Me)+Ce:Ce)}function g(be){return be.replace(m,"\\$&")}function p(be){return new RegExp("^(?:"+be.map(g).join("|")+")","i")}function d(be){for(var Me={},Ue=-1,ce=be.length;++Ue<ce;)Me[be[Ue].toLowerCase()]=Ue;return Me}function b(be,Me,Ue){var ce=v.exec(Me.slice(Ue,Ue+1));return ce?(be.w=+ce[0],Ue+ce[0].length):-1}function y(be,Me,Ue){var ce=v.exec(Me.slice(Ue,Ue+1));return ce?(be.u=+ce[0],Ue+ce[0].length):-1}function x(be,Me,Ue){var ce=v.exec(Me.slice(Ue,Ue+2));return ce?(be.U=+ce[0],Ue+ce[0].length):-1}function w(be,Me,Ue){var ce=v.exec(Me.slice(Ue,Ue+2));return ce?(be.V=+ce[0],Ue+ce[0].length):-1}function C(be,Me,Ue){var ce=v.exec(Me.slice(Ue,Ue+2));return ce?(be.W=+ce[0],Ue+ce[0].length):-1}function S(be,Me,Ue){var ce=v.exec(Me.slice(Ue,Ue+4));return ce?(be.y=+ce[0],Ue+ce[0].length):-1}function T(be,Me,Ue){var ce=v.exec(Me.slice(Ue,Ue+2));return ce?(be.y=+ce[0]+(+ce[0]>68?1900:2e3),Ue+ce[0].length):-1}function M(be,Me,Ue){var ce=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(Me.slice(Ue,Ue+6));return ce?(be.Z=ce[1]?0:-(ce[2]+(ce[3]||"00")),Ue+ce[0].length):-1}function D(be,Me,Ue){var ce=v.exec(Me.slice(Ue,Ue+1));return ce?(be.q=ce[0]*3-3,Ue+ce[0].length):-1}function k(be,Me,Ue){var ce=v.exec(Me.slice(Ue,Ue+2));return ce?(be.m=ce[0]-1,Ue+ce[0].length):-1}function R(be,Me,Ue){var ce=v.exec(Me.slice(Ue,Ue+2));return ce?(be.d=+ce[0],Ue+ce[0].length):-1}function P(be,Me,Ue){var ce=v.exec(Me.slice(Ue,Ue+3));return ce?(be.m=0,be.d=+ce[0],Ue+ce[0].length):-1}function E(be,Me,Ue){var ce=v.exec(Me.slice(Ue,Ue+2));return ce?(be.H=+ce[0],Ue+ce[0].length):-1}function O(be,Me,Ue){var ce=v.exec(Me.slice(Ue,Ue+2));return ce?(be.M=+ce[0],Ue+ce[0].length):-1}function I(be,Me,Ue){var ce=v.exec(Me.slice(Ue,Ue+2));return ce?(be.S=+ce[0],Ue+ce[0].length):-1}function U(be,Me,Ue){var ce=v.exec(Me.slice(Ue,Ue+3));return ce?(be.L=+ce[0],Ue+ce[0].length):-1}function V(be,Me,Ue){var ce=v.exec(Me.slice(Ue,Ue+6));return ce?(be.L=Math.floor(ce[0]/1e3),Ue+ce[0].length):-1}function Z(be,Me,Ue){var ce=f.exec(Me.slice(Ue,Ue+1));return ce?Ue+ce[0].length:-1}function z(be,Me,Ue){var ce=v.exec(Me.slice(Ue));return ce?(be.Q=+ce[0],Ue+ce[0].length):-1}function H(be,Me,Ue){var ce=v.exec(Me.slice(Ue));return ce?(be.s=+ce[0],Ue+ce[0].length):-1}function B(be,Me){return _(be.getDate(),Me,2)}function W(be,Me){return _(be.getHours(),Me,2)}function F(be,Me){return _(be.getHours()%12||12,Me,2)}function K(be,Me){return _(1+a.timeDay.count(a.timeYear(be),be),Me,3)}function fe(be,Me){return _(be.getMilliseconds(),Me,3)}function se(be,Me){return fe(be,Me)+"000"}function ee(be,Me){return _(be.getMonth()+1,Me,2)}function ie(be,Me){return _(be.getMinutes(),Me,2)}function J(be,Me){return _(be.getSeconds(),Me,2)}function te(be){var Me=be.getDay();return Me===0?7:Me}function L(be,Me){return _(a.timeSunday.count(a.timeYear(be)-1,be),Me,2)}function N(be,Me){var Ue=be.getDay();return be=Ue>=4||Ue===0?a.timeThursday(be):a.timeThursday.ceil(be),_(a.timeThursday.count(a.timeYear(be),be)+(a.timeYear(be).getDay()===4),Me,2)}function G(be){return be.getDay()}function Y(be,Me){return _(a.timeMonday.count(a.timeYear(be)-1,be),Me,2)}function j(be,Me){return _(be.getFullYear()%100,Me,2)}function Q(be,Me){return _(be.getFullYear()%1e4,Me,4)}function q(be){var Me=be.getTimezoneOffset();return(Me>0?"-":(Me*=-1,"+"))+_(Me/60|0,"0",2)+_(Me%60,"0",2)}function re(be,Me){return _(be.getUTCDate(),Me,2)}function ue(be,Me){return _(be.getUTCHours(),Me,2)}function de(be,Me){return _(be.getUTCHours()%12||12,Me,2)}function me(be,Me){return _(1+a.utcDay.count(a.utcYear(be),be),Me,3)}function pe(be,Me){return _(be.getUTCMilliseconds(),Me,3)}function ge(be,Me){return pe(be,Me)+"000"}function Te(be,Me){return _(be.getUTCMonth()+1,Me,2)}function He(be,Me){return _(be.getUTCMinutes(),Me,2)}function Oe(be,Me){return _(be.getUTCSeconds(),Me,2)}function tt(be){var Me=be.getUTCDay();return Me===0?7:Me}function Le(be,Me){return _(a.utcSunday.count(a.utcYear(be)-1,be),Me,2)}function De(be,Me){var Ue=be.getUTCDay();return be=Ue>=4||Ue===0?a.utcThursday(be):a.utcThursday.ceil(be),_(a.utcThursday.count(a.utcYear(be),be)+(a.utcYear(be).getUTCDay()===4),Me,2)}function Se(be){return be.getUTCDay()}function ze(be,Me){return _(a.utcMonday.count(a.utcYear(be)-1,be),Me,2)}function Ke(be,Me){return _(be.getUTCFullYear()%100,Me,2)}function _t(be,Me){return _(be.getUTCFullYear()%1e4,Me,4)}function Qe(){return"+0000"}function et(){return"%"}function rt(be){return+be}function ft(be){return Math.floor(+be/1e3)}var bt;Ft({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Ft(be){return bt=c(be),n.timeFormat=bt.format,n.timeParse=bt.parse,n.utcFormat=bt.utcFormat,n.utcParse=bt.utcParse,bt}var ct="%Y-%m-%dT%H:%M:%S.%LZ";function nt(be){return be.toISOString()}var at=Date.prototype.toISOString?nt:n.utcFormat(ct);function It(be){var Me=new Date(be);return isNaN(Me)?null:Me}var zt=+new Date("2000-01-01T00:00:00.000Z")?It:n.utcParse(ct);n.isoFormat=at,n.isoParse=zt,n.timeFormatDefaultLocale=Ft,n.timeFormatLocale=c,Object.defineProperty(n,"__esModule",{value:!0})})},{"d3-time":15}],15:[function(r,i,o){(function(n,a){typeof o=="object"&&typeof i<"u"?a(o):(n=n||self,a(n.d3=n.d3||{}))})(this,function(n){var a=new Date,s=new Date;function l(Se,ze,Ke,_t){function Qe(et){return Se(et=arguments.length===0?new Date:new Date(+et)),et}return Qe.floor=function(et){return Se(et=new Date(+et)),et},Qe.ceil=function(et){return Se(et=new Date(et-1)),ze(et,1),Se(et),et},Qe.round=function(et){var rt=Qe(et),ft=Qe.ceil(et);return et-rt<ft-et?rt:ft},Qe.offset=function(et,rt){return ze(et=new Date(+et),rt==null?1:Math.floor(rt)),et},Qe.range=function(et,rt,ft){var bt=[],Ft;if(et=Qe.ceil(et),ft=ft==null?1:Math.floor(ft),!(et<rt)||!(ft>0))return bt;do bt.push(Ft=new Date(+et)),ze(et,ft),Se(et);while(Ft<et&&et<rt);return bt},Qe.filter=function(et){return l(function(rt){if(rt>=rt)for(;Se(rt),!et(rt);)rt.setTime(rt-1)},function(rt,ft){if(rt>=rt)if(ft<0)for(;++ft<=0;)for(;ze(rt,-1),!et(rt););else for(;--ft>=0;)for(;ze(rt,1),!et(rt););})},Ke&&(Qe.count=function(et,rt){return a.setTime(+et),s.setTime(+rt),Se(a),Se(s),Math.floor(Ke(a,s))},Qe.every=function(et){return et=Math.floor(et),!isFinite(et)||!(et>0)?null:et>1?Qe.filter(_t?function(rt){return _t(rt)%et===0}:function(rt){return Qe.count(0,rt)%et===0}):Qe}),Qe}var u=l(function(){},function(Se,ze){Se.setTime(+Se+ze)},function(Se,ze){return ze-Se});u.every=function(Se){return Se=Math.floor(Se),!isFinite(Se)||!(Se>0)?null:Se>1?l(function(ze){ze.setTime(Math.floor(ze/Se)*Se)},function(ze,Ke){ze.setTime(+ze+Ke*Se)},function(ze,Ke){return(Ke-ze)/Se}):u};var c=u.range,h=1e3,v=6e4,f=36e5,m=864e5,_=6048e5,g=l(function(Se){Se.setTime(Se-Se.getMilliseconds())},function(Se,ze){Se.setTime(+Se+ze*h)},function(Se,ze){return(ze-Se)/h},function(Se){return Se.getUTCSeconds()}),p=g.range,d=l(function(Se){Se.setTime(Se-Se.getMilliseconds()-Se.getSeconds()*h)},function(Se,ze){Se.setTime(+Se+ze*v)},function(Se,ze){return(ze-Se)/v},function(Se){return Se.getMinutes()}),b=d.range,y=l(function(Se){Se.setTime(Se-Se.getMilliseconds()-Se.getSeconds()*h-Se.getMinutes()*v)},function(Se,ze){Se.setTime(+Se+ze*f)},function(Se,ze){return(ze-Se)/f},function(Se){return Se.getHours()}),x=y.range,w=l(function(Se){Se.setHours(0,0,0,0)},function(Se,ze){Se.setDate(Se.getDate()+ze)},function(Se,ze){return(ze-Se-(ze.getTimezoneOffset()-Se.getTimezoneOffset())*v)/m},function(Se){return Se.getDate()-1}),C=w.range;function S(Se){return l(function(ze){ze.setDate(ze.getDate()-(ze.getDay()+7-Se)%7),ze.setHours(0,0,0,0)},function(ze,Ke){ze.setDate(ze.getDate()+Ke*7)},function(ze,Ke){return(Ke-ze-(Ke.getTimezoneOffset()-ze.getTimezoneOffset())*v)/_})}var T=S(0),M=S(1),D=S(2),k=S(3),R=S(4),P=S(5),E=S(6),O=T.range,I=M.range,U=D.range,V=k.range,Z=R.range,z=P.range,H=E.range,B=l(function(Se){Se.setDate(1),Se.setHours(0,0,0,0)},function(Se,ze){Se.setMonth(Se.getMonth()+ze)},function(Se,ze){return ze.getMonth()-Se.getMonth()+(ze.getFullYear()-Se.getFullYear())*12},function(Se){return Se.getMonth()}),W=B.range,F=l(function(Se){Se.setMonth(0,1),Se.setHours(0,0,0,0)},function(Se,ze){Se.setFullYear(Se.getFullYear()+ze)},function(Se,ze){return ze.getFullYear()-Se.getFullYear()},function(Se){return Se.getFullYear()});F.every=function(Se){return!isFinite(Se=Math.floor(Se))||!(Se>0)?null:l(function(ze){ze.setFullYear(Math.floor(ze.getFullYear()/Se)*Se),ze.setMonth(0,1),ze.setHours(0,0,0,0)},function(ze,Ke){ze.setFullYear(ze.getFullYear()+Ke*Se)})};var K=F.range,fe=l(function(Se){Se.setUTCSeconds(0,0)},function(Se,ze){Se.setTime(+Se+ze*v)},function(Se,ze){return(ze-Se)/v},function(Se){return Se.getUTCMinutes()}),se=fe.range,ee=l(function(Se){Se.setUTCMinutes(0,0,0)},function(Se,ze){Se.setTime(+Se+ze*f)},function(Se,ze){return(ze-Se)/f},function(Se){return Se.getUTCHours()}),ie=ee.range,J=l(function(Se){Se.setUTCHours(0,0,0,0)},function(Se,ze){Se.setUTCDate(Se.getUTCDate()+ze)},function(Se,ze){return(ze-Se)/m},function(Se){return Se.getUTCDate()-1}),te=J.range;function L(Se){return l(function(ze){ze.setUTCDate(ze.getUTCDate()-(ze.getUTCDay()+7-Se)%7),ze.setUTCHours(0,0,0,0)},function(ze,Ke){ze.setUTCDate(ze.getUTCDate()+Ke*7)},function(ze,Ke){return(Ke-ze)/_})}var N=L(0),G=L(1),Y=L(2),j=L(3),Q=L(4),q=L(5),re=L(6),ue=N.range,de=G.range,me=Y.range,pe=j.range,ge=Q.range,Te=q.range,He=re.range,Oe=l(function(Se){Se.setUTCDate(1),Se.setUTCHours(0,0,0,0)},function(Se,ze){Se.setUTCMonth(Se.getUTCMonth()+ze)},function(Se,ze){return ze.getUTCMonth()-Se.getUTCMonth()+(ze.getUTCFullYear()-Se.getUTCFullYear())*12},function(Se){return Se.getUTCMonth()}),tt=Oe.range,Le=l(function(Se){Se.setUTCMonth(0,1),Se.setUTCHours(0,0,0,0)},function(Se,ze){Se.setUTCFullYear(Se.getUTCFullYear()+ze)},function(Se,ze){return ze.getUTCFullYear()-Se.getUTCFullYear()},function(Se){return Se.getUTCFullYear()});Le.every=function(Se){return!isFinite(Se=Math.floor(Se))||!(Se>0)?null:l(function(ze){ze.setUTCFullYear(Math.floor(ze.getUTCFullYear()/Se)*Se),ze.setUTCMonth(0,1),ze.setUTCHours(0,0,0,0)},function(ze,Ke){ze.setUTCFullYear(ze.getUTCFullYear()+Ke*Se)})};var De=Le.range;n.timeDay=w,n.timeDays=C,n.timeFriday=P,n.timeFridays=z,n.timeHour=y,n.timeHours=x,n.timeInterval=l,n.timeMillisecond=u,n.timeMilliseconds=c,n.timeMinute=d,n.timeMinutes=b,n.timeMonday=M,n.timeMondays=I,n.timeMonth=B,n.timeMonths=W,n.timeSaturday=E,n.timeSaturdays=H,n.timeSecond=g,n.timeSeconds=p,n.timeSunday=T,n.timeSundays=O,n.timeThursday=R,n.timeThursdays=Z,n.timeTuesday=D,n.timeTuesdays=U,n.timeWednesday=k,n.timeWednesdays=V,n.timeWeek=T,n.timeWeeks=O,n.timeYear=F,n.timeYears=K,n.utcDay=J,n.utcDays=te,n.utcFriday=q,n.utcFridays=Te,n.utcHour=ee,n.utcHours=ie,n.utcMillisecond=u,n.utcMilliseconds=c,n.utcMinute=fe,n.utcMinutes=se,n.utcMonday=G,n.utcMondays=de,n.utcMonth=Oe,n.utcMonths=tt,n.utcSaturday=re,n.utcSaturdays=He,n.utcSecond=g,n.utcSeconds=p,n.utcSunday=N,n.utcSundays=ue,n.utcThursday=Q,n.utcThursdays=ge,n.utcTuesday=Y,n.utcTuesdays=me,n.utcWednesday=j,n.utcWednesdays=pe,n.utcWeek=N,n.utcWeeks=ue,n.utcYear=Le,n.utcYears=De,Object.defineProperty(n,"__esModule",{value:!0})})},{}],16:[function(r,i,o){arguments[4][15][0].apply(o,arguments)},{dup:15}],17:[function(r,i,o){var n=r("is-string-blank");i.exports=function(a){var s=typeof a;if(s==="string"){var l=a;if(a=+a,a===0&&n(l))return!1}else if(s!=="number")return!1;return a-a<1}},{"is-string-blank":52}],18:[function(r,i,o){i.exports=n;function n(a,s){var l=s[0],u=s[1],c=s[2],h=s[3],v=s[4],f=s[5],m=s[6],_=s[7],g=s[8],p=s[9],d=s[10],b=s[11],y=s[12],x=s[13],w=s[14],C=s[15];return a[0]=f*(d*C-b*w)-p*(m*C-_*w)+x*(m*b-_*d),a[1]=-(u*(d*C-b*w)-p*(c*C-h*w)+x*(c*b-h*d)),a[2]=u*(m*C-_*w)-f*(c*C-h*w)+x*(c*_-h*m),a[3]=-(u*(m*b-_*d)-f*(c*b-h*d)+p*(c*_-h*m)),a[4]=-(v*(d*C-b*w)-g*(m*C-_*w)+y*(m*b-_*d)),a[5]=l*(d*C-b*w)-g*(c*C-h*w)+y*(c*b-h*d),a[6]=-(l*(m*C-_*w)-v*(c*C-h*w)+y*(c*_-h*m)),a[7]=l*(m*b-_*d)-v*(c*b-h*d)+g*(c*_-h*m),a[8]=v*(p*C-b*x)-g*(f*C-_*x)+y*(f*b-_*p),a[9]=-(l*(p*C-b*x)-g*(u*C-h*x)+y*(u*b-h*p)),a[10]=l*(f*C-_*x)-v*(u*C-h*x)+y*(u*_-h*f),a[11]=-(l*(f*b-_*p)-v*(u*b-h*p)+g*(u*_-h*f)),a[12]=-(v*(p*w-d*x)-g*(f*w-m*x)+y*(f*d-m*p)),a[13]=l*(p*w-d*x)-g*(u*w-c*x)+y*(u*d-c*p),a[14]=-(l*(f*w-m*x)-v*(u*w-c*x)+y*(u*m-c*f)),a[15]=l*(f*d-m*p)-v*(u*d-c*p)+g*(u*m-c*f),a}},{}],19:[function(r,i,o){i.exports=n;function n(a){var s=new Float32Array(16);return s[0]=a[0],s[1]=a[1],s[2]=a[2],s[3]=a[3],s[4]=a[4],s[5]=a[5],s[6]=a[6],s[7]=a[7],s[8]=a[8],s[9]=a[9],s[10]=a[10],s[11]=a[11],s[12]=a[12],s[13]=a[13],s[14]=a[14],s[15]=a[15],s}},{}],20:[function(r,i,o){i.exports=n;function n(a,s){return a[0]=s[0],a[1]=s[1],a[2]=s[2],a[3]=s[3],a[4]=s[4],a[5]=s[5],a[6]=s[6],a[7]=s[7],a[8]=s[8],a[9]=s[9],a[10]=s[10],a[11]=s[11],a[12]=s[12],a[13]=s[13],a[14]=s[14],a[15]=s[15],a}},{}],21:[function(r,i,o){i.exports=n;function n(){var a=new Float32Array(16);return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a}},{}],22:[function(r,i,o){i.exports=n;function n(a){var s=a[0],l=a[1],u=a[2],c=a[3],h=a[4],v=a[5],f=a[6],m=a[7],_=a[8],g=a[9],p=a[10],d=a[11],b=a[12],y=a[13],x=a[14],w=a[15],C=s*v-l*h,S=s*f-u*h,T=s*m-c*h,M=l*f-u*v,D=l*m-c*v,k=u*m-c*f,R=_*y-g*b,P=_*x-p*b,E=_*w-d*b,O=g*x-p*y,I=g*w-d*y,U=p*w-d*x;return C*U-S*I+T*O+M*E-D*P+k*R}},{}],23:[function(r,i,o){i.exports=n;function n(a,s){var l=s[0],u=s[1],c=s[2],h=s[3],v=l+l,f=u+u,m=c+c,_=l*v,g=u*v,p=u*f,d=c*v,b=c*f,y=c*m,x=h*v,w=h*f,C=h*m;return a[0]=1-p-y,a[1]=g+C,a[2]=d-w,a[3]=0,a[4]=g-C,a[5]=1-_-y,a[6]=b+x,a[7]=0,a[8]=d+w,a[9]=b-x,a[10]=1-_-p,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a}},{}],24:[function(r,i,o){i.exports=n;function n(a,s,l){var u,c,h,v=l[0],f=l[1],m=l[2],_=Math.sqrt(v*v+f*f+m*m);return Math.abs(_)<1e-6?null:(_=1/_,v*=_,f*=_,m*=_,u=Math.sin(s),c=Math.cos(s),h=1-c,a[0]=v*v*h+c,a[1]=f*v*h+m*u,a[2]=m*v*h-f*u,a[3]=0,a[4]=v*f*h-m*u,a[5]=f*f*h+c,a[6]=m*f*h+v*u,a[7]=0,a[8]=v*m*h+f*u,a[9]=f*m*h-v*u,a[10]=m*m*h+c,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a)}},{}],25:[function(r,i,o){i.exports=n;function n(a,s,l){var u=s[0],c=s[1],h=s[2],v=s[3],f=u+u,m=c+c,_=h+h,g=u*f,p=u*m,d=u*_,b=c*m,y=c*_,x=h*_,w=v*f,C=v*m,S=v*_;return a[0]=1-(b+x),a[1]=p+S,a[2]=d-C,a[3]=0,a[4]=p-S,a[5]=1-(g+x),a[6]=y+w,a[7]=0,a[8]=d+C,a[9]=y-w,a[10]=1-(g+b),a[11]=0,a[12]=l[0],a[13]=l[1],a[14]=l[2],a[15]=1,a}},{}],26:[function(r,i,o){i.exports=n;function n(a,s){return a[0]=s[0],a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=s[1],a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=s[2],a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a}},{}],27:[function(r,i,o){i.exports=n;function n(a,s){return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=s[0],a[13]=s[1],a[14]=s[2],a[15]=1,a}},{}],28:[function(r,i,o){i.exports=n;function n(a,s){var l=Math.sin(s),u=Math.cos(s);return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=u,a[6]=l,a[7]=0,a[8]=0,a[9]=-l,a[10]=u,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a}},{}],29:[function(r,i,o){i.exports=n;function n(a,s){var l=Math.sin(s),u=Math.cos(s);return a[0]=u,a[1]=0,a[2]=-l,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=l,a[9]=0,a[10]=u,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a}},{}],30:[function(r,i,o){i.exports=n;function n(a,s){var l=Math.sin(s),u=Math.cos(s);return a[0]=u,a[1]=l,a[2]=0,a[3]=0,a[4]=-l,a[5]=u,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a}},{}],31:[function(r,i,o){i.exports=n;function n(a,s,l,u,c,h,v){var f=1/(l-s),m=1/(c-u),_=1/(h-v);return a[0]=h*2*f,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=h*2*m,a[6]=0,a[7]=0,a[8]=(l+s)*f,a[9]=(c+u)*m,a[10]=(v+h)*_,a[11]=-1,a[12]=0,a[13]=0,a[14]=v*h*2*_,a[15]=0,a}},{}],32:[function(r,i,o){i.exports=n;function n(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a}},{}],33:[function(r,i,o){i.exports={create:r("./create"),clone:r("./clone"),copy:r("./copy"),identity:r("./identity"),transpose:r("./transpose"),invert:r("./invert"),adjoint:r("./adjoint"),determinant:r("./determinant"),multiply:r("./multiply"),translate:r("./translate"),scale:r("./scale"),rotate:r("./rotate"),rotateX:r("./rotateX"),rotateY:r("./rotateY"),rotateZ:r("./rotateZ"),fromRotation:r("./fromRotation"),fromRotationTranslation:r("./fromRotationTranslation"),fromScaling:r("./fromScaling"),fromTranslation:r("./fromTranslation"),fromXRotation:r("./fromXRotation"),fromYRotation:r("./fromYRotation"),fromZRotation:r("./fromZRotation"),fromQuat:r("./fromQuat"),frustum:r("./frustum"),perspective:r("./perspective"),perspectiveFromFieldOfView:r("./perspectiveFromFieldOfView"),ortho:r("./ortho"),lookAt:r("./lookAt"),str:r("./str")}},{"./adjoint":18,"./clone":19,"./copy":20,"./create":21,"./determinant":22,"./fromQuat":23,"./fromRotation":24,"./fromRotationTranslation":25,"./fromScaling":26,"./fromTranslation":27,"./fromXRotation":28,"./fromYRotation":29,"./fromZRotation":30,"./frustum":31,"./identity":32,"./invert":34,"./lookAt":35,"./multiply":36,"./ortho":37,"./perspective":38,"./perspectiveFromFieldOfView":39,"./rotate":40,"./rotateX":41,"./rotateY":42,"./rotateZ":43,"./scale":44,"./str":45,"./translate":46,"./transpose":47}],34:[function(r,i,o){i.exports=n;function n(a,s){var l=s[0],u=s[1],c=s[2],h=s[3],v=s[4],f=s[5],m=s[6],_=s[7],g=s[8],p=s[9],d=s[10],b=s[11],y=s[12],x=s[13],w=s[14],C=s[15],S=l*f-u*v,T=l*m-c*v,M=l*_-h*v,D=u*m-c*f,k=u*_-h*f,R=c*_-h*m,P=g*x-p*y,E=g*w-d*y,O=g*C-b*y,I=p*w-d*x,U=p*C-b*x,V=d*C-b*w,Z=S*V-T*U+M*I+D*O-k*E+R*P;return Z?(Z=1/Z,a[0]=(f*V-m*U+_*I)*Z,a[1]=(c*U-u*V-h*I)*Z,a[2]=(x*R-w*k+C*D)*Z,a[3]=(d*k-p*R-b*D)*Z,a[4]=(m*O-v*V-_*E)*Z,a[5]=(l*V-c*O+h*E)*Z,a[6]=(w*M-y*R-C*T)*Z,a[7]=(g*R-d*M+b*T)*Z,a[8]=(v*U-f*O+_*P)*Z,a[9]=(u*O-l*U-h*P)*Z,a[10]=(y*k-x*M+C*S)*Z,a[11]=(p*M-g*k-b*S)*Z,a[12]=(f*E-v*I-m*P)*Z,a[13]=(l*I-u*E+c*P)*Z,a[14]=(x*T-y*D-w*S)*Z,a[15]=(g*D-p*T+d*S)*Z,a):null}},{}],35:[function(r,i,o){var n=r("./identity");i.exports=a;function a(s,l,u,c){var h,v,f,m,_,g,p,d,b,y,x=l[0],w=l[1],C=l[2],S=c[0],T=c[1],M=c[2],D=u[0],k=u[1],R=u[2];return Math.abs(x-D)<1e-6&&Math.abs(w-k)<1e-6&&Math.abs(C-R)<1e-6?n(s):(p=x-D,d=w-k,b=C-R,y=1/Math.sqrt(p*p+d*d+b*b),p*=y,d*=y,b*=y,h=T*b-M*d,v=M*p-S*b,f=S*d-T*p,y=Math.sqrt(h*h+v*v+f*f),y?(y=1/y,h*=y,v*=y,f*=y):(h=0,v=0,f=0),m=d*f-b*v,_=b*h-p*f,g=p*v-d*h,y=Math.sqrt(m*m+_*_+g*g),y?(y=1/y,m*=y,_*=y,g*=y):(m=0,_=0,g=0),s[0]=h,s[1]=m,s[2]=p,s[3]=0,s[4]=v,s[5]=_,s[6]=d,s[7]=0,s[8]=f,s[9]=g,s[10]=b,s[11]=0,s[12]=-(h*x+v*w+f*C),s[13]=-(m*x+_*w+g*C),s[14]=-(p*x+d*w+b*C),s[15]=1,s)}},{"./identity":32}],36:[function(r,i,o){i.exports=n;function n(a,s,l){var u=s[0],c=s[1],h=s[2],v=s[3],f=s[4],m=s[5],_=s[6],g=s[7],p=s[8],d=s[9],b=s[10],y=s[11],x=s[12],w=s[13],C=s[14],S=s[15],T=l[0],M=l[1],D=l[2],k=l[3];return a[0]=T*u+M*f+D*p+k*x,a[1]=T*c+M*m+D*d+k*w,a[2]=T*h+M*_+D*b+k*C,a[3]=T*v+M*g+D*y+k*S,T=l[4],M=l[5],D=l[6],k=l[7],a[4]=T*u+M*f+D*p+k*x,a[5]=T*c+M*m+D*d+k*w,a[6]=T*h+M*_+D*b+k*C,a[7]=T*v+M*g+D*y+k*S,T=l[8],M=l[9],D=l[10],k=l[11],a[8]=T*u+M*f+D*p+k*x,a[9]=T*c+M*m+D*d+k*w,a[10]=T*h+M*_+D*b+k*C,a[11]=T*v+M*g+D*y+k*S,T=l[12],M=l[13],D=l[14],k=l[15],a[12]=T*u+M*f+D*p+k*x,a[13]=T*c+M*m+D*d+k*w,a[14]=T*h+M*_+D*b+k*C,a[15]=T*v+M*g+D*y+k*S,a}},{}],37:[function(r,i,o){i.exports=n;function n(a,s,l,u,c,h,v){var f=1/(s-l),m=1/(u-c),_=1/(h-v);return a[0]=-2*f,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=-2*m,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=2*_,a[11]=0,a[12]=(s+l)*f,a[13]=(c+u)*m,a[14]=(v+h)*_,a[15]=1,a}},{}],38:[function(r,i,o){i.exports=n;function n(a,s,l,u,c){var h=1/Math.tan(s/2),v=1/(u-c);return a[0]=h/l,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=h,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=(c+u)*v,a[11]=-1,a[12]=0,a[13]=0,a[14]=2*c*u*v,a[15]=0,a}},{}],39:[function(r,i,o){i.exports=n;function n(a,s,l,u){var c=Math.tan(s.upDegrees*Math.PI/180),h=Math.tan(s.downDegrees*Math.PI/180),v=Math.tan(s.leftDegrees*Math.PI/180),f=Math.tan(s.rightDegrees*Math.PI/180),m=2/(v+f),_=2/(c+h);return a[0]=m,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=_,a[6]=0,a[7]=0,a[8]=-((v-f)*m*.5),a[9]=(c-h)*_*.5,a[10]=u/(l-u),a[11]=-1,a[12]=0,a[13]=0,a[14]=u*l/(l-u),a[15]=0,a}},{}],40:[function(r,i,o){i.exports=n;function n(a,s,l,u){var c=u[0],h=u[1],v=u[2],f=Math.sqrt(c*c+h*h+v*v),m,_,g,p,d,b,y,x,w,C,S,T,M,D,k,R,P,E,O,I,U,V,Z,z;return Math.abs(f)<1e-6?null:(f=1/f,c*=f,h*=f,v*=f,m=Math.sin(l),_=Math.cos(l),g=1-_,p=s[0],d=s[1],b=s[2],y=s[3],x=s[4],w=s[5],C=s[6],S=s[7],T=s[8],M=s[9],D=s[10],k=s[11],R=c*c*g+_,P=h*c*g+v*m,E=v*c*g-h*m,O=c*h*g-v*m,I=h*h*g+_,U=v*h*g+c*m,V=c*v*g+h*m,Z=h*v*g-c*m,z=v*v*g+_,a[0]=p*R+x*P+T*E,a[1]=d*R+w*P+M*E,a[2]=b*R+C*P+D*E,a[3]=y*R+S*P+k*E,a[4]=p*O+x*I+T*U,a[5]=d*O+w*I+M*U,a[6]=b*O+C*I+D*U,a[7]=y*O+S*I+k*U,a[8]=p*V+x*Z+T*z,a[9]=d*V+w*Z+M*z,a[10]=b*V+C*Z+D*z,a[11]=y*V+S*Z+k*z,s!==a&&(a[12]=s[12],a[13]=s[13],a[14]=s[14],a[15]=s[15]),a)}},{}],41:[function(r,i,o){i.exports=n;function n(a,s,l){var u=Math.sin(l),c=Math.cos(l),h=s[4],v=s[5],f=s[6],m=s[7],_=s[8],g=s[9],p=s[10],d=s[11];return s!==a&&(a[0]=s[0],a[1]=s[1],a[2]=s[2],a[3]=s[3],a[12]=s[12],a[13]=s[13],a[14]=s[14],a[15]=s[15]),a[4]=h*c+_*u,a[5]=v*c+g*u,a[6]=f*c+p*u,a[7]=m*c+d*u,a[8]=_*c-h*u,a[9]=g*c-v*u,a[10]=p*c-f*u,a[11]=d*c-m*u,a}},{}],42:[function(r,i,o){i.exports=n;function n(a,s,l){var u=Math.sin(l),c=Math.cos(l),h=s[0],v=s[1],f=s[2],m=s[3],_=s[8],g=s[9],p=s[10],d=s[11];return s!==a&&(a[4]=s[4],a[5]=s[5],a[6]=s[6],a[7]=s[7],a[12]=s[12],a[13]=s[13],a[14]=s[14],a[15]=s[15]),a[0]=h*c-_*u,a[1]=v*c-g*u,a[2]=f*c-p*u,a[3]=m*c-d*u,a[8]=h*u+_*c,a[9]=v*u+g*c,a[10]=f*u+p*c,a[11]=m*u+d*c,a}},{}],43:[function(r,i,o){i.exports=n;function n(a,s,l){var u=Math.sin(l),c=Math.cos(l),h=s[0],v=s[1],f=s[2],m=s[3],_=s[4],g=s[5],p=s[6],d=s[7];return s!==a&&(a[8]=s[8],a[9]=s[9],a[10]=s[10],a[11]=s[11],a[12]=s[12],a[13]=s[13],a[14]=s[14],a[15]=s[15]),a[0]=h*c+_*u,a[1]=v*c+g*u,a[2]=f*c+p*u,a[3]=m*c+d*u,a[4]=_*c-h*u,a[5]=g*c-v*u,a[6]=p*c-f*u,a[7]=d*c-m*u,a}},{}],44:[function(r,i,o){i.exports=n;function n(a,s,l){var u=l[0],c=l[1],h=l[2];return a[0]=s[0]*u,a[1]=s[1]*u,a[2]=s[2]*u,a[3]=s[3]*u,a[4]=s[4]*c,a[5]=s[5]*c,a[6]=s[6]*c,a[7]=s[7]*c,a[8]=s[8]*h,a[9]=s[9]*h,a[10]=s[10]*h,a[11]=s[11]*h,a[12]=s[12],a[13]=s[13],a[14]=s[14],a[15]=s[15],a}},{}],45:[function(r,i,o){i.exports=n;function n(a){return"mat4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+", "+a[9]+", "+a[10]+", "+a[11]+", "+a[12]+", "+a[13]+", "+a[14]+", "+a[15]+")"}},{}],46:[function(r,i,o){i.exports=n;function n(a,s,l){var u=l[0],c=l[1],h=l[2],v,f,m,_,g,p,d,b,y,x,w,C;return s===a?(a[12]=s[0]*u+s[4]*c+s[8]*h+s[12],a[13]=s[1]*u+s[5]*c+s[9]*h+s[13],a[14]=s[2]*u+s[6]*c+s[10]*h+s[14],a[15]=s[3]*u+s[7]*c+s[11]*h+s[15]):(v=s[0],f=s[1],m=s[2],_=s[3],g=s[4],p=s[5],d=s[6],b=s[7],y=s[8],x=s[9],w=s[10],C=s[11],a[0]=v,a[1]=f,a[2]=m,a[3]=_,a[4]=g,a[5]=p,a[6]=d,a[7]=b,a[8]=y,a[9]=x,a[10]=w,a[11]=C,a[12]=v*u+g*c+y*h+s[12],a[13]=f*u+p*c+x*h+s[13],a[14]=m*u+d*c+w*h+s[14],a[15]=_*u+b*c+C*h+s[15]),a}},{}],47:[function(r,i,o){i.exports=n;function n(a,s){if(a===s){var l=s[1],u=s[2],c=s[3],h=s[6],v=s[7],f=s[11];a[1]=s[4],a[2]=s[8],a[3]=s[12],a[4]=l,a[6]=s[9],a[7]=s[13],a[8]=u,a[9]=h,a[11]=s[14],a[12]=c,a[13]=v,a[14]=f}else a[0]=s[0],a[1]=s[4],a[2]=s[8],a[3]=s[12],a[4]=s[1],a[5]=s[5],a[6]=s[9],a[7]=s[13],a[8]=s[2],a[9]=s[6],a[10]=s[10],a[11]=s[14],a[12]=s[3],a[13]=s[7],a[14]=s[11],a[15]=s[15];return a}},{}],48:[function(r,i,o){(function(n){(function(){var a=r("is-browser"),s;typeof n.matchMedia=="function"?s=!n.matchMedia("(hover: none)").matches:s=a,i.exports=s}).call(this)}).call(this,typeof Ba<"u"?Ba:typeof self<"u"?self:typeof window<"u"?window:{})},{"is-browser":50}],49:[function(r,i,o){var n=r("is-browser");function a(){var s=!1;try{var l=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("test",null,l),window.removeEventListener("test",null,l)}catch{s=!1}return s}i.exports=n&&a()},{"is-browser":50}],50:[function(r,i,o){i.exports=!0},{}],51:[function(r,i,o){i.exports=s,i.exports.isMobile=s,i.exports.default=s;var n=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,a=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|android|ipad|playbook|silk/i;function s(l){l||(l={});var u=l.ua;if(!u&&typeof navigator<"u"&&(u=navigator.userAgent),u&&u.headers&&typeof u.headers["user-agent"]=="string"&&(u=u.headers["user-agent"]),typeof u!="string")return!1;var c=l.tablet?a.test(u):n.test(u);return!c&&l.tablet&&l.featureDetect&&navigator&&navigator.maxTouchPoints>1&&u.indexOf("Macintosh")!==-1&&u.indexOf("Safari")!==-1&&(c=!0),c}},{}],52:[function(r,i,o){i.exports=function(n){for(var a=n.length,s,l=0;l<a;l++)if(s=n.charCodeAt(l),(s<9||s>13)&&s!==32&&s!==133&&s!==160&&s!==5760&&s!==6158&&(s<8192||s>8205)&&s!==8232&&s!==8233&&s!==8239&&s!==8287&&s!==8288&&s!==12288&&s!==65279)return!1;return!0}},{}],53:[function(r,i,o){var n={left:0,top:0};i.exports=a;function a(l,u,c){u=u||l.currentTarget||l.srcElement,Array.isArray(c)||(c=[0,0]);var h=l.clientX||0,v=l.clientY||0,f=s(u);return c[0]=h-f.left,c[1]=v-f.top,c}function s(l){return l===window||l===document||l===document.body?n:l.getBoundingClientRect()}},{}],54:[function(r,i,o){(function(n,a){(function(){/*! Native Promise Only
    v0.8.1 (c) Kyle Simpson
    MIT License: http://getify.mit-license.org
*/(function(l,u,c){u[l]=u[l]||c(),typeof i<"u"&&i.exports&&(i.exports=u[l])})("Promise",typeof n<"u"?n:this,function(){var l,u,c,h=Object.prototype.toString,v=typeof a<"u"?function(T){return a(T)}:setTimeout;try{Object.defineProperty({},"x",{}),l=function(T,M,D,k){return Object.defineProperty(T,M,{value:D,writable:!0,configurable:k!==!1})}}catch{l=function(M,D,k){return M[D]=k,M}}c=function(){var T,M,D;function k(R,P){this.fn=R,this.self=P,this.next=void 0}return{add:function(P,E){D=new k(P,E),M?M.next=D:T=D,M=D,D=void 0},drain:function(){var P=T;for(T=M=u=void 0;P;)P.fn.call(P.self),P=P.next}}}();function f(S,T){c.add(S,T),u||(u=v(c.drain))}function m(S){var T,M=typeof S;return S!=null&&(M=="object"||M=="function")&&(T=S.then),typeof T=="function"?T:!1}function _(){for(var S=0;S<this.chain.length;S++)g(this,this.state===1?this.chain[S].success:this.chain[S].failure,this.chain[S]);this.chain.length=0}function g(S,T,M){var D,k;try{T===!1?M.reject(S.msg):(T===!0?D=S.msg:D=T.call(void 0,S.msg),D===M.promise?M.reject(TypeError("Promise-chain cycle")):(k=m(D))?k.call(D,M.resolve,M.reject):M.resolve(D))}catch(R){M.reject(R)}}function p(S){var T,M=this;if(!M.triggered){M.triggered=!0,M.def&&(M=M.def);try{(T=m(S))?f(function(){var D=new y(M);try{T.call(S,function(){p.apply(D,arguments)},function(){d.apply(D,arguments)})}catch(k){d.call(D,k)}}):(M.msg=S,M.state=1,M.chain.length>0&&f(_,M))}catch(D){d.call(new y(M),D)}}}function d(S){var T=this;T.triggered||(T.triggered=!0,T.def&&(T=T.def),T.msg=S,T.state=2,T.chain.length>0&&f(_,T))}function b(S,T,M,D){for(var k=0;k<T.length;k++)(function(P){S.resolve(T[P]).then(function(O){M(P,O)},D)})(k)}function y(S){this.def=S,this.triggered=!1}function x(S){this.promise=S,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function w(S){if(typeof S!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var T=new x(this);this.then=function(D,k){var R={success:typeof D=="function"?D:!0,failure:typeof k=="function"?k:!1};return R.promise=new this.constructor(function(E,O){if(typeof E!="function"||typeof O!="function")throw TypeError("Not a function");R.resolve=E,R.reject=O}),T.chain.push(R),T.state!==0&&f(_,T),R.promise},this.catch=function(D){return this.then(void 0,D)};try{S.call(void 0,function(D){p.call(T,D)},function(D){d.call(T,D)})}catch(M){d.call(T,M)}}var C=l({},"constructor",w,!1);return w.prototype=C,l(C,"__NPO__",0,!1),l(w,"resolve",function(T){var M=this;return T&&typeof T=="object"&&T.__NPO__===1?T:new M(function(k,R){if(typeof k!="function"||typeof R!="function")throw TypeError("Not a function");k(T)})}),l(w,"reject",function(T){return new this(function(D,k){if(typeof D!="function"||typeof k!="function")throw TypeError("Not a function");k(T)})}),l(w,"all",function(T){var M=this;return h.call(T)!="[object Array]"?M.reject(TypeError("Not an array")):T.length===0?M.resolve([]):new M(function(k,R){if(typeof k!="function"||typeof R!="function")throw TypeError("Not a function");var P=T.length,E=Array(P),O=0;b(M,T,function(U,V){E[U]=V,++O===P&&k(E)},R)})}),l(w,"race",function(T){var M=this;return h.call(T)!="[object Array]"?M.reject(TypeError("Not an array")):new M(function(k,R){if(typeof k!="function"||typeof R!="function")throw TypeError("Not a function");b(M,T,function(E,O){k(O)},R)})}),w})}).call(this)}).call(this,typeof Ba<"u"?Ba:typeof self<"u"?self:typeof window<"u"?window:{},r("timers").setImmediate)},{timers:67}],55:[function(r,i,o){var n=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable;function l(c){if(c==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(c)}function u(){try{if(!Object.assign)return!1;var c=new String("abc");if(c[5]="de",Object.getOwnPropertyNames(c)[0]==="5")return!1;for(var h={},v=0;v<10;v++)h["_"+String.fromCharCode(v)]=v;var f=Object.getOwnPropertyNames(h).map(function(_){return h[_]});if(f.join("")!=="0123456789")return!1;var m={};return"abcdefghijklmnopqrst".split("").forEach(function(_){m[_]=_}),Object.keys(Object.assign({},m)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}i.exports=u()?Object.assign:function(c,h){for(var v,f=l(c),m,_=1;_<arguments.length;_++){v=Object(arguments[_]);for(var g in v)a.call(v,g)&&(f[g]=v[g]);if(n){m=n(v);for(var p=0;p<m.length;p++)s.call(v,m[p])&&(f[m[p]]=v[m[p]])}}return f}},{}],56:[function(r,i,o){i.exports=s;var n={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},a=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function s(c){var h=[];return c.replace(a,function(v,f,m){var _=f.toLowerCase();for(m=u(m),_=="m"&&m.length>2&&(h.push([f].concat(m.splice(0,2))),_="l",f=f=="m"?"l":"L");;){if(m.length==n[_])return m.unshift(f),h.push(m);if(m.length<n[_])throw new Error("malformed path data");h.push([f].concat(m.splice(0,n[_])))}}),h}var l=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function u(c){var h=c.match(l);return h?h.map(Number):[]}},{}],57:[function(r,i,o){i.exports=function(a,s,l,u){var c=a[0],h=a[1],v=!1;l===void 0&&(l=0),u===void 0&&(u=s.length);for(var f=u-l,m=0,_=f-1;m<f;_=m++){var g=s[m+l][0],p=s[m+l][1],d=s[_+l][0],b=s[_+l][1],y=p>h!=b>h&&c<(d-g)*(h-p)/(b-p)+g;y&&(v=!v)}return v}},{}],58:[function(r,i,o){/*
 * @copyright 2016 Sean Connelly (@voidqk), http://syntheti.cc
 * @license MIT
 * @preserve Project Home: https://github.com/voidqk/polybooljs
 */var n=r("./lib/build-log"),a=r("./lib/epsilon"),s=r("./lib/intersecter"),l=r("./lib/segment-chainer"),u=r("./lib/segment-selector"),c=r("./lib/geojson"),h=!1,v=a(),f;f={buildLog:function(_){return _===!0?h=n():_===!1&&(h=!1),h===!1?!1:h.list},epsilon:function(_){return v.epsilon(_)},segments:function(_){var g=s(!0,v,h);return _.regions.forEach(g.addRegion),{segments:g.calculate(_.inverted),inverted:_.inverted}},combine:function(_,g){var p=s(!1,v,h);return{combined:p.calculate(_.segments,_.inverted,g.segments,g.inverted),inverted1:_.inverted,inverted2:g.inverted}},selectUnion:function(_){return{segments:u.union(_.combined,h),inverted:_.inverted1||_.inverted2}},selectIntersect:function(_){return{segments:u.intersect(_.combined,h),inverted:_.inverted1&&_.inverted2}},selectDifference:function(_){return{segments:u.difference(_.combined,h),inverted:_.inverted1&&!_.inverted2}},selectDifferenceRev:function(_){return{segments:u.differenceRev(_.combined,h),inverted:!_.inverted1&&_.inverted2}},selectXor:function(_){return{segments:u.xor(_.combined,h),inverted:_.inverted1!==_.inverted2}},polygon:function(_){return{regions:l(_.segments,v,h),inverted:_.inverted}},polygonFromGeoJSON:function(_){return c.toPolygon(f,_)},polygonToGeoJSON:function(_){return c.fromPolygon(f,v,_)},union:function(_,g){return m(_,g,f.selectUnion)},intersect:function(_,g){return m(_,g,f.selectIntersect)},difference:function(_,g){return m(_,g,f.selectDifference)},differenceRev:function(_,g){return m(_,g,f.selectDifferenceRev)},xor:function(_,g){return m(_,g,f.selectXor)}};function m(_,g,p){var d=f.segments(_),b=f.segments(g),y=f.combine(d,b),x=p(y);return f.polygon(x)}typeof window=="object"&&(window.PolyBool=f),i.exports=f},{"./lib/build-log":59,"./lib/epsilon":60,"./lib/geojson":61,"./lib/intersecter":62,"./lib/segment-chainer":64,"./lib/segment-selector":65}],59:[function(r,i,o){function n(){var a,s=0,l=!1;function u(c,h){return a.list.push({type:c,data:h?JSON.parse(JSON.stringify(h)):void 0}),a}return a={list:[],segmentId:function(){return s++},checkIntersection:function(c,h){return u("check",{seg1:c,seg2:h})},segmentChop:function(c,h){return u("div_seg",{seg:c,pt:h}),u("chop",{seg:c,pt:h})},statusRemove:function(c){return u("pop_seg",{seg:c})},segmentUpdate:function(c){return u("seg_update",{seg:c})},segmentNew:function(c,h){return u("new_seg",{seg:c,primary:h})},segmentRemove:function(c){return u("rem_seg",{seg:c})},tempStatus:function(c,h,v){return u("temp_status",{seg:c,above:h,below:v})},rewind:function(c){return u("rewind",{seg:c})},status:function(c,h,v){return u("status",{seg:c,above:h,below:v})},vert:function(c){return c===l?a:(l=c,u("vert",{x:c}))},log:function(c){return typeof c!="string"&&(c=JSON.stringify(c,!1,"  ")),u("log",{txt:c})},reset:function(){return u("reset")},selected:function(c){return u("selected",{segs:c})},chainStart:function(c){return u("chain_start",{seg:c})},chainRemoveHead:function(c,h){return u("chain_rem_head",{index:c,pt:h})},chainRemoveTail:function(c,h){return u("chain_rem_tail",{index:c,pt:h})},chainNew:function(c,h){return u("chain_new",{pt1:c,pt2:h})},chainMatch:function(c){return u("chain_match",{index:c})},chainClose:function(c){return u("chain_close",{index:c})},chainAddHead:function(c,h){return u("chain_add_head",{index:c,pt:h})},chainAddTail:function(c,h){return u("chain_add_tail",{index:c,pt:h})},chainConnect:function(c,h){return u("chain_con",{index1:c,index2:h})},chainReverse:function(c){return u("chain_rev",{index:c})},chainJoin:function(c,h){return u("chain_join",{index1:c,index2:h})},done:function(){return u("done")}},a}i.exports=n},{}],60:[function(r,i,o){function n(a){typeof a!="number"&&(a=1e-10);var s={epsilon:function(l){return typeof l=="number"&&(a=l),a},pointAboveOrOnLine:function(l,u,c){var h=u[0],v=u[1],f=c[0],m=c[1],_=l[0],g=l[1];return(f-h)*(g-v)-(m-v)*(_-h)>=-a},pointBetween:function(l,u,c){var h=l[1]-u[1],v=c[0]-u[0],f=l[0]-u[0],m=c[1]-u[1],_=f*v+h*m;if(_<a)return!1;var g=v*v+m*m;return!(_-g>-a)},pointsSameX:function(l,u){return Math.abs(l[0]-u[0])<a},pointsSameY:function(l,u){return Math.abs(l[1]-u[1])<a},pointsSame:function(l,u){return s.pointsSameX(l,u)&&s.pointsSameY(l,u)},pointsCompare:function(l,u){return s.pointsSameX(l,u)?s.pointsSameY(l,u)?0:l[1]<u[1]?-1:1:l[0]<u[0]?-1:1},pointsCollinear:function(l,u,c){var h=l[0]-u[0],v=l[1]-u[1],f=u[0]-c[0],m=u[1]-c[1];return Math.abs(h*m-f*v)<a},linesIntersect:function(l,u,c,h){var v=u[0]-l[0],f=u[1]-l[1],m=h[0]-c[0],_=h[1]-c[1],g=v*_-f*m;if(Math.abs(g)<a)return!1;var p=l[0]-c[0],d=l[1]-c[1],b=(m*d-_*p)/g,y=(v*d-f*p)/g,x={alongA:0,alongB:0,pt:[l[0]+b*v,l[1]+b*f]};return b<=-a?x.alongA=-2:b<a?x.alongA=-1:b-1<=-a?x.alongA=0:b-1<a?x.alongA=1:x.alongA=2,y<=-a?x.alongB=-2:y<a?x.alongB=-1:y-1<=-a?x.alongB=0:y-1<a?x.alongB=1:x.alongB=2,x},pointInsideRegion:function(l,u){for(var c=l[0],h=l[1],v=u[u.length-1][0],f=u[u.length-1][1],m=!1,_=0;_<u.length;_++){var g=u[_][0],p=u[_][1];p-h>a!=f-h>a&&(v-g)*(h-p)/(f-p)+g-c>a&&(m=!m),v=g,f=p}return m}};return s}i.exports=n},{}],61:[function(r,i,o){var n={toPolygon:function(a,s){function l(h){if(h.length<=0)return a.segments({inverted:!1,regions:[]});function v(_){var g=_.slice(0,_.length-1);return a.segments({inverted:!1,regions:[g]})}for(var f=v(h[0]),m=1;m<h.length;m++)f=a.selectDifference(a.combine(f,v(h[m])));return f}if(s.type==="Polygon")return a.polygon(l(s.coordinates));if(s.type==="MultiPolygon"){for(var u=a.segments({inverted:!1,regions:[]}),c=0;c<s.coordinates.length;c++)u=a.selectUnion(a.combine(u,l(s.coordinates[c])));return a.polygon(u)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(a,s,l){l=a.polygon(a.segments(l));function u(b,y){return s.pointInsideRegion([(b[0][0]+b[1][0])*.5,(b[0][1]+b[1][1])*.5],y)}function c(b){return{region:b,children:[]}}var h=c(null);function v(b,y){for(var x=0;x<b.children.length;x++){var w=b.children[x];if(u(y,w.region)){v(w,y);return}}for(var C=c(y),x=0;x<b.children.length;x++){var w=b.children[x];u(w.region,y)&&(C.children.push(w),b.children.splice(x,1),x--)}b.children.push(C)}for(var f=0;f<l.regions.length;f++){var m=l.regions[f];m.length<3||v(h,m)}function _(b,y){for(var x=0,w=b[b.length-1][0],C=b[b.length-1][1],S=[],T=0;T<b.length;T++){var M=b[T][0],D=b[T][1];S.push([M,D]),x+=D*w-M*C,w=M,C=D}var k=x<0;return k!==y&&S.reverse(),S.push([S[0][0],S[0][1]]),S}var g=[];function p(b){var y=[_(b.region,!1)];g.push(y);for(var x=0;x<b.children.length;x++)y.push(d(b.children[x]))}function d(b){for(var y=0;y<b.children.length;y++)p(b.children[y]);return _(b.region,!0)}for(var f=0;f<h.children.length;f++)p(h.children[f]);return g.length<=0?{type:"Polygon",coordinates:[]}:g.length==1?{type:"Polygon",coordinates:g[0]}:{type:"MultiPolygon",coordinates:g}}};i.exports=n},{}],62:[function(r,i,o){var n=r("./linked-list");function a(s,l,u){function c(x,w){return{id:u?u.segmentId():-1,start:x,end:w,myFill:{above:null,below:null},otherFill:null}}function h(x,w,C){return{id:u?u.segmentId():-1,start:x,end:w,myFill:{above:C.myFill.above,below:C.myFill.below},otherFill:null}}var v=n.create();function f(x,w,C,S,T,M){var D=l.pointsCompare(w,T);return D!==0?D:l.pointsSame(C,M)?0:x!==S?x?1:-1:l.pointAboveOrOnLine(C,S?T:M,S?M:T)?1:-1}function m(x,w){v.insertBefore(x,function(C){var S=f(x.isStart,x.pt,w,C.isStart,C.pt,C.other.pt);return S<0})}function _(x,w){var C=n.node({isStart:!0,pt:x.start,seg:x,primary:w,other:null,status:null});return m(C,x.end),C}function g(x,w,C){var S=n.node({isStart:!1,pt:w.end,seg:w,primary:C,other:x,status:null});x.other=S,m(S,x.pt)}function p(x,w){var C=_(x,w);return g(C,x,w),C}function d(x,w){u&&u.segmentChop(x.seg,w),x.other.remove(),x.seg.end=w,x.other.pt=w,m(x.other,x.pt)}function b(x,w){var C=h(w,x.seg.end,x.seg);return d(x,w),p(C,x.primary)}function y(x,w){var C=n.create();function S(z,H){var B=z.seg.start,W=z.seg.end,F=H.seg.start,K=H.seg.end;return l.pointsCollinear(B,F,K)?l.pointsCollinear(W,F,K)||l.pointAboveOrOnLine(W,F,K)?1:-1:l.pointAboveOrOnLine(B,F,K)?1:-1}function T(z){return C.findTransition(function(H){var B=S(z,H.ev);return B>0})}function M(z,H){var B=z.seg,W=H.seg,F=B.start,K=B.end,fe=W.start,se=W.end;u&&u.checkIntersection(B,W);var ee=l.linesIntersect(F,K,fe,se);if(ee===!1){if(!l.pointsCollinear(F,K,fe)||l.pointsSame(F,se)||l.pointsSame(K,fe))return!1;var ie=l.pointsSame(F,fe),J=l.pointsSame(K,se);if(ie&&J)return H;var te=!ie&&l.pointBetween(F,fe,se),L=!J&&l.pointBetween(K,fe,se);if(ie)return L?b(H,K):b(z,se),H;te&&(J||(L?b(H,K):b(z,se)),b(H,F))}else ee.alongA===0&&(ee.alongB===-1?b(z,fe):ee.alongB===0?b(z,ee.pt):ee.alongB===1&&b(z,se)),ee.alongB===0&&(ee.alongA===-1?b(H,F):ee.alongA===0?b(H,ee.pt):ee.alongA===1&&b(H,K));return!1}for(var D=[];!v.isEmpty();){var k=v.getHead();if(u&&u.vert(k.pt[0]),k.isStart){let z=function(){if(P){var H=M(k,P);if(H)return H}return E?M(k,E):!1};u&&u.segmentNew(k.seg,k.primary);var R=T(k),P=R.before?R.before.ev:null,E=R.after?R.after.ev:null;u&&u.tempStatus(k.seg,P?P.seg:!1,E?E.seg:!1);var O=z();if(O){if(s){var I;k.seg.myFill.below===null?I=!0:I=k.seg.myFill.above!==k.seg.myFill.below,I&&(O.seg.myFill.above=!O.seg.myFill.above)}else O.seg.otherFill=k.seg.myFill;u&&u.segmentUpdate(O.seg),k.other.remove(),k.remove()}if(v.getHead()!==k){u&&u.rewind(k.seg);continue}if(s){var I;k.seg.myFill.below===null?I=!0:I=k.seg.myFill.above!==k.seg.myFill.below,E?k.seg.myFill.below=E.seg.myFill.above:k.seg.myFill.below=x,I?k.seg.myFill.above=!k.seg.myFill.below:k.seg.myFill.above=k.seg.myFill.below}else if(k.seg.otherFill===null){var U;E?k.primary===E.primary?U=E.seg.otherFill.above:U=E.seg.myFill.above:U=k.primary?w:x,k.seg.otherFill={above:U,below:U}}u&&u.status(k.seg,P?P.seg:!1,E?E.seg:!1),k.other.status=R.insert(n.node({ev:k}))}else{var V=k.status;if(V===null)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(C.exists(V.prev)&&C.exists(V.next)&&M(V.prev.ev,V.next.ev),u&&u.statusRemove(V.ev.seg),V.remove(),!k.primary){var Z=k.seg.myFill;k.seg.myFill=k.seg.otherFill,k.seg.otherFill=Z}D.push(k.seg)}v.getHead().remove()}return u&&u.done(),D}return s?{addRegion:function(x){for(var w,C=x[x.length-1],S=0;S<x.length;S++){w=C,C=x[S];var T=l.pointsCompare(w,C);T!==0&&p(c(T<0?w:C,T<0?C:w),!0)}},calculate:function(x){return y(x,!1)}}:{calculate:function(x,w,C,S){return x.forEach(function(T){p(h(T.start,T.end,T),!0)}),C.forEach(function(T){p(h(T.start,T.end,T),!1)}),y(w,S)}}}i.exports=a},{"./linked-list":63}],63:[function(r,i,o){var n={create:function(){var a={root:{root:!0,next:null},exists:function(s){return!(s===null||s===a.root)},isEmpty:function(){return a.root.next===null},getHead:function(){return a.root.next},insertBefore:function(s,l){for(var u=a.root,c=a.root.next;c!==null;){if(l(c)){s.prev=c.prev,s.next=c,c.prev.next=s,c.prev=s;return}u=c,c=c.next}u.next=s,s.prev=u,s.next=null},findTransition:function(s){for(var l=a.root,u=a.root.next;u!==null&&!s(u);)l=u,u=u.next;return{before:l===a.root?null:l,after:u,insert:function(c){return c.prev=l,c.next=u,l.next=c,u!==null&&(u.prev=c),c}}}};return a},node:function(a){return a.prev=null,a.next=null,a.remove=function(){a.prev.next=a.next,a.next&&(a.next.prev=a.prev),a.prev=null,a.next=null},a}};i.exports=n},{}],64:[function(r,i,o){function n(a,s,l){var u=[],c=[];return a.forEach(function(h){var v=h.start,f=h.end;if(s.pointsSame(v,f)){console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");return}l&&l.chainStart(h);var m={index:0,matches_head:!1,matches_pt1:!1},_={index:0,matches_head:!1,matches_pt1:!1},g=m;function p(U,V,Z){return g.index=U,g.matches_head=V,g.matches_pt1=Z,g===m?(g=_,!1):(g=null,!0)}for(var d=0;d<u.length;d++){var b=u[d],y=b[0];b[1];var x=b[b.length-1];if(b[b.length-2],s.pointsSame(y,v)){if(p(d,!0,!0))break}else if(s.pointsSame(y,f)){if(p(d,!0,!1))break}else if(s.pointsSame(x,v)){if(p(d,!1,!0))break}else if(s.pointsSame(x,f)&&p(d,!1,!1))break}if(g===m){u.push([v,f]),l&&l.chainNew(v,f);return}if(g===_){l&&l.chainMatch(m.index);var w=m.index,C=m.matches_pt1?f:v,S=m.matches_head,b=u[w],T=S?b[0]:b[b.length-1],M=S?b[1]:b[b.length-2],D=S?b[b.length-1]:b[0],k=S?b[b.length-2]:b[1];if(s.pointsCollinear(M,T,C)&&(S?(l&&l.chainRemoveHead(m.index,C),b.shift()):(l&&l.chainRemoveTail(m.index,C),b.pop()),T=M),s.pointsSame(D,C)){u.splice(w,1),s.pointsCollinear(k,D,T)&&(S?(l&&l.chainRemoveTail(m.index,T),b.pop()):(l&&l.chainRemoveHead(m.index,T),b.shift())),l&&l.chainClose(m.index),c.push(b);return}S?(l&&l.chainAddHead(m.index,C),b.unshift(C)):(l&&l.chainAddTail(m.index,C),b.push(C));return}function R(U){l&&l.chainReverse(U),u[U].reverse()}function P(U,V){var Z=u[U],z=u[V],H=Z[Z.length-1],B=Z[Z.length-2],W=z[0],F=z[1];s.pointsCollinear(B,H,W)&&(l&&l.chainRemoveTail(U,H),Z.pop(),H=B),s.pointsCollinear(H,W,F)&&(l&&l.chainRemoveHead(V,W),z.shift()),l&&l.chainJoin(U,V),u[U]=Z.concat(z),u.splice(V,1)}var E=m.index,O=_.index;l&&l.chainConnect(E,O);var I=u[E].length<u[O].length;m.matches_head?_.matches_head?I?(R(E),P(E,O)):(R(O),P(O,E)):P(O,E):_.matches_head?P(E,O):I?(R(E),P(O,E)):(R(O),P(E,O))}),c}i.exports=n},{}],65:[function(r,i,o){function n(s,l,u){var c=[];return s.forEach(function(h){var v=(h.myFill.above?8:0)+(h.myFill.below?4:0)+(h.otherFill&&h.otherFill.above?2:0)+(h.otherFill&&h.otherFill.below?1:0);l[v]!==0&&c.push({id:u?u.segmentId():-1,start:h.start,end:h.end,myFill:{above:l[v]===1,below:l[v]===2},otherFill:null})}),u&&u.selected(c),c}var a={union:function(s,l){return n(s,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],l)},intersect:function(s,l){return n(s,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],l)},difference:function(s,l){return n(s,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],l)},differenceRev:function(s,l){return n(s,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],l)},xor:function(s,l){return n(s,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],l)}};i.exports=a},{}],66:[function(r,i,o){var n=i.exports={},a,s;function l(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?a=setTimeout:a=l}catch{a=l}try{typeof clearTimeout=="function"?s=clearTimeout:s=u}catch{s=u}})();function c(y){if(a===setTimeout)return setTimeout(y,0);if((a===l||!a)&&setTimeout)return a=setTimeout,setTimeout(y,0);try{return a(y,0)}catch{try{return a.call(null,y,0)}catch{return a.call(this,y,0)}}}function h(y){if(s===clearTimeout)return clearTimeout(y);if((s===u||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(y);try{return s(y)}catch{try{return s.call(null,y)}catch{return s.call(this,y)}}}var v=[],f=!1,m,_=-1;function g(){!f||!m||(f=!1,m.length?v=m.concat(v):_=-1,v.length&&p())}function p(){if(!f){var y=c(g);f=!0;for(var x=v.length;x;){for(m=v,v=[];++_<x;)m&&m[_].run();_=-1,x=v.length}m=null,f=!1,h(y)}}n.nextTick=function(y){var x=new Array(arguments.length-1);if(arguments.length>1)for(var w=1;w<arguments.length;w++)x[w-1]=arguments[w];v.push(new d(y,x)),v.length===1&&!f&&c(p)};function d(y,x){this.fun=y,this.array=x}d.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={};function b(){}n.on=b,n.addListener=b,n.once=b,n.off=b,n.removeListener=b,n.removeAllListeners=b,n.emit=b,n.prependListener=b,n.prependOnceListener=b,n.listeners=function(y){return[]},n.binding=function(y){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(y){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},{}],67:[function(r,i,o){(function(n,a){(function(){var s=r("process/browser.js").nextTick,l=Function.prototype.apply,u=Array.prototype.slice,c={},h=0;o.setTimeout=function(){return new v(l.call(setTimeout,window,arguments),clearTimeout)},o.setInterval=function(){return new v(l.call(setInterval,window,arguments),clearInterval)},o.clearTimeout=o.clearInterval=function(f){f.close()};function v(f,m){this._id=f,this._clearFn=m}v.prototype.unref=v.prototype.ref=function(){},v.prototype.close=function(){this._clearFn.call(window,this._id)},o.enroll=function(f,m){clearTimeout(f._idleTimeoutId),f._idleTimeout=m},o.unenroll=function(f){clearTimeout(f._idleTimeoutId),f._idleTimeout=-1},o._unrefActive=o.active=function(f){clearTimeout(f._idleTimeoutId);var m=f._idleTimeout;m>=0&&(f._idleTimeoutId=setTimeout(function(){f._onTimeout&&f._onTimeout()},m))},o.setImmediate=typeof n=="function"?n:function(f){var m=h++,_=arguments.length<2?!1:u.call(arguments,1);return c[m]=!0,s(function(){c[m]&&(_?f.apply(null,_):f.call(null),o.clearImmediate(m))}),m},o.clearImmediate=typeof a=="function"?a:function(f){delete c[f]}}).call(this)}).call(this,r("timers").setImmediate,r("timers").clearImmediate)},{"process/browser.js":66,timers:67}],68:[function(r,i,o){(function(n){var a=/^\s+/,s=/\s+$/,l=0,u=n.round,c=n.min,h=n.max,v=n.random;function f(j,Q){if(j=j||"",Q=Q||{},j instanceof f)return j;if(!(this instanceof f))return new f(j,Q);var q=m(j);this._originalInput=j,this._r=q.r,this._g=q.g,this._b=q.b,this._a=q.a,this._roundA=u(100*this._a)/100,this._format=Q.format||q.format,this._gradientType=Q.gradientType,this._r<1&&(this._r=u(this._r)),this._g<1&&(this._g=u(this._g)),this._b<1&&(this._b=u(this._b)),this._ok=q.ok,this._tc_id=l++}f.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var j=this.toRgb();return(j.r*299+j.g*587+j.b*114)/1e3},getLuminance:function(){var j=this.toRgb(),Q,q,re,ue,de,me;return Q=j.r/255,q=j.g/255,re=j.b/255,Q<=.03928?ue=Q/12.92:ue=n.pow((Q+.055)/1.055,2.4),q<=.03928?de=q/12.92:de=n.pow((q+.055)/1.055,2.4),re<=.03928?me=re/12.92:me=n.pow((re+.055)/1.055,2.4),.2126*ue+.7152*de+.0722*me},setAlpha:function(j){return this._a=B(j),this._roundA=u(100*this._a)/100,this},toHsv:function(){var j=d(this._r,this._g,this._b);return{h:j.h*360,s:j.s,v:j.v,a:this._a}},toHsvString:function(){var j=d(this._r,this._g,this._b),Q=u(j.h*360),q=u(j.s*100),re=u(j.v*100);return this._a==1?"hsv("+Q+", "+q+"%, "+re+"%)":"hsva("+Q+", "+q+"%, "+re+"%, "+this._roundA+")"},toHsl:function(){var j=g(this._r,this._g,this._b);return{h:j.h*360,s:j.s,l:j.l,a:this._a}},toHslString:function(){var j=g(this._r,this._g,this._b),Q=u(j.h*360),q=u(j.s*100),re=u(j.l*100);return this._a==1?"hsl("+Q+", "+q+"%, "+re+"%)":"hsla("+Q+", "+q+"%, "+re+"%, "+this._roundA+")"},toHex:function(j){return y(this._r,this._g,this._b,j)},toHexString:function(j){return"#"+this.toHex(j)},toHex8:function(j){return x(this._r,this._g,this._b,this._a,j)},toHex8String:function(j){return"#"+this.toHex8(j)},toRgb:function(){return{r:u(this._r),g:u(this._g),b:u(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+u(this._r)+", "+u(this._g)+", "+u(this._b)+")":"rgba("+u(this._r)+", "+u(this._g)+", "+u(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:u(W(this._r,255)*100)+"%",g:u(W(this._g,255)*100)+"%",b:u(W(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+u(W(this._r,255)*100)+"%, "+u(W(this._g,255)*100)+"%, "+u(W(this._b,255)*100)+"%)":"rgba("+u(W(this._r,255)*100)+"%, "+u(W(this._g,255)*100)+"%, "+u(W(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:z[y(this._r,this._g,this._b,!0)]||!1},toFilter:function(j){var Q="#"+w(this._r,this._g,this._b,this._a),q=Q,re=this._gradientType?"GradientType = 1, ":"";if(j){var ue=f(j);q="#"+w(ue._r,ue._g,ue._b,ue._a)}return"progid:DXImageTransform.Microsoft.gradient("+re+"startColorstr="+Q+",endColorstr="+q+")"},toString:function(j){var Q=!!j;j=j||this._format;var q=!1,re=this._a<1&&this._a>=0,ue=!Q&&re&&(j==="hex"||j==="hex6"||j==="hex3"||j==="hex4"||j==="hex8"||j==="name");return ue?j==="name"&&this._a===0?this.toName():this.toRgbString():(j==="rgb"&&(q=this.toRgbString()),j==="prgb"&&(q=this.toPercentageRgbString()),(j==="hex"||j==="hex6")&&(q=this.toHexString()),j==="hex3"&&(q=this.toHexString(!0)),j==="hex4"&&(q=this.toHex8String(!0)),j==="hex8"&&(q=this.toHex8String()),j==="name"&&(q=this.toName()),j==="hsl"&&(q=this.toHslString()),j==="hsv"&&(q=this.toHsvString()),q||this.toHexString())},clone:function(){return f(this.toString())},_applyModification:function(j,Q){var q=j.apply(null,[this].concat([].slice.call(Q)));return this._r=q._r,this._g=q._g,this._b=q._b,this.setAlpha(q._a),this},lighten:function(){return this._applyModification(M,arguments)},brighten:function(){return this._applyModification(D,arguments)},darken:function(){return this._applyModification(k,arguments)},desaturate:function(){return this._applyModification(C,arguments)},saturate:function(){return this._applyModification(S,arguments)},greyscale:function(){return this._applyModification(T,arguments)},spin:function(){return this._applyModification(R,arguments)},_applyCombination:function(j,Q){return j.apply(null,[this].concat([].slice.call(Q)))},analogous:function(){return this._applyCombination(U,arguments)},complement:function(){return this._applyCombination(P,arguments)},monochromatic:function(){return this._applyCombination(V,arguments)},splitcomplement:function(){return this._applyCombination(I,arguments)},triad:function(){return this._applyCombination(E,arguments)},tetrad:function(){return this._applyCombination(O,arguments)}},f.fromRatio=function(j,Q){if(typeof j=="object"){var q={};for(var re in j)j.hasOwnProperty(re)&&(re==="a"?q[re]=j[re]:q[re]=ie(j[re]));j=q}return f(j,Q)};function m(j){var Q={r:0,g:0,b:0},q=1,re=null,ue=null,de=null,me=!1,pe=!1;return typeof j=="string"&&(j=G(j)),typeof j=="object"&&(N(j.r)&&N(j.g)&&N(j.b)?(Q=_(j.r,j.g,j.b),me=!0,pe=String(j.r).substr(-1)==="%"?"prgb":"rgb"):N(j.h)&&N(j.s)&&N(j.v)?(re=ie(j.s),ue=ie(j.v),Q=b(j.h,re,ue),me=!0,pe="hsv"):N(j.h)&&N(j.s)&&N(j.l)&&(re=ie(j.s),de=ie(j.l),Q=p(j.h,re,de),me=!0,pe="hsl"),j.hasOwnProperty("a")&&(q=j.a)),q=B(q),{ok:me,format:j.format||pe,r:c(255,h(Q.r,0)),g:c(255,h(Q.g,0)),b:c(255,h(Q.b,0)),a:q}}function _(j,Q,q){return{r:W(j,255)*255,g:W(Q,255)*255,b:W(q,255)*255}}function g(j,Q,q){j=W(j,255),Q=W(Q,255),q=W(q,255);var re=h(j,Q,q),ue=c(j,Q,q),de,me,pe=(re+ue)/2;if(re==ue)de=me=0;else{var ge=re-ue;switch(me=pe>.5?ge/(2-re-ue):ge/(re+ue),re){case j:de=(Q-q)/ge+(Q<q?6:0);break;case Q:de=(q-j)/ge+2;break;case q:de=(j-Q)/ge+4;break}de/=6}return{h:de,s:me,l:pe}}function p(j,Q,q){var re,ue,de;j=W(j,360),Q=W(Q,100),q=W(q,100);function me(Te,He,Oe){return Oe<0&&(Oe+=1),Oe>1&&(Oe-=1),Oe<1/6?Te+(He-Te)*6*Oe:Oe<1/2?He:Oe<2/3?Te+(He-Te)*(2/3-Oe)*6:Te}if(Q===0)re=ue=de=q;else{var pe=q<.5?q*(1+Q):q+Q-q*Q,ge=2*q-pe;re=me(ge,pe,j+1/3),ue=me(ge,pe,j),de=me(ge,pe,j-1/3)}return{r:re*255,g:ue*255,b:de*255}}function d(j,Q,q){j=W(j,255),Q=W(Q,255),q=W(q,255);var re=h(j,Q,q),ue=c(j,Q,q),de,me,pe=re,ge=re-ue;if(me=re===0?0:ge/re,re==ue)de=0;else{switch(re){case j:de=(Q-q)/ge+(Q<q?6:0);break;case Q:de=(q-j)/ge+2;break;case q:de=(j-Q)/ge+4;break}de/=6}return{h:de,s:me,v:pe}}function b(j,Q,q){j=W(j,360)*6,Q=W(Q,100),q=W(q,100);var re=n.floor(j),ue=j-re,de=q*(1-Q),me=q*(1-ue*Q),pe=q*(1-(1-ue)*Q),ge=re%6,Te=[q,me,de,de,pe,q][ge],He=[pe,q,q,me,de,de][ge],Oe=[de,de,pe,q,q,me][ge];return{r:Te*255,g:He*255,b:Oe*255}}function y(j,Q,q,re){var ue=[ee(u(j).toString(16)),ee(u(Q).toString(16)),ee(u(q).toString(16))];return re&&ue[0].charAt(0)==ue[0].charAt(1)&&ue[1].charAt(0)==ue[1].charAt(1)&&ue[2].charAt(0)==ue[2].charAt(1)?ue[0].charAt(0)+ue[1].charAt(0)+ue[2].charAt(0):ue.join("")}function x(j,Q,q,re,ue){var de=[ee(u(j).toString(16)),ee(u(Q).toString(16)),ee(u(q).toString(16)),ee(J(re))];return ue&&de[0].charAt(0)==de[0].charAt(1)&&de[1].charAt(0)==de[1].charAt(1)&&de[2].charAt(0)==de[2].charAt(1)&&de[3].charAt(0)==de[3].charAt(1)?de[0].charAt(0)+de[1].charAt(0)+de[2].charAt(0)+de[3].charAt(0):de.join("")}function w(j,Q,q,re){var ue=[ee(J(re)),ee(u(j).toString(16)),ee(u(Q).toString(16)),ee(u(q).toString(16))];return ue.join("")}f.equals=function(j,Q){return!j||!Q?!1:f(j).toRgbString()==f(Q).toRgbString()},f.random=function(){return f.fromRatio({r:v(),g:v(),b:v()})};function C(j,Q){Q=Q===0?0:Q||10;var q=f(j).toHsl();return q.s-=Q/100,q.s=F(q.s),f(q)}function S(j,Q){Q=Q===0?0:Q||10;var q=f(j).toHsl();return q.s+=Q/100,q.s=F(q.s),f(q)}function T(j){return f(j).desaturate(100)}function M(j,Q){Q=Q===0?0:Q||10;var q=f(j).toHsl();return q.l+=Q/100,q.l=F(q.l),f(q)}function D(j,Q){Q=Q===0?0:Q||10;var q=f(j).toRgb();return q.r=h(0,c(255,q.r-u(255*-(Q/100)))),q.g=h(0,c(255,q.g-u(255*-(Q/100)))),q.b=h(0,c(255,q.b-u(255*-(Q/100)))),f(q)}function k(j,Q){Q=Q===0?0:Q||10;var q=f(j).toHsl();return q.l-=Q/100,q.l=F(q.l),f(q)}function R(j,Q){var q=f(j).toHsl(),re=(q.h+Q)%360;return q.h=re<0?360+re:re,f(q)}function P(j){var Q=f(j).toHsl();return Q.h=(Q.h+180)%360,f(Q)}function E(j){var Q=f(j).toHsl(),q=Q.h;return[f(j),f({h:(q+120)%360,s:Q.s,l:Q.l}),f({h:(q+240)%360,s:Q.s,l:Q.l})]}function O(j){var Q=f(j).toHsl(),q=Q.h;return[f(j),f({h:(q+90)%360,s:Q.s,l:Q.l}),f({h:(q+180)%360,s:Q.s,l:Q.l}),f({h:(q+270)%360,s:Q.s,l:Q.l})]}function I(j){var Q=f(j).toHsl(),q=Q.h;return[f(j),f({h:(q+72)%360,s:Q.s,l:Q.l}),f({h:(q+216)%360,s:Q.s,l:Q.l})]}function U(j,Q,q){Q=Q||6,q=q||30;var re=f(j).toHsl(),ue=360/q,de=[f(j)];for(re.h=(re.h-(ue*Q>>1)+720)%360;--Q;)re.h=(re.h+ue)%360,de.push(f(re));return de}function V(j,Q){Q=Q||6;for(var q=f(j).toHsv(),re=q.h,ue=q.s,de=q.v,me=[],pe=1/Q;Q--;)me.push(f({h:re,s:ue,v:de})),de=(de+pe)%1;return me}f.mix=function(j,Q,q){q=q===0?0:q||50;var re=f(j).toRgb(),ue=f(Q).toRgb(),de=q/100,me={r:(ue.r-re.r)*de+re.r,g:(ue.g-re.g)*de+re.g,b:(ue.b-re.b)*de+re.b,a:(ue.a-re.a)*de+re.a};return f(me)},f.readability=function(j,Q){var q=f(j),re=f(Q);return(n.max(q.getLuminance(),re.getLuminance())+.05)/(n.min(q.getLuminance(),re.getLuminance())+.05)},f.isReadable=function(j,Q,q){var re=f.readability(j,Q),ue,de;switch(de=!1,ue=Y(q),ue.level+ue.size){case"AAsmall":case"AAAlarge":de=re>=4.5;break;case"AAlarge":de=re>=3;break;case"AAAsmall":de=re>=7;break}return de},f.mostReadable=function(j,Q,q){var re=null,ue=0,de,me,pe,ge;q=q||{},me=q.includeFallbackColors,pe=q.level,ge=q.size;for(var Te=0;Te<Q.length;Te++)de=f.readability(j,Q[Te]),de>ue&&(ue=de,re=f(Q[Te]));return f.isReadable(j,re,{level:pe,size:ge})||!me?re:(q.includeFallbackColors=!1,f.mostReadable(j,["#fff","#000"],q))};var Z=f.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},z=f.hexNames=H(Z);function H(j){var Q={};for(var q in j)j.hasOwnProperty(q)&&(Q[j[q]]=q);return Q}function B(j){return j=parseFloat(j),(isNaN(j)||j<0||j>1)&&(j=1),j}function W(j,Q){fe(j)&&(j="100%");var q=se(j);return j=c(Q,h(0,parseFloat(j))),q&&(j=parseInt(j*Q,10)/100),n.abs(j-Q)<1e-6?1:j%Q/parseFloat(Q)}function F(j){return c(1,h(0,j))}function K(j){return parseInt(j,16)}function fe(j){return typeof j=="string"&&j.indexOf(".")!=-1&&parseFloat(j)===1}function se(j){return typeof j=="string"&&j.indexOf("%")!=-1}function ee(j){return j.length==1?"0"+j:""+j}function ie(j){return j<=1&&(j=j*100+"%"),j}function J(j){return n.round(parseFloat(j)*255).toString(16)}function te(j){return K(j)/255}var L=function(){var j="[-\\+]?\\d+%?",Q="[-\\+]?\\d*\\.\\d+%?",q="(?:"+Q+")|(?:"+j+")",re="[\\s|\\(]+("+q+")[,|\\s]+("+q+")[,|\\s]+("+q+")\\s*\\)?",ue="[\\s|\\(]+("+q+")[,|\\s]+("+q+")[,|\\s]+("+q+")[,|\\s]+("+q+")\\s*\\)?";return{CSS_UNIT:new RegExp(q),rgb:new RegExp("rgb"+re),rgba:new RegExp("rgba"+ue),hsl:new RegExp("hsl"+re),hsla:new RegExp("hsla"+ue),hsv:new RegExp("hsv"+re),hsva:new RegExp("hsva"+ue),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function N(j){return!!L.CSS_UNIT.exec(j)}function G(j){j=j.replace(a,"").replace(s,"").toLowerCase();var Q=!1;if(Z[j])j=Z[j],Q=!0;else if(j=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var q;return(q=L.rgb.exec(j))?{r:q[1],g:q[2],b:q[3]}:(q=L.rgba.exec(j))?{r:q[1],g:q[2],b:q[3],a:q[4]}:(q=L.hsl.exec(j))?{h:q[1],s:q[2],l:q[3]}:(q=L.hsla.exec(j))?{h:q[1],s:q[2],l:q[3],a:q[4]}:(q=L.hsv.exec(j))?{h:q[1],s:q[2],v:q[3]}:(q=L.hsva.exec(j))?{h:q[1],s:q[2],v:q[3],a:q[4]}:(q=L.hex8.exec(j))?{r:K(q[1]),g:K(q[2]),b:K(q[3]),a:te(q[4]),format:Q?"name":"hex8"}:(q=L.hex6.exec(j))?{r:K(q[1]),g:K(q[2]),b:K(q[3]),format:Q?"name":"hex"}:(q=L.hex4.exec(j))?{r:K(q[1]+""+q[1]),g:K(q[2]+""+q[2]),b:K(q[3]+""+q[3]),a:te(q[4]+""+q[4]),format:Q?"name":"hex8"}:(q=L.hex3.exec(j))?{r:K(q[1]+""+q[1]),g:K(q[2]+""+q[2]),b:K(q[3]+""+q[3]),format:Q?"name":"hex"}:!1}function Y(j){var Q,q;return j=j||{level:"AA",size:"small"},Q=(j.level||"AA").toUpperCase(),q=(j.size||"small").toLowerCase(),Q!=="AA"&&Q!=="AAA"&&(Q="AA"),q!=="small"&&q!=="large"&&(q="small"),{level:Q,size:q}}typeof i<"u"&&i.exports?i.exports=f:window.tinycolor=f})(Math)},{}],69:[function(r,i,o){var n=r("../main"),a=r("object-assign"),s=n.instance();function l(p){this.local=this.regionalOptions[p||""]||this.regionalOptions[""]}l.prototype=new n.baseCalendar,a(l.prototype,{name:"Chinese",jdEpoch:17214255e-1,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(p,d){if(typeof p=="string"){var b=p.match(c);return b?b[0]:""}var y=this._validateYear(p),x=p.month(),w=""+this.toChineseMonth(y,x);return d&&w.length<2&&(w="0"+w),this.isIntercalaryMonth(y,x)&&(w+="i"),w},monthNames:function(p){if(typeof p=="string"){var d=p.match(h);return d?d[0]:""}var b=this._validateYear(p),y=p.month(),x=this.toChineseMonth(b,y),w=["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"][x-1];return this.isIntercalaryMonth(b,y)&&(w="闰"+w),w},monthNamesShort:function(p){if(typeof p=="string"){var d=p.match(v);return d?d[0]:""}var b=this._validateYear(p),y=p.month(),x=this.toChineseMonth(b,y),w=["一","二","三","四","五","六","七","八","九","十","十一","十二"][x-1];return this.isIntercalaryMonth(b,y)&&(w="闰"+w),w},parseMonth:function(p,d){p=this._validateYear(p);var b=parseInt(d),y;if(isNaN(b))d[0]==="闰"&&(y=!0,d=d.substring(1)),d[d.length-1]==="月"&&(d=d.substring(0,d.length-1)),b=1+["一","二","三","四","五","六","七","八","九","十","十一","十二"].indexOf(d);else{var x=d[d.length-1];y=x==="i"||x==="I"}var w=this.toMonthIndex(p,b,y);return w},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(p,d){if(p.year&&(p=p.year()),typeof p!="number"||p<1888||p>2111)throw d.replace(/\{0\}/,this.local.name);return p},toMonthIndex:function(p,d,b){var y=this.intercalaryMonth(p),x=b&&d!==y;if(x||d<1||d>12)throw n.local.invalidMonth.replace(/\{0\}/,this.local.name);var w;return y?!b&&d<=y?w=d-1:w=d:w=d-1,w},toChineseMonth:function(p,d){p.year&&(p=p.year(),d=p.month());var b=this.intercalaryMonth(p),y=b?12:11;if(d<0||d>y)throw n.local.invalidMonth.replace(/\{0\}/,this.local.name);var x;return b?d<b?x=d+1:x=d:x=d+1,x},intercalaryMonth:function(p){p=this._validateYear(p);var d=f[p-f[0]],b=d>>13;return b},isIntercalaryMonth:function(p,d){p.year&&(p=p.year(),d=p.month());var b=this.intercalaryMonth(p);return!!b&&b===d},leapYear:function(p){return this.intercalaryMonth(p)!==0},weekOfYear:function(p,d,b){var y=this._validateYear(p,n.local.invalidyear),x=m[y-m[0]],w=x>>9&4095,C=x>>5&15,S=x&31,T;T=s.newDate(w,C,S),T.add(4-(T.dayOfWeek()||7),"d");var M=this.toJD(p,d,b)-T.toJD();return 1+Math.floor(M/7)},monthsInYear:function(p){return this.leapYear(p)?13:12},daysInMonth:function(p,d){p.year&&(d=p.month(),p=p.year()),p=this._validateYear(p);var b=f[p-f[0]],y=b>>13,x=y?12:11;if(d>x)throw n.local.invalidMonth.replace(/\{0\}/,this.local.name);var w=b&1<<12-d?30:29;return w},weekDay:function(p,d,b){return(this.dayOfWeek(p,d,b)||7)<6},toJD:function(p,d,b){var y=this._validate(p,w,b,n.local.invalidDate);p=this._validateYear(y.year()),d=y.month(),b=y.day();var x=this.isIntercalaryMonth(p,d),w=this.toChineseMonth(p,d),C=g(p,w,b,x);return s.toJD(C.year,C.month,C.day)},fromJD:function(p){var d=s.fromJD(p),b=_(d.year(),d.month(),d.day()),y=this.toMonthIndex(b.year,b.month,b.isIntercalary);return this.newDate(b.year,y,b.day)},fromString:function(p){var d=p.match(u),b=this._validateYear(+d[1]),y=+d[2],x=!!d[3],w=this.toMonthIndex(b,y,x),C=+d[4];return this.newDate(b,w,C)},add:function(p,d,b){var y=p.year(),x=p.month(),w=this.isIntercalaryMonth(y,x),C=this.toChineseMonth(y,x),S=Object.getPrototypeOf(l.prototype).add.call(this,p,d,b);if(b==="y"){var T=S.year(),M=S.month(),D=this.isIntercalaryMonth(T,C),k=w&&D?this.toMonthIndex(T,C,!0):this.toMonthIndex(T,C,!1);k!==M&&S.month(k)}return S}});var u=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,c=/^\d?\d[iI]?/m,h=/^闰?十?[一二三四五六七八九]?月/m,v=/^闰?十?[一二三四五六七八九]?/m;n.calendars.chinese=l;var f=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],m=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904];function _(p,d,b,y){var x,w;if(typeof p=="object")x=p,w=d||{};else{var C=typeof p=="number"&&p>=1888&&p<=2111;if(!C)throw new Error("Solar year outside range 1888-2111");var S=typeof d=="number"&&d>=1&&d<=12;if(!S)throw new Error("Solar month outside range 1 - 12");var T=typeof b=="number"&&b>=1&&b<=31;if(!T)throw new Error("Solar day outside range 1 - 31");x={year:p,month:d,day:b},w=y||{}}var M=m[x.year-m[0]],D=x.year<<9|x.month<<5|x.day;w.year=D>=M?x.year:x.year-1,M=m[w.year-m[0]];var k=M>>9&4095,R=M>>5&15,P=M&31,E,O=new Date(k,R-1,P),I=new Date(x.year,x.month-1,x.day);E=Math.round((I-O)/(24*3600*1e3));var U=f[w.year-f[0]],V;for(V=0;V<13;V++){var Z=U&1<<12-V?30:29;if(E<Z)break;E-=Z}var z=U>>13;return!z||V<z?(w.isIntercalary=!1,w.month=1+V):V===z?(w.isIntercalary=!0,w.month=V):(w.isIntercalary=!1,w.month=V),w.day=1+E,w}function g(p,d,b,y,x){var w,C;if(typeof p=="object")C=p,w=d||{};else{var S=typeof p=="number"&&p>=1888&&p<=2111;if(!S)throw new Error("Lunar year outside range 1888-2111");var T=typeof d=="number"&&d>=1&&d<=12;if(!T)throw new Error("Lunar month outside range 1 - 12");var M=typeof b=="number"&&b>=1&&b<=30;if(!M)throw new Error("Lunar day outside range 1 - 30");var D;typeof y=="object"?(D=!1,w=y):(D=!!y,w=x||{}),C={year:p,month:d,day:b,isIntercalary:D}}var k;k=C.day-1;var R=f[C.year-f[0]],P=R>>13,E;P&&(C.month>P||C.isIntercalary)?E=C.month:E=C.month-1;for(var O=0;O<E;O++){var I=R&1<<12-O?30:29;k+=I}var U=m[C.year-m[0]],V=U>>9&4095,Z=U>>5&15,z=U&31,H=new Date(V,Z-1,z+k);return w.year=H.getFullYear(),w.month=1+H.getMonth(),w.day=H.getDate(),w}},{"../main":83,"object-assign":55}],70:[function(r,i,o){var n=r("../main"),a=r("object-assign");function s(l){this.local=this.regionalOptions[l||""]||this.regionalOptions[""]}s.prototype=new n.baseCalendar,a(s.prototype,{name:"Coptic",jdEpoch:18250295e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(c){var u=this._validate(c,this.minMonth,this.minDay,n.local.invalidYear),c=u.year()+(u.year()<0?1:0);return c%4===3||c%4===-1},monthsInYear:function(l){return this._validate(l,this.minMonth,this.minDay,n.local.invalidYear||n.regionalOptions[""].invalidYear),13},weekOfYear:function(l,u,c){var h=this.newDate(l,u,c);return h.add(-h.dayOfWeek(),"d"),Math.floor((h.dayOfYear()-1)/7)+1},daysInMonth:function(l,u){var c=this._validate(l,u,this.minDay,n.local.invalidMonth);return this.daysPerMonth[c.month()-1]+(c.month()===13&&this.leapYear(c.year())?1:0)},weekDay:function(l,u,c){return(this.dayOfWeek(l,u,c)||7)<6},toJD:function(l,u,c){var h=this._validate(l,u,c,n.local.invalidDate);return l=h.year(),l<0&&l++,h.day()+(h.month()-1)*30+(l-1)*365+Math.floor(l/4)+this.jdEpoch-1},fromJD:function(l){var u=Math.floor(l)+.5-this.jdEpoch,c=Math.floor((u-Math.floor((u+366)/1461))/365)+1;c<=0&&c--,u=Math.floor(l)+.5-this.newDate(c,1,1).toJD();var h=Math.floor(u/30)+1,v=u-(h-1)*30+1;return this.newDate(c,h,v)}}),n.calendars.coptic=s},{"../main":83,"object-assign":55}],71:[function(r,i,o){var n=r("../main"),a=r("object-assign");function s(u){this.local=this.regionalOptions[u||""]||this.regionalOptions[""]}s.prototype=new n.baseCalendar,a(s.prototype,{name:"Discworld",jdEpoch:17214255e-1,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(u){return this._validate(u,this.minMonth,this.minDay,n.local.invalidYear),!1},monthsInYear:function(u){return this._validate(u,this.minMonth,this.minDay,n.local.invalidYear),13},daysInYear:function(u){return this._validate(u,this.minMonth,this.minDay,n.local.invalidYear),400},weekOfYear:function(u,c,h){var v=this.newDate(u,c,h);return v.add(-v.dayOfWeek(),"d"),Math.floor((v.dayOfYear()-1)/8)+1},daysInMonth:function(u,c){var h=this._validate(u,c,this.minDay,n.local.invalidMonth);return this.daysPerMonth[h.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(u,c,h){var v=this._validate(u,c,h,n.local.invalidDate);return(v.day()+1)%8},weekDay:function(u,c,h){var v=this.dayOfWeek(u,c,h);return v>=2&&v<=6},extraInfo:function(u,c,h){var v=this._validate(u,c,h,n.local.invalidDate);return{century:l[Math.floor((v.year()-1)/100)+1]||""}},toJD:function(u,c,h){var v=this._validate(u,c,h,n.local.invalidDate);return u=v.year()+(v.year()<0?1:0),c=v.month(),h=v.day(),h+(c>1?16:0)+(c>2?(c-2)*32:0)+(u-1)*400+this.jdEpoch-1},fromJD:function(u){u=Math.floor(u+.5)-Math.floor(this.jdEpoch)-1;var c=Math.floor(u/400)+1;u-=(c-1)*400,u+=u>15?16:0;var h=Math.floor(u/32)+1,v=u-(h-1)*32+1;return this.newDate(c<=0?c-1:c,h,v)}});var l={20:"Fruitbat",21:"Anchovy"};n.calendars.discworld=s},{"../main":83,"object-assign":55}],72:[function(r,i,o){var n=r("../main"),a=r("object-assign");function s(l){this.local=this.regionalOptions[l||""]||this.regionalOptions[""]}s.prototype=new n.baseCalendar,a(s.prototype,{name:"Ethiopian",jdEpoch:17242205e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(c){var u=this._validate(c,this.minMonth,this.minDay,n.local.invalidYear),c=u.year()+(u.year()<0?1:0);return c%4===3||c%4===-1},monthsInYear:function(l){return this._validate(l,this.minMonth,this.minDay,n.local.invalidYear||n.regionalOptions[""].invalidYear),13},weekOfYear:function(l,u,c){var h=this.newDate(l,u,c);return h.add(-h.dayOfWeek(),"d"),Math.floor((h.dayOfYear()-1)/7)+1},daysInMonth:function(l,u){var c=this._validate(l,u,this.minDay,n.local.invalidMonth);return this.daysPerMonth[c.month()-1]+(c.month()===13&&this.leapYear(c.year())?1:0)},weekDay:function(l,u,c){return(this.dayOfWeek(l,u,c)||7)<6},toJD:function(l,u,c){var h=this._validate(l,u,c,n.local.invalidDate);return l=h.year(),l<0&&l++,h.day()+(h.month()-1)*30+(l-1)*365+Math.floor(l/4)+this.jdEpoch-1},fromJD:function(l){var u=Math.floor(l)+.5-this.jdEpoch,c=Math.floor((u-Math.floor((u+366)/1461))/365)+1;c<=0&&c--,u=Math.floor(l)+.5-this.newDate(c,1,1).toJD();var h=Math.floor(u/30)+1,v=u-(h-1)*30+1;return this.newDate(c,h,v)}}),n.calendars.ethiopian=s},{"../main":83,"object-assign":55}],73:[function(r,i,o){var n=r("../main"),a=r("object-assign");function s(u){this.local=this.regionalOptions[u||""]||this.regionalOptions[""]}s.prototype=new n.baseCalendar,a(s.prototype,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(u){var c=this._validate(u,this.minMonth,this.minDay,n.local.invalidYear);return this._leapYear(c.year())},_leapYear:function(u){return u=u<0?u+1:u,l(u*7+1,19)<7},monthsInYear:function(u){return this._validate(u,this.minMonth,this.minDay,n.local.invalidYear),this._leapYear(u.year?u.year():u)?13:12},weekOfYear:function(u,c,h){var v=this.newDate(u,c,h);return v.add(-v.dayOfWeek(),"d"),Math.floor((v.dayOfYear()-1)/7)+1},daysInYear:function(u){var c=this._validate(u,this.minMonth,this.minDay,n.local.invalidYear);return u=c.year(),this.toJD(u===-1?1:u+1,7,1)-this.toJD(u,7,1)},daysInMonth:function(u,c){return u.year&&(c=u.month(),u=u.year()),this._validate(u,c,this.minDay,n.local.invalidMonth),c===12&&this.leapYear(u)||c===8&&l(this.daysInYear(u),10)===5?30:c===9&&l(this.daysInYear(u),10)===3?29:this.daysPerMonth[c-1]},weekDay:function(u,c,h){return this.dayOfWeek(u,c,h)!==6},extraInfo:function(u,c,h){var v=this._validate(u,c,h,n.local.invalidDate);return{yearType:(this.leapYear(v)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(v)%10-3]}},toJD:function(u,c,h){var v=this._validate(u,c,h,n.local.invalidDate);u=v.year(),c=v.month(),h=v.day();var f=u<=0?u+1:u,m=this.jdEpoch+this._delay1(f)+this._delay2(f)+h+1;if(c<7){for(var _=7;_<=this.monthsInYear(u);_++)m+=this.daysInMonth(u,_);for(var _=1;_<c;_++)m+=this.daysInMonth(u,_)}else for(var _=7;_<c;_++)m+=this.daysInMonth(u,_);return m},_delay1:function(u){var c=Math.floor((235*u-234)/19),h=12084+13753*c,v=c*29+Math.floor(h/25920);return l(3*(v+1),7)<3&&v++,v},_delay2:function(u){var c=this._delay1(u-1),h=this._delay1(u),v=this._delay1(u+1);return v-h===356?2:h-c===382?1:0},fromJD:function(u){u=Math.floor(u)+.5;for(var c=Math.floor((u-this.jdEpoch)*98496/35975351)-1;u>=this.toJD(c===-1?1:c+1,7,1);)c++;for(var h=u<this.toJD(c,1,1)?7:1;u>this.toJD(c,h,this.daysInMonth(c,h));)h++;var v=u-this.toJD(c,h,1)+1;return this.newDate(c,h,v)}});function l(u,c){return u-c*Math.floor(u/c)}n.calendars.hebrew=s},{"../main":83,"object-assign":55}],74:[function(r,i,o){var n=r("../main"),a=r("object-assign");function s(l){this.local=this.regionalOptions[l||""]||this.regionalOptions[""]}s.prototype=new n.baseCalendar,a(s.prototype,{name:"Islamic",jdEpoch:19484395e-1,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-khamīs","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(l){var u=this._validate(l,this.minMonth,this.minDay,n.local.invalidYear);return(u.year()*11+14)%30<11},weekOfYear:function(l,u,c){var h=this.newDate(l,u,c);return h.add(-h.dayOfWeek(),"d"),Math.floor((h.dayOfYear()-1)/7)+1},daysInYear:function(l){return this.leapYear(l)?355:354},daysInMonth:function(l,u){var c=this._validate(l,u,this.minDay,n.local.invalidMonth);return this.daysPerMonth[c.month()-1]+(c.month()===12&&this.leapYear(c.year())?1:0)},weekDay:function(l,u,c){return this.dayOfWeek(l,u,c)!==5},toJD:function(l,u,c){var h=this._validate(l,u,c,n.local.invalidDate);return l=h.year(),u=h.month(),c=h.day(),l=l<=0?l+1:l,c+Math.ceil(29.5*(u-1))+(l-1)*354+Math.floor((3+11*l)/30)+this.jdEpoch-1},fromJD:function(l){l=Math.floor(l)+.5;var u=Math.floor((30*(l-this.jdEpoch)+10646)/10631);u=u<=0?u-1:u;var c=Math.min(12,Math.ceil((l-29-this.toJD(u,1,1))/29.5)+1),h=l-this.toJD(u,c,1)+1;return this.newDate(u,c,h)}}),n.calendars.islamic=s},{"../main":83,"object-assign":55}],75:[function(r,i,o){var n=r("../main"),a=r("object-assign");function s(l){this.local=this.regionalOptions[l||""]||this.regionalOptions[""]}s.prototype=new n.baseCalendar,a(s.prototype,{name:"Julian",jdEpoch:17214235e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(c){var u=this._validate(c,this.minMonth,this.minDay,n.local.invalidYear),c=u.year()<0?u.year()+1:u.year();return c%4===0},weekOfYear:function(l,u,c){var h=this.newDate(l,u,c);return h.add(4-(h.dayOfWeek()||7),"d"),Math.floor((h.dayOfYear()-1)/7)+1},daysInMonth:function(l,u){var c=this._validate(l,u,this.minDay,n.local.invalidMonth);return this.daysPerMonth[c.month()-1]+(c.month()===2&&this.leapYear(c.year())?1:0)},weekDay:function(l,u,c){return(this.dayOfWeek(l,u,c)||7)<6},toJD:function(l,u,c){var h=this._validate(l,u,c,n.local.invalidDate);return l=h.year(),u=h.month(),c=h.day(),l<0&&l++,u<=2&&(l--,u+=12),Math.floor(365.25*(l+4716))+Math.floor(30.6001*(u+1))+c-1524.5},fromJD:function(l){var u=Math.floor(l+.5),c=u+1524,h=Math.floor((c-122.1)/365.25),v=Math.floor(365.25*h),f=Math.floor((c-v)/30.6001),m=f-Math.floor(f<14?1:13),_=h-Math.floor(m>2?4716:4715),g=c-v-Math.floor(30.6001*f);return _<=0&&_--,this.newDate(_,m,g)}}),n.calendars.julian=s},{"../main":83,"object-assign":55}],76:[function(r,i,o){var n=r("../main"),a=r("object-assign");function s(c){this.local=this.regionalOptions[c||""]||this.regionalOptions[""]}s.prototype=new n.baseCalendar,a(s.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(c){return this._validate(c,this.minMonth,this.minDay,n.local.invalidYear),!1},formatYear:function(c){var h=this._validate(c,this.minMonth,this.minDay,n.local.invalidYear);c=h.year();var v=Math.floor(c/400);c=c%400,c+=c<0?400:0;var f=Math.floor(c/20);return v+"."+f+"."+c%20},forYear:function(c){if(c=c.split("."),c.length<3)throw"Invalid Mayan year";for(var h=0,v=0;v<c.length;v++){var f=parseInt(c[v],10);if(Math.abs(f)>19||v>0&&f<0)throw"Invalid Mayan year";h=h*20+f}return h},monthsInYear:function(c){return this._validate(c,this.minMonth,this.minDay,n.local.invalidYear),18},weekOfYear:function(c,h,v){return this._validate(c,h,v,n.local.invalidDate),0},daysInYear:function(c){return this._validate(c,this.minMonth,this.minDay,n.local.invalidYear),360},daysInMonth:function(c,h){return this._validate(c,h,this.minDay,n.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(c,h,v){var f=this._validate(c,h,v,n.local.invalidDate);return f.day()},weekDay:function(c,h,v){return this._validate(c,h,v,n.local.invalidDate),!0},extraInfo:function(c,h,v){var f=this._validate(c,h,v,n.local.invalidDate),m=f.toJD(),_=this._toHaab(m),g=this._toTzolkin(m);return{haabMonthName:this.local.haabMonths[_[0]-1],haabMonth:_[0],haabDay:_[1],tzolkinDayName:this.local.tzolkinMonths[g[0]-1],tzolkinDay:g[0],tzolkinTrecena:g[1]}},_toHaab:function(c){c-=this.jdEpoch;var h=l(c+8+(18-1)*20,365);return[Math.floor(h/20)+1,l(h,20)]},_toTzolkin:function(c){return c-=this.jdEpoch,[u(c+20,20),u(c+4,13)]},toJD:function(c,h,v){var f=this._validate(c,h,v,n.local.invalidDate);return f.day()+f.month()*20+f.year()*360+this.jdEpoch},fromJD:function(c){c=Math.floor(c)+.5-this.jdEpoch;var h=Math.floor(c/360);c=c%360,c+=c<0?360:0;var v=Math.floor(c/20),f=c%20;return this.newDate(h,v,f)}});function l(c,h){return c-h*Math.floor(c/h)}function u(c,h){return l(c-1,h)+1}n.calendars.mayan=s},{"../main":83,"object-assign":55}],77:[function(r,i,o){var n=r("../main"),a=r("object-assign");function s(u){this.local=this.regionalOptions[u||""]||this.regionalOptions[""]}s.prototype=new n.baseCalendar;var l=n.instance("gregorian");a(s.prototype,{name:"Nanakshahi",jdEpoch:22576735e-1,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(u){var c=this._validate(u,this.minMonth,this.minDay,n.local.invalidYear||n.regionalOptions[""].invalidYear);return l.leapYear(c.year()+(c.year()<1?1:0)+1469)},weekOfYear:function(u,c,h){var v=this.newDate(u,c,h);return v.add(1-(v.dayOfWeek()||7),"d"),Math.floor((v.dayOfYear()-1)/7)+1},daysInMonth:function(u,c){var h=this._validate(u,c,this.minDay,n.local.invalidMonth);return this.daysPerMonth[h.month()-1]+(h.month()===12&&this.leapYear(h.year())?1:0)},weekDay:function(u,c,h){return(this.dayOfWeek(u,c,h)||7)<6},toJD:function(f,c,h){var v=this._validate(f,c,h,n.local.invalidMonth),f=v.year();f<0&&f++;for(var m=v.day(),_=1;_<v.month();_++)m+=this.daysPerMonth[_-1];return m+l.toJD(f+1468,3,13)},fromJD:function(u){u=Math.floor(u+.5);for(var c=Math.floor((u-(this.jdEpoch-1))/366);u>=this.toJD(c+1,1,1);)c++;for(var h=u-Math.floor(this.toJD(c,1,1)+.5)+1,v=1;h>this.daysInMonth(c,v);)h-=this.daysInMonth(c,v),v++;return this.newDate(c,v,h)}}),n.calendars.nanakshahi=s},{"../main":83,"object-assign":55}],78:[function(r,i,o){var n=r("../main"),a=r("object-assign");function s(l){this.local=this.regionalOptions[l||""]||this.regionalOptions[""]}s.prototype=new n.baseCalendar,a(s.prototype,{name:"Nepali",jdEpoch:17007095e-1,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(l){return this.daysInYear(l)!==this.daysPerYear},weekOfYear:function(l,u,c){var h=this.newDate(l,u,c);return h.add(-h.dayOfWeek(),"d"),Math.floor((h.dayOfYear()-1)/7)+1},daysInYear:function(l){var u=this._validate(l,this.minMonth,this.minDay,n.local.invalidYear);if(l=u.year(),typeof this.NEPALI_CALENDAR_DATA[l]>"u")return this.daysPerYear;for(var c=0,h=this.minMonth;h<=12;h++)c+=this.NEPALI_CALENDAR_DATA[l][h];return c},daysInMonth:function(l,u){return l.year&&(u=l.month(),l=l.year()),this._validate(l,u,this.minDay,n.local.invalidMonth),typeof this.NEPALI_CALENDAR_DATA[l]>"u"?this.daysPerMonth[u-1]:this.NEPALI_CALENDAR_DATA[l][u]},weekDay:function(l,u,c){return this.dayOfWeek(l,u,c)!==6},toJD:function(l,u,c){var h=this._validate(l,u,c,n.local.invalidDate);l=h.year(),u=h.month(),c=h.day();var v=n.instance(),f=0,m=u,_=l;this._createMissingCalendarData(l);var g=l-(m>9||m===9&&c>=this.NEPALI_CALENDAR_DATA[_][0]?56:57);for(u!==9&&(f=c,m--);m!==9;)m<=0&&(m=12,_--),f+=this.NEPALI_CALENDAR_DATA[_][m],m--;return u===9?(f+=c-this.NEPALI_CALENDAR_DATA[_][0],f<0&&(f+=v.daysInYear(g))):f+=this.NEPALI_CALENDAR_DATA[_][9]-this.NEPALI_CALENDAR_DATA[_][0],v.newDate(g,1,1).add(f,"d").toJD()},fromJD:function(l){var u=n.instance(),c=u.fromJD(l),h=c.year(),v=c.dayOfYear(),f=h+56;this._createMissingCalendarData(f);for(var m=9,_=this.NEPALI_CALENDAR_DATA[f][0],g=this.NEPALI_CALENDAR_DATA[f][m]-_+1;v>g;)m++,m>12&&(m=1,f++),g+=this.NEPALI_CALENDAR_DATA[f][m];var p=this.NEPALI_CALENDAR_DATA[f][m]-(g-v);return this.newDate(f,m,p)},_createMissingCalendarData:function(l){var u=this.daysPerMonth.slice(0);u.unshift(17);for(var c=l-1;c<l+2;c++)typeof this.NEPALI_CALENDAR_DATA[c]>"u"&&(this.NEPALI_CALENDAR_DATA[c]=u)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),n.calendars.nepali=s},{"../main":83,"object-assign":55}],79:[function(r,i,o){var n=r("../main"),a=r("object-assign");function s(u){this.local=this.regionalOptions[u||""]||this.regionalOptions[""]}s.prototype=new n.baseCalendar,a(s.prototype,{name:"Persian",jdEpoch:19483205e-1,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Chæharshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Chæ","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(u){var c=this._validate(u,this.minMonth,this.minDay,n.local.invalidYear);return((c.year()-(c.year()>0?474:473))%2820+474+38)*682%2816<682},weekOfYear:function(u,c,h){var v=this.newDate(u,c,h);return v.add(-((v.dayOfWeek()+1)%7),"d"),Math.floor((v.dayOfYear()-1)/7)+1},daysInMonth:function(u,c){var h=this._validate(u,c,this.minDay,n.local.invalidMonth);return this.daysPerMonth[h.month()-1]+(h.month()===12&&this.leapYear(h.year())?1:0)},weekDay:function(u,c,h){return this.dayOfWeek(u,c,h)!==5},toJD:function(u,c,h){var v=this._validate(u,c,h,n.local.invalidDate);u=v.year(),c=v.month(),h=v.day();var f=u-(u>=0?474:473),m=474+l(f,2820);return h+(c<=7?(c-1)*31:(c-1)*30+6)+Math.floor((m*682-110)/2816)+(m-1)*365+Math.floor(f/2820)*1029983+this.jdEpoch-1},fromJD:function(u){u=Math.floor(u)+.5;var c=u-this.toJD(475,1,1),h=Math.floor(c/1029983),v=l(c,1029983),f=2820;if(v!==1029982){var m=Math.floor(v/366),_=l(v,366);f=Math.floor((2134*m+2816*_+2815)/1028522)+m+1}var g=f+2820*h+474;g=g<=0?g-1:g;var p=u-this.toJD(g,1,1)+1,d=p<=186?Math.ceil(p/31):Math.ceil((p-6)/30),b=u-this.toJD(g,d,1)+1;return this.newDate(g,d,b)}});function l(u,c){return u-c*Math.floor(u/c)}n.calendars.persian=s,n.calendars.jalali=s},{"../main":83,"object-assign":55}],80:[function(r,i,o){var n=r("../main"),a=r("object-assign"),s=n.instance();function l(u){this.local=this.regionalOptions[u||""]||this.regionalOptions[""]}l.prototype=new n.baseCalendar,a(l.prototype,{name:"Taiwan",jdEpoch:24194025e-1,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(h){var c=this._validate(h,this.minMonth,this.minDay,n.local.invalidYear),h=this._t2gYear(c.year());return s.leapYear(h)},weekOfYear:function(f,c,h){var v=this._validate(f,this.minMonth,this.minDay,n.local.invalidYear),f=this._t2gYear(v.year());return s.weekOfYear(f,v.month(),v.day())},daysInMonth:function(u,c){var h=this._validate(u,c,this.minDay,n.local.invalidMonth);return this.daysPerMonth[h.month()-1]+(h.month()===2&&this.leapYear(h.year())?1:0)},weekDay:function(u,c,h){return(this.dayOfWeek(u,c,h)||7)<6},toJD:function(f,c,h){var v=this._validate(f,c,h,n.local.invalidDate),f=this._t2gYear(v.year());return s.toJD(f,v.month(),v.day())},fromJD:function(u){var c=s.fromJD(u),h=this._g2tYear(c.year());return this.newDate(h,c.month(),c.day())},_t2gYear:function(u){return u+this.yearsOffset+(u>=-this.yearsOffset&&u<=-1?1:0)},_g2tYear:function(u){return u-this.yearsOffset-(u>=1&&u<=this.yearsOffset?1:0)}}),n.calendars.taiwan=l},{"../main":83,"object-assign":55}],81:[function(r,i,o){var n=r("../main"),a=r("object-assign"),s=n.instance();function l(u){this.local=this.regionalOptions[u||""]||this.regionalOptions[""]}l.prototype=new n.baseCalendar,a(l.prototype,{name:"Thai",jdEpoch:15230985e-1,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(h){var c=this._validate(h,this.minMonth,this.minDay,n.local.invalidYear),h=this._t2gYear(c.year());return s.leapYear(h)},weekOfYear:function(f,c,h){var v=this._validate(f,this.minMonth,this.minDay,n.local.invalidYear),f=this._t2gYear(v.year());return s.weekOfYear(f,v.month(),v.day())},daysInMonth:function(u,c){var h=this._validate(u,c,this.minDay,n.local.invalidMonth);return this.daysPerMonth[h.month()-1]+(h.month()===2&&this.leapYear(h.year())?1:0)},weekDay:function(u,c,h){return(this.dayOfWeek(u,c,h)||7)<6},toJD:function(f,c,h){var v=this._validate(f,c,h,n.local.invalidDate),f=this._t2gYear(v.year());return s.toJD(f,v.month(),v.day())},fromJD:function(u){var c=s.fromJD(u),h=this._g2tYear(c.year());return this.newDate(h,c.month(),c.day())},_t2gYear:function(u){return u-this.yearsOffset-(u>=1&&u<=this.yearsOffset?1:0)},_g2tYear:function(u){return u+this.yearsOffset+(u>=-this.yearsOffset&&u<=-1?1:0)}}),n.calendars.thai=l},{"../main":83,"object-assign":55}],82:[function(r,i,o){var n=r("../main"),a=r("object-assign");function s(u){this.local=this.regionalOptions[u||""]||this.regionalOptions[""]}s.prototype=new n.baseCalendar,a(s.prototype,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thalāthā’","Yawm al-Arba‘ā’","Yawm al-Khamīs","Yawm al-Jum‘a","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(u){var c=this._validate(u,this.minMonth,this.minDay,n.local.invalidYear);return this.daysInYear(c.year())===355},weekOfYear:function(u,c,h){var v=this.newDate(u,c,h);return v.add(-v.dayOfWeek(),"d"),Math.floor((v.dayOfYear()-1)/7)+1},daysInYear:function(u){for(var c=0,h=1;h<=12;h++)c+=this.daysInMonth(u,h);return c},daysInMonth:function(u,c){for(var h=this._validate(u,c,this.minDay,n.local.invalidMonth),v=h.toJD()-24e5+.5,f=0,m=0;m<l.length;m++){if(l[m]>v)return l[f]-l[f-1];f++}return 30},weekDay:function(u,c,h){return this.dayOfWeek(u,c,h)!==5},toJD:function(u,c,h){var v=this._validate(u,c,h,n.local.invalidDate),f=12*(v.year()-1)+v.month()-15292,m=v.day()+l[f-1]-1;return m+24e5-.5},fromJD:function(u){for(var c=u-24e5+.5,h=0,v=0;v<l.length&&!(l[v]>c);v++)h++;var f=h+15292,m=Math.floor((f-1)/12),_=m+1,g=f-12*m,p=c-l[h-1]+1;return this.newDate(_,g,p)},isValid:function(u,c,h){var v=n.baseCalendar.prototype.isValid.apply(this,arguments);return v&&(u=u.year!=null?u.year:u,v=u>=1276&&u<=1500),v},_validate:function(u,c,h,v){var f=n.baseCalendar.prototype._validate.apply(this,arguments);if(f.year<1276||f.year>1500)throw v.replace(/\{0\}/,this.local.name);return f}}),n.calendars.ummalqura=s;var l=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},{"../main":83,"object-assign":55}],83:[function(r,i,o){var n=r("object-assign");function a(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}n(a.prototype,{instance:function(v,f){v=(v||"gregorian").toLowerCase(),f=f||"";var m=this._localCals[v+"-"+f];if(!m&&this.calendars[v]&&(m=new this.calendars[v](f),this._localCals[v+"-"+f]=m),!m)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,v);return m},newDate:function(v,f,m,_,g){return _=(v!=null&&v.year?v.calendar():typeof _=="string"?this.instance(_,g):_)||this.instance(),_.newDate(v,f,m)},substituteDigits:function(v){return function(f){return(f+"").replace(/[0-9]/g,function(m){return v[m]})}},substituteChineseDigits:function(v,f){return function(m){for(var _="",g=0;m>0;){var p=m%10;_=(p===0?"":v[p]+f[g])+_,g++,m=Math.floor(m/10)}return _.indexOf(v[1]+f[1])===0&&(_=_.substr(1)),_||v[0]}}});function s(v,f,m,_){if(this._calendar=v,this._year=f,this._month=m,this._day=_,this._calendar._validateLevel===0&&!this._calendar.isValid(this._year,this._month,this._day))throw(h.local.invalidDate||h.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function l(v,f){return v=""+v,"000000".substring(0,f-v.length)+v}n(s.prototype,{newDate:function(v,f,m){return this._calendar.newDate(v??this,f,m)},year:function(v){return arguments.length===0?this._year:this.set(v,"y")},month:function(v){return arguments.length===0?this._month:this.set(v,"m")},day:function(v){return arguments.length===0?this._day:this.set(v,"d")},date:function(v,f,m){if(!this._calendar.isValid(v,f,m))throw(h.local.invalidDate||h.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=v,this._month=f,this._day=m,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(v,f){return this._calendar.add(this,v,f)},set:function(v,f){return this._calendar.set(this,v,f)},compareTo:function(v){if(this._calendar.name!==v._calendar.name)throw(h.local.differentCalendars||h.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,v._calendar.local.name);var f=this._year!==v._year?this._year-v._year:this._month!==v._month?this.monthOfYear()-v.monthOfYear():this._day-v._day;return f===0?0:f<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(v){return this._calendar.fromJD(v)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(v){return this._calendar.fromJSDate(v)},toString:function(){return(this.year()<0?"-":"")+l(Math.abs(this.year()),4)+"-"+l(this.month(),2)+"-"+l(this.day(),2)}});function u(){this.shortYearCutoff="+10"}n(u.prototype,{_validateLevel:0,newDate:function(v,f,m){return v==null?this.today():(v.year&&(this._validate(v,f,m,h.local.invalidDate||h.regionalOptions[""].invalidDate),m=v.day(),f=v.month(),v=v.year()),new s(this,v,f,m))},today:function(){return this.fromJSDate(new Date)},epoch:function(v){var f=this._validate(v,this.minMonth,this.minDay,h.local.invalidYear||h.regionalOptions[""].invalidYear);return f.year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(v){var f=this._validate(v,this.minMonth,this.minDay,h.local.invalidYear||h.regionalOptions[""].invalidYear);return(f.year()<0?"-":"")+l(Math.abs(f.year()),4)},monthsInYear:function(v){return this._validate(v,this.minMonth,this.minDay,h.local.invalidYear||h.regionalOptions[""].invalidYear),12},monthOfYear:function(v,f){var m=this._validate(v,f,this.minDay,h.local.invalidMonth||h.regionalOptions[""].invalidMonth);return(m.month()+this.monthsInYear(m)-this.firstMonth)%this.monthsInYear(m)+this.minMonth},fromMonthOfYear:function(v,f){var m=(f+this.firstMonth-2*this.minMonth)%this.monthsInYear(v)+this.minMonth;return this._validate(v,m,this.minDay,h.local.invalidMonth||h.regionalOptions[""].invalidMonth),m},daysInYear:function(v){var f=this._validate(v,this.minMonth,this.minDay,h.local.invalidYear||h.regionalOptions[""].invalidYear);return this.leapYear(f)?366:365},dayOfYear:function(v,f,m){var _=this._validate(v,f,m,h.local.invalidDate||h.regionalOptions[""].invalidDate);return _.toJD()-this.newDate(_.year(),this.fromMonthOfYear(_.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(v,f,m){var _=this._validate(v,f,m,h.local.invalidDate||h.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(_))+2)%this.daysInWeek()},extraInfo:function(v,f,m){return this._validate(v,f,m,h.local.invalidDate||h.regionalOptions[""].invalidDate),{}},add:function(v,f,m){return this._validate(v,this.minMonth,this.minDay,h.local.invalidDate||h.regionalOptions[""].invalidDate),this._correctAdd(v,this._add(v,f,m),f,m)},_add:function(v,f,m){if(this._validateLevel++,m==="d"||m==="w"){var _=v.toJD()+f*(m==="w"?this.daysInWeek():1),g=v.calendar().fromJD(_);return this._validateLevel--,[g.year(),g.month(),g.day()]}try{var p=v.year()+(m==="y"?f:0),d=v.monthOfYear()+(m==="m"?f:0),g=v.day(),b=function(w){for(;d<w.minMonth;)p--,d+=w.monthsInYear(p);for(var C=w.monthsInYear(p);d>C-1+w.minMonth;)p++,d-=C,C=w.monthsInYear(p)};m==="y"?(v.month()!==this.fromMonthOfYear(p,d)&&(d=this.newDate(p,v.month(),this.minDay).monthOfYear()),d=Math.min(d,this.monthsInYear(p)),g=Math.min(g,this.daysInMonth(p,this.fromMonthOfYear(p,d)))):m==="m"&&(b(this),g=Math.min(g,this.daysInMonth(p,this.fromMonthOfYear(p,d))));var y=[p,this.fromMonthOfYear(p,d),g];return this._validateLevel--,y}catch(x){throw this._validateLevel--,x}},_correctAdd:function(v,f,m,_){if(!this.hasYearZero&&(_==="y"||_==="m")&&(f[0]===0||v.year()>0!=f[0]>0)){var g={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[_],p=m<0?-1:1;f=this._add(v,m*g[0]+p*g[1],g[2])}return v.date(f[0],f[1],f[2])},set:function(v,f,m){this._validate(v,this.minMonth,this.minDay,h.local.invalidDate||h.regionalOptions[""].invalidDate);var _=m==="y"?f:v.year(),g=m==="m"?f:v.month(),p=m==="d"?f:v.day();return(m==="y"||m==="m")&&(p=Math.min(p,this.daysInMonth(_,g))),v.date(_,g,p)},isValid:function(v,f,m){this._validateLevel++;var _=this.hasYearZero||v!==0;if(_){var g=this.newDate(v,f,this.minDay);_=f>=this.minMonth&&f-this.minMonth<this.monthsInYear(g)&&m>=this.minDay&&m-this.minDay<this.daysInMonth(g)}return this._validateLevel--,_},toJSDate:function(v,f,m){var _=this._validate(v,f,m,h.local.invalidDate||h.regionalOptions[""].invalidDate);return h.instance().fromJD(this.toJD(_)).toJSDate()},fromJSDate:function(v){return this.fromJD(h.instance().fromJSDate(v).toJD())},_validate:function(v,f,m,_){if(v.year){if(this._validateLevel===0&&this.name!==v.calendar().name)throw(h.local.differentCalendars||h.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,v.calendar().local.name);return v}try{if(this._validateLevel++,this._validateLevel===1&&!this.isValid(v,f,m))throw _.replace(/\{0\}/,this.local.name);var g=this.newDate(v,f,m);return this._validateLevel--,g}catch(p){throw this._validateLevel--,p}}});function c(v){this.local=this.regionalOptions[v]||this.regionalOptions[""]}c.prototype=new u,n(c.prototype,{name:"Gregorian",jdEpoch:17214255e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(m){var f=this._validate(m,this.minMonth,this.minDay,h.local.invalidYear||h.regionalOptions[""].invalidYear),m=f.year()+(f.year()<0?1:0);return m%4===0&&(m%100!==0||m%400===0)},weekOfYear:function(v,f,m){var _=this.newDate(v,f,m);return _.add(4-(_.dayOfWeek()||7),"d"),Math.floor((_.dayOfYear()-1)/7)+1},daysInMonth:function(v,f){var m=this._validate(v,f,this.minDay,h.local.invalidMonth||h.regionalOptions[""].invalidMonth);return this.daysPerMonth[m.month()-1]+(m.month()===2&&this.leapYear(m.year())?1:0)},weekDay:function(v,f,m){return(this.dayOfWeek(v,f,m)||7)<6},toJD:function(v,f,m){var _=this._validate(v,f,m,h.local.invalidDate||h.regionalOptions[""].invalidDate);v=_.year(),f=_.month(),m=_.day(),v<0&&v++,f<3&&(f+=12,v--);var g=Math.floor(v/100),p=2-g+Math.floor(g/4);return Math.floor(365.25*(v+4716))+Math.floor(30.6001*(f+1))+m+p-1524.5},fromJD:function(v){var f=Math.floor(v+.5),m=Math.floor((f-186721625e-2)/36524.25);m=f+1+m-Math.floor(m/4);var _=m+1524,g=Math.floor((_-122.1)/365.25),p=Math.floor(365.25*g),d=Math.floor((_-p)/30.6001),b=_-p-Math.floor(d*30.6001),y=d-(d>13.5?13:1),x=g-(y>2.5?4716:4715);return x<=0&&x--,this.newDate(x,y,b)},toJSDate:function(v,f,m){var _=this._validate(v,f,m,h.local.invalidDate||h.regionalOptions[""].invalidDate),g=new Date(_.year(),_.month()-1,_.day());return g.setHours(0),g.setMinutes(0),g.setSeconds(0),g.setMilliseconds(0),g.setHours(g.getHours()>12?g.getHours()+2:0),g},fromJSDate:function(v){return this.newDate(v.getFullYear(),v.getMonth()+1,v.getDate())}});var h=i.exports=new a;h.cdate=s,h.baseCalendar=u,h.calendars.gregorian=c},{"object-assign":55}],84:[function(r,i,o){var n=r("object-assign"),a=r("./main");n(a.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),a.local=a.regionalOptions[""],n(a.cdate.prototype,{formatDate:function(s,l){return typeof s!="string"&&(l=s,s=""),this._calendar.formatDate(s||"",this,l)}}),n(a.baseCalendar.prototype,{UNIX_EPOCH:a.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:24*60*60,TICKS_EPOCH:a.instance().jdEpoch,TICKS_PER_DAY:24*60*60*1e7,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(s,l,u){if(typeof s!="string"&&(u=l,l=s,s=""),!l)return"";if(l.calendar()!==this)throw a.local.invalidFormat||a.regionalOptions[""].invalidFormat;s=s||this.local.dateFormat,u=u||{};var c=u.dayNamesShort||this.local.dayNamesShort,h=u.dayNames||this.local.dayNames,v=u.monthNumbers||this.local.monthNumbers,f=u.monthNamesShort||this.local.monthNamesShort,m=u.monthNames||this.local.monthNames;u.calculateWeek||this.local.calculateWeek;for(var _=function(M,D){for(var k=1;T+k<s.length&&s.charAt(T+k)===M;)k++;return T+=k-1,Math.floor(k/(D||1))>1},g=function(M,D,k,R){var P=""+D;if(_(M,R))for(;P.length<k;)P="0"+P;return P},p=function(M,D,k,R){return _(M)?R[D]:k[D]},d=this,b=function(M){return typeof v=="function"?v.call(d,M,_("m")):w(g("m",M.month(),2))},y=function(M,D){return D?typeof m=="function"?m.call(d,M):m[M.month()-d.minMonth]:typeof f=="function"?f.call(d,M):f[M.month()-d.minMonth]},x=this.local.digits,w=function(M){return u.localNumbers&&x?x(M):M},C="",S=!1,T=0;T<s.length;T++)if(S)s.charAt(T)==="'"&&!_("'")?S=!1:C+=s.charAt(T);else switch(s.charAt(T)){case"d":C+=w(g("d",l.day(),2));break;case"D":C+=p("D",l.dayOfWeek(),c,h);break;case"o":C+=g("o",l.dayOfYear(),3);break;case"w":C+=g("w",l.weekOfYear(),2);break;case"m":C+=b(l);break;case"M":C+=y(l,_("M"));break;case"y":C+=_("y",2)?l.year():(l.year()%100<10?"0":"")+l.year()%100;break;case"Y":_("Y",2),C+=l.formatYear();break;case"J":C+=l.toJD();break;case"@":C+=(l.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":C+=(l.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":_("'")?C+="'":S=!0;break;default:C+=s.charAt(T)}return C},parseDate:function(s,l,u){if(l==null)throw a.local.invalidArguments||a.regionalOptions[""].invalidArguments;if(l=typeof l=="object"?l.toString():l+"",l==="")return null;s=s||this.local.dateFormat,u=u||{};var c=u.shortYearCutoff||this.shortYearCutoff;c=typeof c!="string"?c:this.today().year()%100+parseInt(c,10);for(var h=u.dayNamesShort||this.local.dayNamesShort,v=u.dayNames||this.local.dayNames,f=u.parseMonth||this.local.parseMonth,m=u.monthNumbers||this.local.monthNumbers,_=u.monthNamesShort||this.local.monthNamesShort,g=u.monthNames||this.local.monthNames,p=-1,d=-1,b=-1,y=-1,x=-1,w=!1,C=!1,S=function(V,Z){for(var z=1;O+z<s.length&&s.charAt(O+z)===V;)z++;return O+=z-1,Math.floor(z/(Z||1))>1},T=function(V,Z){var z=S(V,Z),H=[2,3,z?4:2,z?4:2,10,11,20]["oyYJ@!".indexOf(V)+1],B=new RegExp("^-?\\d{1,"+H+"}"),W=l.substring(E).match(B);if(!W)throw(a.local.missingNumberAt||a.regionalOptions[""].missingNumberAt).replace(/\{0\}/,E);return E+=W[0].length,parseInt(W[0],10)},M=this,D=function(){if(typeof m=="function"){S("m");var V=m.call(M,l.substring(E));return E+=V.length,V}return T("m")},k=function(V,Z,z,H){for(var B=S(V,H)?z:Z,W=0;W<B.length;W++)if(l.substr(E,B[W].length).toLowerCase()===B[W].toLowerCase())return E+=B[W].length,W+M.minMonth;throw(a.local.unknownNameAt||a.regionalOptions[""].unknownNameAt).replace(/\{0\}/,E)},R=function(){if(typeof g=="function"){var V=S("M")?g.call(M,l.substring(E)):_.call(M,l.substring(E));return E+=V.length,V}return k("M",_,g)},P=function(){if(l.charAt(E)!==s.charAt(O))throw(a.local.unexpectedLiteralAt||a.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,E);E++},E=0,O=0;O<s.length;O++)if(C)s.charAt(O)==="'"&&!S("'")?C=!1:P();else switch(s.charAt(O)){case"d":y=T("d");break;case"D":k("D",h,v);break;case"o":x=T("o");break;case"w":T("w");break;case"m":b=D();break;case"M":b=R();break;case"y":var I=O;w=!S("y",2),O=I,d=T("y",2);break;case"Y":d=T("Y",2);break;case"J":p=T("J")+.5,l.charAt(E)==="."&&(E++,T("J"));break;case"@":p=T("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":p=T("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":E=l.length;break;case"'":S("'")?P():C=!0;break;default:P()}if(E<l.length)throw a.local.unexpectedText||a.regionalOptions[""].unexpectedText;if(d===-1?d=this.today().year():d<100&&w&&(d+=c===-1?1900:this.today().year()-this.today().year()%100-(d<=c?0:100)),typeof b=="string"&&(b=f.call(this,d,b)),x>-1){b=1,y=x;for(var U=this.daysInMonth(d,b);y>U;U=this.daysInMonth(d,b))b++,y-=U}return p>-1?this.fromJD(p):this.newDate(d,b,y)},determineDate:function(s,l,u,c,h){u&&typeof u!="object"&&(h=c,c=u,u=null),typeof c!="string"&&(h=c,c="");var v=this,f=function(m){try{return v.parseDate(c,m,h)}catch{}m=m.toLowerCase();for(var _=(m.match(/^c/)&&u?u.newDate():null)||v.today(),g=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,p=g.exec(m);p;)_.add(parseInt(p[1],10),p[2]||"d"),p=g.exec(m);return _};return l=l?l.newDate():null,s=s==null?l:typeof s=="string"?f(s):typeof s=="number"?isNaN(s)||s===1/0||s===-1/0?l:v.today().add(s,"d"):v.newDate(s),s}})},{"./main":83,"object-assign":55}],85:[function(r,i,o){i.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},{}],86:[function(r,i,o){var n=r("./arrow_paths"),a=r("../../plots/font_attributes"),s=r("../../plots/cartesian/constants"),l=r("../../plot_api/plot_template").templatedArray;r("../../constants/axis_placeable_objects"),i.exports=l("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:a({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:n.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:n.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",s.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",s.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",s.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",s.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:a({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},{"../../constants/axis_placeable_objects":220,"../../plot_api/plot_template":280,"../../plots/cartesian/constants":298,"../../plots/font_attributes":319,"./arrow_paths":85}],87:[function(r,i,o){var n=r("../../lib"),a=r("../../plots/cartesian/axes"),s=r("./draw").draw;i.exports=function(h){var v=h._fullLayout,f=n.filterVisible(v.annotations);if(f.length&&h._fullData.length)return n.syncOrAsync([s,l],h)};function l(c){var h=c._fullLayout;n.filterVisible(h.annotations).forEach(function(v){var f=a.getFromId(c,v.xref),m=a.getFromId(c,v.yref),_=a.getRefType(v.xref),g=a.getRefType(v.yref);v._extremes={},_==="range"&&u(v,f),g==="range"&&u(v,m)})}function u(c,h){var v=h._id,f=v.charAt(0),m=c[f],_=c["a"+f],g=c[f+"ref"],p=c["a"+f+"ref"],d=c["_"+f+"padplus"],b=c["_"+f+"padminus"],y={x:1,y:-1}[f]*c[f+"shift"],x=3*c.arrowsize*c.arrowwidth||0,w=x+y,C=x-y,S=3*c.startarrowsize*c.arrowwidth||0,T=S+y,M=S-y,D;if(p===g){var k=a.findExtremes(h,[h.r2c(m)],{ppadplus:w,ppadminus:C}),R=a.findExtremes(h,[h.r2c(_)],{ppadplus:Math.max(d,T),ppadminus:Math.max(b,M)});D={min:[k.min[0],R.min[0]],max:[k.max[0],R.max[0]]}}else T=_?T+_:T,M=_?M-_:M,D=a.findExtremes(h,[h.r2c(m)],{ppadplus:Math.max(d,w,T),ppadminus:Math.max(b,C,M)});c._extremes[v]=D}},{"../../lib":244,"../../plots/cartesian/axes":291,"./draw":92}],88:[function(r,i,o){var n=r("../../lib"),a=r("../../registry"),s=r("../../plot_api/plot_template").arrayEditor;i.exports={hasClickToShow:l,onClick:u};function l(v,f){var m=c(v,f);return m.on.length>0||m.explicitOff.length>0}function u(v,f){var m=c(v,f),_=m.on,g=m.off.concat(m.explicitOff),p={},d=v._fullLayout.annotations,b,y;if(_.length||g.length){for(b=0;b<_.length;b++)y=s(v.layout,"annotations",d[_[b]]),y.modifyItem("visible",!0),n.extendFlat(p,y.getUpdateObj());for(b=0;b<g.length;b++)y=s(v.layout,"annotations",d[g[b]]),y.modifyItem("visible",!1),n.extendFlat(p,y.getUpdateObj());return a.call("update",v,{},p)}}function c(v,f){var m=v._fullLayout.annotations,_=[],g=[],p=[],d=(f||[]).length,b,y,x,w,C,S,T,M;for(b=0;b<m.length;b++)if(x=m[b],w=x.clicktoshow,w){for(y=0;y<d;y++)if(C=f[y],S=C.xaxis,T=C.yaxis,S._id===x.xref&&T._id===x.yref&&S.d2r(C.x)===h(x._xclick,S)&&T.d2r(C.y)===h(x._yclick,T)){x.visible?w==="onout"?M=g:M=p:M=_,M.push(b);break}y===d&&x.visible&&w==="onout"&&g.push(b)}return{on:_,off:g,explicitOff:p}}function h(v,f){return f.type==="log"?f.l2r(v):f.d2r(v)}},{"../../lib":244,"../../plot_api/plot_template":280,"../../registry":327}],89:[function(r,i,o){var n=r("../../lib"),a=r("../color");i.exports=function(l,u,c,h){h("opacity");var v=h("bgcolor"),f=h("bordercolor"),m=a.opacity(f);h("borderpad");var _=h("borderwidth"),g=h("showarrow");h("text",g?" ":c._dfltTitle.annotation),h("textangle"),n.coerceFont(h,"font",c.font),h("width"),h("align");var p=h("height");if(p&&h("valign"),g){var d=h("arrowside"),b,y;d.indexOf("end")!==-1&&(b=h("arrowhead"),y=h("arrowsize")),d.indexOf("start")!==-1&&(h("startarrowhead",b),h("startarrowsize",y)),h("arrowcolor",m?u.bordercolor:a.defaultLine),h("arrowwidth",(m&&_||1)*2),h("standoff"),h("startstandoff")}var x=h("hovertext"),w=c.hoverlabel||{};if(x){var C=h("hoverlabel.bgcolor",w.bgcolor||(a.opacity(v)?a.rgb(v):a.defaultLine)),S=h("hoverlabel.bordercolor",w.bordercolor||a.contrast(C));n.coerceFont(h,"hoverlabel.font",{family:w.font.family,size:w.font.size,color:w.font.color||S})}h("captureevents",!!x)}},{"../../lib":244,"../color":103}],90:[function(r,i,o){var n=r("fast-isnumeric"),a=r("../../lib/to_log_range");i.exports=function(l,u,c,h){u=u||{};var v=c==="log"&&u.type==="linear",f=c==="linear"&&u.type==="log";if(!(v||f))return;var m=l._fullLayout.annotations,_=u._id.charAt(0),g,p;function d(y){var x=g[y],w=null;v?w=a(x,u.range):w=Math.pow(10,x),n(w)||(w=null),h(p+y,w)}for(var b=0;b<m.length;b++)g=m[b],p="annotations["+b+"].",g[_+"ref"]===u._id&&d(_),g["a"+_+"ref"]===u._id&&d("a"+_)}},{"../../lib/to_log_range":269,"fast-isnumeric":17}],91:[function(r,i,o){var n=r("../../lib"),a=r("../../plots/cartesian/axes"),s=r("../../plots/array_container_defaults"),l=r("./common_defaults"),u=r("./attributes");i.exports=function(v,f){s(v,f,{name:"annotations",handleItemDefaults:c})};function c(h,v,f){function m(P,E){return n.coerce(h,v,u,P,E)}var _=m("visible"),g=m("clicktoshow");if(_||g){l(h,v,f,m);for(var p=v.showarrow,d=["x","y"],b=[-10,-30],y={_fullLayout:f},x=0;x<2;x++){var w=d[x],C=a.coerceRef(h,v,y,w,"","paper");if(C!=="paper"){var S=a.getFromId(y,C);S._annIndices.push(v._index)}if(a.coercePosition(v,y,m,C,w,.5),p){var T="a"+w,M=a.coerceRef(h,v,y,T,"pixel",["pixel","paper"]);M!=="pixel"&&M!==C&&(M=v[T]="pixel");var D=M==="pixel"?b[x]:.4;a.coercePosition(v,y,m,M,T,D)}m(w+"anchor"),m(w+"shift")}if(n.noneOrAll(h,v,["x","y"]),p&&n.noneOrAll(h,v,["ax","ay"]),g){var k=m("xclick"),R=m("yclick");v._xclick=k===void 0?v.x:a.cleanPosition(k,y,v.xref),v._yclick=R===void 0?v.y:a.cleanPosition(R,y,v.yref)}}}},{"../../lib":244,"../../plots/array_container_defaults":286,"../../plots/cartesian/axes":291,"./attributes":86,"./common_defaults":89}],92:[function(r,i,o){var n=r("@plotly/d3"),a=r("../../registry"),s=r("../../plots/plots"),l=r("../../lib"),u=l.strTranslate,c=r("../../plots/cartesian/axes"),h=r("../color"),v=r("../drawing"),f=r("../fx"),m=r("../../lib/svg_text_utils"),_=r("../../lib/setcursor"),g=r("../dragelement"),p=r("../../plot_api/plot_template").arrayEditor,d=r("./draw_arrow_head");i.exports={draw:b,drawOne:y,drawRaw:w};function b(C){var S=C._fullLayout;S._infolayer.selectAll(".annotation").remove();for(var T=0;T<S.annotations.length;T++)S.annotations[T].visible&&y(C,T);return s.previousPromises(C)}function y(C,S){var T=C._fullLayout,M=T.annotations[S]||{},D=c.getFromId(C,M.xref),k=c.getFromId(C,M.yref);D&&D.setScale(),k&&k.setScale(),w(C,M,S,!1,D,k)}function x(C,S,T,M,D){var k=D[T],R=D[T+"ref"],P=T.indexOf("y")!==-1,E=c.getRefType(R)==="domain",O=P?M.h:M.w;return C?E?k+(P?-S:S)/C._length:C.p2r(C.r2p(k)+S):k+(P?-S:S)/O}function w(C,S,T,M,D,k){var R=C._fullLayout,P=C._fullLayout._size,E=C._context.edits,O,I;M?(O="annotation-"+M,I=M+".annotations"):(O="annotation",I="annotations");var U=p(C.layout,I,S),V=U.modifyBase,Z=U.modifyItem,z=U.getUpdateObj;R._infolayer.selectAll("."+O+'[data-index="'+T+'"]').remove();var H="clip"+R._uid+"_ann"+T;if(!S._input||S.visible===!1){n.selectAll("#"+H).remove();return}var B={x:{},y:{}},W=+S.textangle||0,F=R._infolayer.append("g").classed(O,!0).attr("data-index",String(T)).style("opacity",S.opacity),K=F.append("g").classed("annotation-text-g",!0),fe=E[S.showarrow?"annotationTail":"annotationPosition"],se=S.captureevents||E.annotationText||fe;function ee(de){var me={index:T,annotation:S._input,fullAnnotation:S,event:de};return M&&(me.subplotId=M),me}var ie=K.append("g").style("pointer-events",se?"all":null).call(_,"pointer").on("click",function(){C._dragging=!1,C.emit("plotly_clickannotation",ee(n.event))});S.hovertext&&ie.on("mouseover",function(){var de=S.hoverlabel,me=de.font,pe=this.getBoundingClientRect(),ge=C.getBoundingClientRect();f.loneHover({x0:pe.left-ge.left,x1:pe.right-ge.left,y:(pe.top+pe.bottom)/2-ge.top,text:S.hovertext,color:de.bgcolor,borderColor:de.bordercolor,fontFamily:me.family,fontSize:me.size,fontColor:me.color},{container:R._hoverlayer.node(),outerContainer:R._paper.node(),gd:C})}).on("mouseout",function(){f.loneUnhover(R._hoverlayer.node())});var J=S.borderwidth,te=S.borderpad,L=J+te,N=ie.append("rect").attr("class","bg").style("stroke-width",J+"px").call(h.stroke,S.bordercolor).call(h.fill,S.bgcolor),G=S.width||S.height,Y=R._topclips.selectAll("#"+H).data(G?[0]:[]);Y.enter().append("clipPath").classed("annclip",!0).attr("id",H).append("rect"),Y.exit().remove();var j=S.font,Q=R._meta?l.templateString(S.text,R._meta):S.text,q=ie.append("text").classed("annotation-text",!0).text(Q);function re(de){return de.call(v.font,j).attr({"text-anchor":{left:"start",right:"end"}[S.align]||"middle"}),m.convertToTspans(de,C,ue),de}function ue(){var de=q.selectAll("a");if(de.size()===1&&de.text()===q.text()){var me=ie.insert("a",":first-child").attr({"xlink:xlink:href":de.attr("xlink:href"),"xlink:xlink:show":de.attr("xlink:show")}).style({cursor:"pointer"});me.node().appendChild(N.node())}var pe=ie.select(".annotation-text-math-group"),ge=!pe.empty(),Te=v.bBox((ge?pe:q).node()),He=Te.width,Oe=Te.height,tt=S.width||He,Le=S.height||Oe,De=Math.round(tt+2*L),Se=Math.round(Le+2*L);function ze(Ut,Nt){return Nt==="auto"&&(Ut<1/3?Nt="left":Ut>2/3?Nt="right":Nt="center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[Nt]}for(var Ke=!1,_t=["x","y"],Qe=0;Qe<_t.length;Qe++){var et=_t[Qe],rt=S[et+"ref"]||et,ft=S["a"+et+"ref"],bt={x:D,y:k}[et],Ft=(W+(et==="x"?0:-90))*Math.PI/180,ct=De*Math.cos(Ft),nt=Se*Math.sin(Ft),at=Math.abs(ct)+Math.abs(nt),It=S[et+"anchor"],zt=S[et+"shift"]*(et==="x"?1:-1),be=B[et],Me,Ue,ce,Ce,Ae,ke=c.getRefType(rt);if(bt&&ke!=="domain"){var xe=bt.r2fraction(S[et]);(xe<0||xe>1)&&(ft===rt?(xe=bt.r2fraction(S["a"+et]),(xe<0||xe>1)&&(Ke=!0)):Ke=!0),Me=bt._offset+bt.r2p(S[et]),Ce=.5}else{var ye=ke==="domain";et==="x"?(ce=S[et],Me=ye?bt._offset+bt._length*ce:Me=P.l+P.w*ce):(ce=1-S[et],Me=ye?bt._offset+bt._length*ce:Me=P.t+P.h*ce),Ce=S.showarrow?.5:ce}if(S.showarrow){be.head=Me;var Ee=S["a"+et];if(Ae=ct*ze(.5,S.xanchor)-nt*ze(.5,S.yanchor),ft===rt){var $e=c.getRefType(ft);$e==="domain"?(et==="y"&&(Ee=1-Ee),be.tail=bt._offset+bt._length*Ee):$e==="paper"?et==="y"?(Ee=1-Ee,be.tail=P.t+P.h*Ee):be.tail=P.l+P.w*Ee:be.tail=bt._offset+bt.r2p(Ee),Ue=Ae}else be.tail=Me+Ee,Ue=Ae+Ee;be.text=be.tail+Ae;var Ie=R[et==="x"?"width":"height"];if(rt==="paper"&&(be.head=l.constrain(be.head,1,Ie-1)),ft==="pixel"){var Be=-Math.max(be.tail-3,be.text),st=Math.min(be.tail+3,be.text)-Ie;Be>0?(be.tail+=Be,be.text+=Be):st>0&&(be.tail-=st,be.text-=st)}be.tail+=zt,be.head+=zt}else Ae=at*ze(Ce,It),Ue=Ae,be.text=Me+Ae;be.text+=zt,Ae+=zt,Ue+=zt,S["_"+et+"padplus"]=at/2+Ue,S["_"+et+"padminus"]=at/2-Ue,S["_"+et+"size"]=at,S["_"+et+"shift"]=Ae}if(Ke){ie.remove();return}var gt=0,wt=0;if(S.align!=="left"&&(gt=(tt-He)*(S.align==="center"?.5:1)),S.valign!=="top"&&(wt=(Le-Oe)*(S.valign==="middle"?.5:1)),ge)pe.select("svg").attr({x:L+gt-1,y:L+wt}).call(v.setClipUrl,G?H:null,C);else{var Wt=L+wt-Te.top,Yt=L+gt-Te.left;q.call(m.positionText,Yt,Wt).call(v.setClipUrl,G?H:null,C)}Y.select("rect").call(v.setRect,L,L,tt,Le),N.call(v.setRect,J/2,J/2,De-J,Se-J),ie.call(v.setTranslate,Math.round(B.x.text-De/2),Math.round(B.y.text-Se/2)),K.attr({transform:"rotate("+W+","+B.x.text+","+B.y.text+")"});var qt=function(Ut,Nt){F.selectAll(".annotation-arrow-g").remove();var dt=B.x.head,Vt=B.y.head,Gt=B.x.tail+Ut,rr=B.y.tail+Nt,Jt=B.x.text+Ut,Dt=B.y.text+Nt,er=l.rotationXYMatrix(W,Jt,Dt),tr=l.apply2DTransform(er),he=l.apply2DTransform2(er),le=+N.attr("width"),Ne=+N.attr("height"),Fe=Jt-.5*le,We=Fe+le,Ze=Dt-.5*Ne,Ve=Ze+Ne,je=[[Fe,Ze,Fe,Ve],[Fe,Ve,We,Ve],[We,Ve,We,Ze],[We,Ze,Fe,Ze]].map(he);if(!je.reduce(function(Ht,Kt){return Ht^!!l.segmentsIntersect(dt,Vt,dt+1e6,Vt+1e6,Kt[0],Kt[1],Kt[2],Kt[3])},!1)){je.forEach(function(Ht){var Kt=l.segmentsIntersect(Gt,rr,dt,Vt,Ht[0],Ht[1],Ht[2],Ht[3]);Kt&&(Gt=Kt.x,rr=Kt.y)});var ut=S.arrowwidth,St=S.arrowcolor,Pt=S.arrowside,lt=F.append("g").style({opacity:h.opacity(St)}).classed("annotation-arrow-g",!0),yt=lt.append("path").attr("d","M"+Gt+","+rr+"L"+dt+","+Vt).style("stroke-width",ut+"px").call(h.stroke,h.rgb(St));if(d(yt,Pt,S),E.annotationPosition&&yt.node().parentNode&&!M){var Ot=dt,At=Vt;if(S.standoff){var mt=Math.sqrt(Math.pow(dt-Gt,2)+Math.pow(Vt-rr,2));Ot+=S.standoff*(Gt-dt)/mt,At+=S.standoff*(rr-Vt)/mt}var Et=lt.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(Gt-Ot)+","+(rr-At),transform:u(Ot,At)}).style("stroke-width",ut+6+"px").call(h.stroke,"rgba(0,0,0,0)").call(h.fill,"rgba(0,0,0,0)"),jt,Lt;g.init({element:Et.node(),gd:C,prepFn:function(){var Ht=v.getTranslate(ie);jt=Ht.x,Lt=Ht.y,D&&D.autorange&&V(D._name+".autorange",!0),k&&k.autorange&&V(k._name+".autorange",!0)},moveFn:function(Ht,Kt){var Xt=tr(jt,Lt),$t=Xt[0]+Ht,ar=Xt[1]+Kt;ie.call(v.setTranslate,$t,ar),Z("x",x(D,Ht,"x",P,S)),Z("y",x(k,Kt,"y",P,S)),S.axref===S.xref&&Z("ax",x(D,Ht,"ax",P,S)),S.ayref===S.yref&&Z("ay",x(k,Kt,"ay",P,S)),lt.attr("transform",u(Ht,Kt)),K.attr({transform:"rotate("+W+","+$t+","+ar+")"})},doneFn:function(){a.call("_guiRelayout",C,z());var Ht=document.querySelector(".js-notes-box-panel");Ht&&Ht.redraw(Ht.selectedObj)}})}}};if(S.showarrow&&qt(0,0),fe){var Bt;g.init({element:ie.node(),gd:C,prepFn:function(){Bt=K.attr("transform")},moveFn:function(Ut,Nt){var dt="pointer";if(S.showarrow)S.axref===S.xref?Z("ax",x(D,Ut,"ax",P,S)):Z("ax",S.ax+Ut),S.ayref===S.yref?Z("ay",x(k,Nt,"ay",P.w,S)):Z("ay",S.ay+Nt),qt(Ut,Nt);else{if(M)return;var Vt,Gt;if(D)Vt=x(D,Ut,"x",P,S);else{var rr=S._xsize/P.w,Jt=S.x+(S._xshift-S.xshift)/P.w-rr/2;Vt=g.align(Jt+Ut/P.w,rr,0,1,S.xanchor)}if(k)Gt=x(k,Nt,"y",P,S);else{var Dt=S._ysize/P.h,er=S.y-(S._yshift+S.yshift)/P.h-Dt/2;Gt=g.align(er-Nt/P.h,Dt,0,1,S.yanchor)}Z("x",Vt),Z("y",Gt),(!D||!k)&&(dt=g.getCursor(D?.5:Vt,k?.5:Gt,S.xanchor,S.yanchor))}K.attr({transform:u(Ut,Nt)+Bt}),_(ie,dt)},clickFn:function(Ut,Nt){S.captureevents&&C.emit("plotly_clickannotation",ee(Nt))},doneFn:function(){_(ie),a.call("_guiRelayout",C,z());var Ut=document.querySelector(".js-notes-box-panel");Ut&&Ut.redraw(Ut.selectedObj)}})}}E.annotationText?q.call(m.makeEditable,{delegate:ie,gd:C}).call(re).on("edit",function(de){S.text=de,this.call(re),Z("text",de),D&&D.autorange&&V(D._name+".autorange",!0),k&&k.autorange&&V(k._name+".autorange",!0),a.call("_guiRelayout",C,z())}):q.call(re)}},{"../../lib":244,"../../lib/setcursor":264,"../../lib/svg_text_utils":267,"../../plot_api/plot_template":280,"../../plots/cartesian/axes":291,"../../plots/plots":325,"../../registry":327,"../color":103,"../dragelement":122,"../drawing":125,"../fx":143,"./draw_arrow_head":93,"@plotly/d3":11}],93:[function(r,i,o){var n=r("@plotly/d3"),a=r("../color"),s=r("./arrow_paths"),l=r("../../lib"),u=l.strScale,c=l.strRotate,h=l.strTranslate;i.exports=function(f,m,_){var g=f.node(),p=s[_.arrowhead||0],d=s[_.startarrowhead||0],b=(_.arrowwidth||1)*(_.arrowsize||1),y=(_.arrowwidth||1)*(_.startarrowsize||1),x=m.indexOf("start")>=0,w=m.indexOf("end")>=0,C=p.backoff*b+_.standoff,S=d.backoff*y+_.startstandoff,T,M,D,k;if(g.nodeName==="line"){T={x:+f.attr("x1"),y:+f.attr("y1")},M={x:+f.attr("x2"),y:+f.attr("y2")};var R=T.x-M.x,P=T.y-M.y;if(D=Math.atan2(P,R),k=D+Math.PI,C&&S&&C+S>Math.sqrt(R*R+P*P)){K();return}if(C){if(C*C>R*R+P*P){K();return}var E=C*Math.cos(D),O=C*Math.sin(D);M.x+=E,M.y+=O,f.attr({x2:M.x,y2:M.y})}if(S){if(S*S>R*R+P*P){K();return}var I=S*Math.cos(D),U=S*Math.sin(D);T.x-=I,T.y-=U,f.attr({x1:T.x,y1:T.y})}}else if(g.nodeName==="path"){var V=g.getTotalLength(),Z="";if(V<C+S){K();return}var z=g.getPointAtLength(0),H=g.getPointAtLength(.1);D=Math.atan2(z.y-H.y,z.x-H.x),T=g.getPointAtLength(Math.min(S,V)),Z="0px,"+S+"px,";var B=g.getPointAtLength(V),W=g.getPointAtLength(V-.1);k=Math.atan2(B.y-W.y,B.x-W.x),M=g.getPointAtLength(Math.max(0,V-C));var F=Z?S+C:C;Z+=V-F+"px,"+V+"px",f.style("stroke-dasharray",Z)}function K(){f.style("stroke-dasharray","0px,100px")}function fe(se,ee,ie,J){se.path&&(se.noRotate&&(ie=0),n.select(g.parentNode).append("path").attr({class:f.attr("class"),d:se.path,transform:h(ee.x,ee.y)+c(ie*180/Math.PI)+u(J)}).style({fill:a.rgb(_.arrowcolor),"stroke-width":0}))}x&&fe(d,T,D,y),w&&fe(p,M,k,b)}},{"../../lib":244,"../color":103,"./arrow_paths":85,"@plotly/d3":11}],94:[function(r,i,o){var n=r("./draw"),a=r("./click");i.exports={moduleType:"component",name:"annotations",layoutAttributes:r("./attributes"),supplyLayoutDefaults:r("./defaults"),includeBasePlot:r("../../plots/cartesian/include_components")("annotations"),calcAutorange:r("./calc_autorange"),draw:n.draw,drawOne:n.drawOne,drawRaw:n.drawRaw,hasClickToShow:a.hasClickToShow,onClick:a.onClick,convertCoords:r("./convert_coords")}},{"../../plots/cartesian/include_components":302,"./attributes":86,"./calc_autorange":87,"./click":88,"./convert_coords":90,"./defaults":91,"./draw":92}],95:[function(r,i,o){var n=r("../annotations/attributes"),a=r("../../plot_api/edit_types").overrideAll,s=r("../../plot_api/plot_template").templatedArray;i.exports=a(s("annotation",{visible:n.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:n.xanchor,xshift:n.xshift,yanchor:n.yanchor,yshift:n.yshift,text:n.text,textangle:n.textangle,font:n.font,width:n.width,height:n.height,opacity:n.opacity,align:n.align,valign:n.valign,bgcolor:n.bgcolor,bordercolor:n.bordercolor,borderpad:n.borderpad,borderwidth:n.borderwidth,showarrow:n.showarrow,arrowcolor:n.arrowcolor,arrowhead:n.arrowhead,startarrowhead:n.startarrowhead,arrowside:n.arrowside,arrowsize:n.arrowsize,startarrowsize:n.startarrowsize,arrowwidth:n.arrowwidth,standoff:n.standoff,startstandoff:n.startstandoff,hovertext:n.hovertext,hoverlabel:n.hoverlabel,captureevents:n.captureevents}),"calc","from-root")},{"../../plot_api/edit_types":273,"../../plot_api/plot_template":280,"../annotations/attributes":86}],96:[function(r,i,o){var n=r("../../lib"),a=r("../../plots/cartesian/axes");i.exports=function(u){for(var c=u.fullSceneLayout,h=c.annotations,v=0;v<h.length;v++)s(h[v],u);u.fullLayout._infolayer.selectAll(".annotation-"+u.id).remove()};function s(l,u){var c=u.fullSceneLayout,h=c.domain,v=u.fullLayout._size,f={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};l._xa={},n.extendFlat(l._xa,f),a.setConvert(l._xa),l._xa._offset=v.l+h.x[0]*v.w,l._xa.l2p=function(){return .5*(1+l._pdata[0]/l._pdata[3])*v.w*(h.x[1]-h.x[0])},l._ya={},n.extendFlat(l._ya,f),a.setConvert(l._ya),l._ya._offset=v.t+(1-h.y[1])*v.h,l._ya.l2p=function(){return .5*(1-l._pdata[1]/l._pdata[3])*v.h*(h.y[1]-h.y[0])}}},{"../../lib":244,"../../plots/cartesian/axes":291}],97:[function(r,i,o){var n=r("../../lib"),a=r("../../plots/cartesian/axes"),s=r("../../plots/array_container_defaults"),l=r("../annotations/common_defaults"),u=r("./attributes");i.exports=function(v,f,m){s(v,f,{name:"annotations",handleItemDefaults:c,fullLayout:m.fullLayout})};function c(h,v,f,m){function _(d,b){return n.coerce(h,v,u,d,b)}function g(d){var b=d+"axis",y={_fullLayout:{}};return y._fullLayout[b]=f[b],a.coercePosition(v,y,_,d,d,.5)}var p=_("visible");p&&(l(h,v,m.fullLayout,_),g("x"),g("y"),g("z"),n.noneOrAll(h,v,["x","y","z"]),v.xref="x",v.yref="y",v.zref="z",_("xanchor"),_("yanchor"),_("xshift"),_("yshift"),v.showarrow&&(v.axref="pixel",v.ayref="pixel",_("ax",-10),_("ay",-30),n.noneOrAll(h,v,["ax","ay"])))}},{"../../lib":244,"../../plots/array_container_defaults":286,"../../plots/cartesian/axes":291,"../annotations/common_defaults":89,"./attributes":95}],98:[function(r,i,o){var n=r("../annotations/draw").drawRaw,a=r("../../plots/gl3d/project"),s=["x","y","z"];i.exports=function(u){for(var c=u.fullSceneLayout,h=u.dataScale,v=c.annotations,f=0;f<v.length;f++){for(var m=v[f],_=!1,g=0;g<3;g++){var p=s[g],d=m[p],b=c[p+"axis"],y=b.r2fraction(d);if(y<0||y>1){_=!0;break}}_?u.fullLayout._infolayer.select(".annotation-"+u.id+'[data-index="'+f+'"]').remove():(m._pdata=a(u.glplot.cameraParams,[c.xaxis.r2l(m.x)*h[0],c.yaxis.r2l(m.y)*h[1],c.zaxis.r2l(m.z)*h[2]]),n(u.graphDiv,m,f,u.id,m._xa,m._ya))}}},{"../../plots/gl3d/project":322,"../annotations/draw":92}],99:[function(r,i,o){var n=r("../../registry"),a=r("../../lib");i.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:r("./attributes")}}},layoutAttributes:r("./attributes"),handleDefaults:r("./defaults"),includeBasePlot:s,convert:r("./convert"),draw:r("./draw")};function s(l,u){var c=n.subplotsRegistry.gl3d;if(c)for(var h=c.attrRegex,v=Object.keys(l),f=0;f<v.length;f++){var m=v[f];h.test(m)&&(l[m].annotations||[]).length&&(a.pushUnique(u._basePlotModules,c),a.pushUnique(u._subplots.gl3d,m))}}},{"../../lib":244,"../../registry":327,"./attributes":95,"./convert":96,"./defaults":97,"./draw":98}],100:[function(r,i,o){i.exports=r("world-calendars/dist/main"),r("world-calendars/dist/plus"),r("world-calendars/dist/calendars/chinese"),r("world-calendars/dist/calendars/coptic"),r("world-calendars/dist/calendars/discworld"),r("world-calendars/dist/calendars/ethiopian"),r("world-calendars/dist/calendars/hebrew"),r("world-calendars/dist/calendars/islamic"),r("world-calendars/dist/calendars/julian"),r("world-calendars/dist/calendars/mayan"),r("world-calendars/dist/calendars/nanakshahi"),r("world-calendars/dist/calendars/nepali"),r("world-calendars/dist/calendars/persian"),r("world-calendars/dist/calendars/taiwan"),r("world-calendars/dist/calendars/thai"),r("world-calendars/dist/calendars/ummalqura")},{"world-calendars/dist/calendars/chinese":69,"world-calendars/dist/calendars/coptic":70,"world-calendars/dist/calendars/discworld":71,"world-calendars/dist/calendars/ethiopian":72,"world-calendars/dist/calendars/hebrew":73,"world-calendars/dist/calendars/islamic":74,"world-calendars/dist/calendars/julian":75,"world-calendars/dist/calendars/mayan":76,"world-calendars/dist/calendars/nanakshahi":77,"world-calendars/dist/calendars/nepali":78,"world-calendars/dist/calendars/persian":79,"world-calendars/dist/calendars/taiwan":80,"world-calendars/dist/calendars/thai":81,"world-calendars/dist/calendars/ummalqura":82,"world-calendars/dist/main":83,"world-calendars/dist/plus":84}],101:[function(r,i,o){var n=r("./calendars"),a=r("../../lib"),s=r("../../constants/numerical"),l=s.EPOCHJD,u=s.ONEDAY,c={valType:"enumerated",values:a.sortObjectKeys(n.calendars),editType:"calc",dflt:"gregorian"},h=function(D,k,R,P){var E={};return E[R]=c,a.coerce(D,k,E,R,P)},v=function(D,k,R,P){for(var E=0;E<R.length;E++)h(D,k,R[E]+"calendar",P.calendar)},f={chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},m={chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},_={chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},g="##",p={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:g,w:g,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}};function d(D,k,R){for(var P=Math.floor((k+.05)/u)+l,E=y(R).fromJD(P),O=0,I,U,V,Z,z;(O=D.indexOf("%",O))!==-1;)I=D.charAt(O+1),I==="0"||I==="-"||I==="_"?(V=3,U=D.charAt(O+2),I==="_"&&(I="-")):(U=I,I="0",V=2),Z=p[U],Z?(Z===g?z=g:z=E.formatDate(Z[I]),D=D.substr(0,O)+z+D.substr(O+V),O+=z.length):O+=V;return D}var b={};function y(D){var k=b[D];return k||(k=b[D]=n.instance(D),k)}function x(D){return a.extendFlat({},c,{description:D})}function w(D){return"Sets the calendar system to use with `"+D+"` date data."}var C={xcalendar:x(w("x"))},S=a.extendFlat({},C,{ycalendar:x(w("y"))}),T=a.extendFlat({},S,{zcalendar:x(w("z"))}),M=x(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));i.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:S,bar:S,box:S,heatmap:S,contour:S,histogram:S,histogram2d:S,histogram2dcontour:S,scatter3d:T,surface:T,mesh3d:T,scattergl:S,ohlc:C,candlestick:C},layout:{calendar:x(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:M},yaxis:{calendar:M},scene:{xaxis:{calendar:M},yaxis:{calendar:M},zaxis:{calendar:M}},polar:{radialaxis:{calendar:M}}},transforms:{filter:{valuecalendar:x(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:x(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:c,handleDefaults:h,handleTraceDefaults:v,CANONICAL_SUNDAY:m,CANONICAL_TICK:f,DFLTRANGE:_,getCal:y,worldCalFmt:d}},{"../../constants/numerical":224,"../../lib":244,"./calendars":100}],102:[function(r,i,o){o.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],o.defaultLine="#444",o.lightLine="#eee",o.background="#fff",o.borderLine="#BEC8D9",o.lightFraction=100*(14-4)/(15-4)},{}],103:[function(r,i,o){var n=r("tinycolor2"),a=r("fast-isnumeric"),s=r("../../lib/array").isTypedArray,l=i.exports={},u=r("./attributes");l.defaults=u.defaults;var c=l.defaultLine=u.defaultLine;l.lightLine=u.lightLine;var h=l.background=u.background;l.tinyRGB=function(f){var m=f.toRgb();return"rgb("+Math.round(m.r)+", "+Math.round(m.g)+", "+Math.round(m.b)+")"},l.rgb=function(f){return l.tinyRGB(n(f))},l.opacity=function(f){return f?n(f).getAlpha():0},l.addOpacity=function(f,m){var _=n(f).toRgb();return"rgba("+Math.round(_.r)+", "+Math.round(_.g)+", "+Math.round(_.b)+", "+m+")"},l.combine=function(f,m){var _=n(f).toRgb();if(_.a===1)return n(f).toRgbString();var g=n(m||h).toRgb(),p=g.a===1?g:{r:255*(1-g.a)+g.r*g.a,g:255*(1-g.a)+g.g*g.a,b:255*(1-g.a)+g.b*g.a},d={r:p.r*(1-_.a)+_.r*_.a,g:p.g*(1-_.a)+_.g*_.a,b:p.b*(1-_.a)+_.b*_.a};return n(d).toRgbString()},l.contrast=function(f,m,_){var g=n(f);g.getAlpha()!==1&&(g=n(l.combine(f,h)));var p=g.isDark()?m?g.lighten(m):h:_?g.darken(_):c;return p.toString()},l.stroke=function(f,m){var _=n(m);f.style({stroke:l.tinyRGB(_),"stroke-opacity":_.getAlpha()})},l.fill=function(f,m){var _=n(m);f.style({fill:l.tinyRGB(_),"fill-opacity":_.getAlpha()})},l.clean=function(f){if(!(!f||typeof f!="object")){var m=Object.keys(f),_,g,p,d;for(_=0;_<m.length;_++)if(p=m[_],d=f[p],p.substr(p.length-5)==="color")if(Array.isArray(d))for(g=0;g<d.length;g++)d[g]=v(d[g]);else f[p]=v(d);else if(p.substr(p.length-10)==="colorscale"&&Array.isArray(d))for(g=0;g<d.length;g++)Array.isArray(d[g])&&(d[g][1]=v(d[g][1]));else if(Array.isArray(d)){var b=d[0];if(!Array.isArray(b)&&b&&typeof b=="object")for(g=0;g<d.length;g++)l.clean(d[g])}else d&&typeof d=="object"&&!s(d)&&l.clean(d)}};function v(f){if(a(f)||typeof f!="string")return f;var m=f.trim();if(m.substr(0,3)!=="rgb")return f;var _=m.match(/^rgba?\s*\(([^()]*)\)$/);if(!_)return f;var g=_[1].trim().split(/\s*[\s,]\s*/),p=m.charAt(3)==="a"&&g.length===4;if(!p&&g.length!==3)return f;for(var d=0;d<g.length;d++){if(!g[d].length||(g[d]=Number(g[d]),!(g[d]>=0)))return f;if(d===3)g[d]>1&&(g[d]=1);else if(g[d]>=1)return f}var b=Math.round(g[0]*255)+", "+Math.round(g[1]*255)+", "+Math.round(g[2]*255);return p?"rgba("+b+", "+g[3]+")":"rgb("+b+")"}},{"../../lib/array":230,"./attributes":102,"fast-isnumeric":17,tinycolor2:68}],104:[function(r,i,o){var n=r("../../plots/cartesian/layout_attributes"),a=r("../../plots/font_attributes"),s=r("../../lib/extend").extendFlat,l=r("../../plot_api/edit_types").overrideAll;i.exports=l({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number",min:-2,max:3},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:n.linecolor,outlinewidth:n.linewidth,bordercolor:n.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:n.tickmode,nticks:n.nticks,tick0:n.tick0,dtick:n.dtick,tickvals:n.tickvals,ticktext:n.ticktext,ticks:s({},n.ticks,{dflt:""}),ticklabeloverflow:s({},n.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:n.ticklen,tickwidth:n.tickwidth,tickcolor:n.tickcolor,ticklabelstep:n.ticklabelstep,showticklabels:n.showticklabels,tickfont:a({}),tickangle:n.tickangle,tickformat:n.tickformat,tickformatstops:n.tickformatstops,tickprefix:n.tickprefix,showtickprefix:n.showtickprefix,ticksuffix:n.ticksuffix,showticksuffix:n.showticksuffix,separatethousands:n.separatethousands,exponentformat:n.exponentformat,minexponent:n.minexponent,showexponent:n.showexponent,title:{text:{valType:"string"},font:a({}),side:{valType:"enumerated",values:["right","top","bottom"]}},_deprecated:{title:{valType:"string"},titlefont:a({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},{"../../lib/extend":238,"../../plot_api/edit_types":273,"../../plots/cartesian/layout_attributes":304,"../../plots/font_attributes":319}],105:[function(r,i,o){i.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},{}],106:[function(r,i,o){var n=r("../../lib"),a=r("../../plot_api/plot_template"),s=r("../../plots/cartesian/tick_value_defaults"),l=r("../../plots/cartesian/tick_mark_defaults"),u=r("../../plots/cartesian/tick_label_defaults"),c=r("../../plots/cartesian/prefix_suffix_defaults"),h=r("./attributes");i.exports=function(f,m,_){var g=a.newContainer(m,"colorbar"),p=f.colorbar||{};function d(E,O){return n.coerce(p,g,h,E,O)}var b=_.margin||{t:0,b:0,l:0,r:0},y=_.width-b.l-b.r,x=_.height-b.t-b.b,w=d("orientation"),C=w==="v",S=d("thicknessmode");d("thickness",S==="fraction"?30/(C?y:x):30);var T=d("lenmode");d("len",T==="fraction"?1:C?x:y),d("x",C?1.02:.5),d("xanchor",C?"left":"center"),d("xpad"),d("y",C?.5:1.02),d("yanchor",C?"middle":"bottom"),d("ypad"),n.noneOrAll(p,g,["x","y"]),d("outlinecolor"),d("outlinewidth"),d("bordercolor"),d("borderwidth"),d("bgcolor");var M=n.coerce(p,g,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:C?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");d("ticklabeloverflow",M.indexOf("inside")!==-1?"hide past domain":"hide past div"),s(p,g,d,"linear");var D=_.font,k={outerTicks:!1,font:D};M.indexOf("inside")!==-1&&(k.bgColor="black"),c(p,g,d,"linear",k),u(p,g,d,"linear",k),l(p,g,d,"linear",k),d("title.text",_._dfltTitle.colorbar);var R=g.tickfont,P=n.extendFlat({},R,{color:D.color,size:n.bigFont(R.size)});n.coerceFont(d,"title.font",P),d("title.side",C?"top":"right")}},{"../../lib":244,"../../plot_api/plot_template":280,"../../plots/cartesian/prefix_suffix_defaults":308,"../../plots/cartesian/tick_label_defaults":312,"../../plots/cartesian/tick_mark_defaults":313,"../../plots/cartesian/tick_value_defaults":314,"./attributes":104}],107:[function(r,i,o){var n=r("@plotly/d3"),a=r("tinycolor2"),s=r("../../plots/plots"),l=r("../../registry"),u=r("../../plots/cartesian/axes"),c=r("../dragelement"),h=r("../../lib"),v=h.strTranslate,f=r("../../lib/extend").extendFlat,m=r("../../lib/setcursor"),_=r("../drawing"),g=r("../color"),p=r("../titles"),d=r("../../lib/svg_text_utils"),b=r("../colorscale/helpers").flipScale,y=r("../../plots/cartesian/axis_defaults"),x=r("../../plots/cartesian/position_defaults"),w=r("../../plots/cartesian/layout_attributes"),C=r("../../constants/alignment"),S=C.LINE_SPACING,T=C.FROM_TL,M=C.FROM_BR,D=r("./constants").cn;function k(U){var V=U._fullLayout,Z=V._infolayer.selectAll("g."+D.colorbar).data(R(U),function(z){return z._id});Z.enter().append("g").attr("class",function(z){return z._id}).classed(D.colorbar,!0),Z.each(function(z){var H=n.select(this);h.ensureSingle(H,"rect",D.cbbg),h.ensureSingle(H,"g",D.cbfills),h.ensureSingle(H,"g",D.cblines),h.ensureSingle(H,"g",D.cbaxis,function(W){W.classed(D.crisp,!0)}),h.ensureSingle(H,"g",D.cbtitleunshift,function(W){W.append("g").classed(D.cbtitle,!0)}),h.ensureSingle(H,"rect",D.cboutline);var B=P(H,z,U);B&&B.then&&(U._promises||[]).push(B),U._context.edits.colorbarPosition&&E(H,z,U)}),Z.exit().each(function(z){s.autoMargin(U,z._id)}).remove(),Z.order()}function R(U){var V=U._fullLayout,Z=U.calcdata,z=[],H,B,W,F;function K(j){return f(j,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function fe(){typeof F.calc=="function"?F.calc(U,W,H):(H._fillgradient=B.reversescale?b(B.colorscale):B.colorscale,H._zrange=[B[F.min],B[F.max]])}for(var se=0;se<Z.length;se++){var ee=Z[se];W=ee[0].trace;var ie=W._module.colorbar;if(W.visible===!0&&ie)for(var J=Array.isArray(ie),te=J?ie:[ie],L=0;L<te.length;L++){F=te[L];var N=F.container;B=N?W[N]:W,B&&B.showscale&&(H=K(B.colorbar),H._id="cb"+W.uid+(J&&N?"-"+N:""),H._traceIndex=W.index,H._propPrefix=(N?N+".":"")+"colorbar.",H._meta=W._meta,fe(),z.push(H))}}for(var G in V._colorAxes)if(B=V[G],B.showscale){var Y=V._colorAxes[G];H=K(B.colorbar),H._id="cb"+G,H._propPrefix=G+".colorbar.",H._meta=V._meta,F={min:"cmin",max:"cmax"},Y[0]!=="heatmap"&&(W=Y[1],F.calc=W._module.colorbar.calc),fe(),z.push(H)}return z}function P(U,V,Z){var z=V.orientation==="v",H=V.len,B=V.lenmode,W=V.thickness,F=V.thicknessmode,K=V.outlinewidth,fe=V.borderwidth,se=V.bgcolor,ee=V.xanchor,ie=V.yanchor,J=V.xpad,te=V.ypad,L=V.x,N=z?V.y:1-V.y,G=Z._fullLayout,Y=G._size,j=V._fillcolor,Q=V._line,q=V.title,re=q.side,ue=V._zrange||n.extent((typeof j=="function"?j:Q.color).domain()),de=typeof Q.color=="function"?Q.color:function(){return Q.color},me=typeof j=="function"?j:function(){return j},pe=V._levels,ge=O(Z,V,ue),Te=ge.fill,He=ge.line,Oe=Math.round(W*(F==="fraction"?z?Y.w:Y.h:1)),tt=Oe/(z?Y.w:Y.h),Le=Math.round(H*(B==="fraction"?z?Y.h:Y.w:1)),De=Le/(z?Y.h:Y.w),Se=Math.round(z?L*Y.w+J:N*Y.h+te),ze={center:.5,right:1}[ee]||0,Ke={top:1,middle:.5}[ie]||0,_t=z?L-ze*tt:N-Ke*tt,Qe=z?N-Ke*De:L-ze*De,et=Math.round(z?Y.h*(1-Qe):Y.w*Qe);V._lenFrac=De,V._thickFrac=tt,V._uFrac=_t,V._vFrac=Qe;var rt=V._axis=I(Z,V,ue);rt.position=tt+(z?L+J/Y.w:N+te/Y.h);var ft=["top","bottom"].indexOf(re)!==-1;if(z&&ft&&(rt.title.side=re,rt.titlex=L+J/Y.w,rt.titley=Qe+(q.side==="top"?De-te/Y.h:te/Y.h)),!z&&!ft&&(rt.title.side=re,rt.titley=N+te/Y.h,rt.titlex=Qe+J/Y.w),Q.color&&V.tickmode==="auto"){rt.tickmode="linear",rt.tick0=pe.start;var bt=pe.size,Ft=h.constrain(Le/50,4,15)+1,ct=(ue[1]-ue[0])/((V.nticks||Ft)*bt);if(ct>1){var nt=Math.pow(10,Math.floor(Math.log(ct)/Math.LN10));bt*=nt*h.roundUp(ct/nt,[2,5,10]),(Math.abs(pe.start)/pe.size+1e-6)%1<2e-6&&(rt.tick0=0)}rt.dtick=bt}rt.domain=z?[Qe+te/Y.h,Qe+De-te/Y.h]:[Qe+J/Y.w,Qe+De-J/Y.w],rt.setScale(),U.attr("transform",v(Math.round(Y.l),Math.round(Y.t)));var at=U.select("."+D.cbtitleunshift).attr("transform",v(-Math.round(Y.l),-Math.round(Y.t))),It=rt.ticklabelposition,zt=rt.title.font.size,be=U.select("."+D.cbaxis),Me,Ue=0,ce=0;function Ce(Ee,$e){var Ie={propContainer:rt,propName:V._propPrefix+"title",traceIndex:V._traceIndex,_meta:V._meta,placeholder:G._dfltTitle.colorbar,containerGroup:U.select("."+D.cbtitle)},Be=Ee.charAt(0)==="h"?Ee.substr(1):"h"+Ee;U.selectAll("."+Be+",."+Be+"-math-group").remove(),p.draw(Z,Ee,f(Ie,$e||{}))}function Ae(){if(z&&ft||!z&&!ft){var Ee,$e;re==="top"&&(Ee=J+Y.l+Y.w*L,$e=te+Y.t+Y.h*(1-Qe-De)+3+zt*.75),re==="bottom"&&(Ee=J+Y.l+Y.w*L,$e=te+Y.t+Y.h*(1-Qe)-3-zt*.25),re==="right"&&($e=te+Y.t+Y.h*N+3+zt*.75,Ee=J+Y.l+Y.w*Qe),Ce(rt._id+"title",{attributes:{x:Ee,y:$e,"text-anchor":z?"start":"middle"}})}}function ke(){if(z&&!ft||!z&&ft){var Ee=rt.position||0,$e=rt._offset+rt._length/2,Ie,Be;if(re==="right")Be=$e,Ie=Y.l+Y.w*Ee+10+zt*(rt.showticklabels?1:.5);else if(Ie=$e,re==="bottom"&&(Be=Y.t+Y.h*Ee+10+(It.indexOf("inside")===-1?rt.tickfont.size:0)+(rt.ticks!=="intside"&&V.ticklen||0)),re==="top"){var st=q.text.split("<br>").length;Be=Y.t+Y.h*Ee+10-Oe-S*zt*st}Ce((z?"h":"v")+rt._id+"title",{avoid:{selection:n.select(Z).selectAll("g."+rt._id+"tick"),side:re,offsetTop:z?0:Y.t,offsetLeft:z?Y.l:0,maxShift:z?G.width:G.height},attributes:{x:Ie,y:Be,"text-anchor":"middle"},transform:{rotate:z?-90:0,offset:0}})}}function xe(){if(!z&&!ft||z&&ft){var Ee=U.select("."+D.cbtitle),$e=Ee.select("text"),Ie=[-K/2,K/2],Be=Ee.select(".h"+rt._id+"title-math-group").node(),st=15.6;$e.node()&&(st=parseInt($e.node().style.fontSize,10)*S);var gt;if(Be?(gt=_.bBox(Be),ce=gt.width,Ue=gt.height,Ue>st&&(Ie[1]-=(Ue-st)/2)):$e.node()&&!$e.classed(D.jsPlaceholder)&&(gt=_.bBox($e.node()),ce=gt.width,Ue=gt.height),z){if(Ue){if(Ue+=5,re==="top")rt.domain[1]-=Ue/Y.h,Ie[1]*=-1;else{rt.domain[0]+=Ue/Y.h;var wt=d.lineCount($e);Ie[1]+=(1-wt)*st}Ee.attr("transform",v(Ie[0],Ie[1])),rt.setScale()}}else ce&&(re==="right"&&(rt.domain[0]+=(ce+zt/2)/Y.w),Ee.attr("transform",v(Ie[0],Ie[1])),rt.setScale())}U.selectAll("."+D.cbfills+",."+D.cblines).attr("transform",z?v(0,Math.round(Y.h*(1-rt.domain[1]))):v(Math.round(Y.w*rt.domain[0]),0)),be.attr("transform",z?v(0,Math.round(-Y.t)):v(Math.round(-Y.l),0));var Wt=U.select("."+D.cbfills).selectAll("rect."+D.cbfill).attr("style","").data(Te);Wt.enter().append("rect").classed(D.cbfill,!0).style("stroke","none"),Wt.exit().remove();var Yt=ue.map(rt.c2p).map(Math.round).sort(function(dt,Vt){return dt-Vt});Wt.each(function(dt,Vt){var Gt=[Vt===0?ue[0]:(Te[Vt]+Te[Vt-1])/2,Vt===Te.length-1?ue[1]:(Te[Vt]+Te[Vt+1])/2].map(rt.c2p).map(Math.round);z&&(Gt[1]=h.constrain(Gt[1]+(Gt[1]>Gt[0])?1:-1,Yt[0],Yt[1]));var rr=n.select(this).attr(z?"x":"y",Se).attr(z?"y":"x",n.min(Gt)).attr(z?"width":"height",Math.max(Oe,2)).attr(z?"height":"width",Math.max(n.max(Gt)-n.min(Gt),2));if(V._fillgradient)_.gradient(rr,Z,V._id,z?"vertical":"horizontalreversed",V._fillgradient,"fill");else{var Jt=me(dt).replace("e-","");rr.attr("fill",a(Jt).toHexString())}});var qt=U.select("."+D.cblines).selectAll("path."+D.cbline).data(Q.color&&Q.width?He:[]);qt.enter().append("path").classed(D.cbline,!0),qt.exit().remove(),qt.each(function(dt){var Vt=Se,Gt=Math.round(rt.c2p(dt))+Q.width/2%1;n.select(this).attr("d","M"+(z?Vt+","+Gt:Gt+","+Vt)+(z?"h":"v")+Oe).call(_.lineGroupStyle,Q.width,de(dt),Q.dash)}),be.selectAll("g."+rt._id+"tick,path").remove();var Bt=Se+Oe+(K||0)/2-(V.ticks==="outside"?1:0),Ut=u.calcTicks(rt),Nt=u.getTickSigns(rt)[2];return u.drawTicks(Z,rt,{vals:rt.ticks==="inside"?u.clipEnds(rt,Ut):Ut,layer:be,path:u.makeTickPath(rt,Bt,Nt),transFn:u.makeTransTickFn(rt)}),u.drawLabels(Z,rt,{vals:Ut,layer:be,transFn:u.makeTransTickLabelFn(rt),labelFns:u.makeLabelFns(rt,Bt)})}function ye(){var Ee,$e=Oe+K/2;It.indexOf("inside")===-1&&(Ee=_.bBox(be.node()),$e+=z?Ee.width:Ee.height),Me=at.select("text");var Ie=0,Be=z&&re==="top",st=!z&&re==="right",gt=0;if(Me.node()&&!Me.classed(D.jsPlaceholder)){var wt,Wt=at.select(".h"+rt._id+"title-math-group").node();Wt&&(z&&ft||!z&&!ft)?(Ee=_.bBox(Wt),Ie=Ee.width,wt=Ee.height):(Ee=_.bBox(at.node()),Ie=Ee.right-Y.l-(z?Se:et),wt=Ee.bottom-Y.t-(z?et:Se),!z&&re==="top"&&($e+=Ee.height,gt=Ee.height)),st&&(Me.attr("transform",v(Ie/2+zt/2,0)),Ie*=2),$e=Math.max($e,z?Ie:wt)}var Yt=(z?J:te)*2+$e+fe+K/2,qt=0;!z&&q.text&&ie==="bottom"&&N<=0&&(qt=Yt/2,Yt+=qt,gt+=qt),G._hColorbarMoveTitle=qt,G._hColorbarMoveCBTitle=gt;var Bt=fe+K;U.select("."+D.cbbg).attr("x",(z?Se:et)-Bt/2-(z?J:0)).attr("y",(z?et:Se)-(z?Le:te+gt-qt)).attr(z?"width":"height",Math.max(Yt-qt,2)).attr(z?"height":"width",Math.max(Le+Bt,2)).call(g.fill,se).call(g.stroke,V.bordercolor).style("stroke-width",fe);var Ut=st?Math.max(Ie-10,0):0;if(U.selectAll("."+D.cboutline).attr("x",(z?Se:et+J)+Ut).attr("y",(z?et+te-Le:Se)+(Be?Ue:0)).attr(z?"width":"height",Math.max(Oe,2)).attr(z?"height":"width",Math.max(Le-(z?2*te+Ue:2*J+Ut),2)).call(g.stroke,V.outlinecolor).style({fill:"none","stroke-width":K}),U.attr("transform",v(Y.l-(z?ze*Yt:0),Y.t-(z?0:(1-Ke)*Yt-gt))),!z&&(fe||a(se).getAlpha()&&!a.equals(G.paper_bgcolor,se))){var Nt=be.selectAll("text"),dt=Nt[0].length,Vt=U.select("."+D.cbbg).node(),Gt=_.bBox(Vt),rr=_.getTranslate(U),Jt=2;Nt.each(function(Fe,We){var Ze=0,Ve=dt-1;if(We===Ze||We===Ve){var je=_.bBox(this),ut=_.getTranslate(this),St;if(We===Ve){var Pt=je.right+ut.x,lt=Gt.right+rr.x+et-fe-Jt+L;St=lt-Pt,St>0&&(St=0)}else if(We===Ze){var yt=je.left+ut.x,Ot=Gt.left+rr.x+et+fe+Jt;St=Ot-yt,St<0&&(St=0)}St&&(dt<3?this.setAttribute("transform","translate("+St+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var Dt={},er=T[ee],tr=M[ee],he=T[ie],le=M[ie],Ne=Yt-Oe;z?(B==="pixels"?(Dt.y=N,Dt.t=Le*he,Dt.b=Le*le):(Dt.t=Dt.b=0,Dt.yt=N+H*he,Dt.yb=N-H*le),F==="pixels"?(Dt.x=L,Dt.l=Yt*er,Dt.r=Yt*tr):(Dt.l=Ne*er,Dt.r=Ne*tr,Dt.xl=L-W*er,Dt.xr=L+W*tr)):(B==="pixels"?(Dt.x=L,Dt.l=Le*er,Dt.r=Le*tr):(Dt.l=Dt.r=0,Dt.xl=L+H*er,Dt.xr=L-H*tr),F==="pixels"?(Dt.y=1-N,Dt.t=Yt*he,Dt.b=Yt*le):(Dt.t=Ne*he,Dt.b=Ne*le,Dt.yt=N-W*he,Dt.yb=N+W*le)),s.autoMargin(Z,V._id,Dt)}return h.syncOrAsync([s.previousPromises,Ae,xe,ke,s.previousPromises,ye],Z)}function E(U,V,Z){var z=V.orientation==="v",H=Z._fullLayout,B=H._size,W,F,K;c.init({element:U.node(),gd:Z,prepFn:function(){W=U.attr("transform"),m(U)},moveFn:function(fe,se){U.attr("transform",W+v(fe,se)),F=c.align((z?V._uFrac:V._vFrac)+fe/B.w,z?V._thickFrac:V._lenFrac,0,1,V.xanchor),K=c.align((z?V._vFrac:1-V._uFrac)-se/B.h,z?V._lenFrac:V._thickFrac,0,1,V.yanchor);var ee=c.getCursor(F,K,V.xanchor,V.yanchor);m(U,ee)},doneFn:function(){if(m(U),F!==void 0&&K!==void 0){var fe={};fe[V._propPrefix+"x"]=F,fe[V._propPrefix+"y"]=K,V._traceIndex!==void 0?l.call("_guiRestyle",Z,fe,V._traceIndex):l.call("_guiRelayout",Z,fe)}}})}function O(U,V,Z){var z=V._levels,H=[],B=[],W,F,K=z.end+z.size/100,fe=z.size,se=1.001*Z[0]-.001*Z[1],ee=1.001*Z[1]-.001*Z[0];for(F=0;F<1e5&&(W=z.start+F*fe,!(fe>0?W>=K:W<=K));F++)W>se&&W<ee&&H.push(W);if(V._fillgradient)B=[0];else if(typeof V._fillcolor=="function"){var ie=V._filllevels;if(ie)for(K=ie.end+ie.size/100,fe=ie.size,F=0;F<1e5&&(W=ie.start+F*fe,!(fe>0?W>=K:W<=K));F++)W>Z[0]&&W<Z[1]&&B.push(W);else B=H.map(function(J){return J-z.size/2}),B.push(B[B.length-1]+z.size)}else V._fillcolor&&typeof V._fillcolor=="string"&&(B=[0]);return z.size<0&&(H.reverse(),B.reverse()),{line:H,fill:B}}function I(U,V,Z){var z=U._fullLayout,H=V.orientation==="v",B={type:"linear",range:Z,tickmode:V.tickmode,nticks:V.nticks,tick0:V.tick0,dtick:V.dtick,tickvals:V.tickvals,ticktext:V.ticktext,ticks:V.ticks,ticklen:V.ticklen,tickwidth:V.tickwidth,tickcolor:V.tickcolor,showticklabels:V.showticklabels,ticklabelposition:V.ticklabelposition,ticklabeloverflow:V.ticklabeloverflow,ticklabelstep:V.ticklabelstep,tickfont:V.tickfont,tickangle:V.tickangle,tickformat:V.tickformat,exponentformat:V.exponentformat,minexponent:V.minexponent,separatethousands:V.separatethousands,showexponent:V.showexponent,showtickprefix:V.showtickprefix,tickprefix:V.tickprefix,showticksuffix:V.showticksuffix,ticksuffix:V.ticksuffix,title:V.title,showline:!0,anchor:"free",side:H?"right":"bottom",position:1},W=H?"y":"x",F={type:"linear",_id:W+V._id},K={letter:W,font:z.font,noHover:!0,noTickson:!0,noTicklabelmode:!0,calendar:z.calendar};function fe(se,ee){return h.coerce(B,F,w,se,ee)}return y(B,F,fe,K,z),x(B,F,fe,K),F}i.exports={draw:k}},{"../../constants/alignment":219,"../../lib":244,"../../lib/extend":238,"../../lib/setcursor":264,"../../lib/svg_text_utils":267,"../../plots/cartesian/axes":291,"../../plots/cartesian/axis_defaults":293,"../../plots/cartesian/layout_attributes":304,"../../plots/cartesian/position_defaults":307,"../../plots/plots":325,"../../registry":327,"../color":103,"../colorscale/helpers":114,"../dragelement":122,"../drawing":125,"../titles":212,"./constants":105,"@plotly/d3":11,tinycolor2:68}],108:[function(r,i,o){var n=r("../../lib");i.exports=function(s){return n.isPlainObject(s.colorbar)}},{"../../lib":244}],109:[function(r,i,o){i.exports={moduleType:"component",name:"colorbar",attributes:r("./attributes"),supplyDefaults:r("./defaults"),draw:r("./draw").draw,hasColorbar:r("./has_colorbar")}},{"./attributes":104,"./defaults":106,"./draw":107,"./has_colorbar":108}],110:[function(r,i,o){var n=r("../colorbar/attributes"),a=r("../../lib/regex").counter,s=r("../../lib/sort_object_keys"),l=r("./scales.js").scales;s(l),i.exports=function(c,h){c=c||"",h=h||{};var v=h.cLetter||"c";"onlyIfNumerical"in h&&h.onlyIfNumerical;var f="noScale"in h?h.noScale:c==="marker.line",m="showScaleDflt"in h?h.showScaleDflt:v==="z",_=typeof h.colorscaleDflt=="string"?l[h.colorscaleDflt]:null,g=h.editTypeOverride||"",p;"colorAttr"in h?(p=h.colorAttr,h.colorAttr):p={z:"z",c:"color"}[v];var d=v+"auto",b=v+"min",y=v+"max",x=v+"mid",w={};w[b]=w[y]=void 0;var C={};C[d]=!1;var S={};return p==="color"&&(S.color={valType:"color",arrayOk:!0,editType:g||"style"},h.anim&&(S.color.anim=!0)),S[d]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:w},S[b]={valType:"number",dflt:null,editType:g||"plot",impliedEdits:C},S[y]={valType:"number",dflt:null,editType:g||"plot",impliedEdits:C},S[x]={valType:"number",dflt:null,editType:"calc",impliedEdits:w},S.colorscale={valType:"colorscale",editType:"calc",dflt:_,impliedEdits:{autocolorscale:!1}},S.autocolorscale={valType:"boolean",dflt:h.autoColorDflt!==!1,editType:"calc",impliedEdits:{colorscale:void 0}},S.reversescale={valType:"boolean",dflt:!1,editType:"plot"},f||(S.showscale={valType:"boolean",dflt:m,editType:"calc"},S.colorbar=n),h.noColorAxis||(S.coloraxis={valType:"subplotid",regex:a("coloraxis"),dflt:null,editType:"calc"}),S}},{"../../lib/regex":260,"../../lib/sort_object_keys":265,"../colorbar/attributes":104,"./scales.js":118}],111:[function(r,i,o){var n=r("fast-isnumeric"),a=r("../../lib"),s=r("./helpers").extractOpts;i.exports=function(u,c,h){var v=u._fullLayout,f=h.vals,m=h.containerStr,_=m?a.nestedProperty(c,m).get():c,g=s(_),p=g.auto!==!1,d=g.min,b=g.max,y=g.mid,x=function(){return a.aggNums(Math.min,null,f)},w=function(){return a.aggNums(Math.max,null,f)};if(d===void 0?d=x():p&&(_._colorAx&&n(d)?d=Math.min(d,x()):d=x()),b===void 0?b=w():p&&(_._colorAx&&n(b)?b=Math.max(b,w()):b=w()),p&&y!==void 0&&(b-y>y-d?d=y-(b-y):b-y<y-d&&(b=y+(y-d))),d===b&&(d-=.5,b+=.5),g._sync("min",d),g._sync("max",b),g.autocolorscale){var C;d*b<0?C=v.colorscale.diverging:d>=0?C=v.colorscale.sequential:C=v.colorscale.sequentialminus,g._sync("colorscale",C)}}},{"../../lib":244,"./helpers":114,"fast-isnumeric":17}],112:[function(r,i,o){var n=r("../../lib"),a=r("./helpers").hasColorscale,s=r("./helpers").extractOpts;i.exports=function(u,c){function h(d,b){var y=d["_"+b];y!==void 0&&(d[b]=y)}function v(d,b){var y=b.container?n.nestedProperty(d,b.container).get():d;if(y)if(y.coloraxis)y._colorAx=c[y.coloraxis];else{var x=s(y),w=x.auto;(w||x.min===void 0)&&h(y,b.min),(w||x.max===void 0)&&h(y,b.max),x.autocolorscale&&h(y,"colorscale")}}for(var f=0;f<u.length;f++){var m=u[f],_=m._module.colorbar;if(_)if(Array.isArray(_))for(var g=0;g<_.length;g++)v(m,_[g]);else v(m,_);a(m,"marker.line")&&v(m,{container:"marker.line",min:"cmin",max:"cmax"})}for(var p in c._colorAxes)v(c[p],{min:"cmin",max:"cmax"})}},{"../../lib":244,"./helpers":114}],113:[function(r,i,o){var n=r("fast-isnumeric"),a=r("../../lib"),s=r("../colorbar/has_colorbar"),l=r("../colorbar/defaults"),u=r("./scales").isValid,c=r("../../registry").traceIs;function h(v,f){var m=f.slice(0,f.length-1);return f?a.nestedProperty(v,m).get()||{}:v}i.exports=function v(f,m,_,g,p){var d=p.prefix,b=p.cLetter,y="_module"in m,x=h(f,d),w=h(m,d),C=h(m._template||{},d)||{},S=function(){return delete f.coloraxis,delete m.coloraxis,v(f,m,_,g,p)};if(y){var T=_._colorAxes||{},M=g(d+"coloraxis");if(M){var D=c(m,"contour")&&a.nestedProperty(m,"contours.coloring").get()||"heatmap",k=T[M];k?(k[2].push(S),k[0]!==D&&(k[0]=!1,a.warn(["Ignoring coloraxis:",M,"setting","as it is linked to incompatible colorscales."].join(" ")))):T[M]=[D,m,[S]];return}}var R=x[b+"min"],P=x[b+"max"],E=n(R)&&n(P)&&R<P,O=g(d+b+"auto",!E);O?g(d+b+"mid"):(g(d+b+"min"),g(d+b+"max"));var I=x.colorscale,U=C.colorscale,V;if(I!==void 0&&(V=!u(I)),U!==void 0&&(V=!u(U)),g(d+"autocolorscale",V),g(d+"colorscale"),g(d+"reversescale"),d!=="marker.line."){var Z;d&&y&&(Z=s(x));var z=g(d+"showscale",Z);z&&(d&&C&&(w._template=C),l(x,w,_))}}},{"../../lib":244,"../../registry":327,"../colorbar/defaults":106,"../colorbar/has_colorbar":108,"./scales":118,"fast-isnumeric":17}],114:[function(r,i,o){var n=r("@plotly/d3"),a=r("tinycolor2"),s=r("fast-isnumeric"),l=r("../../lib"),u=r("../color"),c=r("./scales").isValid;function h(y,x,w){var C=x?l.nestedProperty(y,x).get()||{}:y,S=C[w||"color"],T=!1;if(l.isArrayOrTypedArray(S)){for(var M=0;M<S.length;M++)if(s(S[M])){T=!0;break}}return l.isPlainObject(C)&&(T||C.showscale===!0||s(C.cmin)&&s(C.cmax)||c(C.colorscale)||l.isPlainObject(C.colorbar))}var v=["showscale","autocolorscale","colorscale","reversescale","colorbar"],f=["min","max","mid","auto"];function m(y){var x=y._colorAx,w=x||y,C={},S,T,M;for(T=0;T<v.length;T++)M=v[T],C[M]=w[M];if(x)for(S="c",T=0;T<f.length;T++)M=f[T],C[M]=w["c"+M];else{var D;for(T=0;T<f.length;T++){if(M=f[T],D="c"+M,D in w){C[M]=w[D];continue}D="z"+M,D in w&&(C[M]=w[D])}S=D.charAt(0)}return C._sync=function(k,R){var P=f.indexOf(k)!==-1?S+k:k;w[P]=w["_"+P]=R},C}function _(y){for(var x=m(y),w=x.min,C=x.max,S=x.reversescale?g(x.colorscale):x.colorscale,T=S.length,M=new Array(T),D=new Array(T),k=0;k<T;k++){var R=S[k];M[k]=w+R[0]*(C-w),D[k]=R[1]}return{domain:M,range:D}}function g(y){for(var x=y.length,w=new Array(x),C=x-1,S=0;C>=0;C--,S++){var T=y[C];w[S]=[1-T[0],T[1]]}return w}function p(y,x){x=x||{};for(var w=y.domain,C=y.range,S=C.length,T=new Array(S),M=0;M<S;M++){var D=a(C[M]).toRgb();T[M]=[D.r,D.g,D.b,D.a]}var k=n.scale.linear().domain(w).range(T).clamp(!0),R=x.noNumericCheck,P=x.returnArray,E;return R&&P?E=k:R?E=function(O){return b(k(O))}:P?E=function(O){return s(O)?k(O):a(O).isValid()?O:u.defaultLine}:E=function(O){return s(O)?b(k(O)):a(O).isValid()?O:u.defaultLine},E.domain=k.domain,E.range=function(){return C},E}function d(y,x){return p(_(y),x)}function b(y){var x={r:y[0],g:y[1],b:y[2],a:y[3]};return a(x).toRgbString()}i.exports={hasColorscale:h,extractOpts:m,extractScale:_,flipScale:g,makeColorScaleFunc:p,makeColorScaleFuncFromTrace:d}},{"../../lib":244,"../color":103,"./scales":118,"@plotly/d3":11,"fast-isnumeric":17,tinycolor2:68}],115:[function(r,i,o){var n=r("./scales"),a=r("./helpers");i.exports={moduleType:"component",name:"colorscale",attributes:r("./attributes"),layoutAttributes:r("./layout_attributes"),supplyLayoutDefaults:r("./layout_defaults"),handleDefaults:r("./defaults"),crossTraceDefaults:r("./cross_trace_defaults"),calc:r("./calc"),scales:n.scales,defaultScale:n.defaultScale,getScale:n.get,isValidScale:n.isValid,hasColorscale:a.hasColorscale,extractOpts:a.extractOpts,extractScale:a.extractScale,flipScale:a.flipScale,makeColorScaleFunc:a.makeColorScaleFunc,makeColorScaleFuncFromTrace:a.makeColorScaleFuncFromTrace}},{"./attributes":110,"./calc":111,"./cross_trace_defaults":112,"./defaults":113,"./helpers":114,"./layout_attributes":116,"./layout_defaults":117,"./scales":118}],116:[function(r,i,o){var n=r("../../lib/extend").extendFlat,a=r("./attributes"),s=r("./scales").scales;i.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:s.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:s.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:s.RdBu,editType:"calc"}},coloraxis:n({_isSubplotObj:!0,editType:"calc"},a("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},{"../../lib/extend":238,"./attributes":110,"./scales":118}],117:[function(r,i,o){var n=r("../../lib"),a=r("../../plot_api/plot_template"),s=r("./layout_attributes"),l=r("./defaults");i.exports=function(c,h){function v(y,x){return n.coerce(c,h,s,y,x)}v("colorscale.sequential"),v("colorscale.sequentialminus"),v("colorscale.diverging");var f=h._colorAxes,m,_;function g(y,x){return n.coerce(m,_,s.coloraxis,y,x)}for(var p in f){var d=f[p];if(d[0])m=c[p]||{},_=a.newContainer(h,p,"coloraxis"),_._name=p,l(m,_,h,g,{prefix:"",cLetter:"c"});else{for(var b=0;b<d[2].length;b++)d[2][b]();delete h._colorAxes[p]}}}},{"../../lib":244,"../../plot_api/plot_template":280,"./defaults":113,"./layout_attributes":116}],118:[function(r,i,o){var n=r("tinycolor2"),a={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},s=a.RdBu;function l(h,v){if(v||(v=s),!h)return v;function f(){try{h=a[h]||JSON.parse(h)}catch{h=v}}return typeof h=="string"&&(f(),typeof h=="string"&&f()),u(h)?h:v}function u(h){var v=0;if(!Array.isArray(h)||h.length<2||!h[0]||!h[h.length-1]||+h[0][0]!=0||+h[h.length-1][0]!=1)return!1;for(var f=0;f<h.length;f++){var m=h[f];if(m.length!==2||+m[0]<v||!n(m[1]).isValid())return!1;v=+m[0]}return!0}function c(h){return a[h]!==void 0?!0:u(h)}i.exports={scales:a,defaultScale:s,get:l,isValid:c}},{tinycolor2:68}],119:[function(r,i,o){i.exports=function(a,s,l,u,c){var h=(a-l)/(u-l),v=h+s/(u-l),f=(h+v)/2;return c==="left"||c==="bottom"?h:c==="center"||c==="middle"?f:c==="right"||c==="top"?v:h<2/3-f?h:v>4/3-f?v:f}},{}],120:[function(r,i,o){var n=r("../../lib"),a=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];i.exports=function(l,u,c,h){return c==="left"?l=0:c==="center"?l=1:c==="right"?l=2:l=n.constrain(Math.floor(l*3),0,2),h==="bottom"?u=0:h==="middle"?u=1:h==="top"?u=2:u=n.constrain(Math.floor(u*3),0,2),a[u][l]}},{"../../lib":244}],121:[function(r,i,o){o.selectMode=function(n){return n==="lasso"||n==="select"},o.drawMode=function(n){return n==="drawclosedpath"||n==="drawopenpath"||n==="drawline"||n==="drawrect"||n==="drawcircle"},o.openMode=function(n){return n==="drawline"||n==="drawopenpath"},o.rectMode=function(n){return n==="select"||n==="drawline"||n==="drawrect"||n==="drawcircle"},o.freeMode=function(n){return n==="lasso"||n==="drawclosedpath"||n==="drawopenpath"},o.selectingOrDrawing=function(n){return o.freeMode(n)||o.rectMode(n)}},{}],122:[function(r,i,o){var n=r("mouse-event-offset"),a=r("has-hover"),s=r("has-passive-events"),l=r("../../lib").removeElement,u=r("../../plots/cartesian/constants"),c=i.exports={};c.align=r("./align"),c.getCursor=r("./cursor");var h=r("./unhover");c.unhover=h.wrapped,c.unhoverRaw=h.raw,c.init=function(_){var g=_.gd,p=1,d=g._context.doubleClickDelay,b=_.element,y,x,w,C,S,T,M,D;g._mouseDownTime||(g._mouseDownTime=0),b.style.pointerEvents="all",b.onmousedown=P,s?(b._ontouchstart&&b.removeEventListener("touchstart",b._ontouchstart),b._ontouchstart=P,b.addEventListener("touchstart",P,{passive:!1})):b.ontouchstart=P;function k(I,U,V){return Math.abs(I)<V&&(I=0),Math.abs(U)<V&&(U=0),[I,U]}var R=_.clampFn||k;function P(I){g._dragged=!1,g._dragging=!0;var U=f(I);y=U[0],x=U[1],M=I.target,T=I,D=I.buttons===2||I.ctrlKey,typeof I.clientX>"u"&&typeof I.clientY>"u"&&(I.clientX=y,I.clientY=x),w=new Date().getTime(),w-g._mouseDownTime<d?p+=1:(p=1,g._mouseDownTime=w),_.prepFn&&_.prepFn(I,y,x),a&&!D?(S=v(),S.style.cursor=window.getComputedStyle(b).cursor):a||(S=document,C=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(b).cursor),document.addEventListener("mouseup",O),document.addEventListener("touchend",O),_.dragmode!==!1&&(I.preventDefault(),document.addEventListener("mousemove",E),document.addEventListener("touchmove",E,{passive:!1}))}function E(I){I.preventDefault();var U=f(I),V=_.minDrag||u.MINDRAG,Z=R(U[0]-y,U[1]-x,V),z=Z[0],H=Z[1];(z||H)&&(g._dragged=!0,c.unhover(g,I)),g._dragged&&_.moveFn&&!D&&(g._dragdata={element:b,dx:z,dy:H},_.moveFn(z,H))}function O(I){if(delete g._dragdata,_.dragmode!==!1&&(I.preventDefault(),document.removeEventListener("mousemove",E),document.removeEventListener("touchmove",E)),document.removeEventListener("mouseup",O),document.removeEventListener("touchend",O),a?l(S):C&&(S.documentElement.style.cursor=C,C=null),!g._dragging){g._dragged=!1;return}if(g._dragging=!1,new Date().getTime()-g._mouseDownTime>d&&(p=Math.max(p-1,1)),g._dragged)_.doneFn&&_.doneFn();else if(_.clickFn&&_.clickFn(p,T),!D){var U;try{U=new MouseEvent("click",I)}catch{var V=f(I);U=document.createEvent("MouseEvents"),U.initMouseEvent("click",I.bubbles,I.cancelable,I.view,I.detail,I.screenX,I.screenY,V[0],V[1],I.ctrlKey,I.altKey,I.shiftKey,I.metaKey,I.button,I.relatedTarget)}M.dispatchEvent(U)}g._dragging=!1,g._dragged=!1}};function v(){var m=document.createElement("div");m.className="dragcover";var _=m.style;return _.position="fixed",_.left=0,_.right=0,_.top=0,_.bottom=0,_.zIndex=999999999,_.background="none",document.body.appendChild(m),m}c.coverSlip=v;function f(m){return n(m.changedTouches?m.changedTouches[0]:m,document.body)}},{"../../lib":244,"../../plots/cartesian/constants":298,"./align":119,"./cursor":120,"./unhover":123,"has-hover":48,"has-passive-events":49,"mouse-event-offset":53}],123:[function(r,i,o){var n=r("../../lib/events"),a=r("../../lib/throttle"),s=r("../../lib/dom").getGraphDiv,l=r("../fx/constants"),u=i.exports={};u.wrapped=function(c,h,v){c=s(c),c._fullLayout&&a.clear(c._fullLayout._uid+l.HOVERID),u.raw(c,h,v)},u.raw=function(h,v){var f=h._fullLayout,m=h._hoverdata;v||(v={}),!(v.target&&!h._dragged&&n.triggerHandler(h,"plotly_beforehover",v)===!1)&&(f._hoverlayer.selectAll("g").remove(),f._hoverlayer.selectAll("line").remove(),f._hoverlayer.selectAll("circle").remove(),h._hoverdata=void 0,v.target&&m&&h.emit("plotly_unhover",{event:v,points:m}))}},{"../../lib/dom":236,"../../lib/events":237,"../../lib/throttle":268,"../fx/constants":137}],124:[function(r,i,o){o.dash={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},o.pattern={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}},{}],125:[function(r,i,o){var n=r("@plotly/d3"),a=r("../../lib"),s=a.numberFormat,l=r("fast-isnumeric"),u=r("tinycolor2"),c=r("../../registry"),h=r("../color"),v=r("../colorscale"),f=a.strTranslate,m=r("../../lib/svg_text_utils"),_=r("../../constants/xmlns_namespaces"),g=r("../../constants/alignment"),p=g.LINE_SPACING,d=r("../../constants/interactions").DESELECTDIM,b=r("../../traces/scatter/subtypes"),y=r("../../traces/scatter/make_bubble_size_func"),x=r("../../components/fx/helpers").appendArrayPointValue,w=i.exports={};w.font=function(ee,ie,J,te){a.isPlainObject(ie)&&(te=ie.color,J=ie.size,ie=ie.family),ie&&ee.style("font-family",ie),J+1&&ee.style("font-size",J+"px"),te&&ee.call(h.fill,te)},w.setPosition=function(ee,ie,J){ee.attr("x",ie).attr("y",J)},w.setSize=function(ee,ie,J){ee.attr("width",ie).attr("height",J)},w.setRect=function(ee,ie,J,te,L){ee.call(w.setPosition,ie,J).call(w.setSize,te,L)},w.translatePoint=function(ee,ie,J,te){var L=J.c2p(ee.x),N=te.c2p(ee.y);if(l(L)&&l(N)&&ie.node())ie.node().nodeName==="text"?ie.attr("x",L).attr("y",N):ie.attr("transform",f(L,N));else return!1;return!0},w.translatePoints=function(ee,ie,J){ee.each(function(te){var L=n.select(this);w.translatePoint(te,L,ie,J)})},w.hideOutsideRangePoint=function(ee,ie,J,te,L,N){ie.attr("display",J.isPtWithinRange(ee,L)&&te.isPtWithinRange(ee,N)?null:"none")},w.hideOutsideRangePoints=function(ee,ie){if(ie._hasClipOnAxisFalse){var J=ie.xaxis,te=ie.yaxis;ee.each(function(L){var N=L[0].trace,G=N.xcalendar,Y=N.ycalendar,j=c.traceIs(N,"bar-like")?".bartext":".point,.textpoint";ee.selectAll(j).each(function(Q){w.hideOutsideRangePoint(Q,n.select(this),J,te,G,Y)})})}},w.crispRound=function(ee,ie,J){return!ie||!l(ie)?J||0:ee._context.staticPlot?ie:ie<1?1:Math.round(ie)},w.singleLineStyle=function(ee,ie,J,te,L){ie.style("fill","none");var N=(((ee||[])[0]||{}).trace||{}).line||{},G=J||N.width||0,Y=L||N.dash||"";h.stroke(ie,te||N.color),w.dashLine(ie,Y,G)},w.lineGroupStyle=function(ee,ie,J,te){ee.style("fill","none").each(function(L){var N=(((L||[])[0]||{}).trace||{}).line||{},G=ie||N.width||0,Y=te||N.dash||"";n.select(this).call(h.stroke,J||N.color).call(w.dashLine,Y,G)})},w.dashLine=function(ee,ie,J){J=+J||0,ie=w.dashStyle(ie,J),ee.style({"stroke-dasharray":ie,"stroke-width":J+"px"})},w.dashStyle=function(ee,ie){ie=+ie||1;var J=Math.max(ie,3);return ee==="solid"?ee="":ee==="dot"?ee=J+"px,"+J+"px":ee==="dash"?ee=3*J+"px,"+3*J+"px":ee==="longdash"?ee=5*J+"px,"+5*J+"px":ee==="dashdot"?ee=3*J+"px,"+J+"px,"+J+"px,"+J+"px":ee==="longdashdot"&&(ee=5*J+"px,"+2*J+"px,"+J+"px,"+2*J+"px"),ee};function C(ee,ie,J){var te=ie.fillpattern,L=te&&w.getPatternAttr(te.shape,0,"");if(L){var N=w.getPatternAttr(te.bgcolor,0,null),G=w.getPatternAttr(te.fgcolor,0,null),Y=te.fgopacity,j=w.getPatternAttr(te.size,0,8),Q=w.getPatternAttr(te.solidity,0,.3),q=ie.uid;w.pattern(ee,"point",J,q,L,j,Q,void 0,te.fillmode,N,G,Y)}else ie.fillcolor&&ee.call(h.fill,ie.fillcolor)}w.singleFillStyle=function(ee,ie){var J=n.select(ee.node()),te=J.data(),L=((te[0]||[])[0]||{}).trace||{};C(ee,L,ie)},w.fillGroupStyle=function(ee,ie){ee.style("stroke-width",0).each(function(J){var te=n.select(this);J[0].trace&&C(te,J[0].trace,ie)})};var S=r("./symbol_defs");w.symbolNames=[],w.symbolFuncs=[],w.symbolNeedLines={},w.symbolNoDot={},w.symbolNoFill={},w.symbolList=[],Object.keys(S).forEach(function(ee){var ie=S[ee],J=ie.n;w.symbolList.push(J,String(J),ee,J+100,String(J+100),ee+"-open"),w.symbolNames[J]=ee,w.symbolFuncs[J]=ie.f,ie.needLine&&(w.symbolNeedLines[J]=!0),ie.noDot?w.symbolNoDot[J]=!0:w.symbolList.push(J+200,String(J+200),ee+"-dot",J+300,String(J+300),ee+"-open-dot"),ie.noFill&&(w.symbolNoFill[J]=!0)});var T=w.symbolNames.length,M="M0,0.5L0.5,0L0,-0.5L-0.5,0Z";w.symbolNumber=function(ee){if(l(ee))ee=+ee;else if(typeof ee=="string"){var ie=0;ee.indexOf("-open")>0&&(ie=100,ee=ee.replace("-open","")),ee.indexOf("-dot")>0&&(ie+=200,ee=ee.replace("-dot","")),ee=w.symbolNames.indexOf(ee),ee>=0&&(ee+=ie)}return ee%100>=T||ee>=400?0:Math.floor(Math.max(ee,0))};function D(ee,ie){var J=ee%100;return w.symbolFuncs[J](ie)+(ee>=200?M:"")}var k={x1:1,x2:0,y1:0,y2:0},R={x1:0,x2:0,y1:1,y2:0},P=s("~f"),E={radial:{node:"radialGradient"},radialreversed:{node:"radialGradient",reversed:!0},horizontal:{node:"linearGradient",attrs:k},horizontalreversed:{node:"linearGradient",attrs:k,reversed:!0},vertical:{node:"linearGradient",attrs:R},verticalreversed:{node:"linearGradient",attrs:R,reversed:!0}};w.gradient=function(ee,ie,J,te,L,N){for(var G=L.length,Y=E[te],j=new Array(G),Q=0;Q<G;Q++)Y.reversed?j[G-1-Q]=[P((1-L[Q][0])*100),L[Q][1]]:j[Q]=[P(L[Q][0]*100),L[Q][1]];var q=ie._fullLayout,re="g"+q._uid+"-"+J,ue=q._defs.select(".gradients").selectAll("#"+re).data([te+j.join(";")],a.identity);ue.exit().remove(),ue.enter().append(Y.node).each(function(){var de=n.select(this);Y.attrs&&de.attr(Y.attrs),de.attr("id",re);var me=de.selectAll("stop").data(j);me.exit().remove(),me.enter().append("stop"),me.each(function(pe){var ge=u(pe[1]);n.select(this).attr({offset:pe[0]+"%","stop-color":h.tinyRGB(ge),"stop-opacity":ge.getAlpha()})})}),ee.style(N,K(re,ie)).style(N+"-opacity",null),ee.classed("gradient_filled",!0)},w.pattern=function(ee,ie,J,te,L,N,G,Y,j,Q,q,re){var ue=ie==="legend";Y&&(j==="overlay"?(Q=Y,q=h.contrast(Q)):(Q=void 0,q=Y));var de=J._fullLayout,me="p"+de._uid+"-"+te,pe,ge,Te=function(Ke,_t,Qe,et,rt){return et+(rt-et)*(Ke-_t)/(Qe-_t)},He,Oe,tt,Le,De={};switch(L){case"/":pe=N*Math.sqrt(2),ge=N*Math.sqrt(2),He="M-"+pe/4+","+ge/4+"l"+pe/2+",-"+ge/2+"M0,"+ge+"L"+pe+",0M"+pe/4*3+","+ge/4*5+"l"+pe/2+",-"+ge/2,Oe=G*N,Le="path",De={d:He,opacity:re,stroke:q,"stroke-width":Oe+"px"};break;case"\\":pe=N*Math.sqrt(2),ge=N*Math.sqrt(2),He="M"+pe/4*3+",-"+ge/4+"l"+pe/2+","+ge/2+"M0,0L"+pe+","+ge+"M-"+pe/4+","+ge/4*3+"l"+pe/2+","+ge/2,Oe=G*N,Le="path",De={d:He,opacity:re,stroke:q,"stroke-width":Oe+"px"};break;case"x":pe=N*Math.sqrt(2),ge=N*Math.sqrt(2),He="M-"+pe/4+","+ge/4+"l"+pe/2+",-"+ge/2+"M0,"+ge+"L"+pe+",0M"+pe/4*3+","+ge/4*5+"l"+pe/2+",-"+ge/2+"M"+pe/4*3+",-"+ge/4+"l"+pe/2+","+ge/2+"M0,0L"+pe+","+ge+"M-"+pe/4+","+ge/4*3+"l"+pe/2+","+ge/2,Oe=N-N*Math.sqrt(1-G),Le="path",De={d:He,opacity:re,stroke:q,"stroke-width":Oe+"px"};break;case"|":pe=N,ge=N,Le="path",He="M"+pe/2+",0L"+pe/2+","+ge,Oe=G*N,Le="path",De={d:He,opacity:re,stroke:q,"stroke-width":Oe+"px"};break;case"-":pe=N,ge=N,Le="path",He="M0,"+ge/2+"L"+pe+","+ge/2,Oe=G*N,Le="path",De={d:He,opacity:re,stroke:q,"stroke-width":Oe+"px"};break;case"+":pe=N,ge=N,Le="path",He="M"+pe/2+",0L"+pe/2+","+ge+"M0,"+ge/2+"L"+pe+","+ge/2,Oe=N-N*Math.sqrt(1-G),Le="path",De={d:He,opacity:re,stroke:q,"stroke-width":Oe+"px"};break;case".":pe=N,ge=N,G<Math.PI/4?tt=Math.sqrt(G*N*N/Math.PI):tt=Te(G,Math.PI/4,1,N/2,N/Math.sqrt(2)),Le="circle",De={cx:pe/2,cy:ge/2,r:tt,opacity:re,fill:q};break}var Se=[L||"noSh",Q||"noBg",q||"noFg",N,G].join(";"),ze=de._defs.select(".patterns").selectAll("#"+me).data([Se],a.identity);ze.exit().remove(),ze.enter().append("pattern").each(function(){var Ke=n.select(this);if(Ke.attr({id:me,width:pe+"px",height:ge+"px",patternUnits:"userSpaceOnUse",patternTransform:ue?"scale(0.8)":""}),Q){var _t=Ke.selectAll("rect").data([0]);_t.exit().remove(),_t.enter().append("rect").attr({width:pe+"px",height:ge+"px",fill:Q})}var Qe=Ke.selectAll(Le).data([0]);Qe.exit().remove(),Qe.enter().append(Le).attr(De)}),ee.style("fill",K(me,J)).style("fill-opacity",null),ee.classed("pattern_filled",!0)},w.initGradients=function(ee){var ie=ee._fullLayout,J=a.ensureSingle(ie._defs,"g","gradients");J.selectAll("linearGradient,radialGradient").remove(),n.select(ee).selectAll(".gradient_filled").classed("gradient_filled",!1)},w.initPatterns=function(ee){var ie=ee._fullLayout,J=a.ensureSingle(ie._defs,"g","patterns");J.selectAll("pattern").remove(),n.select(ee).selectAll(".pattern_filled").classed("pattern_filled",!1)},w.getPatternAttr=function(ee,ie,J){return ee&&a.isArrayOrTypedArray(ee)?ie<ee.length?ee[ie]:J:ee},w.pointStyle=function(ee,ie,J){if(ee.size()){var te=w.makePointStyleFns(ie);ee.each(function(L){w.singlePointStyle(L,n.select(this),ie,te,J)})}},w.singlePointStyle=function(ee,ie,J,te,L){var N=J.marker,G=N.line;if(ie.style("opacity",te.selectedOpacityFn?te.selectedOpacityFn(ee):ee.mo===void 0?N.opacity:ee.mo),te.ms2mrc){var Y;ee.ms==="various"||N.size==="various"?Y=3:Y=te.ms2mrc(ee.ms),ee.mrc=Y,te.selectedSizeFn&&(Y=ee.mrc=te.selectedSizeFn(ee));var j=w.symbolNumber(ee.mx||N.symbol)||0;ee.om=j%200>=100,ie.attr("d",D(j,Y))}var Q=!1,q,re,ue;if(ee.so)ue=G.outlierwidth,re=G.outliercolor,q=N.outliercolor;else{var de=(G||{}).width;ue=(ee.mlw+1||de+1||(ee.trace?(ee.trace.marker.line||{}).width:0)+1)-1||0,"mlc"in ee?re=ee.mlcc=te.lineScale(ee.mlc):a.isArrayOrTypedArray(G.color)?re=h.defaultLine:re=G.color,a.isArrayOrTypedArray(N.color)&&(q=h.defaultLine,Q=!0),"mc"in ee?q=ee.mcc=te.markerScale(ee.mc):q=N.color||"rgba(0,0,0,0)",te.selectedColorFn&&(q=te.selectedColorFn(ee))}if(ee.om)ie.call(h.stroke,q).style({"stroke-width":(ue||1)+"px",fill:"none"});else{ie.style("stroke-width",(ee.isBlank?0:ue)+"px");var me=N.gradient,pe=ee.mgt;pe?Q=!0:pe=me&&me.type,a.isArrayOrTypedArray(pe)&&(pe=pe[0],E[pe]||(pe=0));var ge=N.pattern,Te=ge&&w.getPatternAttr(ge.shape,ee.i,"");if(pe&&pe!=="none"){var He=ee.mgc;He?Q=!0:He=me.color;var Oe=J.uid;Q&&(Oe+="-"+ee.i),w.gradient(ie,L,Oe,pe,[[0,He],[1,q]],"fill")}else if(Te){var tt=w.getPatternAttr(ge.bgcolor,ee.i,null),Le=w.getPatternAttr(ge.fgcolor,ee.i,null),De=ge.fgopacity,Se=w.getPatternAttr(ge.size,ee.i,8),ze=w.getPatternAttr(ge.solidity,ee.i,.3),Ke=ee.mcc||a.isArrayOrTypedArray(ge.shape)||a.isArrayOrTypedArray(ge.bgcolor)||a.isArrayOrTypedArray(ge.size)||a.isArrayOrTypedArray(ge.solidity),_t=J.uid;Ke&&(_t+="-"+ee.i),w.pattern(ie,"point",L,_t,Te,Se,ze,ee.mcc,ge.fillmode,tt,Le,De)}else h.fill(ie,q);ue&&h.stroke(ie,re)}},w.makePointStyleFns=function(ee){var ie={},J=ee.marker;return ie.markerScale=w.tryColorscale(J,""),ie.lineScale=w.tryColorscale(J,"line"),c.traceIs(ee,"symbols")&&(ie.ms2mrc=b.isBubble(ee)?y(ee):function(){return(J.size||6)/2}),ee.selectedpoints&&a.extendFlat(ie,w.makeSelectedPointStyleFns(ee)),ie},w.makeSelectedPointStyleFns=function(ee){var ie={},J=ee.selected||{},te=ee.unselected||{},L=ee.marker||{},N=J.marker||{},G=te.marker||{},Y=L.opacity,j=N.opacity,Q=G.opacity,q=j!==void 0,re=Q!==void 0;(a.isArrayOrTypedArray(Y)||q||re)&&(ie.selectedOpacityFn=function(tt){var Le=tt.mo===void 0?L.opacity:tt.mo;return tt.selected?q?j:Le:re?Q:d*Le});var ue=L.color,de=N.color,me=G.color;(de||me)&&(ie.selectedColorFn=function(tt){var Le=tt.mcc||ue;return tt.selected?de||Le:me||Le});var pe=L.size,ge=N.size,Te=G.size,He=ge!==void 0,Oe=Te!==void 0;return c.traceIs(ee,"symbols")&&(He||Oe)&&(ie.selectedSizeFn=function(tt){var Le=tt.mrc||pe/2;return tt.selected?He?ge/2:Le:Oe?Te/2:Le}),ie},w.makeSelectedTextStyleFns=function(ee){var ie={},J=ee.selected||{},te=ee.unselected||{},L=ee.textfont||{},N=J.textfont||{},G=te.textfont||{},Y=L.color,j=N.color,Q=G.color;return ie.selectedTextColorFn=function(q){var re=q.tc||Y;return q.selected?j||re:Q||(j?re:h.addOpacity(re,d))},ie},w.selectedPointStyle=function(ee,ie){if(!(!ee.size()||!ie.selectedpoints)){var J=w.makeSelectedPointStyleFns(ie),te=ie.marker||{},L=[];J.selectedOpacityFn&&L.push(function(N,G){N.style("opacity",J.selectedOpacityFn(G))}),J.selectedColorFn&&L.push(function(N,G){h.fill(N,J.selectedColorFn(G))}),J.selectedSizeFn&&L.push(function(N,G){var Y=G.mx||te.symbol||0,j=J.selectedSizeFn(G);N.attr("d",D(w.symbolNumber(Y),j)),G.mrc2=j}),L.length&&ee.each(function(N){for(var G=n.select(this),Y=0;Y<L.length;Y++)L[Y](G,N)})}},w.tryColorscale=function(ee,ie){var J=ie?a.nestedProperty(ee,ie).get():ee;if(J){var te=J.color;if((J.colorscale||J._colorAx)&&a.isArrayOrTypedArray(te))return v.makeColorScaleFuncFromTrace(J)}return a.identity};var O={start:1,end:-1,middle:0,bottom:1,top:-1};function I(ee,ie,J,te,L){var N=n.select(ee.node().parentNode),G=ie.indexOf("top")!==-1?"top":ie.indexOf("bottom")!==-1?"bottom":"middle",Y=ie.indexOf("left")!==-1?"end":ie.indexOf("right")!==-1?"start":"middle",j=te?te/.8+1:0,Q=(m.lineCount(ee)-1)*p+1,q=O[Y]*j,re=J*.75+O[G]*j+(O[G]-1)*Q*J/2;ee.attr("text-anchor",Y),L||N.attr("transform",f(q,re))}function U(ee,ie){var J=ee.ts||ie.textfont.size;return l(J)&&J>0?J:0}w.textPointStyle=function(ee,ie,J){if(ee.size()){var te;if(ie.selectedpoints){var L=w.makeSelectedTextStyleFns(ie);te=L.selectedTextColorFn}var N=ie.texttemplate,G=J._fullLayout;ee.each(function(Y){var j=n.select(this),Q=N?a.extractOption(Y,ie,"txt","texttemplate"):a.extractOption(Y,ie,"tx","text");if(!Q&&Q!==0){j.remove();return}if(N){var q=ie._module.formatLabels,re=q?q(Y,ie,G):{},ue={};x(ue,ie,Y.i);var de=ie._meta||{};Q=a.texttemplateString(Q,re,G._d3locale,ue,Y,de)}var me=Y.tp||ie.textposition,pe=U(Y,ie),ge=te?te(Y):Y.tc||ie.textfont.color;j.call(w.font,Y.tf||ie.textfont.family,pe,ge).text(Q).call(m.convertToTspans,J).call(I,me,pe,Y.mrc)})}},w.selectedTextStyle=function(ee,ie){if(!(!ee.size()||!ie.selectedpoints)){var J=w.makeSelectedTextStyleFns(ie);ee.each(function(te){var L=n.select(this),N=J.selectedTextColorFn(te),G=te.tp||ie.textposition,Y=U(te,ie);h.fill(L,N);var j=c.traceIs(ie,"bar-like");I(L,G,Y,te.mrc2||te.mrc,j)})}};var V=.5;w.smoothopen=function(ee,ie){if(ee.length<3)return"M"+ee.join("L");var J="M"+ee[0],te=[],L;for(L=1;L<ee.length-1;L++)te.push(Z(ee[L-1],ee[L],ee[L+1],ie));for(J+="Q"+te[0][0]+" "+ee[1],L=2;L<ee.length-1;L++)J+="C"+te[L-2][1]+" "+te[L-1][0]+" "+ee[L];return J+="Q"+te[ee.length-3][1]+" "+ee[ee.length-1],J},w.smoothclosed=function(ee,ie){if(ee.length<3)return"M"+ee.join("L")+"Z";var J="M"+ee[0],te=ee.length-1,L=[Z(ee[te],ee[0],ee[1],ie)],N;for(N=1;N<te;N++)L.push(Z(ee[N-1],ee[N],ee[N+1],ie));for(L.push(Z(ee[te-1],ee[te],ee[0],ie)),N=1;N<=te;N++)J+="C"+L[N-1][1]+" "+L[N][0]+" "+ee[N];return J+="C"+L[te][1]+" "+L[0][0]+" "+ee[0]+"Z",J};function Z(ee,ie,J,te){var L=ee[0]-ie[0],N=ee[1]-ie[1],G=J[0]-ie[0],Y=J[1]-ie[1],j=Math.pow(L*L+N*N,V/2),Q=Math.pow(G*G+Y*Y,V/2),q=(Q*Q*L-j*j*G)*te,re=(Q*Q*N-j*j*Y)*te,ue=3*Q*(j+Q),de=3*j*(j+Q);return[[n.round(ie[0]+(ue&&q/ue),2),n.round(ie[1]+(ue&&re/ue),2)],[n.round(ie[0]-(de&&q/de),2),n.round(ie[1]-(de&&re/de),2)]]}var z={hv:function(ee,ie){return"H"+n.round(ie[0],2)+"V"+n.round(ie[1],2)},vh:function(ee,ie){return"V"+n.round(ie[1],2)+"H"+n.round(ie[0],2)},hvh:function(ee,ie){return"H"+n.round((ee[0]+ie[0])/2,2)+"V"+n.round(ie[1],2)+"H"+n.round(ie[0],2)},vhv:function(ee,ie){return"V"+n.round((ee[1]+ie[1])/2,2)+"H"+n.round(ie[0],2)+"V"+n.round(ie[1],2)}},H=function(ee,ie){return"L"+n.round(ie[0],2)+","+n.round(ie[1],2)};w.steps=function(ee){var ie=z[ee]||H;return function(J){for(var te="M"+n.round(J[0][0],2)+","+n.round(J[0][1],2),L=1;L<J.length;L++)te+=ie(J[L-1],J[L]);return te}},w.makeTester=function(){var ee=a.ensureSingleById(n.select("body"),"svg","js-plotly-tester",function(J){J.attr(_.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),ie=a.ensureSingle(ee,"path","js-reference-point",function(J){J.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});w.tester=ee,w.testref=ie},w.savedBBoxes={};var B=0,W=1e4;w.bBox=function(ee,ie,J){J||(J=F(ee));var te;if(J){if(te=w.savedBBoxes[J],te)return a.extendFlat({},te)}else if(ee.childNodes.length===1){var L=ee.childNodes[0];if(J=F(L),J){var N=+L.getAttribute("x")||0,G=+L.getAttribute("y")||0,Y=L.getAttribute("transform");if(!Y){var j=w.bBox(L,!1,J);return N&&(j.left+=N,j.right+=N),G&&(j.top+=G,j.bottom+=G),j}if(J+="~"+N+"~"+G+"~"+Y,te=w.savedBBoxes[J],te)return a.extendFlat({},te)}}var Q,q;ie?Q=ee:(q=w.tester.node(),Q=ee.cloneNode(!0),q.appendChild(Q)),n.select(Q).attr("transform",null).call(m.positionText,0,0);var re=Q.getBoundingClientRect(),ue=w.testref.node().getBoundingClientRect();ie||q.removeChild(Q);var de={height:re.height,width:re.width,left:re.left-ue.left,top:re.top-ue.top,right:re.right-ue.left,bottom:re.bottom-ue.top};return B>=W&&(w.savedBBoxes={},B=0),J&&(w.savedBBoxes[J]=de),B++,a.extendFlat({},de)};function F(ee){var ie=ee.getAttribute("data-unformatted");if(ie!==null)return ie+ee.getAttribute("data-math")+ee.getAttribute("text-anchor")+ee.getAttribute("style")}w.setClipUrl=function(ee,ie,J){ee.attr("clip-path",K(ie,J))};function K(ee,ie){if(!ee)return null;var J=ie._context,te=J._exportedPlot?"":J._baseUrl||"";return te?"url('"+te+"#"+ee+"')":"url(#"+ee+")"}w.getTranslate=function(ee){var ie=/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,J=ee.attr?"attr":"getAttribute",te=ee[J]("transform")||"",L=te.replace(ie,function(N,G,Y){return[G,Y].join(" ")}).split(" ");return{x:+L[0]||0,y:+L[1]||0}},w.setTranslate=function(ee,ie,J){var te=/(\btranslate\(.*?\);?)/,L=ee.attr?"attr":"getAttribute",N=ee.attr?"attr":"setAttribute",G=ee[L]("transform")||"";return ie=ie||0,J=J||0,G=G.replace(te,"").trim(),G+=f(ie,J),G=G.trim(),ee[N]("transform",G),G},w.getScale=function(ee){var ie=/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,J=ee.attr?"attr":"getAttribute",te=ee[J]("transform")||"",L=te.replace(ie,function(N,G,Y){return[G,Y].join(" ")}).split(" ");return{x:+L[0]||1,y:+L[1]||1}},w.setScale=function(ee,ie,J){var te=/(\bscale\(.*?\);?)/,L=ee.attr?"attr":"getAttribute",N=ee.attr?"attr":"setAttribute",G=ee[L]("transform")||"";return ie=ie||1,J=J||1,G=G.replace(te,"").trim(),G+="scale("+ie+","+J+")",G=G.trim(),ee[N]("transform",G),G};var fe=/\s*sc.*/;w.setPointGroupScale=function(ee,ie,J){if(ie=ie||1,J=J||1,!!ee){var te=ie===1&&J===1?"":"scale("+ie+","+J+")";ee.each(function(){var L=(this.getAttribute("transform")||"").replace(fe,"");L+=te,L=L.trim(),this.setAttribute("transform",L)})}};var se=/translate\([^)]*\)\s*$/;w.setTextPointsScale=function(ee,ie,J){ee&&ee.each(function(){var te,L=n.select(this),N=L.select("text");if(N.node()){var G=parseFloat(N.attr("x")||0),Y=parseFloat(N.attr("y")||0),j=(L.attr("transform")||"").match(se);ie===1&&J===1?te=[]:te=[f(G,Y),"scale("+ie+","+J+")",f(-G,-Y)],j&&te.push(j),L.attr("transform",te.join(""))}})}},{"../../components/fx/helpers":139,"../../constants/alignment":219,"../../constants/interactions":223,"../../constants/xmlns_namespaces":225,"../../lib":244,"../../lib/svg_text_utils":267,"../../registry":327,"../../traces/scatter/make_bubble_size_func":384,"../../traces/scatter/subtypes":392,"../color":103,"../colorscale":115,"./symbol_defs":126,"@plotly/d3":11,"fast-isnumeric":17,tinycolor2:68}],126:[function(r,i,o){var n=r("@plotly/d3");i.exports={circle:{n:0,f:function(a){var s=n.round(a,2);return"M"+s+",0A"+s+","+s+" 0 1,1 0,-"+s+"A"+s+","+s+" 0 0,1 "+s+",0Z"}},square:{n:1,f:function(a){var s=n.round(a,2);return"M"+s+","+s+"H-"+s+"V-"+s+"H"+s+"Z"}},diamond:{n:2,f:function(a){var s=n.round(a*1.3,2);return"M"+s+",0L0,"+s+"L-"+s+",0L0,-"+s+"Z"}},cross:{n:3,f:function(a){var s=n.round(a*.4,2),l=n.round(a*1.2,2);return"M"+l+","+s+"H"+s+"V"+l+"H-"+s+"V"+s+"H-"+l+"V-"+s+"H-"+s+"V-"+l+"H"+s+"V-"+s+"H"+l+"Z"}},x:{n:4,f:function(a){var s=n.round(a*.8/Math.sqrt(2),2),l="l"+s+","+s,u="l"+s+",-"+s,c="l-"+s+",-"+s,h="l-"+s+","+s;return"M0,"+s+l+u+c+u+c+h+c+h+l+h+l+"Z"}},"triangle-up":{n:5,f:function(a){var s=n.round(a*2/Math.sqrt(3),2),l=n.round(a/2,2),u=n.round(a,2);return"M-"+s+","+l+"H"+s+"L0,-"+u+"Z"}},"triangle-down":{n:6,f:function(a){var s=n.round(a*2/Math.sqrt(3),2),l=n.round(a/2,2),u=n.round(a,2);return"M-"+s+",-"+l+"H"+s+"L0,"+u+"Z"}},"triangle-left":{n:7,f:function(a){var s=n.round(a*2/Math.sqrt(3),2),l=n.round(a/2,2),u=n.round(a,2);return"M"+l+",-"+s+"V"+s+"L-"+u+",0Z"}},"triangle-right":{n:8,f:function(a){var s=n.round(a*2/Math.sqrt(3),2),l=n.round(a/2,2),u=n.round(a,2);return"M-"+l+",-"+s+"V"+s+"L"+u+",0Z"}},"triangle-ne":{n:9,f:function(a){var s=n.round(a*.6,2),l=n.round(a*1.2,2);return"M-"+l+",-"+s+"H"+s+"V"+l+"Z"}},"triangle-se":{n:10,f:function(a){var s=n.round(a*.6,2),l=n.round(a*1.2,2);return"M"+s+",-"+l+"V"+s+"H-"+l+"Z"}},"triangle-sw":{n:11,f:function(a){var s=n.round(a*.6,2),l=n.round(a*1.2,2);return"M"+l+","+s+"H-"+s+"V-"+l+"Z"}},"triangle-nw":{n:12,f:function(a){var s=n.round(a*.6,2),l=n.round(a*1.2,2);return"M-"+s+","+l+"V-"+s+"H"+l+"Z"}},pentagon:{n:13,f:function(a){var s=n.round(a*.951,2),l=n.round(a*.588,2),u=n.round(-a,2),c=n.round(a*-.309,2),h=n.round(a*.809,2);return"M"+s+","+c+"L"+l+","+h+"H-"+l+"L-"+s+","+c+"L0,"+u+"Z"}},hexagon:{n:14,f:function(a){var s=n.round(a,2),l=n.round(a/2,2),u=n.round(a*Math.sqrt(3)/2,2);return"M"+u+",-"+l+"V"+l+"L0,"+s+"L-"+u+","+l+"V-"+l+"L0,-"+s+"Z"}},hexagon2:{n:15,f:function(a){var s=n.round(a,2),l=n.round(a/2,2),u=n.round(a*Math.sqrt(3)/2,2);return"M-"+l+","+u+"H"+l+"L"+s+",0L"+l+",-"+u+"H-"+l+"L-"+s+",0Z"}},octagon:{n:16,f:function(a){var s=n.round(a*.924,2),l=n.round(a*.383,2);return"M-"+l+",-"+s+"H"+l+"L"+s+",-"+l+"V"+l+"L"+l+","+s+"H-"+l+"L-"+s+","+l+"V-"+l+"Z"}},star:{n:17,f:function(a){var s=a*1.4,l=n.round(s*.225,2),u=n.round(s*.951,2),c=n.round(s*.363,2),h=n.round(s*.588,2),v=n.round(-s,2),f=n.round(s*-.309,2),m=n.round(s*.118,2),_=n.round(s*.809,2),g=n.round(s*.382,2);return"M"+l+","+f+"H"+u+"L"+c+","+m+"L"+h+","+_+"L0,"+g+"L-"+h+","+_+"L-"+c+","+m+"L-"+u+","+f+"H-"+l+"L0,"+v+"Z"}},hexagram:{n:18,f:function(a){var s=n.round(a*.66,2),l=n.round(a*.38,2),u=n.round(a*.76,2);return"M-"+u+",0l-"+l+",-"+s+"h"+u+"l"+l+",-"+s+"l"+l+","+s+"h"+u+"l-"+l+","+s+"l"+l+","+s+"h-"+u+"l-"+l+","+s+"l-"+l+",-"+s+"h-"+u+"Z"}},"star-triangle-up":{n:19,f:function(a){var s=n.round(a*Math.sqrt(3)*.8,2),l=n.round(a*.8,2),u=n.round(a*1.6,2),c=n.round(a*4,2),h="A "+c+","+c+" 0 0 1 ";return"M-"+s+","+l+h+s+","+l+h+"0,-"+u+h+"-"+s+","+l+"Z"}},"star-triangle-down":{n:20,f:function(a){var s=n.round(a*Math.sqrt(3)*.8,2),l=n.round(a*.8,2),u=n.round(a*1.6,2),c=n.round(a*4,2),h="A "+c+","+c+" 0 0 1 ";return"M"+s+",-"+l+h+"-"+s+",-"+l+h+"0,"+u+h+s+",-"+l+"Z"}},"star-square":{n:21,f:function(a){var s=n.round(a*1.1,2),l=n.round(a*2,2),u="A "+l+","+l+" 0 0 1 ";return"M-"+s+",-"+s+u+"-"+s+","+s+u+s+","+s+u+s+",-"+s+u+"-"+s+",-"+s+"Z"}},"star-diamond":{n:22,f:function(a){var s=n.round(a*1.4,2),l=n.round(a*1.9,2),u="A "+l+","+l+" 0 0 1 ";return"M-"+s+",0"+u+"0,"+s+u+s+",0"+u+"0,-"+s+u+"-"+s+",0Z"}},"diamond-tall":{n:23,f:function(a){var s=n.round(a*.7,2),l=n.round(a*1.4,2);return"M0,"+l+"L"+s+",0L0,-"+l+"L-"+s+",0Z"}},"diamond-wide":{n:24,f:function(a){var s=n.round(a*1.4,2),l=n.round(a*.7,2);return"M0,"+l+"L"+s+",0L0,-"+l+"L-"+s+",0Z"}},hourglass:{n:25,f:function(a){var s=n.round(a,2);return"M"+s+","+s+"H-"+s+"L"+s+",-"+s+"H-"+s+"Z"},noDot:!0},bowtie:{n:26,f:function(a){var s=n.round(a,2);return"M"+s+","+s+"V-"+s+"L-"+s+","+s+"V-"+s+"Z"},noDot:!0},"circle-cross":{n:27,f:function(a){var s=n.round(a,2);return"M0,"+s+"V-"+s+"M"+s+",0H-"+s+"M"+s+",0A"+s+","+s+" 0 1,1 0,-"+s+"A"+s+","+s+" 0 0,1 "+s+",0Z"},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(a){var s=n.round(a,2),l=n.round(a/Math.sqrt(2),2);return"M"+l+","+l+"L-"+l+",-"+l+"M"+l+",-"+l+"L-"+l+","+l+"M"+s+",0A"+s+","+s+" 0 1,1 0,-"+s+"A"+s+","+s+" 0 0,1 "+s+",0Z"},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(a){var s=n.round(a,2);return"M0,"+s+"V-"+s+"M"+s+",0H-"+s+"M"+s+","+s+"H-"+s+"V-"+s+"H"+s+"Z"},needLine:!0,noDot:!0},"square-x":{n:30,f:function(a){var s=n.round(a,2);return"M"+s+","+s+"L-"+s+",-"+s+"M"+s+",-"+s+"L-"+s+","+s+"M"+s+","+s+"H-"+s+"V-"+s+"H"+s+"Z"},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(a){var s=n.round(a*1.3,2);return"M"+s+",0L0,"+s+"L-"+s+",0L0,-"+s+"ZM0,-"+s+"V"+s+"M-"+s+",0H"+s},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(a){var s=n.round(a*1.3,2),l=n.round(a*.65,2);return"M"+s+",0L0,"+s+"L-"+s+",0L0,-"+s+"ZM-"+l+",-"+l+"L"+l+","+l+"M-"+l+","+l+"L"+l+",-"+l},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(a){var s=n.round(a*1.4,2);return"M0,"+s+"V-"+s+"M"+s+",0H-"+s},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(a){var s=n.round(a,2);return"M"+s+","+s+"L-"+s+",-"+s+"M"+s+",-"+s+"L-"+s+","+s},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(a){var s=n.round(a*1.2,2),l=n.round(a*.85,2);return"M0,"+s+"V-"+s+"M"+s+",0H-"+s+"M"+l+","+l+"L-"+l+",-"+l+"M"+l+",-"+l+"L-"+l+","+l},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(a){var s=n.round(a/2,2),l=n.round(a,2);return"M"+s+","+l+"V-"+l+"m-"+l+",0V"+l+"M"+l+","+s+"H-"+l+"m0,-"+l+"H"+l},needLine:!0,noFill:!0},"y-up":{n:37,f:function(a){var s=n.round(a*1.2,2),l=n.round(a*1.6,2),u=n.round(a*.8,2);return"M-"+s+","+u+"L0,0M"+s+","+u+"L0,0M0,-"+l+"L0,0"},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(a){var s=n.round(a*1.2,2),l=n.round(a*1.6,2),u=n.round(a*.8,2);return"M-"+s+",-"+u+"L0,0M"+s+",-"+u+"L0,0M0,"+l+"L0,0"},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(a){var s=n.round(a*1.2,2),l=n.round(a*1.6,2),u=n.round(a*.8,2);return"M"+u+","+s+"L0,0M"+u+",-"+s+"L0,0M-"+l+",0L0,0"},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(a){var s=n.round(a*1.2,2),l=n.round(a*1.6,2),u=n.round(a*.8,2);return"M-"+u+","+s+"L0,0M-"+u+",-"+s+"L0,0M"+l+",0L0,0"},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(a){var s=n.round(a*1.4,2);return"M"+s+",0H-"+s},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(a){var s=n.round(a*1.4,2);return"M0,"+s+"V-"+s},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(a){var s=n.round(a,2);return"M"+s+",-"+s+"L-"+s+","+s},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(a){var s=n.round(a,2);return"M"+s+","+s+"L-"+s+",-"+s},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(a){var s=n.round(a,2),l=n.round(a*2,2);return"M0,0L-"+s+","+l+"H"+s+"Z"},noDot:!0},"arrow-down":{n:46,f:function(a){var s=n.round(a,2),l=n.round(a*2,2);return"M0,0L-"+s+",-"+l+"H"+s+"Z"},noDot:!0},"arrow-left":{n:47,f:function(a){var s=n.round(a*2,2),l=n.round(a,2);return"M0,0L"+s+",-"+l+"V"+l+"Z"},noDot:!0},"arrow-right":{n:48,f:function(a){var s=n.round(a*2,2),l=n.round(a,2);return"M0,0L-"+s+",-"+l+"V"+l+"Z"},noDot:!0},"arrow-bar-up":{n:49,f:function(a){var s=n.round(a,2),l=n.round(a*2,2);return"M-"+s+",0H"+s+"M0,0L-"+s+","+l+"H"+s+"Z"},needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(a){var s=n.round(a,2),l=n.round(a*2,2);return"M-"+s+",0H"+s+"M0,0L-"+s+",-"+l+"H"+s+"Z"},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(a){var s=n.round(a*2,2),l=n.round(a,2);return"M0,-"+l+"V"+l+"M0,0L"+s+",-"+l+"V"+l+"Z"},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(a){var s=n.round(a*2,2),l=n.round(a,2);return"M0,-"+l+"V"+l+"M0,0L-"+s+",-"+l+"V"+l+"Z"},needLine:!0,noDot:!0}}},{"@plotly/d3":11}],127:[function(r,i,o){i.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},{}],128:[function(r,i,o){var n=r("fast-isnumeric"),a=r("../../registry"),s=r("../../plots/cartesian/axes"),l=r("../../lib"),u=r("./compute_error");i.exports=function(v){for(var f=v.calcdata,m=0;m<f.length;m++){var _=f[m],g=_[0].trace;if(g.visible===!0&&a.traceIs(g,"errorBarsOK")){var p=s.getFromId(v,g.xaxis),d=s.getFromId(v,g.yaxis);c(_,g,p,"x"),c(_,g,d,"y")}}};function c(h,v,f,m){var _=v["error_"+m]||{},g=_.visible&&["linear","log"].indexOf(f.type)!==-1,p=[];if(g){for(var d=u(_),b=0;b<h.length;b++){var y=h[b],x=y.i;if(x===void 0)x=b;else if(x===null)continue;var w=y[m];if(n(f.c2l(w))){var C=d(w,x);if(n(C[0])&&n(C[1])){var S=y[m+"s"]=w-C[0],T=y[m+"h"]=w+C[1];p.push(S,T)}}}var M=f._id,D=v._extremes[M],k=s.findExtremes(f,p,l.extendFlat({tozero:D.opts.tozero},{padded:!0}));D.min=D.min.concat(k.min),D.max=D.max.concat(k.max)}}},{"../../lib":244,"../../plots/cartesian/axes":291,"../../registry":327,"./compute_error":129,"fast-isnumeric":17}],129:[function(r,i,o){i.exports=function(s){var l=s.type,u=s.symmetric;if(l==="data"){var c=s.array||[];if(u)return function(_,g){var p=+c[g];return[p,p]};var h=s.arrayminus||[];return function(_,g){var p=+c[g],d=+h[g];return!isNaN(p)||!isNaN(d)?[d||0,p||0]:[NaN,NaN]}}else{var v=n(l,s.value),f=n(l,s.valueminus);return u||s.valueminus===void 0?function(_){var g=v(_);return[g,g]}:function(_){return[f(_),v(_)]}}};function n(a,s){if(a==="percent")return function(l){return Math.abs(l*s/100)};if(a==="constant")return function(){return Math.abs(s)};if(a==="sqrt")return function(l){return Math.sqrt(Math.abs(l))}}},{}],130:[function(r,i,o){var n=r("fast-isnumeric"),a=r("../../registry"),s=r("../../lib"),l=r("../../plot_api/plot_template"),u=r("./attributes");i.exports=function(c,h,v,f){var m="error_"+f.axis,_=l.newContainer(h,m),g=c[m]||{};function p(S,T){return s.coerce(g,_,u,S,T)}var d=g.array!==void 0||g.value!==void 0||g.type==="sqrt",b=p("visible",d);if(b!==!1){var y=p("type","array"in g?"data":"percent"),x=!0;y!=="sqrt"&&(x=p("symmetric",!((y==="data"?"arrayminus":"valueminus")in g))),y==="data"?(p("array"),p("traceref"),x||(p("arrayminus"),p("tracerefminus"))):(y==="percent"||y==="constant")&&(p("value"),x||p("valueminus"));var w="copy_"+f.inherit+"style";if(f.inherit){var C=h["error_"+f.inherit];(C||{}).visible&&p(w,!(g.color||n(g.thickness)||n(g.width)))}(!f.inherit||!_[w])&&(p("color",v),p("thickness"),p("width",a.traceIs(h,"gl3d")?0:4))}}},{"../../lib":244,"../../plot_api/plot_template":280,"../../registry":327,"./attributes":127,"fast-isnumeric":17}],131:[function(r,i,o){var n=r("../../lib"),a=r("../../plot_api/edit_types").overrideAll,s=r("./attributes"),l={error_x:n.extendFlat({},s),error_y:n.extendFlat({},s)};delete l.error_x.copy_zstyle,delete l.error_y.copy_zstyle,delete l.error_y.copy_ystyle;var u={error_x:n.extendFlat({},s),error_y:n.extendFlat({},s),error_z:n.extendFlat({},s)};delete u.error_x.copy_ystyle,delete u.error_y.copy_ystyle,delete u.error_z.copy_ystyle,delete u.error_z.copy_zstyle,i.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:l,bar:l,histogram:l,scatter3d:a(u,"calc","nested"),scattergl:a(l,"calc","nested")}},supplyDefaults:r("./defaults"),calc:r("./calc"),makeComputeError:r("./compute_error"),plot:r("./plot"),style:r("./style"),hoverInfo:c};function c(h,v,f){(v.error_y||{}).visible&&(f.yerr=h.yh-h.y,v.error_y.symmetric||(f.yerrneg=h.y-h.ys)),(v.error_x||{}).visible&&(f.xerr=h.xh-h.x,v.error_x.symmetric||(f.xerrneg=h.x-h.xs))}},{"../../lib":244,"../../plot_api/edit_types":273,"./attributes":127,"./calc":128,"./compute_error":129,"./defaults":130,"./plot":132,"./style":133}],132:[function(r,i,o){var n=r("@plotly/d3"),a=r("fast-isnumeric"),s=r("../drawing"),l=r("../../traces/scatter/subtypes");i.exports=function(h,v,f,m){var _,g=f.xaxis,p=f.yaxis,d=m&&m.duration>0;v.each(function(b){var y=b[0].trace,x=y.error_x||{},w=y.error_y||{},C;y.ids&&(C=function(D){return D.id});var S=l.hasMarkers(y)&&y.marker.maxdisplayed>0;!w.visible&&!x.visible&&(b=[]);var T=n.select(this).selectAll("g.errorbar").data(b,C);if(T.exit().remove(),!!b.length){x.visible||T.selectAll("path.xerror").remove(),w.visible||T.selectAll("path.yerror").remove(),T.style("opacity",1);var M=T.enter().append("g").classed("errorbar",!0);d&&M.style("opacity",0).transition().duration(m.duration).style("opacity",1),s.setClipUrl(T,f.layerClipId,h),T.each(function(D){var k=n.select(this),R=u(D,g,p);if(!(S&&!D.vis)){var P,E=k.select("path.yerror");if(w.visible&&a(R.x)&&a(R.yh)&&a(R.ys)){var O=w.width;P="M"+(R.x-O)+","+R.yh+"h"+2*O+"m-"+O+",0V"+R.ys,R.noYS||(P+="m-"+O+",0h"+2*O),_=!E.size(),_?E=k.append("path").style("vector-effect","non-scaling-stroke").classed("yerror",!0):d&&(E=E.transition().duration(m.duration).ease(m.easing)),E.attr("d",P)}else E.remove();var I=k.select("path.xerror");if(x.visible&&a(R.y)&&a(R.xh)&&a(R.xs)){var U=(x.copy_ystyle?w:x).width;P="M"+R.xh+","+(R.y-U)+"v"+2*U+"m0,-"+U+"H"+R.xs,R.noXS||(P+="m0,-"+U+"v"+2*U),_=!I.size(),_?I=k.append("path").style("vector-effect","non-scaling-stroke").classed("xerror",!0):d&&(I=I.transition().duration(m.duration).ease(m.easing)),I.attr("d",P)}else I.remove()}})}})};function u(c,h,v){var f={x:h.c2p(c.x),y:v.c2p(c.y)};return c.yh!==void 0&&(f.yh=v.c2p(c.yh),f.ys=v.c2p(c.ys),a(f.ys)||(f.noYS=!0,f.ys=v.c2p(c.ys,!0))),c.xh!==void 0&&(f.xh=h.c2p(c.xh),f.xs=h.c2p(c.xs),a(f.xs)||(f.noXS=!0,f.xs=h.c2p(c.xs,!0))),f}},{"../../traces/scatter/subtypes":392,"../drawing":125,"@plotly/d3":11,"fast-isnumeric":17}],133:[function(r,i,o){var n=r("@plotly/d3"),a=r("../color");i.exports=function(l){l.each(function(u){var c=u[0].trace,h=c.error_y||{},v=c.error_x||{},f=n.select(this);f.selectAll("path.yerror").style("stroke-width",h.thickness+"px").call(a.stroke,h.color),v.copy_ystyle&&(v=h),f.selectAll("path.xerror").style("stroke-width",v.thickness+"px").call(a.stroke,v.color)})}},{"../color":103,"@plotly/d3":11}],134:[function(r,i,o){var n=r("../../plots/font_attributes"),a=r("./layout_attributes").hoverlabel,s=r("../../lib/extend").extendFlat;i.exports={hoverlabel:{bgcolor:s({},a.bgcolor,{arrayOk:!0}),bordercolor:s({},a.bordercolor,{arrayOk:!0}),font:n({arrayOk:!0,editType:"none"}),align:s({},a.align,{arrayOk:!0}),namelength:s({},a.namelength,{arrayOk:!0}),editType:"none"}}},{"../../lib/extend":238,"../../plots/font_attributes":319,"./layout_attributes":144}],135:[function(r,i,o){var n=r("../../lib"),a=r("../../registry");i.exports=function(u){var c=u.calcdata,h=u._fullLayout;function v(p){return function(d){return n.coerceHoverinfo({hoverinfo:d},{_module:p._module},h)}}for(var f=0;f<c.length;f++){var m=c[f],_=m[0].trace;if(!a.traceIs(_,"pie-like")){var g=a.traceIs(_,"2dMap")?s:n.fillArray;g(_.hoverinfo,m,"hi",v(_)),_.hovertemplate&&g(_.hovertemplate,m,"ht"),_.hoverlabel&&(g(_.hoverlabel.bgcolor,m,"hbg"),g(_.hoverlabel.bordercolor,m,"hbc"),g(_.hoverlabel.font.size,m,"hts"),g(_.hoverlabel.font.color,m,"htc"),g(_.hoverlabel.font.family,m,"htf"),g(_.hoverlabel.namelength,m,"hnl"),g(_.hoverlabel.align,m,"hta"))}}};function s(l,u,c,h){h=h||n.identity,Array.isArray(l)&&(u[0][c]=h(l))}},{"../../lib":244,"../../registry":327}],136:[function(r,i,o){var n=r("../../registry"),a=r("./hover").hover;i.exports=function(l,u,c){var h=n.getComponentMethod("annotations","onClick")(l,l._hoverdata);c!==void 0&&a(l,u,c,!0);function v(){l.emit("plotly_click",{points:l._hoverdata,event:u})}l._hoverdata&&u&&u.target&&(h&&h.then?h.then(v):v(),u.stopImmediatePropagation&&u.stopImmediatePropagation())}},{"../../registry":327,"./hover":140}],137:[function(r,i,o){i.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},{}],138:[function(r,i,o){var n=r("../../lib"),a=r("./attributes"),s=r("./hoverlabel_defaults");i.exports=function(u,c,h,v){function f(_,g){return n.coerce(u,c,a,_,g)}var m=n.extendFlat({},v.hoverlabel);c.hovertemplate&&(m.namelength=-1),s(u,c,f,m)}},{"../../lib":244,"./attributes":134,"./hoverlabel_defaults":141}],139:[function(r,i,o){var n=r("../../lib");o.getSubplot=function(h){return h.subplot||h.xaxis+h.yaxis||h.geo},o.isTraceInSubplots=function(h,v){if(h.type==="splom"){for(var f=h.xaxes||[],m=h.yaxes||[],_=0;_<f.length;_++)for(var g=0;g<m.length;g++)if(v.indexOf(f[_]+m[g])!==-1)return!0;return!1}return v.indexOf(o.getSubplot(h))!==-1},o.flat=function(h,v){for(var f=new Array(h.length),m=0;m<h.length;m++)f[m]=v;return f},o.p2c=function(h,v){for(var f=new Array(h.length),m=0;m<h.length;m++)f[m]=h[m].p2c(v);return f},o.getDistanceFunction=function(h,v,f,m){return h==="closest"?m||o.quadrature(v,f):h.charAt(0)==="x"?v:f},o.getClosest=function(h,v,f){if(f.index!==!1)f.index>=0&&f.index<h.length?f.distance=0:f.index=!1;else for(var m=0;m<h.length;m++){var _=v(h[m]);_<=f.distance&&(f.index=m,f.distance=_)}return f},o.inbox=function(h,v,f){return h*v<0||h===0?f:1/0},o.quadrature=function(h,v){return function(f){var m=h(f),_=v(f);return Math.sqrt(m*m+_*_)}},o.makeEventData=function(h,v,f){var m="index"in h?h.index:h.pointNumber,_={data:v._input,fullData:v,curveNumber:v.index,pointNumber:m};if(v._indexToPoints){var g=v._indexToPoints[m];g.length===1?_.pointIndex=g[0]:_.pointIndices=g}else _.pointIndex=m;return v._module.eventData?_=v._module.eventData(_,h,v,f,m):("xVal"in h?_.x=h.xVal:"x"in h&&(_.x=h.x),"yVal"in h?_.y=h.yVal:"y"in h&&(_.y=h.y),h.xa&&(_.xaxis=h.xa),h.ya&&(_.yaxis=h.ya),h.zLabelVal!==void 0&&(_.z=h.zLabelVal)),o.appendArrayPointValue(_,v,m),_},o.appendArrayPointValue=function(h,v,f){var m=v._arrayAttrs;if(m)for(var _=0;_<m.length;_++){var g=m[_],p=s(g);if(h[p]===void 0){var d=n.nestedProperty(v,g).get(),b=l(d,f);b!==void 0&&(h[p]=b)}}},o.appendArrayMultiPointValues=function(h,v,f){var m=v._arrayAttrs;if(m)for(var _=0;_<m.length;_++){var g=m[_],p=s(g);if(h[p]===void 0){for(var d=n.nestedProperty(v,g).get(),b=new Array(f.length),y=0;y<f.length;y++)b[y]=l(d,f[y]);h[p]=b}}};var a={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function s(h){return a[h]||h}function l(h,v){if(Array.isArray(v)){if(Array.isArray(h)&&Array.isArray(h[v[0]]))return h[v[0]][v[1]]}else return h[v]}var u={x:!0,y:!0},c={"x unified":!0,"y unified":!0};o.isUnifiedHover=function(h){return typeof h!="string"?!1:!!c[h]},o.isXYhover=function(h){return typeof h!="string"?!1:!!u[h]}},{"../../lib":244}],140:[function(r,i,o){var n=r("@plotly/d3"),a=r("fast-isnumeric"),s=r("tinycolor2"),l=r("../../lib"),u=l.strTranslate,c=l.strRotate,h=r("../../lib/events"),v=r("../../lib/svg_text_utils"),f=r("../../lib/override_cursor"),m=r("../drawing"),_=r("../color"),g=r("../dragelement"),p=r("../../plots/cartesian/axes"),d=r("../../registry"),b=r("./helpers"),y=r("./constants"),x=r("../legend/defaults"),w=r("../legend/draw"),C=y.YANGLE,S=Math.PI*C/180,T=1/Math.sin(S),M=Math.cos(S),D=Math.sin(S),k=y.HOVERARROWSIZE,R=y.HOVERTEXTPAD,P={box:!0,ohlc:!0,violin:!0,candlestick:!0},E={scatter:!0,scattergl:!0,splom:!0};o.hover=function(N,G,Y,j){N=l.getGraphDiv(N);var Q=G.target;l.throttle(N._fullLayout._uid+y.HOVERID,y.HOVERMINTIME,function(){O(N,G,Y,j,Q)})},o.loneHover=function(N,G){var Y=!0;Array.isArray(N)||(Y=!1,N=[N]);var j=G.gd,Q=ie(j),q=J(j),re=N.map(function(Oe){var tt=Oe._x0||Oe.x0||Oe.x||0,Le=Oe._x1||Oe.x1||Oe.x||0,De=Oe._y0||Oe.y0||Oe.y||0,Se=Oe._y1||Oe.y1||Oe.y||0,ze=Oe.eventData;if(ze){var Ke=Math.min(tt,Le),_t=Math.max(tt,Le),Qe=Math.min(De,Se),et=Math.max(De,Se),rt=Oe.trace;if(d.traceIs(rt,"gl3d")){var ft=j._fullLayout[rt.scene]._scene.container,bt=ft.offsetLeft,Ft=ft.offsetTop;Ke+=bt,_t+=bt,Qe+=Ft,et+=Ft}ze.bbox={x0:Ke+q,x1:_t+q,y0:Qe+Q,y1:et+Q},G.inOut_bbox&&G.inOut_bbox.push(ze.bbox)}else ze=!1;return{color:Oe.color||_.defaultLine,x0:Oe.x0||Oe.x||0,x1:Oe.x1||Oe.x||0,y0:Oe.y0||Oe.y||0,y1:Oe.y1||Oe.y||0,xLabel:Oe.xLabel,yLabel:Oe.yLabel,zLabel:Oe.zLabel,text:Oe.text,name:Oe.name,idealAlign:Oe.idealAlign,borderColor:Oe.borderColor,fontFamily:Oe.fontFamily,fontSize:Oe.fontSize,fontColor:Oe.fontColor,nameLength:Oe.nameLength,textAlign:Oe.textAlign,trace:Oe.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:Oe.hovertemplate||!1,hovertemplateLabels:Oe.hovertemplateLabels||!1,eventData:ze}}),ue=!1,de=V(re,{gd:j,hovermode:"closest",rotateLabels:ue,bgColor:G.bgColor||_.background,container:n.select(G.container),outerContainer:G.outerContainer||G.container}),me=5,pe=0,ge=0;de.sort(function(Oe,tt){return Oe.y0-tt.y0}).each(function(Oe,tt){var Le=Oe.y0-Oe.by/2;Le-me<pe?Oe.offset=pe-Le+me:Oe.offset=0,pe=Le+Oe.by+Oe.offset,tt===G.anchorIndex&&(ge=Oe.offset)}).each(function(Oe){Oe.offset-=ge});var Te=j._fullLayout._invScaleX,He=j._fullLayout._invScaleY;return H(de,ue,Te,He),Y?de:de.node()};function O(L,N,G,Y,j){G||(G="xy");var Q=Array.isArray(G)?G:[G],q=L._fullLayout,re=q._plots||[],ue=re[G],de=q._has("cartesian");if(ue){var me=ue.overlays.map(function($t){return $t.id});Q=Q.concat(me)}for(var pe=Q.length,ge=new Array(pe),Te=new Array(pe),He=!1,Oe=0;Oe<pe;Oe++){var tt=Q[Oe];if(re[tt])He=!0,ge[Oe]=re[tt].xaxis,Te[Oe]=re[tt].yaxis;else if(q[tt]&&q[tt]._subplot){var Le=q[tt]._subplot;ge[Oe]=Le.xaxis,Te[Oe]=Le.yaxis}else{l.warn("Unrecognized subplot: "+tt);return}}var De=N.hovermode||q.hovermode;if(De&&!He&&(De="closest"),["x","y","closest","x unified","y unified"].indexOf(De)===-1||!L.calcdata||L.querySelector(".zoombox")||L._dragging)return g.unhoverRaw(L,N);var Se=q.hoverdistance;Se===-1&&(Se=1/0);var ze=q.spikedistance;ze===-1&&(ze=1/0);var Ke=[],_t=[],Qe,et,rt,ft,bt,Ft,ct,nt,at,It,zt,be,Me,Ue={hLinePoint:null,vLinePoint:null},ce=!1;if(Array.isArray(N))for(De="array",rt=0;rt<N.length;rt++)bt=L.calcdata[N[rt].curveNumber||0],bt&&(Ft=bt[0].trace,bt[0].trace.hoverinfo!=="skip"&&(_t.push(bt),Ft.orientation==="h"&&(ce=!0)));else{for(ft=0;ft<L.calcdata.length;ft++)bt=L.calcdata[ft],Ft=bt[0].trace,Ft.hoverinfo!=="skip"&&b.isTraceInSubplots(Ft,Q)&&(_t.push(bt),Ft.orientation==="h"&&(ce=!0));var Ce=!j,Ae,ke;if(Ce)"xpx"in N?Ae=N.xpx:Ae=ge[0]._length/2,"ypx"in N?ke=N.ypx:ke=Te[0]._length/2;else{if(h.triggerHandler(L,"plotly_beforehover",N)===!1)return;var xe=j.getBoundingClientRect();Ae=N.clientX-xe.left,ke=N.clientY-xe.top,q._calcInverseTransform(L);var ye=l.apply3DTransform(q._invTransform)(Ae,ke);if(Ae=ye[0],ke=ye[1],Ae<0||Ae>ge[0]._length||ke<0||ke>Te[0]._length)return g.unhoverRaw(L,N)}if(N.pointerX=Ae+ge[0]._offset,N.pointerY=ke+Te[0]._offset,"xval"in N?Qe=b.flat(Q,N.xval):Qe=b.p2c(ge,Ae),"yval"in N?et=b.flat(Q,N.yval):et=b.p2c(Te,ke),!a(Qe[0])||!a(et[0]))return l.warn("Fx.hover failed",N,L),g.unhoverRaw(L,N)}var Ee=1/0;function $e($t,ar){for(ft=0;ft<_t.length;ft++)if(bt=_t[ft],!(!bt||!bt[0]||!bt[0].trace)&&(Ft=bt[0].trace,!(Ft.visible!==!0||Ft._length===0)&&["carpet","contourcarpet"].indexOf(Ft._module.name)===-1)){if(Ft.type==="splom"?(nt=0,ct=Q[nt]):(ct=b.getSubplot(Ft),nt=Q.indexOf(ct)),at=De,b.isUnifiedHover(at)&&(at=at.charAt(0)),be={cd:bt,trace:Ft,xa:ge[nt],ya:Te[nt],maxHoverDistance:Se,maxSpikeDistance:ze,index:!1,distance:Math.min(Ee,Se),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:_.defaultLine,name:Ft.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},q[ct]&&(be.subplot=q[ct]._subplot),q._splomScenes&&q._splomScenes[Ft.uid]&&(be.scene=q._splomScenes[Ft.uid]),Me=Ke.length,at==="array"){var ir=N[ft];"pointNumber"in ir?(be.index=ir.pointNumber,at="closest"):(at="","xval"in ir&&(It=ir.xval,at="x"),"yval"in ir&&(zt=ir.yval,at=at?"closest":"y"))}else $t!==void 0&&ar!==void 0?(It=$t,zt=ar):(It=Qe[nt],zt=et[nt]);if(Se!==0)if(Ft._module&&Ft._module.hoverPoints){var cr=Ft._module.hoverPoints(be,It,zt,at,{finiteRange:!0,hoverLayer:q._hoverlayer});if(cr)for(var dr,vr=0;vr<cr.length;vr++)dr=cr[vr],a(dr.x0)&&a(dr.y0)&&Ke.push(B(dr,De))}else l.log("Unrecognized trace type in hover:",Ft);if(De==="closest"&&Ke.length>Me&&(Ke.splice(0,Me),Ee=Ke[0].distance),de&&ze!==0&&Ke.length===0){be.distance=ze,be.index=!1;var mr=Ft._module.hoverPoints(be,It,zt,"closest",{hoverLayer:q._hoverlayer});if(mr&&(mr=mr.filter(function(jr){return jr.spikeDistance<=ze})),mr&&mr.length){var _r,Mt=mr.filter(function(jr){return jr.xa.showspikes&&jr.xa.spikesnap!=="hovered data"});if(Mt.length){var Rt=Mt[0];a(Rt.x0)&&a(Rt.y0)&&(_r=Be(Rt),(!Ue.vLinePoint||Ue.vLinePoint.spikeDistance>_r.spikeDistance)&&(Ue.vLinePoint=_r))}var Lr=mr.filter(function(jr){return jr.ya.showspikes&&jr.ya.spikesnap!=="hovered data"});if(Lr.length){var kr=Lr[0];a(kr.x0)&&a(kr.y0)&&(_r=Be(kr),(!Ue.hLinePoint||Ue.hLinePoint.spikeDistance>_r.spikeDistance)&&(Ue.hLinePoint=_r))}}}}}$e();function Ie($t,ar,ir){for(var cr=null,dr=1/0,vr,mr=0;mr<$t.length;mr++)vr=$t[mr].spikeDistance,ir&&mr===0&&(vr=-1/0),vr<=dr&&vr<=ar&&(cr=$t[mr],dr=vr);return cr}function Be($t){return $t?{xa:$t.xa,ya:$t.ya,x:$t.xSpike!==void 0?$t.xSpike:($t.x0+$t.x1)/2,y:$t.ySpike!==void 0?$t.ySpike:($t.y0+$t.y1)/2,distance:$t.distance,spikeDistance:$t.spikeDistance,curveNumber:$t.trace.index,color:$t.color,pointNumber:$t.index}:null}var st={fullLayout:q,container:q._hoverlayer,event:N},gt=L._spikepoints,wt={vLinePoint:Ue.vLinePoint,hLinePoint:Ue.hLinePoint};L._spikepoints=wt;var Wt=function(){Ke.sort(function($t,ar){return $t.distance-ar.distance}),Ke=se(Ke,De)};Wt();var Yt=De.charAt(0),qt=(Yt==="x"||Yt==="y")&&Ke[0]&&E[Ke[0].trace.type];if(de&&ze!==0&&Ke.length!==0){var Bt=Ke.filter(function($t){return $t.ya.showspikes}),Ut=Ie(Bt,ze,qt);Ue.hLinePoint=Be(Ut);var Nt=Ke.filter(function($t){return $t.xa.showspikes}),dt=Ie(Nt,ze,qt);Ue.vLinePoint=Be(dt)}if(Ke.length===0){var Vt=g.unhoverRaw(L,N);return de&&(Ue.hLinePoint!==null||Ue.vLinePoint!==null)&&K(gt)&&W(L,Ue,st),Vt}if(de&&K(gt)&&W(L,Ue,st),b.isXYhover(at)&&Ke[0].length!==0&&Ke[0].trace.type!=="splom"){var Gt=Ke[0];P[Gt.trace.type]?Ke=Ke.filter(function($t){return $t.trace.index===Gt.trace.index}):Ke=[Gt];var rr=Ke.length,Jt=ee("x",Gt,q),Dt=ee("y",Gt,q);$e(Jt,Dt);var er=[],tr={},he=0,le=function($t){var ar=P[$t.trace.type]?I($t):$t.trace.index;if(!tr[ar])he++,tr[ar]=he,er.push($t);else{var ir=tr[ar]-1,cr=er[ir];ir>0&&Math.abs($t.distance)<Math.abs(cr.distance)&&(er[ir]=$t)}},Ne;for(Ne=0;Ne<rr;Ne++)le(Ke[Ne]);for(Ne=Ke.length-1;Ne>rr-1;Ne--)le(Ke[Ne]);Ke=er,Wt()}var Fe=L._hoverdata,We=[],Ze=ie(L),Ve=J(L);for(rt=0;rt<Ke.length;rt++){var je=Ke[rt],ut=b.makeEventData(je,je.trace,je.cd);if(je.hovertemplate!==!1){var St=!1;je.cd[je.index]&&je.cd[je.index].ht&&(St=je.cd[je.index].ht),je.hovertemplate=St||je.trace.hovertemplate||!1}if(je.xa&&je.ya){var Pt=je.x0+je.xa._offset,lt=je.x1+je.xa._offset,yt=je.y0+je.ya._offset,Ot=je.y1+je.ya._offset,At=Math.min(Pt,lt),mt=Math.max(Pt,lt),Et=Math.min(yt,Ot),jt=Math.max(yt,Ot);ut.bbox={x0:At+Ve,x1:mt+Ve,y0:Et+Ze,y1:jt+Ze}}je.eventData=[ut],We.push(ut)}L._hoverdata=We;var Lt=De==="y"&&(_t.length>1||Ke.length>1)||De==="closest"&&ce&&Ke.length>1,Ht=_.combine(q.plot_bgcolor||_.background,q.paper_bgcolor),Kt=V(Ke,{gd:L,hovermode:De,rotateLabels:Lt,bgColor:Ht,container:q._hoverlayer,outerContainer:q._paper.node(),commonLabelOpts:q.hoverlabel,hoverdistance:q.hoverdistance});if(b.isUnifiedHover(De)||(z(Kt,Lt?"xa":"ya",q),H(Kt,Lt,q._invScaleX,q._invScaleY)),j&&j.tagName){var Xt=d.getComponentMethod("annotations","hasClickToShow")(L,We);f(n.select(j),Xt?"pointer":"")}!j||Y||!F(L,N,Fe)||(Fe&&L.emit("plotly_unhover",{event:N,points:Fe}),L.emit("plotly_hover",{event:N,points:L._hoverdata,xaxes:ge,yaxes:Te,xvals:Qe,yvals:et}))}function I(L){return[L.trace.index,L.index,L.x0,L.y0,L.name,L.attr,L.xa?L.xa._id:"",L.ya?L.ya._id:""].join(",")}var U=/<extra>([\s\S]*)<\/extra>/;function V(L,N){var G=N.gd,Y=G._fullLayout,j=N.hovermode,Q=N.rotateLabels,q=N.bgColor,re=N.container,ue=N.outerContainer,de=N.commonLabelOpts||{};if(L.length===0)return[[]];var me=N.fontFamily||y.HOVERFONT,pe=N.fontSize||y.HOVERFONTSIZE,ge=L[0],Te=ge.xa,He=ge.ya,Oe=j.charAt(0),tt=ge[Oe+"Label"],Le=te(G,ue),De=Le.top,Se=Le.width,ze=Le.height,Ke=tt!==void 0&&ge.distance<=N.hoverdistance&&(j==="x"||j==="y");if(Ke){var _t=!0,Qe,et;for(Qe=0;Qe<L.length;Qe++)if(_t&&L[Qe].zLabel===void 0&&(_t=!1),et=L[Qe].hoverinfo||L[Qe].trace.hoverinfo,et){var rt=Array.isArray(et)?et:et.split("+");if(rt.indexOf("all")===-1&&rt.indexOf(j)===-1){Ke=!1;break}}_t&&(Ke=!1)}var ft=re.selectAll("g.axistext").data(Ke?[0]:[]);if(ft.enter().append("g").classed("axistext",!0),ft.exit().remove(),ft.each(function(){var dt=n.select(this),Vt=l.ensureSingle(dt,"path","",function(Ot){Ot.style({"stroke-width":"1px"})}),Gt=l.ensureSingle(dt,"text","",function(Ot){Ot.attr("data-notex",1)}),rr=de.bgcolor||_.defaultLine,Jt=de.bordercolor||_.contrast(rr),Dt=_.contrast(rr),er={family:de.font.family||me,size:de.font.size||pe,color:de.font.color||Dt};Vt.style({fill:rr,stroke:Jt}),Gt.text(tt).call(m.font,er).call(v.positionText,0,0).call(v.convertToTspans,G),dt.attr("transform","");var tr=te(G,Gt.node()),he,le;if(j==="x"){var Ne=Te.side==="top"?"-":"";Gt.attr("text-anchor","middle").call(v.positionText,0,Te.side==="top"?De-tr.bottom-k-R:De-tr.top+k+R),he=Te._offset+(ge.x0+ge.x1)/2,le=He._offset+(Te.side==="top"?0:He._length);var Fe=tr.width/2+R;he<Fe?(he=Fe,Vt.attr("d","M-"+(Fe-k)+",0L-"+(Fe-k*2)+","+Ne+k+"H"+(R+tr.width/2)+"v"+Ne+(R*2+tr.height)+"H-"+Fe+"V"+Ne+k+"Z")):he>Y.width-Fe?(he=Y.width-Fe,Vt.attr("d","M"+(Fe-k)+",0L"+Fe+","+Ne+k+"v"+Ne+(R*2+tr.height)+"H-"+Fe+"V"+Ne+k+"H"+(Fe-k*2)+"Z")):Vt.attr("d","M0,0L"+k+","+Ne+k+"H"+(R+tr.width/2)+"v"+Ne+(R*2+tr.height)+"H-"+(R+tr.width/2)+"V"+Ne+k+"H-"+k+"Z")}else{var We,Ze,Ve;He.side==="right"?(We="start",Ze=1,Ve="",he=Te._offset+Te._length):(We="end",Ze=-1,Ve="-",he=Te._offset),le=He._offset+(ge.y0+ge.y1)/2,Gt.attr("text-anchor",We),Vt.attr("d","M0,0L"+Ve+k+","+k+"V"+(R+tr.height/2)+"h"+Ve+(R*2+tr.width)+"V-"+(R+tr.height/2)+"H"+Ve+k+"V-"+k+"Z");var je=tr.height/2,ut=De-tr.top-je,St="clip"+Y._uid+"commonlabel"+He._id,Pt;if(he<tr.width+2*R+k){Pt="M-"+(k+R)+"-"+je+"h-"+(tr.width-R)+"V"+je+"h"+(tr.width-R)+"Z";var lt=tr.width-he+R;v.positionText(Gt,lt,ut),We==="end"&&Gt.selectAll("tspan").each(function(){var Ot=n.select(this),At=m.tester.append("text").text(Ot.text()).call(m.font,er),mt=te(G,At.node());Math.round(mt.width)<Math.round(tr.width)&&Ot.attr("x",lt-mt.width),At.remove()})}else v.positionText(Gt,Ze*(R+k),ut),Pt=null;var yt=Y._topclips.selectAll("#"+St).data(Pt?[0]:[]);yt.enter().append("clipPath").attr("id",St).append("path"),yt.exit().remove(),yt.select("path").attr("d",Pt),m.setClipUrl(Gt,Pt?St:null,G)}dt.attr("transform",u(he,le))}),b.isUnifiedHover(j)){re.selectAll("g.hovertext").remove();var bt=L.filter(function(dt){return dt.hoverinfo!=="none"});if(bt.length===0)return;var Ft=Y.hoverlabel,ct=Ft.font,nt={showlegend:!0,legend:{title:{text:tt,font:ct},font:ct,bgcolor:Ft.bgcolor,bordercolor:Ft.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:Y.legend?Y.legend.traceorder:void 0,orientation:"v"}},at={font:ct};x(nt,at,G._fullData);var It=at.legend;It.entries=[];for(var zt=0;zt<bt.length;zt++){var be=bt[zt];if(be.hoverinfo!=="none"){var Me=Z(be,!0,j,Y,tt),Ue=Me[0],ce=Me[1];be.name=ce,ce!==""?be.text=ce+" : "+Ue:be.text=Ue;var Ce=be.cd[be.index];Ce&&(Ce.mc&&(be.mc=Ce.mc),Ce.mcc&&(be.mc=Ce.mcc),Ce.mlc&&(be.mlc=Ce.mlc),Ce.mlcc&&(be.mlc=Ce.mlcc),Ce.mlw&&(be.mlw=Ce.mlw),Ce.mrc&&(be.mrc=Ce.mrc),Ce.dir&&(be.dir=Ce.dir)),be._distinct=!0,It.entries.push([be])}}It.entries.sort(function(dt,Vt){return dt[0].trace.index-Vt[0].trace.index}),It.layer=re,It._inHover=!0,It._groupTitleFont=Ft.grouptitlefont,w(G,It);var Ae=re.select("g.legend"),ke=te(G,Ae.node()),xe=ke.width+2*R,ye=ke.height+2*R,Ee=bt[0],$e=(Ee.x0+Ee.x1)/2,Ie=(Ee.y0+Ee.y1)/2,Be=!(d.traceIs(Ee.trace,"bar-like")||d.traceIs(Ee.trace,"box-violin")),st,gt;Oe==="y"?Be?(gt=Ie-R,st=Ie+R):(gt=Math.min.apply(null,bt.map(function(dt){return Math.min(dt.y0,dt.y1)})),st=Math.max.apply(null,bt.map(function(dt){return Math.max(dt.y0,dt.y1)}))):gt=st=l.mean(bt.map(function(dt){return(dt.y0+dt.y1)/2}))-ye/2;var wt,Wt;Oe==="x"?Be?(wt=$e+R,Wt=$e-R):(wt=Math.max.apply(null,bt.map(function(dt){return Math.max(dt.x0,dt.x1)})),Wt=Math.min.apply(null,bt.map(function(dt){return Math.min(dt.x0,dt.x1)}))):wt=Wt=l.mean(bt.map(function(dt){return(dt.x0+dt.x1)/2}))-xe/2;var Yt=Te._offset,qt=He._offset;st+=qt,wt+=Yt,Wt+=Yt-xe,gt+=qt-ye;var Bt,Ut;return wt+xe<Se&&wt>=0?Bt=wt:Wt+xe<Se&&Wt>=0?Bt=Wt:Yt+xe<Se?Bt=Yt:wt-$e<$e-Wt+xe?Bt=Se-xe:Bt=0,Bt+=R,st+ye<ze&&st>=0?Ut=st:gt+ye<ze&&gt>=0?Ut=gt:qt+ye<ze?Ut=qt:st-Ie<Ie-gt+ye?Ut=ze-ye:Ut=0,Ut+=R,Ae.attr("transform",u(Bt-1,Ut-1)),Ae}var Nt=re.selectAll("g.hovertext").data(L,function(dt){return I(dt)});return Nt.enter().append("g").classed("hovertext",!0).each(function(){var dt=n.select(this);dt.append("rect").call(_.fill,_.addOpacity(q,.8)),dt.append("text").classed("name",!0),dt.append("path").style("stroke-width","1px"),dt.append("text").classed("nums",!0).call(m.font,me,pe)}),Nt.exit().remove(),Nt.each(function(dt){var Vt=n.select(this).attr("transform",""),Gt=dt.color;Array.isArray(Gt)&&(Gt=Gt[dt.eventData[0].pointNumber]);var rr=dt.bgcolor||Gt,Jt=_.combine(_.opacity(rr)?rr:_.defaultLine,q),Dt=_.combine(_.opacity(Gt)?Gt:_.defaultLine,q),er=dt.borderColor||_.contrast(Jt),tr=Z(dt,Ke,j,Y,tt,Vt),he=tr[0],le=tr[1],Ne=Vt.select("text.nums").call(m.font,dt.fontFamily||me,dt.fontSize||pe,dt.fontColor||er).text(he).attr("data-notex",1).call(v.positionText,0,0).call(v.convertToTspans,G),Fe=Vt.select("text.name"),We=0,Ze=0;if(le&&le!==he){Fe.call(m.font,dt.fontFamily||me,dt.fontSize||pe,Dt).text(le).attr("data-notex",1).call(v.positionText,0,0).call(v.convertToTspans,G);var Ve=te(G,Fe.node());We=Ve.width+2*R,Ze=Ve.height+2*R}else Fe.remove(),Vt.select("rect").remove();Vt.select("path").style({fill:Jt,stroke:er});var je=dt.xa._offset+(dt.x0+dt.x1)/2,ut=dt.ya._offset+(dt.y0+dt.y1)/2,St=Math.abs(dt.x1-dt.x0),Pt=Math.abs(dt.y1-dt.y0),lt=te(G,Ne.node()),yt=lt.width/Y._invScaleX,Ot=lt.height/Y._invScaleY;dt.ty0=(De-lt.top)/Y._invScaleY,dt.bx=yt+2*R,dt.by=Math.max(Ot+2*R,Ze),dt.anchor="start",dt.txwidth=yt,dt.tx2width=We,dt.offset=0;var At=(yt+k+R+We)*Y._invScaleX,mt,Et;if(Q)dt.pos=je,mt=ut+Pt/2+At<=ze,Et=ut-Pt/2-At>=0,(dt.idealAlign==="top"||!mt)&&Et?(ut-=Pt/2,dt.anchor="end"):mt?(ut+=Pt/2,dt.anchor="start"):dt.anchor="middle";else if(dt.pos=ut,mt=je+St/2+At<=Se,Et=je-St/2-At>=0,(dt.idealAlign==="left"||!mt)&&Et)je-=St/2,dt.anchor="end";else if(mt)je+=St/2,dt.anchor="start";else{dt.anchor="middle";var jt=At/2,Lt=je+jt-Se,Ht=je-jt;Lt>0&&(je-=Lt),Ht<0&&(je+=-Ht)}Ne.attr("text-anchor",dt.anchor),We&&Fe.attr("text-anchor",dt.anchor),Vt.attr("transform",u(je,ut)+(Q?c(C):""))}),Nt}function Z(L,N,G,Y,j,Q){var q="",re="";L.nameOverride!==void 0&&(L.name=L.nameOverride),L.name&&(L.trace._meta&&(L.name=l.templateString(L.name,L.trace._meta)),q=fe(L.name,L.nameLength));var ue=G.charAt(0),de=ue==="x"?"y":"x";L.zLabel!==void 0?(L.xLabel!==void 0&&(re+="x: "+L.xLabel+"<br>"),L.yLabel!==void 0&&(re+="y: "+L.yLabel+"<br>"),L.trace.type!=="choropleth"&&L.trace.type!=="choroplethmapbox"&&(re+=(re?"z: ":"")+L.zLabel)):N&&L[ue+"Label"]===j?re=L[de+"Label"]||"":L.xLabel===void 0?L.yLabel!==void 0&&L.trace.type!=="scattercarpet"&&(re=L.yLabel):L.yLabel===void 0?re=L.xLabel:re="("+L.xLabel+", "+L.yLabel+")",(L.text||L.text===0)&&!Array.isArray(L.text)&&(re+=(re?"<br>":"")+L.text),L.extraText!==void 0&&(re+=(re?"<br>":"")+L.extraText),Q&&re===""&&!L.hovertemplate&&(q===""&&Q.remove(),re=q);var me=L.hovertemplate||!1;if(me){var pe=L.hovertemplateLabels||L;L[ue+"Label"]!==j&&(pe[ue+"other"]=pe[ue+"Val"],pe[ue+"otherLabel"]=pe[ue+"Label"]),re=l.hovertemplateString(me,pe,Y._d3locale,L.eventData[0]||{},L.trace._meta),re=re.replace(U,function(ge,Te){return q=fe(Te,L.nameLength),""})}return[re,q]}function z(L,N,G){var Y=0,j=1,Q=L.size(),q=new Array(Q),re=0;L.each(function(Qe){var et=Qe[N],rt=et._id.charAt(0)==="x",ft=et.range;re===0&&ft&&ft[0]>ft[1]!==rt&&(j=-1),q[re++]=[{datum:Qe,traceIndex:Qe.trace.index,dp:0,pos:Qe.pos,posref:Qe.posref,size:Qe.by*(rt?T:1)/2,pmin:0,pmax:rt?G.width:G.height}]}),q.sort(function(Qe,et){return Qe[0].posref-et[0].posref||j*(et[0].traceIndex-Qe[0].traceIndex)});var ue,de,me,pe,ge,Te,He;function Oe(Qe){var et=Qe[0],rt=Qe[Qe.length-1];if(de=et.pmin-et.pos-et.dp+et.size,me=rt.pos+rt.dp+rt.size-et.pmax,de>.01){for(ge=Qe.length-1;ge>=0;ge--)Qe[ge].dp+=de;ue=!1}if(!(me<.01)){if(de<-.01){for(ge=Qe.length-1;ge>=0;ge--)Qe[ge].dp-=me;ue=!1}if(ue){var ft=0;for(pe=0;pe<Qe.length;pe++)Te=Qe[pe],Te.pos+Te.dp+Te.size>et.pmax&&ft++;for(pe=Qe.length-1;pe>=0&&!(ft<=0);pe--)Te=Qe[pe],Te.pos>et.pmax-1&&(Te.del=!0,ft--);for(pe=0;pe<Qe.length&&!(ft<=0);pe++)if(Te=Qe[pe],Te.pos<et.pmin+1)for(Te.del=!0,ft--,me=Te.size*2,ge=Qe.length-1;ge>=0;ge--)Qe[ge].dp-=me;for(pe=Qe.length-1;pe>=0&&!(ft<=0);pe--)Te=Qe[pe],Te.pos+Te.dp+Te.size>et.pmax&&(Te.del=!0,ft--)}}}for(;!ue&&Y<=Q;){for(Y++,ue=!0,pe=0;pe<q.length-1;){var tt=q[pe],Le=q[pe+1],De=tt[tt.length-1],Se=Le[0];if(de=De.pos+De.dp+De.size-Se.pos-Se.dp+Se.size,de>.01&&De.pmin===Se.pmin&&De.pmax===Se.pmax){for(ge=Le.length-1;ge>=0;ge--)Le[ge].dp+=de;for(tt.push.apply(tt,Le),q.splice(pe+1,1),He=0,ge=tt.length-1;ge>=0;ge--)He+=tt[ge].dp;for(me=He/tt.length,ge=tt.length-1;ge>=0;ge--)tt[ge].dp-=me;ue=!1}else pe++}q.forEach(Oe)}for(pe=q.length-1;pe>=0;pe--){var ze=q[pe];for(ge=ze.length-1;ge>=0;ge--){var Ke=ze[ge],_t=Ke.datum;_t.offset=Ke.dp,_t.del=Ke.del}}}function H(L,N,G,Y){var j=function(q){return q*G},Q=function(q){return q*Y};L.each(function(q){var re=n.select(this);if(q.del)return re.remove();var ue=re.select("text.nums"),de=q.anchor,me=de==="end"?-1:1,pe={start:1,end:-1,middle:0}[de],ge=pe*(k+R),Te=ge+pe*(q.txwidth+R),He=0,Oe=q.offset,tt=de==="middle";tt&&(ge-=q.tx2width/2,Te+=q.txwidth/2+R),N&&(Oe*=-D,He=q.offset*M),re.select("path").attr("d",tt?"M-"+j(q.bx/2+q.tx2width/2)+","+Q(Oe-q.by/2)+"h"+j(q.bx)+"v"+Q(q.by)+"h-"+j(q.bx)+"Z":"M0,0L"+j(me*k+He)+","+Q(k+Oe)+"v"+Q(q.by/2-k)+"h"+j(me*q.bx)+"v-"+Q(q.by)+"H"+j(me*k+He)+"V"+Q(Oe-k)+"Z");var Le=He+ge,De=Oe+q.ty0-q.by/2+R,Se=q.textAlign||"auto";Se!=="auto"&&(Se==="left"&&de!=="start"?(ue.attr("text-anchor","start"),Le=tt?-q.bx/2-q.tx2width/2+R:-q.bx-R):Se==="right"&&de!=="end"&&(ue.attr("text-anchor","end"),Le=tt?q.bx/2-q.tx2width/2-R:q.bx+R)),ue.call(v.positionText,j(Le),Q(De)),q.tx2width&&(re.select("text.name").call(v.positionText,j(Te+pe*R+He),Q(Oe+q.ty0-q.by/2+R)),re.select("rect").call(m.setRect,j(Te+(pe-1)*q.tx2width/2+He),Q(Oe-q.by/2-1),j(q.tx2width),Q(q.by+2)))})}function B(L,N){var G=L.index,Y=L.trace||{},j=L.cd[0],Q=L.cd[G]||{};function q(ge){return ge||a(ge)&&ge===0}var re=Array.isArray(G)?function(ge,Te){var He=l.castOption(j,G,ge);return q(He)?He:l.extractOption({},Y,"",Te)}:function(ge,Te){return l.extractOption(Q,Y,ge,Te)};function ue(ge,Te,He){var Oe=re(Te,He);q(Oe)&&(L[ge]=Oe)}if(ue("hoverinfo","hi","hoverinfo"),ue("bgcolor","hbg","hoverlabel.bgcolor"),ue("borderColor","hbc","hoverlabel.bordercolor"),ue("fontFamily","htf","hoverlabel.font.family"),ue("fontSize","hts","hoverlabel.font.size"),ue("fontColor","htc","hoverlabel.font.color"),ue("nameLength","hnl","hoverlabel.namelength"),ue("textAlign","hta","hoverlabel.align"),L.posref=N==="y"||N==="closest"&&Y.orientation==="h"?L.xa._offset+(L.x0+L.x1)/2:L.ya._offset+(L.y0+L.y1)/2,L.x0=l.constrain(L.x0,0,L.xa._length),L.x1=l.constrain(L.x1,0,L.xa._length),L.y0=l.constrain(L.y0,0,L.ya._length),L.y1=l.constrain(L.y1,0,L.ya._length),L.xLabelVal!==void 0&&(L.xLabel="xLabel"in L?L.xLabel:p.hoverLabelText(L.xa,L.xLabelVal,Y.xhoverformat),L.xVal=L.xa.c2d(L.xLabelVal)),L.yLabelVal!==void 0&&(L.yLabel="yLabel"in L?L.yLabel:p.hoverLabelText(L.ya,L.yLabelVal,Y.yhoverformat),L.yVal=L.ya.c2d(L.yLabelVal)),L.zLabelVal!==void 0&&L.zLabel===void 0&&(L.zLabel=String(L.zLabelVal)),!isNaN(L.xerr)&&!(L.xa.type==="log"&&L.xerr<=0)){var de=p.tickText(L.xa,L.xa.c2l(L.xerr),"hover").text;L.xerrneg!==void 0?L.xLabel+=" +"+de+" / -"+p.tickText(L.xa,L.xa.c2l(L.xerrneg),"hover").text:L.xLabel+=" ± "+de,N==="x"&&(L.distance+=1)}if(!isNaN(L.yerr)&&!(L.ya.type==="log"&&L.yerr<=0)){var me=p.tickText(L.ya,L.ya.c2l(L.yerr),"hover").text;L.yerrneg!==void 0?L.yLabel+=" +"+me+" / -"+p.tickText(L.ya,L.ya.c2l(L.yerrneg),"hover").text:L.yLabel+=" ± "+me,N==="y"&&(L.distance+=1)}var pe=L.hoverinfo||L.trace.hoverinfo;return pe&&pe!=="all"&&(pe=Array.isArray(pe)?pe:pe.split("+"),pe.indexOf("x")===-1&&(L.xLabel=void 0),pe.indexOf("y")===-1&&(L.yLabel=void 0),pe.indexOf("z")===-1&&(L.zLabel=void 0),pe.indexOf("text")===-1&&(L.text=void 0),pe.indexOf("name")===-1&&(L.name=void 0)),L}function W(L,N,G){var Y=G.container,j=G.fullLayout,Q=j._size,q=G.event,re=!!N.hLinePoint,ue=!!N.vLinePoint,de,me;if(Y.selectAll(".spikeline").remove(),!!(ue||re)){var pe=_.combine(j.plot_bgcolor,j.paper_bgcolor);if(re){var ge=N.hLinePoint,Te,He;de=ge&&ge.xa,me=ge&&ge.ya;var Oe=me.spikesnap;Oe==="cursor"?(Te=q.pointerX,He=q.pointerY):(Te=de._offset+ge.x,He=me._offset+ge.y);var tt=s.readability(ge.color,pe)<1.5?_.contrast(pe):ge.color,Le=me.spikemode,De=me.spikethickness,Se=me.spikecolor||tt,ze=p.getPxPosition(L,me),Ke,_t;if(Le.indexOf("toaxis")!==-1||Le.indexOf("across")!==-1){if(Le.indexOf("toaxis")!==-1&&(Ke=ze,_t=Te),Le.indexOf("across")!==-1){var Qe=me._counterDomainMin,et=me._counterDomainMax;me.anchor==="free"&&(Qe=Math.min(Qe,me.position),et=Math.max(et,me.position)),Ke=Q.l+Qe*Q.w,_t=Q.l+et*Q.w}Y.insert("line",":first-child").attr({x1:Ke,x2:_t,y1:He,y2:He,"stroke-width":De,stroke:Se,"stroke-dasharray":m.dashStyle(me.spikedash,De)}).classed("spikeline",!0).classed("crisp",!0),Y.insert("line",":first-child").attr({x1:Ke,x2:_t,y1:He,y2:He,"stroke-width":De+2,stroke:pe}).classed("spikeline",!0).classed("crisp",!0)}Le.indexOf("marker")!==-1&&Y.insert("circle",":first-child").attr({cx:ze+(me.side!=="right"?De:-De),cy:He,r:De,fill:Se}).classed("spikeline",!0)}if(ue){var rt=N.vLinePoint,ft,bt;de=rt&&rt.xa,me=rt&&rt.ya;var Ft=de.spikesnap;Ft==="cursor"?(ft=q.pointerX,bt=q.pointerY):(ft=de._offset+rt.x,bt=me._offset+rt.y);var ct=s.readability(rt.color,pe)<1.5?_.contrast(pe):rt.color,nt=de.spikemode,at=de.spikethickness,It=de.spikecolor||ct,zt=p.getPxPosition(L,de),be,Me;if(nt.indexOf("toaxis")!==-1||nt.indexOf("across")!==-1){if(nt.indexOf("toaxis")!==-1&&(be=zt,Me=bt),nt.indexOf("across")!==-1){var Ue=de._counterDomainMin,ce=de._counterDomainMax;de.anchor==="free"&&(Ue=Math.min(Ue,de.position),ce=Math.max(ce,de.position)),be=Q.t+(1-ce)*Q.h,Me=Q.t+(1-Ue)*Q.h}Y.insert("line",":first-child").attr({x1:ft,x2:ft,y1:be,y2:Me,"stroke-width":at,stroke:It,"stroke-dasharray":m.dashStyle(de.spikedash,at)}).classed("spikeline",!0).classed("crisp",!0),Y.insert("line",":first-child").attr({x1:ft,x2:ft,y1:be,y2:Me,"stroke-width":at+2,stroke:pe}).classed("spikeline",!0).classed("crisp",!0)}nt.indexOf("marker")!==-1&&Y.insert("circle",":first-child").attr({cx:ft,cy:zt-(de.side!=="top"?at:-at),r:at,fill:It}).classed("spikeline",!0)}}}function F(L,N,G){if(!G||G.length!==L._hoverdata.length)return!0;for(var Y=G.length-1;Y>=0;Y--){var j=G[Y],Q=L._hoverdata[Y];if(j.curveNumber!==Q.curveNumber||String(j.pointNumber)!==String(Q.pointNumber)||String(j.pointNumbers)!==String(Q.pointNumbers))return!0}return!1}function K(L,N){return!N||N.vLinePoint!==L._spikepoints.vLinePoint||N.hLinePoint!==L._spikepoints.hLinePoint}function fe(L,N){return v.plainText(L||"",{len:N,allowedTags:["br","sub","sup","b","i","em"]})}function se(L,N){for(var G=N.charAt(0),Y=[],j=[],Q=[],q=0;q<L.length;q++){var re=L[q];d.traceIs(re.trace,"bar-like")||d.traceIs(re.trace,"box-violin")?Q.push(re):re.trace[G+"period"]?j.push(re):Y.push(re)}return Y.concat(j).concat(Q)}function ee(L,N,G){var Y=N[L+"a"],j=N[L+"Val"],Q=N.cd[0];if(Y.type==="category")j=Y._categoriesMap[j];else if(Y.type==="date"){var q=N.trace[L+"periodalignment"];if(q){var re=N.cd[N.index],ue=re[L+"Start"];ue===void 0&&(ue=re[L]);var de=re[L+"End"];de===void 0&&(de=re[L]);var me=de-ue;q==="end"?j+=me:q==="middle"&&(j+=me/2)}j=Y.d2c(j)}return Q&&Q.t&&Q.t.posLetter===Y._id&&(G.boxmode==="group"||G.violinmode==="group")&&(j+=Q.t.dPos),j}function ie(L){return L.offsetTop+L.clientTop}function J(L){return L.offsetLeft+L.clientLeft}function te(L,N){var G=L._fullLayout,Y=N.getBoundingClientRect(),j=Y.x,Q=Y.y,q=j+Y.width,re=Q+Y.height,ue=l.apply3DTransform(G._invTransform)(j,Q),de=l.apply3DTransform(G._invTransform)(q,re),me=ue[0],pe=ue[1],ge=de[0],Te=de[1];return{x:me,y:pe,width:ge-me,height:Te-pe,top:Math.min(pe,Te),left:Math.min(me,ge),right:Math.max(me,ge),bottom:Math.max(pe,Te)}}},{"../../lib":244,"../../lib/events":237,"../../lib/override_cursor":255,"../../lib/svg_text_utils":267,"../../plots/cartesian/axes":291,"../../registry":327,"../color":103,"../dragelement":122,"../drawing":125,"../legend/defaults":155,"../legend/draw":156,"./constants":137,"./helpers":139,"@plotly/d3":11,"fast-isnumeric":17,tinycolor2:68}],141:[function(r,i,o){var n=r("../../lib"),a=r("../color"),s=r("./helpers").isUnifiedHover;i.exports=function(u,c,h,v){v=v||{};var f=c.legend;function m(_){v.font[_]||(v.font[_]=f?c.legend.font[_]:c.font[_])}c&&s(c.hovermode)&&(v.font||(v.font={}),m("size"),m("family"),m("color"),f?(v.bgcolor||(v.bgcolor=a.combine(c.legend.bgcolor,c.paper_bgcolor)),v.bordercolor||(v.bordercolor=c.legend.bordercolor)):v.bgcolor||(v.bgcolor=c.paper_bgcolor)),h("hoverlabel.bgcolor",v.bgcolor),h("hoverlabel.bordercolor",v.bordercolor),h("hoverlabel.namelength",v.namelength),n.coerceFont(h,"hoverlabel.font",v.font),h("hoverlabel.align",v.align)}},{"../../lib":244,"../color":103,"./helpers":139}],142:[function(r,i,o){var n=r("../../lib"),a=r("./layout_attributes");i.exports=function(l,u){function c(h,v){return u[h]!==void 0?u[h]:n.coerce(l,u,a,h,v)}return c("clickmode"),c("hovermode")}},{"../../lib":244,"./layout_attributes":144}],143:[function(r,i,o){var n=r("@plotly/d3"),a=r("../../lib"),s=r("../dragelement"),l=r("./helpers"),u=r("./layout_attributes"),c=r("./hover");i.exports={moduleType:"component",name:"fx",constants:r("./constants"),schema:{layout:u},attributes:r("./attributes"),layoutAttributes:u,supplyLayoutGlobalDefaults:r("./layout_global_defaults"),supplyDefaults:r("./defaults"),supplyLayoutDefaults:r("./layout_defaults"),calc:r("./calc"),getDistanceFunction:l.getDistanceFunction,getClosest:l.getClosest,inbox:l.inbox,quadrature:l.quadrature,appendArrayPointValue:l.appendArrayPointValue,castHoverOption:v,castHoverinfo:f,hover:c.hover,unhover:s.unhover,loneHover:c.loneHover,loneUnhover:h,click:r("./click")};function h(m){var _=a.isD3Selection(m)?m:n.select(m);_.selectAll("g.hovertext").remove(),_.selectAll(".spikeline").remove()}function v(m,_,g){return a.castOption(m,_,"hoverlabel."+g)}function f(m,_,g){function p(d){return a.coerceHoverinfo({hoverinfo:d},{_module:m._module},_)}return a.castOption(m,g,"hoverinfo",p)}},{"../../lib":244,"../dragelement":122,"./attributes":134,"./calc":135,"./click":136,"./constants":137,"./defaults":138,"./helpers":139,"./hover":140,"./layout_attributes":144,"./layout_defaults":145,"./layout_global_defaults":146,"@plotly/d3":11}],144:[function(r,i,o){var n=r("./constants"),a=r("../../plots/font_attributes"),s=a({editType:"none"});s.family.dflt=n.HOVERFONT,s.size.dflt=n.HOVERFONTSIZE,i.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:s,grouptitlefont:a({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},{"../../plots/font_attributes":319,"./constants":137}],145:[function(r,i,o){var n=r("../../lib"),a=r("./layout_attributes"),s=r("./hovermode_defaults"),l=r("./hoverlabel_defaults");i.exports=function(c,h){function v(d,b){return n.coerce(c,h,a,d,b)}var f=s(c,h);f&&(v("hoverdistance"),v("spikedistance"));var m=v("dragmode");m==="select"&&v("selectdirection");var _=h._has("mapbox"),g=h._has("geo"),p=h._basePlotModules.length;h.dragmode==="zoom"&&((_||g)&&p===1||_&&g&&p===2)&&(h.dragmode="pan"),l(c,h,v),n.coerceFont(v,"hoverlabel.grouptitlefont",h.hoverlabel.font)}},{"../../lib":244,"./hoverlabel_defaults":141,"./hovermode_defaults":142,"./layout_attributes":144}],146:[function(r,i,o){var n=r("../../lib"),a=r("./hoverlabel_defaults"),s=r("./layout_attributes");i.exports=function(u,c){function h(v,f){return n.coerce(u,c,s,v,f)}a(u,c,h)}},{"../../lib":244,"./hoverlabel_defaults":141,"./layout_attributes":144}],147:[function(r,i,o){var n=r("../../lib"),a=r("../../lib/regex").counter,s=r("../../plots/domain").attributes,l=r("../../plots/cartesian/constants").idRegex,u=r("../../plot_api/plot_template"),c={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[a("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[l.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[l.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:s({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function h(g,p,d){var b=p[d+"axes"],y=Object.keys((g._splomAxes||{})[d]||{});if(Array.isArray(b))return b;if(y.length)return y}function v(g,p){var d=g.grid||{},b=h(p,d,"x"),y=h(p,d,"y");if(!g.grid&&!b&&!y)return;var x=Array.isArray(d.subplots)&&Array.isArray(d.subplots[0]),w=Array.isArray(b),C=Array.isArray(y),S=w&&b!==d.xaxes&&C&&y!==d.yaxes,T,M;x?(T=d.subplots.length,M=d.subplots[0].length):(C&&(T=y.length),w&&(M=b.length));var D=u.newContainer(p,"grid");function k(H,B){return n.coerce(d,D,c,H,B)}var R=k("rows",T),P=k("columns",M);if(!(R*P>1)){delete p.grid;return}if(!x&&!w&&!C){var E=k("pattern")==="independent";E&&(x=!0)}D._hasSubplotGrid=x;var O=k("roworder"),I=O==="top to bottom",U=x?.2:.1,V=x?.3:.1,Z,z;S&&p._splomGridDflt&&(Z=p._splomGridDflt.xside,z=p._splomGridDflt.yside),D._domains={x:f("x",k,U,Z,P),y:f("y",k,V,z,R,I)}}function f(g,p,d,b,y,x){var w=p(g+"gap",d),C=p("domain."+g);p(g+"side",b);for(var S=new Array(y),T=C[0],M=(C[1]-T)/(y-w),D=M*(1-w),k=0;k<y;k++){var R=T+M*k;S[x?y-1-k:k]=[R,R+D]}return S}function m(g,p){var d=p.grid;if(!(!d||!d._domains)){var b=g.grid||{},y=p._subplots,x=d._hasSubplotGrid,w=d.rows,C=d.columns,S=d.pattern==="independent",T,M,D,k,R,P,E,O=d._axisMap={};if(x){var I=b.subplots||[];P=d.subplots=new Array(w);var U=1;for(T=0;T<w;T++){var V=P[T]=new Array(C),Z=I[T]||[];for(M=0;M<C;M++)if(S?(R=U===1?"xy":"x"+U+"y"+U,U++):R=Z[M],V[M]="",y.cartesian.indexOf(R)!==-1){if(E=R.indexOf("y"),D=R.slice(0,E),k=R.slice(E),O[D]!==void 0&&O[D]!==M||O[k]!==void 0&&O[k]!==T)continue;V[M]=R,O[D]=M,O[k]=T}}}else{var z=h(p,b,"x"),H=h(p,b,"y");d.xaxes=_(z,y.xaxis,C,O,"x"),d.yaxes=_(H,y.yaxis,w,O,"y")}var B=d._anchors={},W=d.roworder==="top to bottom";for(var F in O){var K=F.charAt(0),fe=d[K+"side"],se,ee,ie;if(fe.length<8)B[F]="free";else if(K==="x"){if(fe.charAt(0)==="t"===W?(se=0,ee=1,ie=w):(se=w-1,ee=-1,ie=-1),x){var J=O[F];for(T=se;T!==ie;T+=ee)if(R=P[T][J],!!R&&(E=R.indexOf("y"),R.slice(0,E)===F)){B[F]=R.slice(E);break}}else for(T=se;T!==ie;T+=ee)if(k=d.yaxes[T],y.cartesian.indexOf(F+k)!==-1){B[F]=k;break}}else if(fe.charAt(0)==="l"?(se=0,ee=1,ie=C):(se=C-1,ee=-1,ie=-1),x){var te=O[F];for(T=se;T!==ie;T+=ee)if(R=P[te][T],!!R&&(E=R.indexOf("y"),R.slice(E)===F)){B[F]=R.slice(0,E);break}}else for(T=se;T!==ie;T+=ee)if(D=d.xaxes[T],y.cartesian.indexOf(D+F)!==-1){B[F]=D;break}}}}function _(g,p,d,b,y){var x=new Array(d),w;function C(S,T){p.indexOf(T)!==-1&&b[T]===void 0?(x[S]=T,b[T]=S):x[S]=""}if(Array.isArray(g))for(w=0;w<d;w++)C(w,g[w]);else for(C(0,y),w=1;w<d;w++)C(w,y+(w+1));return x}i.exports={moduleType:"component",name:"grid",schema:{layout:{grid:c}},layoutAttributes:c,sizeDefaults:v,contentDefaults:m}},{"../../lib":244,"../../lib/regex":260,"../../plot_api/plot_template":280,"../../plots/cartesian/constants":298,"../../plots/domain":318}],148:[function(r,i,o){var n=r("../../plots/cartesian/constants"),a=r("../../plot_api/plot_template").templatedArray;r("../../constants/axis_placeable_objects"),i.exports=a("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",n.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",n.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},{"../../constants/axis_placeable_objects":220,"../../plot_api/plot_template":280,"../../plots/cartesian/constants":298}],149:[function(r,i,o){var n=r("fast-isnumeric"),a=r("../../lib/to_log_range");i.exports=function(l,u,c,h){u=u||{};var v=c==="log"&&u.type==="linear",f=c==="linear"&&u.type==="log";if(v||f){for(var m=l._fullLayout.images,_=u._id.charAt(0),g,p,d=0;d<m.length;d++)if(g=m[d],p="images["+d+"].",g[_+"ref"]===u._id){var b=g[_],y=g["size"+_],x=null,w=null;if(v){x=a(b,u.range);var C=y/Math.pow(10,x)/2;w=2*Math.log(C+Math.sqrt(1+C*C))/Math.LN10}else x=Math.pow(10,b),w=x*(Math.pow(10,y/2)-Math.pow(10,-y/2));n(x)?n(w)||(w=null):(x=null,w=null),h(p+_,x),h(p+"size"+_,w)}}}},{"../../lib/to_log_range":269,"fast-isnumeric":17}],150:[function(r,i,o){var n=r("../../lib"),a=r("../../plots/cartesian/axes"),s=r("../../plots/array_container_defaults"),l=r("./attributes"),u="images";i.exports=function(v,f){var m={name:u,handleItemDefaults:c};s(v,f,m)};function c(h,v,f){function m(C,S){return n.coerce(h,v,l,C,S)}var _=m("source"),g=m("visible",!!_);if(!g)return v;m("layer"),m("xanchor"),m("yanchor"),m("sizex"),m("sizey"),m("sizing"),m("opacity");for(var p={_fullLayout:f},d=["x","y"],b=0;b<2;b++){var y=d[b],x=a.coerceRef(h,v,p,y,"paper",void 0);if(x!=="paper"){var w=a.getFromId(p,x);w._imgIndices.push(v._index)}a.coercePosition(v,p,m,x,y,0)}return v}},{"../../lib":244,"../../plots/array_container_defaults":286,"../../plots/cartesian/axes":291,"./attributes":148}],151:[function(r,i,o){var n=r("@plotly/d3"),a=r("../drawing"),s=r("../../plots/cartesian/axes"),l=r("../../plots/cartesian/axis_ids"),u=r("../../constants/xmlns_namespaces");i.exports=function(h){var v=h._fullLayout,f=[],m={},_=[],g,p;for(p=0;p<v.images.length;p++){var d=v.images[p];if(d.visible)if(d.layer==="below"&&d.xref!=="paper"&&d.yref!=="paper"){g=l.ref2id(d.xref)+l.ref2id(d.yref);var b=v._plots[g];if(!b){_.push(d);continue}b.mainplot&&(g=b.mainplot.id),m[g]||(m[g]=[]),m[g].push(d)}else d.layer==="above"?f.push(d):_.push(d)}var y={x:{left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-1/2},right:{sizing:"xMax",offset:-1}},y:{top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-1/2},bottom:{sizing:"YMax",offset:-1}}};function x(k){var R=n.select(this);if(this._imgSrc!==k.source)if(R.attr("xmlns",u.svg),k.source&&k.source.slice(0,5)==="data:")R.attr("xlink:href",k.source),this._imgSrc=k.source;else{var P=new Promise(function(E){var O=new Image;this.img=O,O.setAttribute("crossOrigin","anonymous"),O.onerror=I,O.onload=function(){var U=document.createElement("canvas");U.width=this.width,U.height=this.height;var V=U.getContext("2d",{willReadFrequently:!0});V.drawImage(this,0,0);var Z=U.toDataURL("image/png");R.attr("xlink:href",Z),E()},R.on("error",I),O.src=k.source,this._imgSrc=k.source;function I(){R.remove(),E()}}.bind(this));h._promises.push(P)}}function w(k){var R=n.select(this),P=s.getFromId(h,k.xref),E=s.getFromId(h,k.yref),O=s.getRefType(k.xref)==="domain",I=s.getRefType(k.yref)==="domain",U=v._size,V,Z;P!==void 0?V=typeof k.xref=="string"&&O?P._length*k.sizex:Math.abs(P.l2p(k.sizex)-P.l2p(0)):V=k.sizex*U.w,E!==void 0?Z=typeof k.yref=="string"&&I?E._length*k.sizey:Math.abs(E.l2p(k.sizey)-E.l2p(0)):Z=k.sizey*U.h;var z=V*y.x[k.xanchor].offset,H=Z*y.y[k.yanchor].offset,B=y.x[k.xanchor].sizing+y.y[k.yanchor].sizing,W,F;switch(P!==void 0?W=typeof k.xref=="string"&&O?P._length*k.x+P._offset:P.r2p(k.x)+P._offset:W=k.x*U.w+U.l,W+=z,E!==void 0?F=typeof k.yref=="string"&&I?E._length*(1-k.y)+E._offset:E.r2p(k.y)+E._offset:F=U.h-k.y*U.h+U.t,F+=H,k.sizing){case"fill":B+=" slice";break;case"stretch":B="none";break}R.attr({x:W,y:F,width:V,height:Z,preserveAspectRatio:B,opacity:k.opacity});var K=P&&s.getRefType(k.xref)!=="domain"?P._id:"",fe=E&&s.getRefType(k.yref)!=="domain"?E._id:"",se=K+fe;a.setClipUrl(R,se?"clip"+v._uid+se:null,h)}var C=v._imageLowerLayer.selectAll("image").data(_),S=v._imageUpperLayer.selectAll("image").data(f);C.enter().append("image"),S.enter().append("image"),C.exit().remove(),S.exit().remove(),C.each(function(k){x.bind(this)(k),w.bind(this)(k)}),S.each(function(k){x.bind(this)(k),w.bind(this)(k)});var T=Object.keys(v._plots);for(p=0;p<T.length;p++){g=T[p];var M=v._plots[g];if(M.imagelayer){var D=M.imagelayer.selectAll("image").data(m[g]||[]);D.enter().append("image"),D.exit().remove(),D.each(function(k){x.bind(this)(k),w.bind(this)(k)})}}}},{"../../constants/xmlns_namespaces":225,"../../plots/cartesian/axes":291,"../../plots/cartesian/axis_ids":295,"../drawing":125,"@plotly/d3":11}],152:[function(r,i,o){i.exports={moduleType:"component",name:"images",layoutAttributes:r("./attributes"),supplyLayoutDefaults:r("./defaults"),includeBasePlot:r("../../plots/cartesian/include_components")("images"),draw:r("./draw"),convertCoords:r("./convert_coords")}},{"../../plots/cartesian/include_components":302,"./attributes":148,"./convert_coords":149,"./defaults":150,"./draw":151}],153:[function(r,i,o){var n=r("../../plots/font_attributes"),a=r("../color/attributes");i.exports={bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:a.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:n({editType:"legend"}),grouptitlefont:n({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",min:-2,max:3,editType:"legend"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",min:-2,max:3,editType:"legend"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:n({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left"],editType:"legend"},editType:"legend"},editType:"legend"}},{"../../plots/font_attributes":319,"../color/attributes":102}],154:[function(r,i,o){i.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},{}],155:[function(r,i,o){var n=r("../../registry"),a=r("../../lib"),s=r("../../plot_api/plot_template"),l=r("../../plots/attributes"),u=r("./attributes"),c=r("../../plots/layout_attributes"),h=r("./helpers");i.exports=function(f,m,_){var g=f.legend||{},p=s.newContainer(m,"legend");function d(Z,z){return a.coerce(g,p,u,Z,z)}for(var b,y=function(Z,z){var H=b._input,B=b;return a.coerce(H,B,l,Z,z)},x=m.font||{},w=a.coerceFont(d,"grouptitlefont",a.extendFlat({},x,{size:Math.round(x.size*1.1)})),C=0,S=!1,T="normal",M=0;M<_.length;M++)b=_[M],b.visible&&((b.showlegend||b._dfltShowLegend&&!(b._module&&b._module.attributes&&b._module.attributes.showlegend&&b._module.attributes.showlegend.dflt===!1))&&(C++,b.showlegend&&(S=!0,(n.traceIs(b,"pie-like")||b._input.showlegend===!0)&&C++),a.coerceFont(y,"legendgrouptitle.font",w)),(n.traceIs(b,"bar")&&m.barmode==="stack"||["tonextx","tonexty"].indexOf(b.fill)!==-1)&&(T=h.isGrouped({traceorder:T})?"grouped+reversed":"reversed"),b.legendgroup!==void 0&&b.legendgroup!==""&&(T=h.isReversed({traceorder:T})?"reversed+grouped":"grouped"));var D=a.coerce(f,m,c,"showlegend",S&&C>1);if(D===!1&&(m.legend=void 0),!(D===!1&&!g.uirevision)&&(d("uirevision",m.uirevision),D!==!1)){d("bgcolor",m.paper_bgcolor),d("bordercolor"),d("borderwidth");var k=a.coerceFont(d,"font",m.font),R=d("orientation"),P=R==="h",E,O,I;P?(E=0,n.getComponentMethod("rangeslider","isVisible")(f.xaxis)?(O=1.1,I="bottom"):(O=-.1,I="top")):(E=1.02,O=1,I="auto"),d("traceorder",T),h.isGrouped(m.legend)&&d("tracegroupgap"),d("itemsizing"),d("itemwidth"),d("itemclick"),d("itemdoubleclick"),d("groupclick"),d("x",E),d("xanchor"),d("y",O),d("yanchor",I),d("valign"),a.noneOrAll(g,p,["x","y"]);var U=d("title.text");if(U){d("title.side",P?"left":"top");var V=a.extendFlat({},k,{size:a.bigFont(k.size)});a.coerceFont(d,"title.font",V)}}}},{"../../lib":244,"../../plot_api/plot_template":280,"../../plots/attributes":287,"../../plots/layout_attributes":323,"../../registry":327,"./attributes":153,"./helpers":159}],156:[function(r,i,o){var n=r("@plotly/d3"),a=r("../../lib"),s=r("../../plots/plots"),l=r("../../registry"),u=r("../../lib/events"),c=r("../dragelement"),h=r("../drawing"),v=r("../color"),f=r("../../lib/svg_text_utils"),m=r("./handle_click"),_=r("./constants"),g=r("../../constants/alignment"),p=g.LINE_SPACING,d=g.FROM_TL,b=g.FROM_BR,y=r("./get_legend_data"),x=r("./style"),w=r("./helpers"),C=1;i.exports=function(z,H){return H||(H=z._fullLayout.legend||{}),S(z,H)};function S(Z,z){var H=Z._fullLayout,B="legend"+H._uid,W,F=z._inHover;if(F?(W=z.layer,B+="-hover"):W=H._infolayer,!!W){Z._legendMouseDownTime||(Z._legendMouseDownTime=0);var K;if(F){if(!z.entries)return;K=y(z.entries,z)}else{if(!Z.calcdata)return;K=H.showlegend&&y(Z.calcdata,z)}var fe=H.hiddenlabels||[];if(!F&&(!H.showlegend||!K.length))return W.selectAll(".legend").remove(),H._topdefs.select("#"+B).remove(),s.autoMargin(Z,"legend");var se=a.ensureSingle(W,"g","legend",function(j){F||j.attr("pointer-events","all")}),ee=a.ensureSingleById(H._topdefs,"clipPath",B,function(j){j.append("rect")}),ie=a.ensureSingle(se,"rect","bg",function(j){j.attr("shape-rendering","crispEdges")});ie.call(v.stroke,z.bordercolor).call(v.fill,z.bgcolor).style("stroke-width",z.borderwidth+"px");var J=a.ensureSingle(se,"g","scrollbox"),te=z.title;if(z._titleWidth=0,z._titleHeight=0,te.text){var L=a.ensureSingle(J,"text","legendtitletext");L.attr("text-anchor","start").call(h.font,te.font).text(te.text),R(L,J,Z,z,C)}else J.selectAll(".legendtitletext").remove();var N=a.ensureSingle(se,"rect","scrollbar",function(j){j.attr(_.scrollBarEnterAttrs).call(v.fill,_.scrollBarColor)}),G=J.selectAll("g.groups").data(K);G.enter().append("g").attr("class","groups"),G.exit().remove();var Y=G.selectAll("g.traces").data(a.identity);Y.enter().append("g").attr("class","traces"),Y.exit().remove(),Y.style("opacity",function(j){var Q=j[0].trace;return l.traceIs(Q,"pie-like")?fe.indexOf(j[0].label)!==-1?.5:1:Q.visible==="legendonly"?.5:1}).each(function(){n.select(this).call(M,Z,z)}).call(x,Z,z).each(function(){F||n.select(this).call(k,Z)}),a.syncOrAsync([s.previousPromises,function(){return O(Z,G,Y,z)},function(){var j=H._size,Q=z.borderwidth;if(!F){var q=I(Z);if(q)return;var re=j.l+j.w*z.x-d[U(z)]*z._width,ue=j.t+j.h*(1-z.y)-d[V(z)]*z._effHeight;if(H.margin.autoexpand){var de=re,me=ue;re=a.constrain(re,0,H.width-z._width),ue=a.constrain(ue,0,H.height-z._effHeight),re!==de&&a.log("Constrain legend.x to make legend fit inside graph"),ue!==me&&a.log("Constrain legend.y to make legend fit inside graph")}h.setTranslate(se,re,ue)}if(N.on(".drag",null),se.on("wheel",null),F||z._height<=z._maxHeight||Z._context.staticPlot){var pe=z._effHeight;F&&(pe=z._height),ie.attr({width:z._width-Q,height:pe-Q,x:Q/2,y:Q/2}),h.setTranslate(J,0,0),ee.select("rect").attr({width:z._width-2*Q,height:pe-2*Q,x:Q,y:Q}),h.setClipUrl(J,B,Z),h.setRect(N,0,0,0,0),delete z._scrollY}else{var ge=Math.max(_.scrollBarMinHeight,z._effHeight*z._effHeight/z._height),Te=z._effHeight-ge-2*_.scrollBarMargin,He=z._height-z._effHeight,Oe=Te/He,tt=Math.min(z._scrollY||0,He);ie.attr({width:z._width-2*Q+_.scrollBarWidth+_.scrollBarMargin,height:z._effHeight-Q,x:Q/2,y:Q/2}),ee.select("rect").attr({width:z._width-2*Q+_.scrollBarWidth+_.scrollBarMargin,height:z._effHeight-2*Q,x:Q,y:Q+tt}),h.setClipUrl(J,B,Z),et(tt,ge,Oe),se.on("wheel",function(){tt=a.constrain(z._scrollY+n.event.deltaY/Te*He,0,He),et(tt,ge,Oe),tt!==0&&tt!==He&&n.event.preventDefault()});var Le,De,Se,ze=function(ct,nt,at){var It=(at-nt)/Oe+ct;return a.constrain(It,0,He)},Ke=function(ct,nt,at){var It=(nt-at)/Oe+ct;return a.constrain(It,0,He)},_t=n.behavior.drag().on("dragstart",function(){var ct=n.event.sourceEvent;ct.type==="touchstart"?Le=ct.changedTouches[0].clientY:Le=ct.clientY,Se=tt}).on("drag",function(){var ct=n.event.sourceEvent;ct.buttons===2||ct.ctrlKey||(ct.type==="touchmove"?De=ct.changedTouches[0].clientY:De=ct.clientY,tt=ze(Se,Le,De),et(tt,ge,Oe))});N.call(_t);var Qe=n.behavior.drag().on("dragstart",function(){var ct=n.event.sourceEvent;ct.type==="touchstart"&&(Le=ct.changedTouches[0].clientY,Se=tt)}).on("drag",function(){var ct=n.event.sourceEvent;ct.type==="touchmove"&&(De=ct.changedTouches[0].clientY,tt=Ke(Se,Le,De),et(tt,ge,Oe))});J.call(Qe)}function et(ct,nt,at){z._scrollY=Z._fullLayout.legend._scrollY=ct,h.setTranslate(J,0,-ct),h.setRect(N,z._width,_.scrollBarMargin+ct*at,_.scrollBarWidth,nt),ee.select("rect").attr("y",Q+ct)}if(Z._context.edits.legendPosition){var rt,ft,bt,Ft;se.classed("cursor-move",!0),c.init({element:se.node(),gd:Z,prepFn:function(){var ct=h.getTranslate(se);bt=ct.x,Ft=ct.y},moveFn:function(ct,nt){var at=bt+ct,It=Ft+nt;h.setTranslate(se,at,It),rt=c.align(at,0,j.l,j.l+j.w,z.xanchor),ft=c.align(It,0,j.t+j.h,j.t,z.yanchor)},doneFn:function(){rt!==void 0&&ft!==void 0&&l.call("_guiRelayout",Z,{"legend.x":rt,"legend.y":ft})},clickFn:function(ct,nt){var at=W.selectAll("g.traces").filter(function(){var It=this.getBoundingClientRect();return nt.clientX>=It.left&&nt.clientX<=It.right&&nt.clientY>=It.top&&nt.clientY<=It.bottom});at.size()>0&&T(Z,se,at,ct,nt)}})}}],Z)}}function T(Z,z,H,B,W){var F=H.data()[0][0].trace,K={event:W,node:H.node(),curveNumber:F.index,expandedIndex:F._expandedIndex,data:Z.data,layout:Z.layout,frames:Z._transitionData._frames,config:Z._context,fullData:Z._fullData,fullLayout:Z._fullLayout};F._group&&(K.group=F._group),l.traceIs(F,"pie-like")&&(K.label=H.datum()[0].label);var fe=u.triggerHandler(Z,"plotly_legendclick",K);if(fe!==!1){if(B===1)z._clickTimeout=setTimeout(function(){Z._fullLayout&&m(H,Z,B)},Z._context.doubleClickDelay);else if(B===2){z._clickTimeout&&clearTimeout(z._clickTimeout),Z._legendMouseDownTime=0;var se=u.triggerHandler(Z,"plotly_legenddoubleclick",K);se!==!1&&m(H,Z,B)}}}function M(Z,z,H){var B=Z.data()[0][0],W=B.trace,F=l.traceIs(W,"pie-like"),K=!H._inHover&&z._context.edits.legendText&&!F,fe=H._maxNameLength,se,ee;B.groupTitle?(se=B.groupTitle.text,ee=B.groupTitle.font):(ee=H.font,H.entries?se=B.text:(se=F?B.label:W.name,W._meta&&(se=a.templateString(se,W._meta))));var ie=a.ensureSingle(Z,"text","legendtext");ie.attr("text-anchor","start").call(h.font,ee).text(K?D(se,fe):se);var J=H.itemwidth+_.itemGap*2;f.positionText(ie,J,0),K?ie.call(f.makeEditable,{gd:z,text:se}).call(R,Z,z,H).on("edit",function(te){this.text(D(te,fe)).call(R,Z,z,H);var L=B.trace._fullInput||{},N={};if(l.hasTransform(L,"groupby")){var G=l.getTransformIndices(L,"groupby"),Y=G[G.length-1],j=a.keyedContainer(L,"transforms["+Y+"].styles","target","value.name");j.set(B.trace._group,te),N=j.constructUpdate()}else N.name=te;return l.call("_guiRestyle",z,N,W.index)}):R(ie,Z,z,H)}function D(Z,z){var H=Math.max(4,z);if(Z&&Z.trim().length>=H/2)return Z;Z=Z||"";for(var B=H-Z.length;B>0;B--)Z+=" ";return Z}function k(Z,z){var H=z._context.doubleClickDelay,B,W=1,F=a.ensureSingle(Z,"rect","legendtoggle",function(K){z._context.staticPlot||K.style("cursor","pointer").attr("pointer-events","all"),K.call(v.fill,"rgba(0,0,0,0)")});z._context.staticPlot||(F.on("mousedown",function(){B=new Date().getTime(),B-z._legendMouseDownTime<H?W+=1:(W=1,z._legendMouseDownTime=B)}),F.on("mouseup",function(){if(!(z._dragged||z._editing)){var K=z._fullLayout.legend;new Date().getTime()-z._legendMouseDownTime>H&&(W=Math.max(W-1,1)),T(z,K,Z,W,n.event)}}))}function R(Z,z,H,B,W){B._inHover&&Z.attr("data-notex",!0),f.convertToTspans(Z,H,function(){P(z,H,B,W)})}function P(Z,z,H,B){var W=Z.data()[0][0];if(!H._inHover&&W&&!W.trace.showlegend){Z.remove();return}var F=Z.select("g[class*=math-group]"),K=F.node();H||(H=z._fullLayout.legend);var fe=H.borderwidth,se;B===C?se=H.title.font:W.groupTitle?se=W.groupTitle.font:se=H.font;var ee=se.size*p,ie,J;if(K){var te=h.bBox(K);ie=te.height,J=te.width,B===C?h.setTranslate(F,fe,fe+ie*.75):h.setTranslate(F,0,ie*.25)}else{var L=Z.select(B===C?".legendtitletext":".legendtext"),N=f.lineCount(L),G=L.node();if(ie=ee*N,J=G?h.bBox(G).width:0,B===C)H.title.side==="left"&&(J+=_.itemGap*2),f.positionText(L,fe+_.titlePad,fe+ee);else{var Y=_.itemGap*2+H.itemwidth;W.groupTitle&&(Y=_.itemGap,J-=H.itemwidth),f.positionText(L,Y,-ee*((N-1)/2-.3))}}B===C?(H._titleWidth=J,H._titleHeight=ie):(W.lineHeight=ee,W.height=Math.max(ie,16)+3,W.width=J)}function E(Z){var z=0,H=0,B=Z.title.side;return B&&(B.indexOf("left")!==-1&&(z=Z._titleWidth),B.indexOf("top")!==-1&&(H=Z._titleHeight)),[z,H]}function O(Z,z,H,B){var W=Z._fullLayout;B||(B=W.legend);var F=W._size,K=w.isVertical(B),fe=w.isGrouped(B),se=B.borderwidth,ee=2*se,ie=_.itemGap,J=B.itemwidth+ie*2,te=2*(se+ie),L=V(B),N=B.y<0||B.y===0&&L==="top",G=B.y>1||B.y===1&&L==="bottom",Y=B.tracegroupgap;B._maxHeight=Math.max(N||G?W.height/2:F.h,30);var j=0;B._width=0,B._height=0;var Q=E(B);if(K)H.each(function(rt){var ft=rt[0].height;h.setTranslate(this,se+Q[0],se+Q[1]+B._height+ft/2+ie),B._height+=ft,B._width=Math.max(B._width,rt[0].width)}),j=J+B._width,B._width+=ie+J+ee,B._height+=te,fe&&(z.each(function(rt,ft){h.setTranslate(this,0,ft*B.tracegroupgap)}),B._height+=(B._lgroupsLength-1)*B.tracegroupgap);else{var q=U(B),re=B.x<0||B.x===0&&q==="right",ue=B.x>1||B.x===1&&q==="left",de=G||N,me=W.width/2;B._maxWidth=Math.max(re?de&&q==="left"?F.l+F.w:me:ue?de&&q==="right"?F.r+F.w:me:F.w,2*J);var pe=0,ge=0;H.each(function(rt){var ft=rt[0].width+J;pe=Math.max(pe,ft),ge+=ft}),j=null;var Te=0;if(fe){var He=0,Oe=0,tt=0;z.each(function(){var rt=0,ft=0;n.select(this).selectAll("g.traces").each(function(Ft){var ct=Ft[0].width,nt=Ft[0].height;h.setTranslate(this,Q[0],Q[1]+se+ie+nt/2+ft),ft+=nt,rt=Math.max(rt,J+ct)});var bt=rt+ie;Oe>0&&bt+se+Oe>B._maxWidth?(Te=Math.max(Te,Oe),Oe=0,tt+=He+Y,He=ft):He=Math.max(He,ft),h.setTranslate(this,Oe,tt),Oe+=bt}),B._width=Math.max(Te,Oe)+se,B._height=tt+He+te}else{var Le=H.size(),De=ge+ee+(Le-1)*ie<B._maxWidth,Se=0,ze=0,Ke=0,_t=0;H.each(function(rt){var ft=rt[0].height,bt=J+rt[0].width,Ft=(De?bt:pe)+ie;Ft+se+ze-ie>=B._maxWidth&&(Te=Math.max(Te,_t),ze=0,Ke+=Se,B._height+=Se,Se=0),h.setTranslate(this,Q[0]+se+ze,Q[1]+se+Ke+ft/2+ie),_t=ze+bt+ie,ze+=Ft,Se=Math.max(Se,ft)}),De?(B._width=ze+ee,B._height=Se+te):(B._width=Math.max(Te,_t)+ee,B._height+=Se+te)}}B._width=Math.ceil(Math.max(B._width+Q[0],B._titleWidth+2*(se+_.titlePad))),B._height=Math.ceil(Math.max(B._height+Q[1],B._titleHeight+2*(se+_.itemGap))),B._effHeight=Math.min(B._height,B._maxHeight);var Qe=Z._context.edits,et=Qe.legendText||Qe.legendPosition;H.each(function(rt){var ft=n.select(this).select(".legendtoggle"),bt=rt[0].height,Ft=et?J:j||J+rt[0].width;K||(Ft+=ie/2),h.setRect(ft,0,-bt/2,Ft,bt)})}function I(Z){var z=Z._fullLayout,H=z.legend,B=U(H),W=V(H);return s.autoMargin(Z,"legend",{x:H.x,y:H.y,l:H._width*d[B],r:H._width*b[B],b:H._effHeight*b[W],t:H._effHeight*d[W]})}function U(Z){return a.isRightAnchor(Z)?"right":a.isCenterAnchor(Z)?"center":"left"}function V(Z){return a.isBottomAnchor(Z)?"bottom":a.isMiddleAnchor(Z)?"middle":"top"}},{"../../constants/alignment":219,"../../lib":244,"../../lib/events":237,"../../lib/svg_text_utils":267,"../../plots/plots":325,"../../registry":327,"../color":103,"../dragelement":122,"../drawing":125,"./constants":154,"./get_legend_data":157,"./handle_click":158,"./helpers":159,"./style":161,"@plotly/d3":11}],157:[function(r,i,o){var n=r("../../registry"),a=r("./helpers");i.exports=function(l,u){var c=u._inHover,h=a.isGrouped(u),v=a.isReversed(u),f={},m=[],_=!1,g={},p=0,d=0,b,y;function x(H,B){if(H===""||!a.isGrouped(u)){var W="~~i"+p;m.push(W),f[W]=[B],p++}else m.indexOf(H)===-1?(m.push(H),_=!0,f[H]=[B]):f[H].push(B)}for(b=0;b<l.length;b++){var w=l[b],C=w[0],S=C.trace,T=S.legendgroup;if(!(!c&&(!S.visible||!S.showlegend)))if(n.traceIs(S,"pie-like"))for(g[T]||(g[T]={}),y=0;y<w.length;y++){var M=w[y].label;g[T][M]||(x(T,{label:M,color:w[y].color,i:w[y].i,trace:S,pts:w[y].pts}),g[T][M]=!0,d=Math.max(d,(M||"").length))}else x(T,C),d=Math.max(d,(S.name||"").length)}if(!m.length)return[];var D=!_||!h,k=[];for(b=0;b<m.length;b++){var R=f[m[b]];D?k.push(R[0]):k.push(R)}for(D&&(k=[k]),b=0;b<k.length;b++){var P=1/0;for(y=0;y<k[b].length;y++){var E=k[b][y].trace.legendrank;P>E&&(P=E)}k[b][0]._groupMinRank=P,k[b][0]._preGroupSort=b}var O=function(H,B){return H[0]._groupMinRank-B[0]._groupMinRank||H[0]._preGroupSort-B[0]._preGroupSort},I=function(H,B){return H.trace.legendrank-B.trace.legendrank||H._preSort-B._preSort};for(k.forEach(function(H,B){H[0]._preGroupSort=B}),k.sort(O),b=0;b<k.length;b++){k[b].forEach(function(H,B){H._preSort=B}),k[b].sort(I);var U=k[b][0].trace,V=null;for(y=0;y<k[b].length;y++){var Z=k[b][y].trace.legendgrouptitle;if(Z&&Z.text){V=Z,c&&(Z.font=u._groupTitleFont);break}}if(v&&k[b].reverse(),V){var z=!1;for(y=0;y<k[b].length;y++)if(n.traceIs(k[b][y].trace,"pie-like")){z=!0;break}k[b].unshift({i:-1,groupTitle:V,noClick:z,trace:{showlegend:U.showlegend,legendgroup:U.legendgroup,visible:u.groupclick==="toggleitem"?!0:U.visible}})}for(y=0;y<k[b].length;y++)k[b][y]=[k[b][y]]}return u._lgroupsLength=k.length,u._maxNameLength=d,k}},{"../../registry":327,"./helpers":159}],158:[function(r,i,o){var n=r("../../lib"),a=r("../../registry"),s=!0;i.exports=function(u,c,h){var v=c._fullLayout;if(c._dragged||c._editing)return;var f=v.legend.itemclick,m=v.legend.itemdoubleclick,_=v.legend.groupclick;h===1&&f==="toggle"&&m==="toggleothers"&&s&&c.data&&c._context.showTips&&n.notifier(n._(c,"Double-click on legend to isolate one trace"),"long"),s=!1;var g;if(h===1?g=f:h===2&&(g=m),!g)return;var p=_==="togglegroup",d=v.hiddenlabels?v.hiddenlabels.slice():[],b=u.data()[0][0];if(b.groupTitle&&b.noClick)return;var y=c._fullData,x=b.trace,w=x.legendgroup,C,S,T,M,D,k,R={},P=[],E=[],O=[];function I(te,L,N){var G=P.indexOf(te),Y=R[L];return Y||(Y=R[L]=[]),P.indexOf(te)===-1&&(P.push(te),G=P.length-1),Y[G]=N,G}function U(te,L){if(!(b.groupTitle&&!p)){var N=te._fullInput;if(a.hasTransform(N,"groupby")){var G=E[N.index];if(!G){var Y=a.getTransformIndices(N,"groupby"),j=Y[Y.length-1];G=n.keyedContainer(N,"transforms["+j+"].styles","target","value.visible"),E[N.index]=G}var Q=G.get(te._group);Q===void 0&&(Q=!0),Q!==!1&&G.set(te._group,L),O[N.index]=I(N.index,"visible",N.visible!==!1)}else{var q=N.visible===!1?!1:L;I(N.index,"visible",q)}}}if(a.traceIs(x,"pie-like")){var V=b.label,Z=d.indexOf(V);g==="toggle"?Z===-1?d.push(V):d.splice(Z,1):g==="toggleothers"&&(d=[],c.calcdata[0].forEach(function(te){V!==te.label&&d.push(te.label)}),c._fullLayout.hiddenlabels&&c._fullLayout.hiddenlabels.length===d.length&&Z===-1&&(d=[])),a.call("_guiRelayout",c,"hiddenlabels",d)}else{var z=w&&w.length,H=[],B;if(z)for(C=0;C<y.length;C++)B=y[C],B.visible&&B.legendgroup===w&&H.push(C);if(g==="toggle"){var W;switch(x.visible){case!0:W="legendonly";break;case!1:W=!1;break;case"legendonly":W=!0;break}if(z)if(p)for(C=0;C<y.length;C++)y[C].visible!==!1&&y[C].legendgroup===w&&U(y[C],W);else U(x,W);else U(x,W)}else if(g==="toggleothers"){var F,K,fe,se,ee=!0;for(C=0;C<y.length;C++)if(F=y[C]===x,fe=y[C].showlegend!==!0,!(F||fe)&&(K=z&&y[C].legendgroup===w,!K&&y[C].visible===!0&&!a.traceIs(y[C],"notLegendIsolatable"))){ee=!1;break}for(C=0;C<y.length;C++)if(y[C].visible!==!1&&!a.traceIs(y[C],"notLegendIsolatable"))switch(x.visible){case"legendonly":U(y[C],!0);break;case!0:se=ee?!0:"legendonly",F=y[C]===x,fe=y[C].showlegend!==!0&&!y[C].legendgroup,K=F||z&&y[C].legendgroup===w,U(y[C],K||fe?!0:se);break}}for(C=0;C<E.length;C++)if(T=E[C],!!T){var ie=T.constructUpdate(),J=Object.keys(ie);for(S=0;S<J.length;S++)M=J[S],k=R[M]=R[M]||[],k[O[C]]=ie[M]}for(D=Object.keys(R),C=0;C<D.length;C++)for(M=D[C],S=0;S<P.length;S++)R[M].hasOwnProperty(S)||(R[M][S]=void 0);a.call("_guiRestyle",c,R,P)}}},{"../../lib":244,"../../registry":327}],159:[function(r,i,o){o.isGrouped=function(a){return(a.traceorder||"").indexOf("grouped")!==-1},o.isVertical=function(a){return a.orientation!=="h"},o.isReversed=function(a){return(a.traceorder||"").indexOf("reversed")!==-1}},{}],160:[function(r,i,o){i.exports={moduleType:"component",name:"legend",layoutAttributes:r("./attributes"),supplyLayoutDefaults:r("./defaults"),draw:r("./draw"),style:r("./style")}},{"./attributes":153,"./defaults":155,"./draw":156,"./style":161}],161:[function(r,i,o){var n=r("@plotly/d3"),a=r("../../registry"),s=r("../../lib"),l=s.strTranslate,u=r("../drawing"),c=r("../color"),h=r("../colorscale/helpers").extractOpts,v=r("../../traces/scatter/subtypes"),f=r("../../traces/pie/style_one"),m=r("../../traces/pie/helpers").castOption,_=r("./constants"),g=12,p=5,d=2,b=10,y=5;i.exports=function(T,M,D){var k=M._fullLayout;D||(D=k.legend);var R=D.itemsizing==="constant",P=D.itemwidth,E=(P+_.itemGap*2)/2,O=l(E,0),I=function(J,te,L,N){var G;if(J+1)G=J;else if(te&&te.width>0)G=te.width;else return 0;return R?N:Math.min(G,L)};T.each(function(J){var te=n.select(this),L=s.ensureSingle(te,"g","layers");L.style("opacity",J[0].trace.opacity);var N=D.valign,G=J[0].lineHeight,Y=J[0].height;if(N==="middle"||!G||!Y)L.attr("transform",null);else{var j={top:1,bottom:-1}[N],Q=j*(.5*(G-Y+3));L.attr("transform",l(0,Q))}var q=L.selectAll("g.legendfill").data([J]);q.enter().append("g").classed("legendfill",!0);var re=L.selectAll("g.legendlines").data([J]);re.enter().append("g").classed("legendlines",!0);var ue=L.selectAll("g.legendsymbols").data([J]);ue.enter().append("g").classed("legendsymbols",!0),ue.selectAll("g.legendpoints").data([J]).enter().append("g").classed("legendpoints",!0)}).each(ie).each(Z).each(H).each(z).each(W).each(se).each(fe).each(U).each(V).each(F).each(K);function U(J){var te=w(J),L=te.showFill,N=te.showLine,G=te.showGradientLine,Y=te.showGradientFill,j=te.anyFill,Q=te.anyLine,q=J[0],re=q.trace,ue,de,me=h(re),pe=me.colorscale,ge=me.reversescale,Te=function(ze){if(ze.size())if(L)u.fillGroupStyle(ze,M);else{var Ke="legendfill-"+re.uid;u.gradient(ze,M,Ke,x(ge),pe,"fill")}},He=function(ze){if(ze.size()){var Ke="legendline-"+re.uid;u.lineGroupStyle(ze),u.gradient(ze,M,Ke,x(ge),pe,"stroke")}},Oe=v.hasMarkers(re)||!j?"M5,0":Q?"M5,-2":"M5,-3",tt=n.select(this),Le=tt.select(".legendfill").selectAll("path").data(L||Y?[J]:[]);if(Le.enter().append("path").classed("js-fill",!0),Le.exit().remove(),Le.attr("d",Oe+"h"+P+"v6h-"+P+"z").call(Te),N||G){var De=I(void 0,re.line,b,p);de=s.minExtend(re,{line:{width:De}}),ue=[s.minExtend(q,{trace:de})]}var Se=tt.select(".legendlines").selectAll("path").data(N||G?[ue]:[]);Se.enter().append("path").classed("js-line",!0),Se.exit().remove(),Se.attr("d",Oe+(G?"l"+P+",0.0001":"h"+P)).call(N?u.lineGroupStyle:He)}function V(J){var te=w(J),L=te.anyFill,N=te.anyLine,G=te.showLine,Y=te.showMarker,j=J[0],Q=j.trace,q=!Y&&!N&&!L&&v.hasText(Q),re,ue;function de(Le,De,Se,ze){var Ke=s.nestedProperty(Q,Le).get(),_t=s.isArrayOrTypedArray(Ke)&&De?De(Ke):Ke;if(R&&_t&&ze!==void 0&&(_t=ze),Se){if(_t<Se[0])return Se[0];if(_t>Se[1])return Se[1]}return _t}function me(Le){return j._distinct&&j.index&&Le[j.index]?Le[j.index]:Le[0]}if(Y||q||G){var pe={},ge={};if(Y){pe.mc=de("marker.color",me),pe.mx=de("marker.symbol",me),pe.mo=de("marker.opacity",s.mean,[.2,1]),pe.mlc=de("marker.line.color",me),pe.mlw=de("marker.line.width",s.mean,[0,5],d),ge.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var Te=de("marker.size",s.mean,[2,16],g);pe.ms=Te,ge.marker.size=Te}G&&(ge.line={width:de("line.width",me,[0,10],p)}),q&&(pe.tx="Aa",pe.tp=de("textposition",me),pe.ts=10,pe.tc=de("textfont.color",me),pe.tf=de("textfont.family",me)),re=[s.minExtend(j,pe)],ue=s.minExtend(Q,ge),ue.selectedpoints=null,ue.texttemplate=null}var He=n.select(this).select("g.legendpoints"),Oe=He.selectAll("path.scatterpts").data(Y?re:[]);Oe.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",O),Oe.exit().remove(),Oe.call(u.pointStyle,ue,M),Y&&(re[0].mrc=3);var tt=He.selectAll("g.pointtext").data(q?re:[]);tt.enter().append("g").classed("pointtext",!0).append("text").attr("transform",O),tt.exit().remove(),tt.selectAll("text").call(u.textPointStyle,ue,M)}function Z(J){var te=J[0].trace,L=te.type==="waterfall";if(J[0]._distinct&&L){var N=J[0].trace[J[0].dir].marker;return J[0].mc=N.color,J[0].mlw=N.line.width,J[0].mlc=N.line.color,B(J,this,"waterfall")}var G=[];te.visible&&L&&(G=J[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var Y=n.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(G);Y.enter().append("path").classed("legendwaterfall",!0).attr("transform",O).style("stroke-miterlimit",1),Y.exit().remove(),Y.each(function(j){var Q=n.select(this),q=te[j[0]].marker,re=I(void 0,q.line,y,d);Q.attr("d",j[1]).style("stroke-width",re+"px").call(c.fill,q.color),re&&Q.call(c.stroke,q.line.color)})}function z(J){B(J,this)}function H(J){B(J,this,"funnel")}function B(J,te,L){var N=J[0].trace,G=N.marker||{},Y=G.line||{},j=L?N.visible&&N.type===L:a.traceIs(N,"bar"),Q=n.select(te).select("g.legendpoints").selectAll("path.legend"+L).data(j?[J]:[]);Q.enter().append("path").classed("legend"+L,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",O),Q.exit().remove(),Q.each(function(q){var re=n.select(this),ue=q[0],de=I(ue.mlw,G.line,y,d);re.style("stroke-width",de+"px");var me=ue.mcc;if(!D._inHover&&"mc"in ue){var pe=h(G),ge=pe.mid;ge===void 0&&(ge=(pe.max+pe.min)/2),me=u.tryColorscale(G,"")(ge)}var Te=me||ue.mc||G.color,He=G.pattern,Oe=He&&u.getPatternAttr(He.shape,0,"");if(Oe){var tt=u.getPatternAttr(He.bgcolor,0,null),Le=u.getPatternAttr(He.fgcolor,0,null),De=He.fgopacity,Se=C(He.size,8,10),ze=C(He.solidity,.5,1),Ke="legend-"+N.uid;re.call(u.pattern,"legend",M,Ke,Oe,Se,ze,me,He.fillmode,tt,Le,De)}else re.call(c.fill,Te);de&&c.stroke(re,ue.mlc||Y.color)})}function W(J){var te=J[0].trace,L=n.select(this).select("g.legendpoints").selectAll("path.legendbox").data(te.visible&&a.traceIs(te,"box-violin")?[J]:[]);L.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",O),L.exit().remove(),L.each(function(){var N=n.select(this);if((te.boxpoints==="all"||te.points==="all")&&c.opacity(te.fillcolor)===0&&c.opacity((te.line||{}).color)===0){var G=s.minExtend(te,{marker:{size:R?g:s.constrain(te.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});L.call(u.pointStyle,G,M)}else{var Y=I(void 0,te.line,y,d);N.style("stroke-width",Y+"px").call(c.fill,te.fillcolor),Y&&c.stroke(N,te.line.color)}})}function F(J){var te=J[0].trace,L=n.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(te.visible&&te.type==="candlestick"?[J,J]:[]);L.enter().append("path").classed("legendcandle",!0).attr("d",function(N,G){return G?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",O).style("stroke-miterlimit",1),L.exit().remove(),L.each(function(N,G){var Y=n.select(this),j=te[G?"increasing":"decreasing"],Q=I(void 0,j.line,y,d);Y.style("stroke-width",Q+"px").call(c.fill,j.fillcolor),Q&&c.stroke(Y,j.line.color)})}function K(J){var te=J[0].trace,L=n.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(te.visible&&te.type==="ohlc"?[J,J]:[]);L.enter().append("path").classed("legendohlc",!0).attr("d",function(N,G){return G?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",O).style("stroke-miterlimit",1),L.exit().remove(),L.each(function(N,G){var Y=n.select(this),j=te[G?"increasing":"decreasing"],Q=I(void 0,j.line,y,d);Y.style("fill","none").call(u.dashLine,j.line.dash,Q),Q&&c.stroke(Y,j.line.color)})}function fe(J){ee(J,this,"pie")}function se(J){ee(J,this,"funnelarea")}function ee(J,te,L){var N=J[0],G=N.trace,Y=L?G.visible&&G.type===L:a.traceIs(G,L),j=n.select(te).select("g.legendpoints").selectAll("path.legend"+L).data(Y?[J]:[]);if(j.enter().append("path").classed("legend"+L,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",O),j.exit().remove(),j.size()){var Q=(G.marker||{}).line,q=I(m(Q.width,N.pts),Q,y,d),re=s.minExtend(G,{marker:{line:{width:q}}});re.marker.line.color=Q.color;var ue=s.minExtend(N,{trace:re});f(j,ue,re)}}function ie(J){var te=J[0].trace,L,N=[];if(te.visible)switch(te.type){case"histogram2d":case"heatmap":N=[["M-15,-2V4H15V-2Z"]],L=!0;break;case"choropleth":case"choroplethmapbox":N=[["M-6,-6V6H6V-6Z"]],L=!0;break;case"densitymapbox":N=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],L="radial";break;case"cone":N=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],L=!1;break;case"streamtube":N=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],L=!1;break;case"surface":N=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],L=!0;break;case"mesh3d":N=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],L=!1;break;case"volume":N=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],L=!0;break;case"isosurface":N=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],L=!1;break}var G=n.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(N);G.enter().append("path").classed("legend3dandfriends",!0).attr("transform",O).style("stroke-miterlimit",1),G.exit().remove(),G.each(function(Y,j){var Q=n.select(this),q=h(te),re=q.colorscale,ue=q.reversescale,de=function(Te){if(Te.size()){var He="legendfill-"+te.uid;u.gradient(Te,M,He,x(ue,L==="radial"),re,"fill")}},me;if(re){if(!L){var ge=re.length;me=j===0?re[ue?ge-1:0][1]:j===1?re[ue?0:ge-1][1]:re[Math.floor((ge-1)/2)][1]}}else{var pe=te.vertexcolor||te.facecolor||te.color;me=s.isArrayOrTypedArray(pe)?pe[j]||pe[0]:pe}Q.attr("d",Y[0]),me?Q.call(c.fill,me):Q.call(de)})}};function x(S,T){var M=T?"radial":"horizontal";return M+(S?"":"reversed")}function w(S){var T=S[0].trace,M=T.contours,D=v.hasLines(T),k=v.hasMarkers(T),R=T.visible&&T.fill&&T.fill!=="none",P=!1,E=!1;if(M){var O=M.coloring;O==="lines"?P=!0:D=O==="none"||O==="heatmap"||M.showlines,M.type==="constraint"?R=M._operation!=="=":(O==="fill"||O==="heatmap")&&(E=!0)}return{showMarker:k,showLine:D,showFill:R,showGradientLine:P,showGradientFill:E,anyLine:D||P,anyFill:R||E}}function C(S,T,M){return S&&s.isArrayOrTypedArray(S)?T:S>M?M:S}},{"../../lib":244,"../../registry":327,"../../traces/pie/helpers":359,"../../traces/pie/style_one":365,"../../traces/scatter/subtypes":392,"../color":103,"../colorscale/helpers":114,"../drawing":125,"./constants":154,"@plotly/d3":11}],162:[function(r,i,o){r("./constants"),i.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}},{"./constants":164}],163:[function(r,i,o){var n=r("../../registry"),a=r("../../plots/plots"),s=r("../../plots/cartesian/axis_ids"),l=r("../../fonts/ploticon"),u=r("../shapes/draw").eraseActiveShape,c=r("../../lib"),h=c._,v=i.exports={};v.toImage={name:"toImage",title:function(S){var T=S._context.toImageButtonOptions||{},M=T.format||"png";return M==="png"?h(S,"Download plot as a png"):h(S,"Download plot")},icon:l.camera,click:function(S){var T=S._context.toImageButtonOptions,M={format:T.format||"png"};c.notifier(h(S,"Taking snapshot - this may take a few seconds"),"long"),M.format!=="svg"&&c.isIE()&&(c.notifier(h(S,"IE only supports svg.  Changing format to svg."),"long"),M.format="svg"),["filename","width","height","scale"].forEach(function(D){D in T&&(M[D]=T[D])}),n.call("downloadImage",S,M).then(function(D){c.notifier(h(S,"Snapshot succeeded")+" - "+D,"long")}).catch(function(){c.notifier(h(S,"Sorry, there was a problem downloading your snapshot!"),"long")})}},v.sendDataToCloud={name:"sendDataToCloud",title:function(S){return h(S,"Edit in Chart Studio")},icon:l.disk,click:function(S){a.sendDataToCloud(S)}},v.editInChartStudio={name:"editInChartStudio",title:function(S){return h(S,"Edit in Chart Studio")},icon:l.pencil,click:function(S){a.sendDataToCloud(S)}},v.zoom2d={name:"zoom2d",_cat:"zoom",title:function(S){return h(S,"Zoom")},attr:"dragmode",val:"zoom",icon:l.zoombox,click:f},v.pan2d={name:"pan2d",_cat:"pan",title:function(S){return h(S,"Pan")},attr:"dragmode",val:"pan",icon:l.pan,click:f},v.select2d={name:"select2d",_cat:"select",title:function(S){return h(S,"Box Select")},attr:"dragmode",val:"select",icon:l.selectbox,click:f},v.lasso2d={name:"lasso2d",_cat:"lasso",title:function(S){return h(S,"Lasso Select")},attr:"dragmode",val:"lasso",icon:l.lasso,click:f},v.drawclosedpath={name:"drawclosedpath",title:function(S){return h(S,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:l.drawclosedpath,click:f},v.drawopenpath={name:"drawopenpath",title:function(S){return h(S,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:l.drawopenpath,click:f},v.drawline={name:"drawline",title:function(S){return h(S,"Draw line")},attr:"dragmode",val:"drawline",icon:l.drawline,click:f},v.drawrect={name:"drawrect",title:function(S){return h(S,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:l.drawrect,click:f},v.drawcircle={name:"drawcircle",title:function(S){return h(S,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:l.drawcircle,click:f},v.eraseshape={name:"eraseshape",title:function(S){return h(S,"Erase active shape")},icon:l.eraseshape,click:u},v.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(S){return h(S,"Zoom in")},attr:"zoom",val:"in",icon:l.zoom_plus,click:f},v.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(S){return h(S,"Zoom out")},attr:"zoom",val:"out",icon:l.zoom_minus,click:f},v.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(S){return h(S,"Autoscale")},attr:"zoom",val:"auto",icon:l.autoscale,click:f},v.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(S){return h(S,"Reset axes")},attr:"zoom",val:"reset",icon:l.home,click:f},v.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(S){return h(S,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:l.tooltip_basic,gravity:"ne",click:f},v.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(S){return h(S,"Compare data on hover")},attr:"hovermode",val:function(S){return S._fullLayout._isHoriz?"y":"x"},icon:l.tooltip_compare,gravity:"ne",click:f};function f(S,T){var M=T.currentTarget,D=M.getAttribute("data-attr"),k=M.getAttribute("data-val")||!0,R=S._fullLayout,P={},E=s.list(S,null,!0),O=R._cartesianSpikesEnabled,I,U;if(D==="zoom"){var V=k==="in"?.5:2,Z=(1+V)/2,z=(1-V)/2,H;for(U=0;U<E.length;U++)if(I=E[U],!I.fixedrange)if(H=I._name,k==="auto")P[H+".autorange"]=!0;else if(k==="reset"){if(I._rangeInitial===void 0)P[H+".autorange"]=!0;else{var B=I._rangeInitial.slice();P[H+".range[0]"]=B[0],P[H+".range[1]"]=B[1]}I._showSpikeInitial!==void 0&&(P[H+".showspikes"]=I._showSpikeInitial,O==="on"&&!I._showSpikeInitial&&(O="off"))}else{var W=[I.r2l(I.range[0]),I.r2l(I.range[1])],F=[Z*W[0]+z*W[1],Z*W[1]+z*W[0]];P[H+".range[0]"]=I.l2r(F[0]),P[H+".range[1]"]=I.l2r(F[1])}}else D==="hovermode"&&(k==="x"||k==="y")&&(k=R._isHoriz?"y":"x",M.setAttribute("data-val",k)),P[D]=k;R._cartesianSpikesEnabled=O,n.call("_guiRelayout",S,P)}v.zoom3d={name:"zoom3d",_cat:"zoom",title:function(S){return h(S,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:l.zoombox,click:m},v.pan3d={name:"pan3d",_cat:"pan",title:function(S){return h(S,"Pan")},attr:"scene.dragmode",val:"pan",icon:l.pan,click:m},v.orbitRotation={name:"orbitRotation",title:function(S){return h(S,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:l["3d_rotate"],click:m},v.tableRotation={name:"tableRotation",title:function(S){return h(S,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:l["z-axis"],click:m};function m(S,T){for(var M=T.currentTarget,D=M.getAttribute("data-attr"),k=M.getAttribute("data-val")||!0,R=S._fullLayout._subplots.gl3d||[],P={},E=D.split("."),O=0;O<R.length;O++)P[R[O]+"."+E[1]]=k;var I=k==="pan"?k:"zoom";P.dragmode=I,n.call("_guiRelayout",S,P)}v.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(S){return h(S,"Reset camera to default")},attr:"resetDefault",icon:l.home,click:_},v.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(S){return h(S,"Reset camera to last save")},attr:"resetLastSave",icon:l.movie,click:_};function _(S,T){for(var M=T.currentTarget,D=M.getAttribute("data-attr"),k=D==="resetLastSave",R=D==="resetDefault",P=S._fullLayout,E=P._subplots.gl3d||[],O={},I=0;I<E.length;I++){var U=E[I],V=U+".camera",Z=U+".aspectratio",z=U+".aspectmode",H=P[U]._scene,B;k?(O[V+".up"]=H.viewInitial.up,O[V+".eye"]=H.viewInitial.eye,O[V+".center"]=H.viewInitial.center,B=!0):R&&(O[V+".up"]=null,O[V+".eye"]=null,O[V+".center"]=null,B=!0),B&&(O[Z+".x"]=H.viewInitial.aspectratio.x,O[Z+".y"]=H.viewInitial.aspectratio.y,O[Z+".z"]=H.viewInitial.aspectratio.z,O[z]=H.viewInitial.aspectmode)}n.call("_guiRelayout",S,O)}v.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(S){return h(S,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:l.tooltip_basic,gravity:"ne",click:p};function g(S,T){var M=T.currentTarget,D=M._previousVal,k=S._fullLayout,R=k._subplots.gl3d||[],P=["xaxis","yaxis","zaxis"],E={},O={};if(D)O=D,M._previousVal=null;else{for(var I=0;I<R.length;I++){var U=R[I],V=k[U],Z=U+".hovermode";E[Z]=V.hovermode,O[Z]=!1;for(var z=0;z<3;z++){var H=P[z],B=U+"."+H+".showspikes";O[B]=!1,E[B]=V[H].showspikes}}M._previousVal=E}return O}function p(S,T){var M=g(S,T);n.call("_guiRelayout",S,M)}v.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(S){return h(S,"Zoom in")},attr:"zoom",val:"in",icon:l.zoom_plus,click:d},v.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(S){return h(S,"Zoom out")},attr:"zoom",val:"out",icon:l.zoom_minus,click:d},v.resetGeo={name:"resetGeo",_cat:"reset",title:function(S){return h(S,"Reset")},attr:"reset",val:null,icon:l.autoscale,click:d},v.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(S){return h(S,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:l.tooltip_basic,gravity:"ne",click:y};function d(S,T){for(var M=T.currentTarget,D=M.getAttribute("data-attr"),k=M.getAttribute("data-val")||!0,R=S._fullLayout,P=R._subplots.geo||[],E=0;E<P.length;E++){var O=P[E],I=R[O];if(D==="zoom"){var U=I.projection.scale,V=k==="in"?2*U:.5*U;n.call("_guiRelayout",S,O+".projection.scale",V)}}D==="reset"&&C(S,"geo")}v.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(S){return h(S,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:l.tooltip_basic,gravity:"ne",click:y},v.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(S){return h(S,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:l.tooltip_basic,gravity:"ne",click:y};function b(S){var T=S._fullLayout;return T.hovermode?!1:T._has("cartesian")?T._isHoriz?"y":"x":"closest"}function y(S){var T=b(S);n.call("_guiRelayout",S,"hovermode",T)}v.resetViewSankey={name:"resetSankeyGroup",title:function(S){return h(S,"Reset view")},icon:l.home,click:function(S){for(var T={"node.groups":[],"node.x":[],"node.y":[]},M=0;M<S._fullData.length;M++){var D=S._fullData[M]._viewInitial;T["node.groups"].push(D.node.groups.slice()),T["node.x"].push(D.node.x.slice()),T["node.y"].push(D.node.y.slice())}n.call("restyle",S,T)}},v.toggleHover={name:"toggleHover",title:function(S){return h(S,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:l.tooltip_basic,gravity:"ne",click:function(S,T){var M=g(S,T);M.hovermode=b(S),n.call("_guiRelayout",S,M)}},v.resetViews={name:"resetViews",title:function(S){return h(S,"Reset views")},icon:l.home,click:function(S,T){var M=T.currentTarget;M.setAttribute("data-attr","zoom"),M.setAttribute("data-val","reset"),f(S,T),M.setAttribute("data-attr","resetLastSave"),_(S,T),C(S,"geo"),C(S,"mapbox")}},v.toggleSpikelines={name:"toggleSpikelines",title:function(S){return h(S,"Toggle Spike Lines")},icon:l.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(S){var T=S._fullLayout,M=T._cartesianSpikesEnabled;T._cartesianSpikesEnabled=M==="on"?"off":"on",n.call("_guiRelayout",S,x(S))}};function x(S){for(var T=S._fullLayout,M=T._cartesianSpikesEnabled==="on",D=s.list(S,null,!0),k={},R=0;R<D.length;R++){var P=D[R];k[P._name+".showspikes"]=M?!0:P._showSpikeInitial}return k}v.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(S){return h(S,"Reset view")},attr:"reset",icon:l.home,click:function(S){C(S,"mapbox")}},v.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(S){return h(S,"Zoom in")},attr:"zoom",val:"in",icon:l.zoom_plus,click:w},v.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(S){return h(S,"Zoom out")},attr:"zoom",val:"out",icon:l.zoom_minus,click:w};function w(S,T){for(var M=T.currentTarget,D=M.getAttribute("data-val"),k=S._fullLayout,R=k._subplots.mapbox||[],P=1.05,E={},O=0;O<R.length;O++){var I=R[O],U=k[I].zoom,V=D==="in"?P*U:U/P;E[I+".zoom"]=V}n.call("_guiRelayout",S,E)}function C(S,T){for(var M=S._fullLayout,D=M._subplots[T]||[],k={},R=0;R<D.length;R++)for(var P=D[R],E=M[P]._subplot,O=E.viewInitial,I=Object.keys(O),U=0;U<I.length;U++){var V=I[U];k[P+"."+V]=O[V]}n.call("_guiRelayout",S,k)}},{"../../fonts/ploticon":227,"../../lib":244,"../../plots/cartesian/axis_ids":295,"../../plots/plots":325,"../../registry":327,"../shapes/draw":198}],164:[function(r,i,o){var n=r("./buttons"),a=Object.keys(n),s=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],l=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(s),u=[],c=function(h){if(l.indexOf(h._cat||h.name)===-1){var v=h.name,f=(h._cat||h.name).toLowerCase();u.indexOf(v)===-1&&u.push(v),u.indexOf(f)===-1&&u.push(f)}};a.forEach(function(h){c(n[h])}),u.sort(),i.exports={DRAW_MODES:s,backButtons:l,foreButtons:u}},{"./buttons":163}],165:[function(r,i,o){var n=r("../../lib"),a=r("../color"),s=r("../../plot_api/plot_template"),l=r("./attributes");i.exports=function(c,h){var v=c.modebar||{},f=s.newContainer(h,"modebar");function m(g,p){return n.coerce(v,f,l,g,p)}m("orientation"),m("bgcolor",a.addOpacity(h.paper_bgcolor,.5));var _=a.contrast(a.rgb(h.modebar.bgcolor));m("color",a.addOpacity(_,.3)),m("activecolor",a.addOpacity(_,.7)),m("uirevision",h.uirevision),m("add"),m("remove")}},{"../../lib":244,"../../plot_api/plot_template":280,"../color":103,"./attributes":162}],166:[function(r,i,o){i.exports={moduleType:"component",name:"modebar",layoutAttributes:r("./attributes"),supplyLayoutDefaults:r("./defaults"),manage:r("./manage")}},{"./attributes":162,"./defaults":165,"./manage":167}],167:[function(r,i,o){var n=r("../../plots/cartesian/axis_ids"),a=r("../../traces/scatter/subtypes"),s=r("../../registry"),l=r("../fx/helpers").isUnifiedHover,u=r("./modebar"),c=r("./buttons"),h=r("./constants").DRAW_MODES,v=r("../../lib").extendDeep;i.exports=function(y){var x=y._fullLayout,w=y._context,C=x._modeBar;if(!w.displayModeBar&&!w.watermark){C&&(C.destroy(),delete x._modeBar);return}if(!Array.isArray(w.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(w.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var S=w.modeBarButtons,T;Array.isArray(S)&&S.length?T=d(S):!w.displayModeBar&&w.watermark?T=[]:T=f(y),C?C.update(y,T):x._modeBar=u(y,T)};function f(b){var y=b._fullLayout,x=b._fullData,w=b._context;function C(j,Q){if(typeof Q=="string"){if(Q.toLowerCase()===j.toLowerCase())return!0}else{var q=Q.name,re=Q._cat||Q.name;if(q===j||re===j.toLowerCase())return!0}return!1}var S=y.modebar.add;typeof S=="string"&&(S=[S]);var T=y.modebar.remove;typeof T=="string"&&(T=[T]);var M=w.modeBarButtonsToAdd.concat(S.filter(function(j){for(var Q=0;Q<w.modeBarButtonsToRemove.length;Q++)if(C(j,w.modeBarButtonsToRemove[Q]))return!1;return!0})),D=w.modeBarButtonsToRemove.concat(T.filter(function(j){for(var Q=0;Q<w.modeBarButtonsToAdd.length;Q++)if(C(j,w.modeBarButtonsToAdd[Q]))return!1;return!0})),k=y._has("cartesian"),R=y._has("gl3d"),P=y._has("geo"),E=y._has("pie"),O=y._has("funnelarea"),I=y._has("gl2d"),U=y._has("ternary"),V=y._has("mapbox"),Z=y._has("polar"),z=y._has("smith"),H=y._has("sankey"),B=m(y),W=l(y.hovermode),F=[];function K(j){if(j.length){for(var Q=[],q=0;q<j.length;q++){for(var re=j[q],ue=c[re],de=ue.name.toLowerCase(),me=(ue._cat||ue.name).toLowerCase(),pe=!1,ge=0;ge<D.length;ge++){var Te=D[ge].toLowerCase();if(Te===de||Te===me){pe=!0;break}}pe||Q.push(c[re])}F.push(Q)}}var fe=["toImage"];w.showEditInChartStudio?fe.push("editInChartStudio"):w.showSendToCloud&&fe.push("sendDataToCloud"),K(fe);var se=[],ee=[],ie=[],J=[];(k||I||E||O||U)+P+R+V+Z+z>1?(ee=["toggleHover"],ie=["resetViews"]):P?(se=["zoomInGeo","zoomOutGeo"],ee=["hoverClosestGeo"],ie=["resetGeo"]):R?(ee=["hoverClosest3d"],ie=["resetCameraDefault3d","resetCameraLastSave3d"]):V?(se=["zoomInMapbox","zoomOutMapbox"],ee=["toggleHover"],ie=["resetViewMapbox"]):I?ee=["hoverClosestGl2d"]:E?ee=["hoverClosestPie"]:H?(ee=["hoverClosestCartesian","hoverCompareCartesian"],ie=["resetViewSankey"]):ee=["toggleHover"],k&&(ee=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]),(g(x)||W)&&(ee=[]),(k||I)&&!B&&(se=["zoomIn2d","zoomOut2d","autoScale2d"],ie[0]!=="resetViews"&&(ie=["resetScale2d"])),R?J=["zoom3d","pan3d","orbitRotation","tableRotation"]:(k||I)&&!B||U?J=["zoom2d","pan2d"]:V||P?J=["pan2d"]:Z&&(J=["zoom2d"]),_(x)&&J.push("select2d","lasso2d");var te=[],L=function(j){te.indexOf(j)===-1&&ee.indexOf(j)!==-1&&te.push(j)};if(Array.isArray(M)){for(var N=[],G=0;G<M.length;G++){var Y=M[G];typeof Y=="string"?(Y=Y.toLowerCase(),h.indexOf(Y)!==-1?(y._has("mapbox")||y._has("cartesian"))&&J.push(Y):Y==="togglespikelines"?L("toggleSpikelines"):Y==="togglehover"?L("toggleHover"):Y==="hovercompare"?L("hoverCompareCartesian"):Y==="hoverclosest"?(L("hoverClosestCartesian"),L("hoverClosestGeo"),L("hoverClosest3d"),L("hoverClosestGl2d"),L("hoverClosestPie")):Y==="v1hovermode"&&(L("toggleHover"),L("hoverClosestCartesian"),L("hoverCompareCartesian"),L("hoverClosestGeo"),L("hoverClosest3d"),L("hoverClosestGl2d"),L("hoverClosestPie"))):N.push(Y)}M=N}return K(J),K(se.concat(ie)),K(te),p(F,M)}function m(b){for(var y=n.list({_fullLayout:b},null,!0),x=0;x<y.length;x++)if(!y[x].fixedrange)return!1;return!0}function _(b){for(var y=!1,x=0;x<b.length&&!y;x++){var w=b[x];!w._module||!w._module.selectPoints||(s.traceIs(w,"scatter-like")?(a.hasMarkers(w)||a.hasText(w))&&(y=!0):s.traceIs(w,"box-violin")?(w.boxpoints==="all"||w.points==="all")&&(y=!0):y=!0)}return y}function g(b){for(var y=0;y<b.length;y++)if(!s.traceIs(b[y],"noHover"))return!1;return!0}function p(b,y){if(y.length)if(Array.isArray(y[0]))for(var x=0;x<y.length;x++)b.push(y[x]);else b.push(y);return b}function d(b){for(var y=v([],b),x=0;x<y.length;x++)for(var w=y[x],C=0;C<w.length;C++){var S=w[C];if(typeof S=="string")if(c[S]!==void 0)y[x][C]=c[S];else throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "))}return y}},{"../../lib":244,"../../plots/cartesian/axis_ids":295,"../../registry":327,"../../traces/scatter/subtypes":392,"../fx/helpers":139,"./buttons":163,"./constants":164,"./modebar":168}],168:[function(r,i,o){var n=r("@plotly/d3"),a=r("fast-isnumeric"),s=r("../../lib"),l=r("../../fonts/ploticon"),u=r("../../version").version,c=new DOMParser;function h(_){this.container=_.container,this.element=document.createElement("div"),this.update(_.graphInfo,_.buttons),this.container.appendChild(this.element)}var v=h.prototype;v.update=function(_,g){this.graphInfo=_;var p=this.graphInfo._context,d=this.graphInfo._fullLayout,b="modebar-"+d._uid;this.element.setAttribute("id",b),this._uid=b,this.element.className="modebar",p.displayModeBar==="hover"&&(this.element.className+=" modebar--hover ease-bg"),d.modebar.orientation==="v"&&(this.element.className+=" vertical",g=g.reverse());var y=d.modebar,x=p.displayModeBar==="hover"?".js-plotly-plot .plotly:hover ":"";s.deleteRelatedStyleRule(b),s.addRelatedStyleRule(b,x+"#"+b+" .modebar-group","background-color: "+y.bgcolor),s.addRelatedStyleRule(b,"#"+b+" .modebar-btn .icon path","fill: "+y.color),s.addRelatedStyleRule(b,"#"+b+" .modebar-btn:hover .icon path","fill: "+y.activecolor),s.addRelatedStyleRule(b,"#"+b+" .modebar-btn.active .icon path","fill: "+y.activecolor);var w=!this.hasButtons(g),C=this.hasLogo!==p.displaylogo,S=this.locale!==p.locale;if(this.locale=p.locale,(w||C||S)&&(this.removeAllButtons(),this.updateButtons(g),p.watermark||p.displaylogo)){var T=this.getLogo();p.watermark&&(T.className=T.className+" watermark"),d.modebar.orientation==="v"?this.element.insertBefore(T,this.element.childNodes[0]):this.element.appendChild(T),this.hasLogo=!0}this.updateActiveButton()},v.updateButtons=function(_){var g=this;this.buttons=_,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(p){var d=g.createGroup();p.forEach(function(b){var y=b.name;if(!y)throw new Error("must provide button 'name' in button config");if(g.buttonsNames.indexOf(y)!==-1)throw new Error("button name '"+y+"' is taken");g.buttonsNames.push(y);var x=g.createButton(b);g.buttonElements.push(x),d.appendChild(x)}),g.element.appendChild(d)})},v.createGroup=function(){var _=document.createElement("div");return _.className="modebar-group",_},v.createButton=function(_){var g=this,p=document.createElement("a");p.setAttribute("rel","tooltip"),p.className="modebar-btn";var d=_.title;d===void 0?d=_.name:typeof d=="function"&&(d=d(this.graphInfo)),(d||d===0)&&p.setAttribute("data-title",d),_.attr!==void 0&&p.setAttribute("data-attr",_.attr);var b=_.val;b!==void 0&&(typeof b=="function"&&(b=b(this.graphInfo)),p.setAttribute("data-val",b));var y=_.click;if(typeof y!="function")throw new Error("must provide button 'click' function in button config");p.addEventListener("click",function(w){_.click(g.graphInfo,w),g.updateActiveButton(w.currentTarget)}),p.setAttribute("data-toggle",_.toggle||!1),_.toggle&&n.select(p).classed("active",!0);var x=_.icon;return typeof x=="function"?p.appendChild(x()):p.appendChild(this.createIcon(x||l.question)),p.setAttribute("data-gravity",_.gravity||"n"),p},v.createIcon=function(_){var g=a(_.height)?Number(_.height):_.ascent-_.descent,p="http://www.w3.org/2000/svg",d;if(_.path){d=document.createElementNS(p,"svg"),d.setAttribute("viewBox",[0,0,_.width,g].join(" ")),d.setAttribute("class","icon");var b=document.createElementNS(p,"path");b.setAttribute("d",_.path),_.transform?b.setAttribute("transform",_.transform):_.ascent!==void 0&&b.setAttribute("transform","matrix(1 0 0 -1 0 "+_.ascent+")"),d.appendChild(b)}if(_.svg){var y=c.parseFromString(_.svg,"application/xml");d=y.childNodes[0]}return d.setAttribute("height","1em"),d.setAttribute("width","1em"),d},v.updateActiveButton=function(_){var g=this.graphInfo._fullLayout,p=_!==void 0?_.getAttribute("data-attr"):null;this.buttonElements.forEach(function(d){var b=d.getAttribute("data-val")||!0,y=d.getAttribute("data-attr"),x=d.getAttribute("data-toggle")==="true",w=n.select(d);if(x)y===p&&w.classed("active",!w.classed("active"));else{var C=y===null?y:s.nestedProperty(g,y).get();w.classed("active",C===b)}})},v.hasButtons=function(_){var g=this.buttons;if(!g||_.length!==g.length)return!1;for(var p=0;p<_.length;++p){if(_[p].length!==g[p].length)return!1;for(var d=0;d<_[p].length;d++)if(_[p][d].name!==g[p][d].name)return!1}return!0};function f(_){return _+" (v"+u+")"}v.getLogo=function(){var _=this.createGroup(),g=document.createElement("a");return g.href="https://plotly.com/",g.target="_blank",g.setAttribute("data-title",f(s._(this.graphInfo,"Produced with Plotly.js"))),g.className="modebar-btn plotlyjsicon modebar-btn--logo",g.appendChild(this.createIcon(l.newplotlylogo)),_.appendChild(g),_},v.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},v.destroy=function(){s.removeElement(this.container.querySelector(".modebar")),s.deleteRelatedStyleRule(this._uid)};function m(_,g){var p=_._fullLayout,d=new h({graphInfo:_,container:p._modebardiv.node(),buttons:g});return p._privateplot&&n.select(d.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),d}i.exports=m},{"../../fonts/ploticon":227,"../../lib":244,"../../version":400,"@plotly/d3":11,"fast-isnumeric":17}],169:[function(r,i,o){var n=r("../../plots/font_attributes"),a=r("../color/attributes"),s=r("../../plot_api/plot_template").templatedArray,l=s("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});i.exports={visible:{valType:"boolean",editType:"plot"},buttons:l,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:n({editType:"plot"}),bgcolor:{valType:"color",dflt:a.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:a.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},{"../../plot_api/plot_template":280,"../../plots/font_attributes":319,"../color/attributes":102}],170:[function(r,i,o){i.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},{}],171:[function(r,i,o){var n=r("../../lib"),a=r("../color"),s=r("../../plot_api/plot_template"),l=r("../../plots/array_container_defaults"),u=r("./attributes"),c=r("./constants");i.exports=function(m,_,g,p,d){var b=m.rangeselector||{},y=s.newContainer(_,"rangeselector");function x(M,D){return n.coerce(b,y,u,M,D)}var w=l(b,y,{name:"buttons",handleItemDefaults:h,calendar:d}),C=x("visible",w.length>0);if(C){var S=v(_,g,p);x("x",S[0]),x("y",S[1]),n.noneOrAll(m,_,["x","y"]),x("xanchor"),x("yanchor"),n.coerceFont(x,"font",g.font);var T=x("bgcolor");x("activecolor",a.contrast(T,c.lightAmount,c.darkAmount)),x("bordercolor"),x("borderwidth")}};function h(f,m,_,g){var p=g.calendar;function d(x,w){return n.coerce(f,m,u.buttons,x,w)}var b=d("visible");if(b){var y=d("step");y!=="all"&&(p&&p!=="gregorian"&&(y==="month"||y==="year")?m.stepmode="backward":d("stepmode"),d("count")),d("label")}}function v(f,m,_){for(var g=_.filter(function(y){return m[y].anchor===f._id}),p=0,d=0;d<g.length;d++){var b=m[g[d]].domain;b&&(p=Math.max(b[1],p))}return[f.domain[0],p+c.yPad]}},{"../../lib":244,"../../plot_api/plot_template":280,"../../plots/array_container_defaults":286,"../color":103,"./attributes":169,"./constants":170}],172:[function(r,i,o){var n=r("@plotly/d3"),a=r("../../registry"),s=r("../../plots/plots"),l=r("../color"),u=r("../drawing"),c=r("../../lib"),h=c.strTranslate,v=r("../../lib/svg_text_utils"),f=r("../../plots/cartesian/axis_ids"),m=r("../../constants/alignment"),_=m.LINE_SPACING,g=m.FROM_TL,p=m.FROM_BR,d=r("./constants"),b=r("./get_update_object");i.exports=function(R){var P=R._fullLayout,E=P._infolayer.selectAll(".rangeselector").data(y(R),x);E.enter().append("g").classed("rangeselector",!0),E.exit().remove(),E.style({cursor:"pointer","pointer-events":"all"}),E.each(function(O){var I=n.select(this),U=O,V=U.rangeselector,Z=I.selectAll("g.button").data(c.filterVisible(V.buttons));Z.enter().append("g").classed("button",!0),Z.exit().remove(),Z.each(function(z){var H=n.select(this),B=b(U,z);z._isActive=w(U,z,B),H.call(C,V,z),H.call(T,V,z,R),H.on("click",function(){R._dragged||a.call("_guiRelayout",R,B)}),H.on("mouseover",function(){z._isHovered=!0,H.call(C,V,z)}),H.on("mouseout",function(){z._isHovered=!1,H.call(C,V,z)})}),D(R,Z,V,U._name,I)})};function y(k){for(var R=f.list(k,"x",!0),P=[],E=0;E<R.length;E++){var O=R[E];O.rangeselector&&O.rangeselector.visible&&P.push(O)}return P}function x(k){return k._id}function w(k,R,P){if(R.step==="all")return k.autorange===!0;var E=Object.keys(P);return k.range[0]===P[E[0]]&&k.range[1]===P[E[1]]}function C(k,R,P){var E=c.ensureSingle(k,"rect","selector-rect",function(O){O.attr("shape-rendering","crispEdges")});E.attr({rx:d.rx,ry:d.ry}),E.call(l.stroke,R.bordercolor).call(l.fill,S(R,P)).style("stroke-width",R.borderwidth+"px")}function S(k,R){return R._isActive||R._isHovered?k.activecolor:k.bgcolor}function T(k,R,P,E){function O(U){v.convertToTspans(U,E)}var I=c.ensureSingle(k,"text","selector-text",function(U){U.attr("text-anchor","middle")});I.call(u.font,R.font).text(M(P,E._fullLayout._meta)).call(O)}function M(k,R){return k.label?R?c.templateString(k.label,R):k.label:k.step==="all"?"all":k.count+k.step.charAt(0)}function D(k,R,P,E,O){var I=0,U=0,V=P.borderwidth;R.each(function(){var F=n.select(this),K=F.select(".selector-text"),fe=P.font.size*_,se=Math.max(fe*v.lineCount(K),16)+3;U=Math.max(U,se)}),R.each(function(){var F=n.select(this),K=F.select(".selector-rect"),fe=F.select(".selector-text"),se=fe.node()&&u.bBox(fe.node()).width,ee=P.font.size*_,ie=v.lineCount(fe),J=Math.max(se+10,d.minButtonWidth);F.attr("transform",h(V+I,V)),K.attr({x:0,y:0,width:J,height:U}),v.positionText(fe,J/2,U/2-(ie-1)*ee/2+3),I+=J+5});var Z=k._fullLayout._size,z=Z.l+Z.w*P.x,H=Z.t+Z.h*(1-P.y),B="left";c.isRightAnchor(P)&&(z-=I,B="right"),c.isCenterAnchor(P)&&(z-=I/2,B="center");var W="top";c.isBottomAnchor(P)&&(H-=U,W="bottom"),c.isMiddleAnchor(P)&&(H-=U/2,W="middle"),I=Math.ceil(I),U=Math.ceil(U),z=Math.round(z),H=Math.round(H),s.autoMargin(k,E+"-range-selector",{x:P.x,y:P.y,l:I*g[B],r:I*p[B],b:U*p[W],t:U*g[W]}),O.attr("transform",h(z,H))}},{"../../constants/alignment":219,"../../lib":244,"../../lib/svg_text_utils":267,"../../plots/cartesian/axis_ids":295,"../../plots/plots":325,"../../registry":327,"../color":103,"../drawing":125,"./constants":170,"./get_update_object":173,"@plotly/d3":11}],173:[function(r,i,o){var n=r("d3-time"),a=r("../../lib").titleCase;i.exports=function(u,c){var h=u._name,v={};if(c.step==="all")v[h+".autorange"]=!0;else{var f=s(u,c);v[h+".range[0]"]=f[0],v[h+".range[1]"]=f[1]}return v};function s(l,u){var c=l.range,h=new Date(l.r2l(c[1])),v=u.step,f=n["utc"+a(v)],m=u.count,_;switch(u.stepmode){case"backward":_=l.l2r(+f.offset(h,-m));break;case"todate":var g=f.offset(h,-m);_=l.l2r(+f.ceil(g));break}var p=c[1];return[_,p]}},{"../../lib":244,"d3-time":16}],174:[function(r,i,o){i.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:r("./attributes")}}},layoutAttributes:r("./attributes"),handleDefaults:r("./defaults"),draw:r("./draw")}},{"./attributes":169,"./defaults":171,"./draw":172}],175:[function(r,i,o){var n=r("../color/attributes");i.exports={bgcolor:{valType:"color",dflt:n.background,editType:"plot"},bordercolor:{valType:"color",dflt:n.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},{"../color/attributes":102}],176:[function(r,i,o){var n=r("../../plots/cartesian/axis_ids").list,a=r("../../plots/cartesian/autorange").getAutoRange,s=r("./constants");i.exports=function(u){for(var c=n(u,"x",!0),h=0;h<c.length;h++){var v=c[h],f=v[s.name];f&&f.visible&&f.autorange&&(f._input.autorange=!0,f._input.range=f.range=a(u,v))}}},{"../../plots/cartesian/autorange":290,"../../plots/cartesian/axis_ids":295,"./constants":177}],177:[function(r,i,o){i.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},{}],178:[function(r,i,o){var n=r("../../lib"),a=r("../../plot_api/plot_template"),s=r("../../plots/cartesian/axis_ids"),l=r("./attributes"),u=r("./oppaxis_attributes");i.exports=function(h,v,f){var m=h[f],_=v[f];if(!(m.rangeslider||v._requestRangeslider[_._id]))return;n.isPlainObject(m.rangeslider)||(m.rangeslider={});var g=m.rangeslider,p=a.newContainer(_,"rangeslider");function d(E,O){return n.coerce(g,p,l,E,O)}var b,y;function x(E,O){return n.coerce(b,y,u,E,O)}var w=d("visible");if(w){d("bgcolor",v.plot_bgcolor),d("bordercolor"),d("borderwidth"),d("thickness"),d("autorange",!_.isValidRange(g.range)),d("range");var C=v._subplots;if(C)for(var S=C.cartesian.filter(function(E){return E.substr(0,E.indexOf("y"))===s.name2id(f)}).map(function(E){return E.substr(E.indexOf("y"),E.length)}),T=n.simpleMap(S,s.id2name),M=0;M<T.length;M++){var D=T[M];b=g[D]||{},y=a.newContainer(p,D,"yaxis");var k=v[D],R;b.range&&k.isValidRange(b.range)&&(R="fixed");var P=x("rangemode",R);P!=="match"&&x("range",k.range.slice())}p._input=g}}},{"../../lib":244,"../../plot_api/plot_template":280,"../../plots/cartesian/axis_ids":295,"./attributes":175,"./oppaxis_attributes":182}],179:[function(r,i,o){var n=r("@plotly/d3"),a=r("../../registry"),s=r("../../plots/plots"),l=r("../../lib"),u=l.strTranslate,c=r("../drawing"),h=r("../color"),v=r("../titles"),f=r("../../plots/cartesian"),m=r("../../plots/cartesian/axis_ids"),_=r("../dragelement"),g=r("../../lib/setcursor"),p=r("./constants");i.exports=function(k){for(var R=k._fullLayout,P=R._rangeSliderData,E=0;E<P.length;E++){var O=P[E][p.name];O._clipId=O._id+"-"+R._uid}function I(V){return V._name}var U=R._infolayer.selectAll("g."+p.containerClassName).data(P,I);U.exit().each(function(V){var Z=V[p.name];R._topdefs.select("#"+Z._clipId).remove()}).remove(),P.length!==0&&(U.enter().append("g").classed(p.containerClassName,!0).attr("pointer-events","all"),U.each(function(V){var Z=n.select(this),z=V[p.name],H=R[m.id2name(V.anchor)],B=z[m.id2name(V.anchor)];if(z.range){var W=l.simpleMap(z.range,V.r2l),F=l.simpleMap(V.range,V.r2l),K;F[0]<F[1]?K=[Math.min(W[0],F[0]),Math.max(W[1],F[1])]:K=[Math.max(W[0],F[0]),Math.min(W[1],F[1])],z.range=z._input.range=l.simpleMap(K,V.l2r)}V.cleanRange("rangeslider.range");var fe=R._size,se=V.domain;z._width=fe.w*(se[1]-se[0]);var ee=Math.round(fe.l+fe.w*se[0]),ie=Math.round(fe.t+fe.h*(1-V._counterDomainMin)+(V.side==="bottom"?V._depth:0)+z._offsetShift+p.extraPad);Z.attr("transform",u(ee,ie)),z._rl=l.simpleMap(z.range,V.r2l);var J=z._rl[0],te=z._rl[1],L=te-J;if(z.p2d=function(me){return me/z._width*L+J},z.d2p=function(me){return(me-J)/L*z._width},V.rangebreaks){var N=V.locateBreaks(J,te);if(N.length){var G,Y,j=0;for(G=0;G<N.length;G++)Y=N[G],j+=Y.max-Y.min;var Q=z._width/(te-J-j),q=[-Q*J];for(G=0;G<N.length;G++)Y=N[G],q.push(q[q.length-1]-Q*(Y.max-Y.min));for(z.d2p=function(me){for(var pe=q[0],ge=0;ge<N.length;ge++){var Te=N[ge];if(me>=Te.max)pe=q[ge+1];else if(me<Te.min)break}return pe+Q*me},G=0;G<N.length;G++)Y=N[G],Y.pmin=z.d2p(Y.min),Y.pmax=z.d2p(Y.max);z.p2d=function(me){for(var pe=q[0],ge=0;ge<N.length;ge++){var Te=N[ge];if(me>=Te.pmax)pe=q[ge+1];else if(me<Te.pmin)break}return(me-pe)/Q}}}if(B.rangemode!=="match"){var re=H.r2l(B.range[0]),ue=H.r2l(B.range[1]),de=ue-re;z.d2pOppAxis=function(me){return(me-re)/de*z._height}}Z.call(x,k,V,z).call(w,k,V,z).call(C,k,V,z).call(T,k,V,z,B).call(M,k,V,z).call(D,k,V,z),d(Z,k,V,z),y(Z,k,V,z,H,B),V.side==="bottom"&&v.draw(k,V._id+"title",{propContainer:V,propName:V._name+".title",placeholder:R._dfltTitle.x,attributes:{x:V._offset+V._length/2,y:ie+z._height+z._offsetShift+10+1.5*V.title.font.size,"text-anchor":"middle"}})}))};function d(k,R,P,E){if(R._context.staticPlot)return;var O=k.select("rect."+p.slideBoxClassName).node(),I=k.select("rect."+p.grabAreaMinClassName).node(),U=k.select("rect."+p.grabAreaMaxClassName).node();function V(){var Z=n.event,z=Z.target,H=Z.clientX||Z.touches[0].clientX,B=H-k.node().getBoundingClientRect().left,W=E.d2p(P._rl[0]),F=E.d2p(P._rl[1]),K=_.coverSlip();this.addEventListener("touchmove",fe),this.addEventListener("touchend",se),K.addEventListener("mousemove",fe),K.addEventListener("mouseup",se);function fe(ee){var ie=ee.clientX||ee.touches[0].clientX,J=+ie-H,te,L,N;switch(z){case O:N="ew-resize",te=W+J,L=F+J;break;case I:N="col-resize",te=W+J,L=F;break;case U:N="col-resize",te=W,L=F+J;break;default:N="ew-resize",te=B,L=B+J;break}if(L<te){var G=L;L=te,te=G}E._pixelMin=te,E._pixelMax=L,g(n.select(K),N),b(k,R,P,E)}function se(){K.removeEventListener("mousemove",fe),K.removeEventListener("mouseup",se),this.removeEventListener("touchmove",fe),this.removeEventListener("touchend",se),l.removeElement(K)}}k.on("mousedown",V),k.on("touchstart",V)}function b(k,R,P,E){function O(V){return P.l2r(l.constrain(V,E._rl[0],E._rl[1]))}var I=O(E.p2d(E._pixelMin)),U=O(E.p2d(E._pixelMax));window.requestAnimationFrame(function(){a.call("_guiRelayout",R,P._name+".range",[I,U])})}function y(k,R,P,E,O,I){var U=p.handleWidth/2;function V(ee){return l.constrain(ee,0,E._width)}function Z(ee){return l.constrain(ee,0,E._height)}function z(ee){return l.constrain(ee,-U,E._width+U)}var H=V(E.d2p(P._rl[0])),B=V(E.d2p(P._rl[1]));if(k.select("rect."+p.slideBoxClassName).attr("x",H).attr("width",B-H),k.select("rect."+p.maskMinClassName).attr("width",H),k.select("rect."+p.maskMaxClassName).attr("x",B).attr("width",E._width-B),I.rangemode!=="match"){var W=E._height-Z(E.d2pOppAxis(O._rl[1])),F=E._height-Z(E.d2pOppAxis(O._rl[0]));k.select("rect."+p.maskMinOppAxisClassName).attr("x",H).attr("height",W).attr("width",B-H),k.select("rect."+p.maskMaxOppAxisClassName).attr("x",H).attr("y",F).attr("height",E._height-F).attr("width",B-H),k.select("rect."+p.slideBoxClassName).attr("y",W).attr("height",F-W)}var K=.5,fe=Math.round(z(H-U))-K,se=Math.round(z(B-U))+K;k.select("g."+p.grabberMinClassName).attr("transform",u(fe,K)),k.select("g."+p.grabberMaxClassName).attr("transform",u(se,K))}function x(k,R,P,E){var O=l.ensureSingle(k,"rect",p.bgClassName,function(Z){Z.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),I=E.borderwidth%2===0?E.borderwidth:E.borderwidth-1,U=-E._offsetShift,V=c.crispRound(R,E.borderwidth);O.attr({width:E._width+I,height:E._height+I,transform:u(U,U),fill:E.bgcolor,stroke:E.bordercolor,"stroke-width":V})}function w(k,R,P,E){var O=R._fullLayout,I=l.ensureSingleById(O._topdefs,"clipPath",E._clipId,function(U){U.append("rect").attr({x:0,y:0})});I.select("rect").attr({width:E._width,height:E._height})}function C(k,R,P,E){var O=R.calcdata,I=k.selectAll("g."+p.rangePlotClassName).data(P._subplotsWith,l.identity);I.enter().append("g").attr("class",function(V){return p.rangePlotClassName+" "+V}).call(c.setClipUrl,E._clipId,R),I.order(),I.exit().remove();var U;I.each(function(V,Z){var z=n.select(this),H=Z===0,B=m.getFromId(R,V,"y"),W=B._name,F=E[W],K={data:[],layout:{xaxis:{type:P.type,domain:[0,1],range:E.range.slice(),calendar:P.calendar},width:E._width,height:E._height,margin:{t:0,b:0,l:0,r:0}},_context:R._context};P.rangebreaks&&(K.layout.xaxis.rangebreaks=P.rangebreaks),K.layout[W]={type:B.type,domain:[0,1],range:F.rangemode!=="match"?F.range.slice():B.range.slice(),calendar:B.calendar},B.rangebreaks&&(K.layout[W].rangebreaks=B.rangebreaks),s.supplyDefaults(K);var fe=K._fullLayout.xaxis,se=K._fullLayout[W];fe.clearCalc(),fe.setScale(),se.clearCalc(),se.setScale();var ee={id:V,plotgroup:z,xaxis:fe,yaxis:se,isRangePlot:!0};H?U=ee:(ee.mainplot="xy",ee.mainplotinfo=U),f.rangePlot(R,ee,S(O,V))})}function S(k,R){for(var P=[],E=0;E<k.length;E++){var O=k[E],I=O[0].trace;I.xaxis+I.yaxis===R&&P.push(O)}return P}function T(k,R,P,E,O){var I=l.ensureSingle(k,"rect",p.maskMinClassName,function(z){z.attr({x:0,y:0,"shape-rendering":"crispEdges"})});I.attr("height",E._height).call(h.fill,p.maskColor);var U=l.ensureSingle(k,"rect",p.maskMaxClassName,function(z){z.attr({y:0,"shape-rendering":"crispEdges"})});if(U.attr("height",E._height).call(h.fill,p.maskColor),O.rangemode!=="match"){var V=l.ensureSingle(k,"rect",p.maskMinOppAxisClassName,function(z){z.attr({y:0,"shape-rendering":"crispEdges"})});V.attr("width",E._width).call(h.fill,p.maskOppAxisColor);var Z=l.ensureSingle(k,"rect",p.maskMaxOppAxisClassName,function(z){z.attr({y:0,"shape-rendering":"crispEdges"})});Z.attr("width",E._width).style("border-top",p.maskOppBorder).call(h.fill,p.maskOppAxisColor)}}function M(k,R,P,E){if(!R._context.staticPlot){var O=l.ensureSingle(k,"rect",p.slideBoxClassName,function(I){I.attr({y:0,cursor:p.slideBoxCursor,"shape-rendering":"crispEdges"})});O.attr({height:E._height,fill:p.slideBoxFill})}}function D(k,R,P,E){var O=l.ensureSingle(k,"g",p.grabberMinClassName),I=l.ensureSingle(k,"g",p.grabberMaxClassName),U={x:0,width:p.handleWidth,rx:p.handleRadius,fill:h.background,stroke:h.defaultLine,"stroke-width":p.handleStrokeWidth,"shape-rendering":"crispEdges"},V={y:Math.round(E._height/4),height:Math.round(E._height/2)},Z=l.ensureSingle(O,"rect",p.handleMinClassName,function(F){F.attr(U)});Z.attr(V);var z=l.ensureSingle(I,"rect",p.handleMaxClassName,function(F){F.attr(U)});z.attr(V);var H={width:p.grabAreaWidth,x:0,y:0,fill:p.grabAreaFill,cursor:R._context.staticPlot?void 0:p.grabAreaCursor},B=l.ensureSingle(O,"rect",p.grabAreaMinClassName,function(F){F.attr(H)});B.attr("height",E._height);var W=l.ensureSingle(I,"rect",p.grabAreaMaxClassName,function(F){F.attr(H)});W.attr("height",E._height)}},{"../../lib":244,"../../lib/setcursor":264,"../../plots/cartesian":303,"../../plots/cartesian/axis_ids":295,"../../plots/plots":325,"../../registry":327,"../color":103,"../dragelement":122,"../drawing":125,"../titles":212,"./constants":177,"@plotly/d3":11}],180:[function(r,i,o){var n=r("../../plots/cartesian/axis_ids"),a=r("../../lib/svg_text_utils"),s=r("./constants"),l=r("../../constants/alignment").LINE_SPACING,u=s.name;function c(h){var v=h&&h[u];return v&&v.visible}o.isVisible=c,o.makeData=function(h){var v=n.list({_fullLayout:h},"x",!0),f=h.margin,m=[];if(!h._has("gl2d"))for(var _=0;_<v.length;_++){var g=v[_];if(c(g)){m.push(g);var p=g[u];p._id=u+g._id,p._height=(h.height-f.b-f.t)*p.thickness,p._offsetShift=Math.floor(p.borderwidth/2)}}h._rangeSliderData=m},o.autoMarginOpts=function(h,v){var f=h._fullLayout,m=v[u],_=v._id.charAt(0),g=0,p=0;if(v.side==="bottom"&&(g=v._depth,v.title.text!==f._dfltTitle[_])){p=1.5*v.title.font.size+10+m._offsetShift;var d=(v.title.text.match(a.BR_TAG_ALL)||[]).length;p+=d*v.title.font.size*l}return{x:0,y:v._counterDomainMin,l:0,r:0,t:0,b:m._height+g+Math.max(f.margin.b,p),pad:s.extraPad+m._offsetShift*2}}},{"../../constants/alignment":219,"../../lib/svg_text_utils":267,"../../plots/cartesian/axis_ids":295,"./constants":177}],181:[function(r,i,o){var n=r("../../lib"),a=r("./attributes"),s=r("./oppaxis_attributes"),l=r("./helpers");i.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:n.extendFlat({},a,{yaxis:s})}}},layoutAttributes:r("./attributes"),handleDefaults:r("./defaults"),calcAutorange:r("./calc_autorange"),draw:r("./draw"),isVisible:l.isVisible,makeData:l.makeData,autoMarginOpts:l.autoMarginOpts}},{"../../lib":244,"./attributes":175,"./calc_autorange":176,"./defaults":178,"./draw":179,"./helpers":180,"./oppaxis_attributes":182}],182:[function(r,i,o){i.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},{}],183:[function(r,i,o){var n=r("../annotations/attributes"),a=r("../../traces/scatter/attributes").line,s=r("../drawing/attributes").dash,l=r("../../lib/extend").extendFlat,u=r("../../plot_api/edit_types").overrideAll,c=r("../../plot_api/plot_template").templatedArray;r("../../constants/axis_placeable_objects"),i.exports=u(c("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:l({},n.xref,{}),yref:l({},n.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:a.color,width:l({},a.width,{min:1,dflt:1}),dash:l({},s,{dflt:"dot"})}}),"arraydraw","from-root")},{"../../constants/axis_placeable_objects":220,"../../lib/extend":238,"../../plot_api/edit_types":273,"../../plot_api/plot_template":280,"../../traces/scatter/attributes":367,"../annotations/attributes":86,"../drawing/attributes":124}],184:[function(r,i,o){i.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}},{}],185:[function(r,i,o){var n=r("../../lib"),a=r("../../plots/cartesian/axes"),s=r("../../plots/array_container_defaults"),l=r("./attributes"),u=r("../shapes/helpers");i.exports=function(v,f){s(v,f,{name:"selections",handleItemDefaults:c});for(var m=f.selections,_=0;_<m.length;_++){var g=m[_];g&&g.path===void 0&&(g.x0===void 0||g.x1===void 0||g.y0===void 0||g.y1===void 0)&&(f.selections[_]=null)}};function c(h,v,f){function m(I,U){return n.coerce(h,v,l,I,U)}var _=m("path"),g=_?"path":"rect",p=m("type",g),d=p!=="path";d&&delete v.path,m("opacity"),m("line.color"),m("line.width"),m("line.dash");for(var b=["x","y"],y=0;y<2;y++){var x=b[y],w={_fullLayout:f},C,S,T,M=a.coerceRef(h,v,w,x);if(C=a.getFromId(w,M),C._selectionIndices.push(v._index),T=u.rangeToShapePosition(C),S=u.shapePositionToRange(C),d){var D=x+"0",k=x+"1",R=h[D],P=h[k];h[D]=S(h[D],!0),h[k]=S(h[k],!0),a.coercePosition(v,w,m,M,D),a.coercePosition(v,w,m,M,k);var E=v[D],O=v[k];E!==void 0&&O!==void 0&&(v[D]=T(E),v[k]=T(O),h[D]=R,h[k]=P)}}d&&n.noneOrAll(h,v,["x0","x1","y0","y1"])}},{"../../lib":244,"../../plots/array_container_defaults":286,"../../plots/cartesian/axes":291,"../shapes/helpers":205,"./attributes":183}],186:[function(r,i,o){var n=r("../shapes/draw_newshape/helpers").readPaths,a=r("../shapes/display_outlines"),s=r("../shapes/handle_outline").clearOutlineControllers,l=r("../color"),u=r("../drawing"),c=r("../../plot_api/plot_template").arrayEditor,h=r("../shapes/helpers"),v=h.getPathString;i.exports={draw:f,drawOne:_,activateLastSelection:d};function f(y){var x=y._fullLayout;s(y),x._selectionLayer.selectAll("path").remove();for(var w in x._plots){var C=x._plots[w].selectionLayer;C&&C.selectAll("path").remove()}for(var S=0;S<x.selections.length;S++)_(y,S)}function m(y){return y._context.editSelection}function _(y,x){y._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+x+'"]').remove();var w=h.makeSelectionsOptionsAndPlotinfo(y,x),C=w.options,S=w.plotinfo;if(!C._input)return;T(y._fullLayout._selectionLayer);function T(M){var D=v(y,C),k={"data-index":x,"fill-rule":"evenodd",d:D},R=C.opacity,P="rgba(0,0,0,0)",E=C.line.color||l.contrast(y._fullLayout.plot_bgcolor),O=C.line.width,I=C.line.dash;O||(O=5,I="solid");var U=m(y)&&y._fullLayout._activeSelectionIndex===x;U&&(P=y._fullLayout.activeselection.fillcolor,R=y._fullLayout.activeselection.opacity);for(var V=[],Z=1;Z>=0;Z--){var z=M.append("path").attr(k).style("opacity",Z?.1:R).call(l.stroke,E).call(l.fill,P).call(u.dashLine,Z?"solid":I,Z?4+O:O);if(g(z,y,C),U){var H=c(y.layout,"selections",C);z.style({cursor:"move"});var B={element:z.node(),plotinfo:S,gd:y,editHelpers:H,isActiveSelection:!0},W=n(D,y);a(W,z,B)}else z.style("pointer-events",Z?"all":"none");V[Z]=z}var F=V[0],K=V[1];K.node().addEventListener("click",function(){return p(y,F)})}}function g(y,x,w){var C=w.xref+w.yref;u.setClipUrl(y,"clip"+x._fullLayout._uid+C,x)}function p(y,x){if(m(y)){var w=x.node(),C=+w.getAttribute("data-index");if(C>=0){if(C===y._fullLayout._activeSelectionIndex){b(y);return}y._fullLayout._activeSelectionIndex=C,y._fullLayout._deactivateSelection=b,f(y)}}}function d(y){if(m(y)){var x=y._fullLayout.selections.length-1;y._fullLayout._activeSelectionIndex=x,y._fullLayout._deactivateSelection=b,f(y)}}function b(y){if(m(y)){var x=y._fullLayout._activeSelectionIndex;x>=0&&(s(y),delete y._fullLayout._activeSelectionIndex,f(y))}}},{"../../plot_api/plot_template":280,"../color":103,"../drawing":125,"../shapes/display_outlines":197,"../shapes/draw_newshape/helpers":202,"../shapes/handle_outline":204,"../shapes/helpers":205}],187:[function(r,i,o){var n=r("../../drawing/attributes").dash,a=r("../../../lib/extend").extendFlat;i.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:a({},n,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},{"../../../lib/extend":238,"../../drawing/attributes":124}],188:[function(r,i,o){i.exports=function(a,s,l){l("newselection.mode");var u=l("newselection.line.width");u&&(l("newselection.line.color"),l("newselection.line.dash")),l("activeselection.fillcolor"),l("activeselection.opacity")}},{}],189:[function(r,i,o){var n=r("../../dragelement/helpers"),a=n.selectMode,s=r("../../shapes/handle_outline"),l=s.clearOutline,u=r("../../shapes/draw_newshape/helpers"),c=u.readPaths,h=u.writePaths,v=u.fixDatesForPaths;i.exports=function(m,_){if(m.length){var g=m[0][0];if(g){var p=g.getAttribute("d"),d=_.gd,b=d._fullLayout.newselection,y=_.plotinfo,x=y.xaxis,w=y.yaxis,C=_.isActiveSelection,S=_.dragmode,T=(d.layout||{}).selections||[];if(!a(S)&&C!==void 0){var M=d._fullLayout._activeSelectionIndex;if(M<T.length)switch(d._fullLayout.selections[M].type){case"rect":S="select";break;case"path":S="lasso";break}}var D=c(p,d,y,C),k={xref:x._id,yref:w._id,opacity:b.opacity,line:{color:b.line.color,width:b.line.width,dash:b.line.dash}},R;D.length===1&&(R=D[0]),R&&R.length===5&&S==="select"?(k.type="rect",k.x0=R[0][1],k.y0=R[0][2],k.x1=R[2][1],k.y1=R[2][2]):(k.type="path",x&&w&&v(D,x,w),k.path=h(D),R=null),l(d);for(var P=_.editHelpers,E=(P||{}).modifyItem,O=[],I=0;I<T.length;I++){var U=d._fullLayout.selections[I];if(!U){O[I]=U;continue}if(O[I]=U._input,C!==void 0&&I===d._fullLayout._activeSelectionIndex){var V=k;switch(U.type){case"rect":E("x0",V.x0),E("x1",V.x1),E("y0",V.y0),E("y1",V.y1);break;case"path":E("path",V.path);break}}}return C===void 0?(O.push(k),O):P?P.getUpdateObj():{}}}}},{"../../dragelement/helpers":121,"../../shapes/draw_newshape/helpers":202,"../../shapes/handle_outline":204}],190:[function(r,i,o){var n=r("../../lib").strTranslate;function a(c,h){switch(c.type){case"log":return c.p2d(h);case"date":return c.p2r(h,0,c.calendar);default:return c.p2r(h)}}function s(c,h){switch(c.type){case"log":return c.d2p(h);case"date":return c.r2p(h,0,c.calendar);default:return c.r2p(h)}}function l(c){var h=c._id.charAt(0)==="y"?1:0;return function(v){return a(c,v[h])}}function u(c){return n(c.xaxis._offset,c.yaxis._offset)}i.exports={p2r:a,r2p:s,axValue:l,getTransform:u}},{"../../lib":244}],191:[function(r,i,o){var n=r("./draw"),a=r("./select");i.exports={moduleType:"component",name:"selections",layoutAttributes:r("./attributes"),supplyLayoutDefaults:r("./defaults"),supplyDrawNewSelectionDefaults:r("./draw_newselection/defaults"),includeBasePlot:r("../../plots/cartesian/include_components")("selections"),draw:n.draw,drawOne:n.drawOne,reselect:a.reselect,prepSelect:a.prepSelect,clearOutline:a.clearOutline,clearSelectionsCache:a.clearSelectionsCache,selectOnClick:a.selectOnClick}},{"../../plots/cartesian/include_components":302,"./attributes":183,"./defaults":185,"./draw":186,"./draw_newselection/defaults":188,"./select":192}],192:[function(r,i,o){var n=r("polybooljs"),a=r("point-in-polygon/nested"),s=r("../../registry"),l=r("../drawing").dashStyle,u=r("../color"),c=r("../fx"),h=r("../fx/helpers").makeEventData,v=r("../dragelement/helpers"),f=v.freeMode,m=v.rectMode,_=v.drawMode,g=v.openMode,p=v.selectMode,d=r("../shapes/helpers"),b=r("../shapes/constants"),y=r("../shapes/display_outlines"),x=r("../shapes/handle_outline").clearOutline,w=r("../shapes/draw_newshape/helpers"),C=w.handleEllipse,S=w.readPaths,T=r("../shapes/draw_newshape/newshapes"),M=r("./draw_newselection/newselections"),D=r("./draw").activateLastSelection,k=r("../../lib"),R=k.sorterAsc,P=r("../../lib/polygon"),E=r("../../lib/throttle"),O=r("../../plots/cartesian/axis_ids").getFromId,I=r("../../lib/clear_gl_canvases"),U=r("../../plot_api/subroutines").redrawReglTraces,V=r("./constants"),Z=V.MINSELECT,z=P.filter,H=P.tester,B=r("./helpers"),W=B.p2r,F=B.axValue,K=B.getTransform;function fe(be){return be.subplot!==void 0}function se(be,Me,Ue,ce,Ce){var Ae=!fe(ce),ke=f(Ce),xe=m(Ce),ye=g(Ce),Ee=_(Ce),$e=p(Ce),Ie=Ce==="drawline",Be=Ce==="drawcircle",st=Ie||Be,gt=ce.gd,wt=gt._fullLayout,Wt=$e&&wt.newselection.mode==="immediate"&&Ae,Yt=wt._zoomlayer,qt=ce.element.getBoundingClientRect(),Bt=ce.plotinfo,Ut=K(Bt),Nt=Me-qt.left,dt=Ue-qt.top;wt._calcInverseTransform(gt);var Vt=k.apply3DTransform(wt._invTransform)(Nt,dt);Nt=Vt[0],dt=Vt[1];var Gt=wt._invScaleX,rr=wt._invScaleY,Jt=Nt,Dt=dt,er="M"+Nt+","+dt,tr=ce.xaxes[0],he=ce.yaxes[0],le=tr._length,Ne=he._length,Fe=be.altKey&&!(_(Ce)&&ye),We,Ze,Ve,je,ut,St,Pt;N(be,gt,ce),ke&&(We=z([[Nt,dt]],V.BENDPX));var lt=Yt.selectAll("path.select-outline-"+Bt.id).data([1]),yt=Ee?wt.newshape:wt.newselection;lt.enter().append("path").attr("class","select-outline select-outline-"+Bt.id).style({opacity:Ee?yt.opacity/2:1,fill:Ee&&!ye?yt.fillcolor:"none",stroke:yt.line.color||(Ae?u.contrast(gt._fullLayout.plot_bgcolor):"#7f7f7f"),"stroke-dasharray":l(yt.line.dash,yt.line.width),"stroke-width":yt.line.width+"px","shape-rendering":"crispEdges"}).attr("fill-rule","evenodd").classed("cursor-move",!!Ee).attr("transform",Ut).attr("d",er+"Z");var Ot=Yt.append("path").attr("class","zoombox-corners").style({fill:u.background,stroke:u.defaultLine,"stroke-width":1}).attr("transform",Ut).attr("d","M0,0Z"),At=wt._uid+V.SELECTID,mt=[],Et=q(gt,ce.xaxes,ce.yaxes,ce.subplot);Wt&&!be.shiftKey&&(ce._clearSubplotSelections=function(){if(Ae){var Lt=tr._id,Ht=he._id;_t(gt,Lt,Ht,Et);for(var Kt=(gt.layout||{}).selections||[],Xt=[],$t=!1,ar=0;ar<Kt.length;ar++){var ir=wt.selections[ar];ir.xref!==Lt||ir.yref!==Ht?Xt.push(Kt[ar]):$t=!0}$t&&(gt._fullLayout._noEmitSelectedAtStart=!0,s.call("_guiRelayout",gt,{selections:Xt}))}});var jt=nt(ce);ce.moveFn=function(Lt,Ht){ce._clearSubplotSelections&&(ce._clearSubplotSelections(),ce._clearSubplotSelections=void 0),Jt=Math.max(0,Math.min(le,Gt*Lt+Nt)),Dt=Math.max(0,Math.min(Ne,rr*Ht+dt));var Kt=Math.abs(Jt-Nt),Xt=Math.abs(Dt-dt);if(xe){var $t,ar,ir;if($e){var cr=wt.selectdirection;switch(cr==="any"?Xt<Math.min(Kt*.6,Z)?$t="h":Kt<Math.min(Xt*.6,Z)?$t="v":$t="d":$t=cr,$t){case"h":ar=Be?Ne/2:0,ir=Ne;break;case"v":ar=Be?le/2:0,ir=le;break}}if(Ee)switch(wt.newshape.drawdirection){case"vertical":$t="h",ar=Be?Ne/2:0,ir=Ne;break;case"horizontal":$t="v",ar=Be?le/2:0,ir=le;break;case"ortho":Kt<Xt?($t="h",ar=dt,ir=Dt):($t="v",ar=Nt,ir=Jt);break;default:$t="d"}$t==="h"?(je=st?C(Be,[Jt,ar],[Jt,ir]):[[Nt,ar],[Nt,ir],[Jt,ir],[Jt,ar]],je.xmin=st?Jt:Math.min(Nt,Jt),je.xmax=st?Jt:Math.max(Nt,Jt),je.ymin=Math.min(ar,ir),je.ymax=Math.max(ar,ir),Ot.attr("d","M"+je.xmin+","+(dt-Z)+"h-4v"+2*Z+"h4ZM"+(je.xmax-1)+","+(dt-Z)+"h4v"+2*Z+"h-4Z")):$t==="v"?(je=st?C(Be,[ar,Dt],[ir,Dt]):[[ar,dt],[ar,Dt],[ir,Dt],[ir,dt]],je.xmin=Math.min(ar,ir),je.xmax=Math.max(ar,ir),je.ymin=st?Dt:Math.min(dt,Dt),je.ymax=st?Dt:Math.max(dt,Dt),Ot.attr("d","M"+(Nt-Z)+","+je.ymin+"v-4h"+2*Z+"v4ZM"+(Nt-Z)+","+(je.ymax-1)+"v4h"+2*Z+"v-4Z")):$t==="d"&&(je=st?C(Be,[Nt,dt],[Jt,Dt]):[[Nt,dt],[Nt,Dt],[Jt,Dt],[Jt,dt]],je.xmin=Math.min(Nt,Jt),je.xmax=Math.max(Nt,Jt),je.ymin=Math.min(dt,Dt),je.ymax=Math.max(dt,Dt),Ot.attr("d","M0,0Z"))}else ke&&(We.addPt([Jt,Dt]),je=We.filtered);if(ce.selectionDefs&&ce.selectionDefs.length?(Ve=Oe(ce.mergedPolygons,je,Fe),je.subtract=Fe,Ze=L(ce.selectionDefs.concat([je]))):(Ve=[je],Ze=H(je)),y(Le(Ve,ye),lt,ce),$e){var dr=Se(gt,!1),vr=dr.eventData?dr.eventData.points.slice():[];dr=Se(gt,!1,Ze,Et,ce),Ze=dr.selectionTesters,Pt=dr.eventData;var mr;We?mr=We.filtered:mr=bt(Ve),E.throttle(At,V.SELECTDELAY,function(){mt=De(Ze,Et);for(var _r=mt.slice(),Mt=0;Mt<vr.length;Mt++){for(var Rt=vr[Mt],Lr=!1,kr=0;kr<_r.length;kr++)if(_r[kr].curveNumber===Rt.curveNumber&&_r[kr].pointNumber===Rt.pointNumber){Lr=!0;break}Lr||_r.push(Rt)}_r.length&&(Pt||(Pt={}),Pt.points=_r),jt(Pt,mr),at(gt,Pt)})}},ce.clickFn=function(Lt,Ht){if(Ot.remove(),gt._fullLayout._activeShapeIndex>=0){gt._fullLayout._deactivateShape(gt);return}if(!Ee){var Kt=wt.clickmode;E.done(At).then(function(){if(E.clear(At),Lt===2){for(lt.remove(),ut=0;ut<Et.length;ut++)St=Et[ut],St._module.selectPoints(St,!1);if(Te(gt,Et),j(ce),zt(gt),Et.length){var Xt=Et[0].xaxis,$t=Et[0].yaxis;if(Xt&&$t){for(var ar=[],ir=gt._fullLayout.selections,cr=0;cr<ir.length;cr++){var dr=ir[cr];dr&&(dr.xref!==Xt._id||dr.yref!==$t._id)&&ar.push(dr)}ar.length<ir.length&&(gt._fullLayout._noEmitSelectedAtStart=!0,s.call("_guiRelayout",gt,{selections:ar}))}}}else Kt.indexOf("select")>-1&&ee(Ht,gt,ce.xaxes,ce.yaxes,ce.subplot,ce,lt),Kt==="event"&&It(gt,void 0);c.click(gt,Ht)}).catch(k.error)}},ce.doneFn=function(){Ot.remove(),E.done(At).then(function(){E.clear(At),!Wt&&je&&ce.selectionDefs&&(je.subtract=Fe,ce.selectionDefs.push(je),ce.mergedPolygons.length=0,[].push.apply(ce.mergedPolygons,Ve)),(Wt||Ee)&&j(ce,Wt),ce.doneFnCompleted&&ce.doneFnCompleted(mt),$e&&It(gt,Pt)}).catch(k.error)}}function ee(be,Me,Ue,ce,Ce,Ae,ke){var xe=Me._hoverdata,ye=Me._fullLayout,Ee=ye.clickmode,$e=Ee.indexOf("event")>-1,Ie=[],Be,st,gt,wt,Wt,Yt,qt,Bt,Ut,Nt;if(ue(xe)){N(be,Me,Ae),Be=q(Me,Ue,ce,Ce);var dt=de(xe,Be),Vt=dt.pointNumbers.length>0;if(Vt?pe(Be,dt):ge(Be)&&(qt=me(dt))){for(ke&&ke.remove(),Nt=0;Nt<Be.length;Nt++)st=Be[Nt],st._module.selectPoints(st,!1);Te(Me,Be),j(Ae),$e&&zt(Me)}else{Bt=be.shiftKey&&(qt!==void 0?qt:me(dt)),gt=ie(dt.pointNumber,dt.searchInfo,Bt);var Gt=Ae.selectionDefs.concat([gt]);for(wt=L(Gt),Nt=0;Nt<Be.length;Nt++)if(Wt=Be[Nt]._module.selectPoints(Be[Nt],wt),Yt=tt(Wt,Be[Nt]),Ie.length)for(var rr=0;rr<Yt.length;rr++)Ie.push(Yt[rr]);else Ie=Yt;if(Ut={points:Ie},Te(Me,Be,Ut),gt&&Ae&&Ae.selectionDefs.push(gt),ke){var Jt=Ae.mergedPolygons,Dt=g(Ae.dragmode);y(Le(Jt,Dt),ke,Ae)}$e&&It(Me,Ut)}}}function ie(be,Me,Ue){return{pointNumber:be,searchInfo:Me,subtract:!!Ue}}function J(be){return"pointNumber"in be&&"searchInfo"in be}function te(be){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(Me,Ue,ce,Ce){var Ae=be.searchInfo.cd[0].trace._expandedIndex,ke=Ce.cd[0].trace._expandedIndex;return ke===Ae&&ce===be.pointNumber},isRect:!1,degenerate:!1,subtract:!!be.subtract}}function L(be){if(!be.length)return;for(var Me=[],Ue=J(be[0])?0:be[0][0][0],ce=Ue,Ce=J(be[0])?0:be[0][0][1],Ae=Ce,ke=0;ke<be.length;ke++)if(J(be[ke]))Me.push(te(be[ke]));else{var xe=H(be[ke]);xe.subtract=!!be[ke].subtract,Me.push(xe),Ue=Math.min(Ue,xe.xmin),ce=Math.max(ce,xe.xmax),Ce=Math.min(Ce,xe.ymin),Ae=Math.max(Ae,xe.ymax)}function ye(Ee,$e,Ie,Be){for(var st=!1,gt=0;gt<Me.length;gt++)Me[gt].contains(Ee,$e,Ie,Be)&&(st=!Me[gt].subtract);return st}return{xmin:Ue,xmax:ce,ymin:Ce,ymax:Ae,pts:[],contains:ye,isRect:!1,degenerate:!1}}function N(be,Me,Ue){var ce=Me._fullLayout,Ce=Ue.plotinfo,Ae=Ue.dragmode,ke=ce._lastSelectedSubplot&&ce._lastSelectedSubplot===Ce.id,xe=(be.shiftKey||be.altKey)&&!(_(Ae)&&g(Ae));ke&&xe&&Ce.selection&&Ce.selection.selectionDefs&&!Ue.selectionDefs?(Ue.selectionDefs=Ce.selection.selectionDefs,Ue.mergedPolygons=Ce.selection.mergedPolygons):(!xe||!Ce.selection)&&j(Ue),ke||(x(Me),ce._lastSelectedSubplot=Ce.id)}function G(be){return be._fullLayout._activeShapeIndex>=0}function Y(be){return be._fullLayout._activeSelectionIndex>=0}function j(be,Me){var Ue=be.dragmode,ce=be.plotinfo,Ce=be.gd;G(Ce)&&Ce._fullLayout._deactivateShape(Ce),Y(Ce)&&Ce._fullLayout._deactivateSelection(Ce);var Ae=Ce._fullLayout,ke=Ae._zoomlayer,xe=_(Ue),ye=p(Ue);if(xe||ye){var Ee=ke.selectAll(".select-outline-"+ce.id);if(Ee&&Ce._fullLayout._outlining){var $e;xe&&($e=T(Ee,be)),$e&&s.call("_guiRelayout",Ce,{shapes:$e});var Ie;ye&&!fe(be)&&(Ie=M(Ee,be)),Ie&&(Ce._fullLayout._noEmitSelectedAtStart=!0,s.call("_guiRelayout",Ce,{selections:Ie}).then(function(){Me&&D(Ce)})),Ce._fullLayout._outlining=!1}}ce.selection={},ce.selection.selectionDefs=be.selectionDefs=[],ce.selection.mergedPolygons=be.mergedPolygons=[]}function Q(be){return be._id}function q(be,Me,Ue,ce){if(!be.calcdata)return[];var Ce=[],Ae=Me.map(Q),ke=Ue.map(Q),xe,ye,Ee;for(Ee=0;Ee<be.calcdata.length;Ee++)if(xe=be.calcdata[Ee],ye=xe[0].trace,!(ye.visible!==!0||!ye._module||!ye._module.selectPoints))if(fe({subplot:ce})&&(ye.subplot===ce||ye.geo===ce))Ce.push(re(ye._module,xe,Me[0],Ue[0]));else if(ye.type==="splom"){if(ye._xaxes[Ae[0]]&&ye._yaxes[ke[0]]){var $e=re(ye._module,xe,Me[0],Ue[0]);$e.scene=be._fullLayout._splomScenes[ye.uid],Ce.push($e)}}else if(ye.type==="sankey"){var Ie=re(ye._module,xe,Me[0],Ue[0]);Ce.push(Ie)}else{if(Ae.indexOf(ye.xaxis)===-1||ke.indexOf(ye.yaxis)===-1)continue;Ce.push(re(ye._module,xe,O(be,ye.xaxis),O(be,ye.yaxis)))}return Ce}function re(be,Me,Ue,ce){return{_module:be,cd:Me,xaxis:Ue,yaxis:ce}}function ue(be){return be&&Array.isArray(be)&&be[0].hoverOnBox!==!0}function de(be,Me){var Ue=be[0],ce=-1,Ce=[],Ae,ke;for(ke=0;ke<Me.length;ke++)if(Ae=Me[ke],Ue.fullData._expandedIndex===Ae.cd[0].trace._expandedIndex){if(Ue.hoverOnBox===!0)break;Ue.pointNumber!==void 0?ce=Ue.pointNumber:Ue.binNumber!==void 0&&(ce=Ue.binNumber,Ce=Ue.pointNumbers);break}return{pointNumber:ce,pointNumbers:Ce,searchInfo:Ae}}function me(be){var Me=be.searchInfo.cd[0].trace,Ue=be.pointNumber,ce=be.pointNumbers,Ce=ce.length>0,Ae=Ce?ce[0]:Ue;return Me.selectedpoints?Me.selectedpoints.indexOf(Ae)>-1:!1}function pe(be,Me){var Ue=[],ce,Ce,Ae,ke;for(ke=0;ke<be.length;ke++)ce=be[ke],ce.cd[0].trace.selectedpoints&&ce.cd[0].trace.selectedpoints.length>0&&Ue.push(ce);if(Ue.length===1&&(Ae=Ue[0]===Me.searchInfo,Ae&&(Ce=Me.searchInfo.cd[0].trace,Ce.selectedpoints.length===Me.pointNumbers.length))){for(ke=0;ke<Me.pointNumbers.length;ke++)if(Ce.selectedpoints.indexOf(Me.pointNumbers[ke])<0)return!1;return!0}return!1}function ge(be){var Me=0,Ue,ce,Ce;for(Ce=0;Ce<be.length;Ce++)if(Ue=be[Ce],ce=Ue.cd[0].trace,ce.selectedpoints&&(ce.selectedpoints.length>1||(Me+=ce.selectedpoints.length,Me>1)))return!1;return Me===1}function Te(be,Me,Ue){var ce;for(ce=0;ce<Me.length;ce++){var Ce=Me[ce].cd[0].trace._fullInput,Ae=be._fullLayout._tracePreGUI[Ce.uid]||{};Ae.selectedpoints===void 0&&(Ae.selectedpoints=Ce._input.selectedpoints||null)}var ke;if(Ue){var xe=Ue.points||[];for(ce=0;ce<Me.length;ce++)ke=Me[ce].cd[0].trace,ke._input.selectedpoints=ke._fullInput.selectedpoints=[],ke._fullInput!==ke&&(ke.selectedpoints=[]);for(var ye=0;ye<xe.length;ye++){var Ee=xe[ye],$e=Ee.data,Ie=Ee.fullData,Be=Ee.pointIndex,st=Ee.pointIndices;st?([].push.apply($e.selectedpoints,st),ke._fullInput!==ke&&[].push.apply(Ie.selectedpoints,st)):($e.selectedpoints.push(Be),ke._fullInput!==ke&&Ie.selectedpoints.push(Be))}}else for(ce=0;ce<Me.length;ce++)ke=Me[ce].cd[0].trace,delete ke.selectedpoints,delete ke._input.selectedpoints,ke._fullInput!==ke&&delete ke._fullInput.selectedpoints;He(be,Me)}function He(be,Me){for(var Ue=!1,ce=0;ce<Me.length;ce++){var Ce=Me[ce],Ae=Ce.cd;s.traceIs(Ae[0].trace,"regl")&&(Ue=!0);var ke=Ce._module,xe=ke.styleOnSelect||ke.style;xe&&(xe(be,Ae,Ae[0].node3),Ae[0].nodeRangePlot3&&xe(be,Ae,Ae[0].nodeRangePlot3))}Ue&&(I(be),U(be))}function Oe(be,Me,Ue){for(var ce=Ue?n.difference:n.union,Ce=ce({regions:be},{regions:[Me]}),Ae=Ce.regions.reverse(),ke=0;ke<Ae.length;ke++){var xe=Ae[ke];xe.subtract=rt(xe,Ae.slice(0,ke))}return Ae}function tt(be,Me){if(Array.isArray(be))for(var Ue=Me.cd,ce=Me.cd[0].trace,Ce=0;Ce<be.length;Ce++)be[Ce]=h(be[Ce],ce,Ue);return be}function Le(be,Me){for(var Ue=[],ce=0;ce<be.length;ce++){Ue[ce]=[];for(var Ce=0;Ce<be[ce].length;Ce++){Ue[ce][Ce]=[],Ue[ce][Ce][0]=Ce?"L":"M";for(var Ae=0;Ae<be[ce][Ce].length;Ae++)Ue[ce][Ce].push(be[ce][Ce][Ae])}Me||Ue[ce].push(["Z",Ue[ce][0][1],Ue[ce][0][2]])}return Ue}function De(be,Me){for(var Ue=[],ce,Ce,Ae=0;Ae<Me.length;Ae++){var ke=Me[Ae];Ce=ke._module.selectPoints(ke,be),ce=tt(Ce,ke),Ue=Ue.concat(ce)}return Ue}function Se(be,Me,Ue,ce,Ce){var Ae=!!ce,ke,xe,ye;Ce&&(ke=Ce.plotinfo,xe=Ce.xaxes[0]._id,ye=Ce.yaxes[0]._id);var Ee=[],$e=[],Ie=et(be),Be=be._fullLayout;if(ke){var st=Be._zoomlayer,gt=Be.dragmode,wt=_(gt),Wt=p(gt);if(wt||Wt){var Yt=O(be,xe,"x"),qt=O(be,ye,"y");if(Yt&&qt){var Bt=st.selectAll(".select-outline-"+ke.id);if(Bt&&be._fullLayout._outlining&&Bt.length){for(var Ut=Bt[0][0],Nt=Ut.getAttribute("d"),dt=S(Nt,be,ke),Vt=[],Gt=0;Gt<dt.length;Gt++){for(var rr=dt[Gt],Jt=[],Dt=0;Dt<rr.length;Dt++)Jt.push([ft(Yt,rr[Dt][1]),ft(qt,rr[Dt][2])]);Jt.xref=xe,Jt.yref=ye,Jt.subtract=rt(Jt,Vt),Vt.push(Jt)}Ie=Ie.concat(Vt)}}}}var er=xe&&ye?[xe+ye]:Be._subplots.cartesian;ze(be);for(var tr={},he=0;he<er.length;he++){var le=er[he],Ne=le.indexOf("y"),Fe=le.slice(0,Ne),We=le.slice(Ne),Ze=xe&&ye?Ue:void 0;if(Ze=Qe(Ie,Fe,We,Ze),Ze){var Ve=ce;if(!Ae){var je=O(be,Fe,"x"),ut=O(be,We,"y");Ve=q(be,[je],[ut],le);for(var St=0;St<Ve.length;St++){var Pt=Ve[St],lt=Pt.cd[0],yt=lt.trace;if(Pt._module.name==="scattergl"&&!lt.t.xpx){var Ot=yt.x,At=yt.y,mt=yt._length;lt.t.xpx=[],lt.t.ypx=[];for(var Et=0;Et<mt;Et++)lt.t.xpx[Et]=je.c2p(Ot[Et]),lt.t.ypx[Et]=ut.c2p(At[Et])}Pt._module.name==="splom"&&(tr[yt.uid]||(tr[yt.uid]=!0))}}var jt=De(Ze,Ve);Ee=Ee.concat(jt),$e=$e.concat(Ve)}}var Lt={points:Ee};Te(be,$e,Lt);var Ht=Be.clickmode,Kt=Ht.indexOf("event")>-1&&Me;if(!ke&&Me){var Xt=et(be,!0);if(Xt.length){var $t=Xt[0].xref,ar=Xt[0].yref;if($t&&ar){var ir=bt(Xt),cr=ct([O(be,$t,"x"),O(be,ar,"y")]);cr(Lt,ir)}}be._fullLayout._noEmitSelectedAtStart?be._fullLayout._noEmitSelectedAtStart=!1:Kt&&It(be,Lt),Be._reselect=!1}if(!ke&&Be._deselect){var dr=Be._deselect;xe=dr.xref,ye=dr.yref,Ke(xe,ye,$e)||_t(be,xe,ye,ce),Kt&&(Lt.points.length?It(be,Lt):zt(be)),Be._deselect=!1}return{eventData:Lt,selectionTesters:Ue}}function ze(be){var Me=be.calcdata;if(Me)for(var Ue=0;Ue<Me.length;Ue++){var ce=Me[Ue][0],Ce=ce.trace,Ae=be._fullLayout._splomScenes;if(Ae){var ke=Ae[Ce.uid];ke&&(ke.selectBatch=[])}}}function Ke(be,Me,Ue){for(var ce=0;ce<Ue.length;ce++){var Ce=Ue[ce];if(Ce.xaxis&&Ce.xaxis._id===be&&Ce.yaxis&&Ce.yaxis._id===Me)return!0}return!1}function _t(be,Me,Ue,ce){ce=q(be,[O(be,Me,"x")],[O(be,Ue,"y")],Me+Ue);for(var Ce=0;Ce<ce.length;Ce++){var Ae=ce[Ce];Ae._module.selectPoints(Ae,!1)}Te(be,ce)}function Qe(be,Me,Ue,ce){for(var Ce,Ae=0;Ae<be.length;Ae++){var ke=be[Ae];if(!(Me!==ke.xref||Ue!==ke.yref))if(Ce){var xe=!!ke.subtract;Ce=Oe(Ce,ke,xe),ce=L(Ce)}else Ce=[ke],ce=H(ke)}return ce}function et(be,Me){for(var Ue=[],ce=be._fullLayout,Ce=ce.selections,Ae=Ce.length,ke=0;ke<Ae;ke++)if(!(Me&&ke!==ce._activeSelectionIndex)){var xe=Ce[ke];if(xe){var ye=xe.xref,Ee=xe.yref,$e=O(be,ye,"x"),Ie=O(be,Ee,"y"),Be,st,gt,wt,Wt;if(xe.type==="rect"){Wt=[];var Yt=ft($e,xe.x0),qt=ft($e,xe.x1),Bt=ft(Ie,xe.y0),Ut=ft(Ie,xe.y1);Wt=[[Yt,Bt],[Yt,Ut],[qt,Ut],[qt,Bt]],Be=Math.min(Yt,qt),st=Math.max(Yt,qt),gt=Math.min(Bt,Ut),wt=Math.max(Bt,Ut),Wt.xmin=Be,Wt.xmax=st,Wt.ymin=gt,Wt.ymax=wt,Wt.xref=ye,Wt.yref=Ee,Wt.subtract=!1,Wt.isRect=!0,Ue.push(Wt)}else if(xe.type==="path")for(var Nt=xe.path.split("Z"),dt=[],Vt=0;Vt<Nt.length;Vt++){var Gt=Nt[Vt];if(Gt){Gt+="Z";var rr=d.extractPathCoords(Gt,b.paramIsX,"raw"),Jt=d.extractPathCoords(Gt,b.paramIsY,"raw");Be=1/0,st=-1/0,gt=1/0,wt=-1/0,Wt=[];for(var Dt=0;Dt<rr.length;Dt++){var er=ft($e,rr[Dt]),tr=ft(Ie,Jt[Dt]);Wt.push([er,tr]),Be=Math.min(er,Be),st=Math.max(er,st),gt=Math.min(tr,gt),wt=Math.max(tr,wt)}Wt.xmin=Be,Wt.xmax=st,Wt.ymin=gt,Wt.ymax=wt,Wt.xref=ye,Wt.yref=Ee,Wt.subtract=rt(Wt,dt),dt.push(Wt),Ue.push(Wt)}}}}return Ue}function rt(be,Me){for(var Ue=!1,ce=0;ce<Me.length;ce++)for(var Ce=Me[ce],Ae=0;Ae<be.length;Ae++)if(a(be[Ae],Ce)){Ue=!Ue;break}return Ue}function ft(be,Me){return be.type==="date"&&(Me=Me.replace("_"," ")),be.type==="log"?be.c2p(Me):be.r2p(Me,null,be.calendar)}function bt(be){for(var Me=be.length,Ue=[],ce=0;ce<Me;ce++){var Ce=be[ce];Ue=Ue.concat(Ce),Ue=Ue.concat([Ce[0]])}return Ft(Ue)}function Ft(be){return be.isRect=be.length===5&&be[0][0]===be[4][0]&&be[0][1]===be[4][1]&&be[0][0]===be[1][0]&&be[2][0]===be[3][0]&&be[0][1]===be[3][1]&&be[1][1]===be[2][1]||be[0][1]===be[1][1]&&be[2][1]===be[3][1]&&be[0][0]===be[3][0]&&be[1][0]===be[2][0],be.isRect&&(be.xmin=Math.min(be[0][0],be[2][0]),be.xmax=Math.max(be[0][0],be[2][0]),be.ymin=Math.min(be[0][1],be[2][1]),be.ymax=Math.max(be[0][1],be[2][1])),be}function ct(be){return function(Me,Ue){for(var ce,Ce,Ae=0;Ae<be.length;Ae++){var ke=be[Ae],xe=ke._id,ye=xe.charAt(0);if(Ue.isRect){ce||(ce={});var Ee=Ue[ye+"min"],$e=Ue[ye+"max"];Ee!==void 0&&$e!==void 0&&(ce[xe]=[W(ke,Ee),W(ke,$e)].sort(R))}else Ce||(Ce={}),Ce[xe]=Ue.map(F(ke))}ce&&(Me.range=ce),Ce&&(Me.lassoPoints=Ce)}}function nt(be){var Me=be.plotinfo;return Me.fillRangeItems||ct(be.xaxes.concat(be.yaxes))}function at(be,Me){be.emit("plotly_selecting",Me)}function It(be,Me){Me&&(Me.selections=(be.layout||{}).selections||[]),be.emit("plotly_selected",Me)}function zt(be){be.emit("plotly_deselect",null)}i.exports={reselect:Se,prepSelect:se,clearOutline:x,clearSelectionsCache:j,selectOnClick:ee}},{"../../lib":244,"../../lib/clear_gl_canvases":232,"../../lib/polygon":256,"../../lib/throttle":268,"../../plot_api/subroutines":281,"../../plots/cartesian/axis_ids":295,"../../registry":327,"../color":103,"../dragelement/helpers":121,"../drawing":125,"../fx":143,"../fx/helpers":139,"../shapes/constants":195,"../shapes/display_outlines":197,"../shapes/draw_newshape/helpers":202,"../shapes/draw_newshape/newshapes":203,"../shapes/handle_outline":204,"../shapes/helpers":205,"./constants":184,"./draw":186,"./draw_newselection/newselections":189,"./helpers":190,"point-in-polygon/nested":57,polybooljs:58}],193:[function(r,i,o){var n=r("../annotations/attributes"),a=r("../../traces/scatter/attributes").line,s=r("../drawing/attributes").dash,l=r("../../lib/extend").extendFlat,u=r("../../plot_api/plot_template").templatedArray;r("../../constants/axis_placeable_objects"),i.exports=u("shape",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},xref:l({},n.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:l({},n.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:l({},a.color,{editType:"arraydraw"}),width:l({},a.width,{editType:"calc+arraydraw"}),dash:l({},s,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},editType:"arraydraw"})},{"../../constants/axis_placeable_objects":220,"../../lib/extend":238,"../../plot_api/plot_template":280,"../../traces/scatter/attributes":367,"../annotations/attributes":86,"../drawing/attributes":124}],194:[function(r,i,o){var n=r("../../lib"),a=r("../../plots/cartesian/axes"),s=r("./constants"),l=r("./helpers");i.exports=function(m){var _=m._fullLayout,g=n.filterVisible(_.shapes);if(!(!g.length||!m._fullData.length))for(var p=0;p<g.length;p++){var d=g[p];d._extremes={};var b,y,x=a.getRefType(d.xref),w=a.getRefType(d.yref);if(d.xref!=="paper"&&x!=="domain"){var C=d.xsizemode==="pixel"?d.xanchor:d.x0,S=d.xsizemode==="pixel"?d.xanchor:d.x1;b=a.getFromId(m,d.xref),y=v(b,C,S,d.path,s.paramIsX),y&&(d._extremes[b._id]=a.findExtremes(b,y,u(d)))}if(d.yref!=="paper"&&w!=="domain"){var T=d.ysizemode==="pixel"?d.yanchor:d.y0,M=d.ysizemode==="pixel"?d.yanchor:d.y1;b=a.getFromId(m,d.yref),y=v(b,T,M,d.path,s.paramIsY),y&&(d._extremes[b._id]=a.findExtremes(b,y,c(d)))}}};function u(f){return h(f.line.width,f.xsizemode,f.x0,f.x1,f.path,!1)}function c(f){return h(f.line.width,f.ysizemode,f.y0,f.y1,f.path,!0)}function h(f,m,_,g,p,d){var b=f/2,y=d;if(m==="pixel"){var x=p?l.extractPathCoords(p,d?s.paramIsY:s.paramIsX):[_,g],w=n.aggNums(Math.max,null,x),C=n.aggNums(Math.min,null,x),S=C<0?Math.abs(C)+b:b,T=w>0?w+b:b;return{ppad:b,ppadplus:y?S:T,ppadminus:y?T:S}}else return{ppad:b}}function v(f,m,_,g,p){var d=f.type==="category"||f.type==="multicategory"?f.r2c:f.d2c;if(m!==void 0)return[d(m),d(_)];if(g){var b=1/0,y=-1/0,x=g.match(s.segmentRE),w,C,S,T,M;for(f.type==="date"&&(d=l.decodeDate(d)),w=0;w<x.length;w++)C=x[w],S=p[C.charAt(0)].drawn,S!==void 0&&(T=x[w].substr(1).match(s.paramRE),!(!T||T.length<S)&&(M=d(T[S]),M<b&&(b=M),M>y&&(y=M)));if(y>=b)return[b,y]}}},{"../../lib":244,"../../plots/cartesian/axes":291,"./constants":195,"./helpers":205}],195:[function(r,i,o){i.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},{}],196:[function(r,i,o){var n=r("../../lib"),a=r("../../plots/cartesian/axes"),s=r("../../plots/array_container_defaults"),l=r("./attributes"),u=r("./helpers");i.exports=function(v,f){s(v,f,{name:"shapes",handleItemDefaults:c})};function c(h,v,f){function m(F,K){return n.coerce(h,v,l,F,K)}var _=m("visible");if(_){var g=m("path"),p=g?"path":"rect",d=m("type",p),b=d!=="path";b&&delete v.path,m("editable"),m("layer"),m("opacity"),m("fillcolor"),m("fillrule");var y=m("line.width");y&&(m("line.color"),m("line.dash"));for(var x=m("xsizemode"),w=m("ysizemode"),C=["x","y"],S=0;S<2;S++){var T=C[S],M=T+"anchor",D=T==="x"?x:w,k={_fullLayout:f},R,P,E,O=a.coerceRef(h,v,k,T,void 0,"paper"),I=a.getRefType(O);if(I==="range"?(R=a.getFromId(k,O),R._shapeIndices.push(v._index),E=u.rangeToShapePosition(R),P=u.shapePositionToRange(R)):P=E=n.identity,b){var U=.25,V=.75,Z=T+"0",z=T+"1",H=h[Z],B=h[z];h[Z]=P(h[Z],!0),h[z]=P(h[z],!0),D==="pixel"?(m(Z,0),m(z,10)):(a.coercePosition(v,k,m,O,Z,U),a.coercePosition(v,k,m,O,z,V)),v[Z]=E(v[Z]),v[z]=E(v[z]),h[Z]=H,h[z]=B}if(D==="pixel"){var W=h[M];h[M]=P(h[M],!0),a.coercePosition(v,k,m,O,M,.25),v[M]=E(v[M]),h[M]=W}}b&&n.noneOrAll(h,v,["x0","x1","y0","y1"])}}},{"../../lib":244,"../../plots/array_container_defaults":286,"../../plots/cartesian/axes":291,"./attributes":193,"./helpers":205}],197:[function(r,i,o){var n=r("../../lib"),a=n.strTranslate,s=r("../dragelement"),l=r("../dragelement/helpers"),u=l.drawMode,c=l.selectMode,h=r("../../registry"),v=r("../color"),f=r("./draw_newshape/constants"),m=f.i000,_=f.i090,g=f.i180,p=f.i270,d=r("./handle_outline"),b=d.clearOutlineControllers,y=r("./draw_newshape/helpers"),x=y.pointsOnRectangle,w=y.pointsOnEllipse,C=y.writePaths,S=r("./draw_newshape/newshapes"),T=r("../selections/draw_newselection/newselections");i.exports=function R(P,E,O,I){I||(I=0);var U=O.gd;function V(){R(P,E,O,I++),w(P[0])&&Z({redrawing:!0})}function Z(pe){var ge={};O.isActiveShape!==void 0&&(O.isActiveShape=!1,ge=S(E,O)),O.isActiveSelection!==void 0&&(O.isActiveSelection=!1,ge=T(E,O),U._fullLayout._reselect=!0),Object.keys(ge).length&&h.call((pe||{}).redrawing?"relayout":"_guiRelayout",U,ge)}var z=U._fullLayout,H=z._zoomlayer,B=O.dragmode,W=u(B),F=c(B);(W||F)&&(U._fullLayout._outlining=!0),b(U),E.attr("d",C(P));var K,fe,se,ee,ie;if(!I&&(O.isActiveShape||O.isActiveSelection)){ie=M([],P);var J=H.append("g").attr("class","outline-controllers");j(J),me()}function te(pe){se=+pe.srcElement.getAttribute("data-i"),ee=+pe.srcElement.getAttribute("data-j"),K[se][ee].moveFn=L}function L(pe,ge){if(P.length){var Te=ie[se][ee][1],He=ie[se][ee][2],Oe=P[se],tt=Oe.length;if(x(Oe)){var Le=pe,De=ge;if(O.isActiveSelection){var Se=D(Oe,ee);Se[1]===Oe[ee][1]?De=0:Le=0}for(var ze=0;ze<tt;ze++)if(ze!==ee){var Ke=Oe[ze];Ke[1]===Oe[ee][1]&&(Ke[1]=Te+Le),Ke[2]===Oe[ee][2]&&(Ke[2]=He+De)}if(Oe[ee][1]=Te+Le,Oe[ee][2]=He+De,!x(Oe))for(var _t=0;_t<tt;_t++)for(var Qe=0;Qe<Oe[_t].length;Qe++)Oe[_t][Qe]=ie[se][_t][Qe]}else Oe[ee][1]=Te+pe,Oe[ee][2]=He+ge;V()}}function N(){Z()}function G(){if(P.length&&P[se]&&P[se].length){for(var pe=[],ge=0;ge<P[se].length;ge++)ge!==ee&&pe.push(P[se][ge]);pe.length>1&&!(pe.length===2&&pe[1][0]==="Z")&&(ee===0&&(pe[0][0]="M"),P[se]=pe,V(),Z())}}function Y(pe,ge){if(pe===2){se=+ge.srcElement.getAttribute("data-i"),ee=+ge.srcElement.getAttribute("data-j");var Te=P[se];!x(Te)&&!w(Te)&&G()}}function j(pe){K=[];for(var ge=0;ge<P.length;ge++){var Te=P[ge],He=x(Te),Oe=!He&&w(Te);K[ge]=[];for(var tt=Te.length,Le=0;Le<tt;Le++)if(Te[Le][0]!=="Z"&&!(Oe&&Le!==m&&Le!==_&&Le!==g&&Le!==p)){var De=He&&O.isActiveSelection,Se;De&&(Se=D(Te,Le));var ze=Te[Le][1],Ke=Te[Le][2],_t=pe.append(De?"rect":"circle").attr("data-i",ge).attr("data-j",Le).style({fill:v.background,stroke:v.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(De){var Qe=Se[1]-ze,et=Se[2]-Ke,rt=et?5:Math.max(Math.min(25,Math.abs(Qe)-5),5),ft=Qe?5:Math.max(Math.min(25,Math.abs(et)-5),5);_t.classed(et?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",rt).attr("height",ft).attr("x",ze-rt/2).attr("y",Ke-ft/2).attr("transform",a(Qe/2,et/2))}else _t.classed("cursor-grab",!0).attr("r",5).attr("cx",ze).attr("cy",Ke);K[ge][Le]={element:_t.node(),gd:U,prepFn:te,doneFn:N,clickFn:Y},s.init(K[ge][Le])}}}function Q(pe,ge){if(P.length)for(var Te=0;Te<P.length;Te++)for(var He=0;He<P[Te].length;He++)for(var Oe=0;Oe+2<P[Te][He].length;Oe+=2)P[Te][He][Oe+1]=ie[Te][He][Oe+1]+pe,P[Te][He][Oe+2]=ie[Te][He][Oe+2]+ge}function q(pe,ge){Q(pe,ge),V()}function re(pe){se=+pe.srcElement.getAttribute("data-i"),se||(se=0),fe[se].moveFn=q}function ue(){Z()}function de(pe){pe===2&&k(U)}function me(){if(fe=[],!!P.length){var pe=0;fe[pe]={element:E[0][0],gd:U,prepFn:re,doneFn:ue,clickFn:de},s.init(fe[pe])}}};function M(R,P){for(var E=0;E<P.length;E++){var O=P[E];R[E]=[];for(var I=0;I<O.length;I++){R[E][I]=[];for(var U=0;U<O[I].length;U++)R[E][I][U]=O[I][U]}}return R}function D(R,P){var E=R[P][1],O=R[P][2],I=R.length,U,V,Z;return U=(P+1)%I,V=R[U][1],Z=R[U][2],V===E&&Z===O&&(U=(P+2)%I,V=R[U][1],Z=R[U][2]),[U,V,Z]}function k(R){if(c(R._fullLayout.dragmode)){b(R);var P=R._fullLayout._activeSelectionIndex,E=(R.layout||{}).selections||[];if(P<E.length){for(var O=[],I=0;I<E.length;I++)I!==P&&O.push(E[I]);delete R._fullLayout._activeSelectionIndex;var U=R._fullLayout.selections[P];R._fullLayout._deselect={xref:U.xref,yref:U.yref},h.call("_guiRelayout",R,{selections:O})}}}},{"../../lib":244,"../../registry":327,"../color":103,"../dragelement":122,"../dragelement/helpers":121,"../selections/draw_newselection/newselections":189,"./draw_newshape/constants":200,"./draw_newshape/helpers":202,"./draw_newshape/newshapes":203,"./handle_outline":204}],198:[function(r,i,o){var n=r("../../registry"),a=r("../../lib"),s=r("../../plots/cartesian/axes"),l=r("./draw_newshape/helpers").readPaths,u=r("./display_outlines"),c=r("./handle_outline").clearOutlineControllers,h=r("../color"),v=r("../drawing"),f=r("../../plot_api/plot_template").arrayEditor,m=r("../dragelement"),_=r("../../lib/setcursor"),g=r("./constants"),p=r("./helpers"),d=p.getPathString;i.exports={draw:b,drawOne:w,eraseActiveShape:k};function b(R){var P=R._fullLayout;P._shapeUpperLayer.selectAll("path").remove(),P._shapeLowerLayer.selectAll("path").remove();for(var E in P._plots){var O=P._plots[E].shapelayer;O&&O.selectAll("path").remove()}for(var I=0;I<P.shapes.length;I++)P.shapes[I].visible&&w(R,I)}function y(R){return!!R._fullLayout._outlining}function x(R){return!R._context.edits.shapePosition}function w(R,P){R._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+P+'"]').remove();var E=p.makeShapesOptionsAndPlotinfo(R,P),O=E.options,I=E.plotinfo;if(!O._input||O.visible===!1)return;if(O.layer!=="below")V(R._fullLayout._shapeUpperLayer);else if(O.xref==="paper"||O.yref==="paper")V(R._fullLayout._shapeLowerLayer);else if(I._hadPlotinfo){var U=I.mainplotinfo||I;V(U.shapelayer)}else V(R._fullLayout._shapeLowerLayer);function V(Z){var z=d(R,O),H={"data-index":P,"fill-rule":O.fillrule,d:z},B=O.opacity,W=O.fillcolor,F=O.line.width?O.line.color:"rgba(0,0,0,0)",K=O.line.width,fe=O.line.dash;!K&&O.editable===!0&&(K=5,fe="solid");var se=z[z.length-1]!=="Z",ee=x(R)&&O.editable&&R._fullLayout._activeShapeIndex===P;ee&&(W=se?"rgba(0,0,0,0)":R._fullLayout.activeshape.fillcolor,B=R._fullLayout.activeshape.opacity);var ie=Z.append("path").attr(H).style("opacity",B).call(h.stroke,F).call(h.fill,W).call(v.dashLine,fe,K);C(ie,R,O);var J;if((ee||R._context.edits.shapePosition)&&(J=f(R.layout,"shapes",O)),ee){ie.style({cursor:"move"});var te={element:ie.node(),plotinfo:I,gd:R,editHelpers:J,isActiveShape:!0},L=l(z,R);u(L,ie,te)}else R._context.edits.shapePosition?S(R,ie,O,P,Z,J):O.editable===!0&&ie.style("pointer-events",se||h.opacity(W)*B<=.5?"stroke":"all");ie.node().addEventListener("click",function(){return M(R,ie)})}}function C(R,P,E){var O=(E.xref+E.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");v.setClipUrl(R,O?"clip"+P._fullLayout._uid+O:null,P)}function S(R,P,E,O,I,U){var V=10,Z=10,z=E.xsizemode==="pixel",H=E.ysizemode==="pixel",B=E.type==="line",W=E.type==="path",F=U.modifyItem,K,fe,se,ee,ie,J,te,L,N,G,Y,j,Q,q,re,ue=s.getFromId(R,E.xref),de=s.getRefType(E.xref),me=s.getFromId(R,E.yref),pe=s.getRefType(E.yref),ge=p.getDataToPixel(R,ue,!1,de),Te=p.getDataToPixel(R,me,!0,pe),He=p.getPixelToData(R,ue,!1,de),Oe=p.getPixelToData(R,me,!0,pe),tt=Se(),Le={element:tt.node(),gd:R,prepFn:_t,doneFn:Qe,clickFn:et},De;m.init(Le),tt.node().onmousemove=Ke;function Se(){return B?ze():P}function ze(){var nt=10,at=Math.max(E.line.width,nt),It=I.append("g").attr("data-index",O);It.append("path").attr("d",P.attr("d")).style({cursor:"move","stroke-width":at,"stroke-opacity":"0"});var zt={"fill-opacity":"0"},be=Math.max(at/2,nt);return It.append("circle").attr({"data-line-point":"start-point",cx:z?ge(E.xanchor)+E.x0:ge(E.x0),cy:H?Te(E.yanchor)-E.y0:Te(E.y0),r:be}).style(zt).classed("cursor-grab",!0),It.append("circle").attr({"data-line-point":"end-point",cx:z?ge(E.xanchor)+E.x1:ge(E.x1),cy:H?Te(E.yanchor)-E.y1:Te(E.y1),r:be}).style(zt).classed("cursor-grab",!0),It}function Ke(nt){if(y(R)){De=null;return}if(B)nt.target.tagName==="path"?De="move":De=nt.target.attributes["data-line-point"].value==="start-point"?"resize-over-start-point":"resize-over-end-point";else{var at=Le.element.getBoundingClientRect(),It=at.right-at.left,zt=at.bottom-at.top,be=nt.clientX-at.left,Me=nt.clientY-at.top,Ue=!W&&It>V&&zt>Z&&!nt.shiftKey?m.getCursor(be/It,1-Me/zt):"move";_(P,Ue),De=Ue.split("-")[0]}}function _t(nt){y(R)||(z&&(ie=ge(E.xanchor)),H&&(J=Te(E.yanchor)),E.type==="path"?re=E.path:(K=z?E.x0:ge(E.x0),fe=H?E.y0:Te(E.y0),se=z?E.x1:ge(E.x1),ee=H?E.y1:Te(E.y1)),K<se?(N=K,Q="x0",G=se,q="x1"):(N=se,Q="x1",G=K,q="x0"),!H&&fe<ee||H&&fe>ee?(te=fe,Y="y0",L=ee,j="y1"):(te=ee,Y="y1",L=fe,j="y0"),Ke(nt),bt(I,E),ct(P,E,R),Le.moveFn=De==="move"?rt:ft,Le.altKey=nt.altKey)}function Qe(){y(R)||(_(P),Ft(I),C(P,R,E),n.call("_guiRelayout",R,U.getUpdateObj()))}function et(){y(R)||Ft(I)}function rt(nt,at){if(E.type==="path"){var It=function(Me){return Me},zt=It,be=It;z?F("xanchor",E.xanchor=He(ie+nt)):(zt=function(Ue){return He(ge(Ue)+nt)},ue&&ue.type==="date"&&(zt=p.encodeDate(zt))),H?F("yanchor",E.yanchor=Oe(J+at)):(be=function(Ue){return Oe(Te(Ue)+at)},me&&me.type==="date"&&(be=p.encodeDate(be))),F("path",E.path=T(re,zt,be))}else z?F("xanchor",E.xanchor=He(ie+nt)):(F("x0",E.x0=He(K+nt)),F("x1",E.x1=He(se+nt))),H?F("yanchor",E.yanchor=Oe(J+at)):(F("y0",E.y0=Oe(fe+at)),F("y1",E.y1=Oe(ee+at)));P.attr("d",d(R,E)),bt(I,E)}function ft(nt,at){if(W){var It=function(gt){return gt},zt=It,be=It;z?F("xanchor",E.xanchor=He(ie+nt)):(zt=function(wt){return He(ge(wt)+nt)},ue&&ue.type==="date"&&(zt=p.encodeDate(zt))),H?F("yanchor",E.yanchor=Oe(J+at)):(be=function(wt){return Oe(Te(wt)+at)},me&&me.type==="date"&&(be=p.encodeDate(be))),F("path",E.path=T(re,zt,be))}else if(B){if(De==="resize-over-start-point"){var Me=K+nt,Ue=H?fe-at:fe+at;F("x0",E.x0=z?Me:He(Me)),F("y0",E.y0=H?Ue:Oe(Ue))}else if(De==="resize-over-end-point"){var ce=se+nt,Ce=H?ee-at:ee+at;F("x1",E.x1=z?ce:He(ce)),F("y1",E.y1=H?Ce:Oe(Ce))}}else{var Ae=function(gt){return De.indexOf(gt)!==-1},ke=Ae("n"),xe=Ae("s"),ye=Ae("w"),Ee=Ae("e"),$e=ke?te+at:te,Ie=xe?L+at:L,Be=ye?N+nt:N,st=Ee?G+nt:G;H&&(ke&&($e=te-at),xe&&(Ie=L-at)),(!H&&Ie-$e>Z||H&&$e-Ie>Z)&&(F(Y,E[Y]=H?$e:Oe($e)),F(j,E[j]=H?Ie:Oe(Ie))),st-Be>V&&(F(Q,E[Q]=z?Be:He(Be)),F(q,E[q]=z?st:He(st)))}P.attr("d",d(R,E)),bt(I,E)}function bt(nt,at){(z||H)&&It();function It(){var zt=at.type!=="path",be=nt.selectAll(".visual-cue").data([0]),Me=1;be.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":Me}).classed("visual-cue",!0);var Ue=ge(z?at.xanchor:a.midRange(zt?[at.x0,at.x1]:p.extractPathCoords(at.path,g.paramIsX))),ce=Te(H?at.yanchor:a.midRange(zt?[at.y0,at.y1]:p.extractPathCoords(at.path,g.paramIsY)));if(Ue=p.roundPositionForSharpStrokeRendering(Ue,Me),ce=p.roundPositionForSharpStrokeRendering(ce,Me),z&&H){var Ce="M"+(Ue-1-Me)+","+(ce-1-Me)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";be.attr("d",Ce)}else if(z){var Ae="M"+(Ue-1-Me)+","+(ce-9-Me)+"v18 h2 v-18 Z";be.attr("d",Ae)}else{var ke="M"+(Ue-9-Me)+","+(ce-1-Me)+"h18 v2 h-18 Z";be.attr("d",ke)}}}function Ft(nt){nt.selectAll(".visual-cue").remove()}function ct(nt,at,It){var zt=at.xref,be=at.yref,Me=s.getFromId(It,zt),Ue=s.getFromId(It,be),ce="";zt!=="paper"&&!Me.autorange&&(ce+=zt),be!=="paper"&&!Ue.autorange&&(ce+=be),v.setClipUrl(nt,ce?"clip"+It._fullLayout._uid+ce:null,It)}}function T(R,P,E){return R.replace(g.segmentRE,function(O){var I=0,U=O.charAt(0),V=g.paramIsX[U],Z=g.paramIsY[U],z=g.numParams[U],H=O.substr(1).replace(g.paramRE,function(B){return I>=z||(V[I]?B=P(B):Z[I]&&(B=E(B)),I++),B});return U+H})}function M(R,P){if(x(R)){var E=P.node(),O=+E.getAttribute("data-index");if(O>=0){if(O===R._fullLayout._activeShapeIndex){D(R);return}R._fullLayout._activeShapeIndex=O,R._fullLayout._deactivateShape=D,b(R)}}}function D(R){if(x(R)){var P=R._fullLayout._activeShapeIndex;P>=0&&(c(R),delete R._fullLayout._activeShapeIndex,b(R))}}function k(R){if(x(R)){c(R);var P=R._fullLayout._activeShapeIndex,E=(R.layout||{}).shapes||[];if(P<E.length){for(var O=[],I=0;I<E.length;I++)I!==P&&O.push(E[I]);delete R._fullLayout._activeShapeIndex,n.call("_guiRelayout",R,{shapes:O})}}}},{"../../lib":244,"../../lib/setcursor":264,"../../plot_api/plot_template":280,"../../plots/cartesian/axes":291,"../../registry":327,"../color":103,"../dragelement":122,"../drawing":125,"./constants":195,"./display_outlines":197,"./draw_newshape/helpers":202,"./handle_outline":204,"./helpers":205}],199:[function(r,i,o){var n=r("../../drawing/attributes").dash,a=r("../../../lib/extend").extendFlat;i.exports={newshape:{line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:0,dflt:4,editType:"none"},dash:a({},n,{dflt:"solid",editType:"none"}),editType:"none"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"none"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"none"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal",editType:"none"},editType:"none"},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},{"../../../lib/extend":238,"../../drawing/attributes":124}],200:[function(r,i,o){var n=32;i.exports={CIRCLE_SIDES:n,i000:0,i090:n/4,i180:n/2,i270:n/4*3,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},{}],201:[function(r,i,o){var n=r("../../color");i.exports=function(s,l,u){u("newshape.drawdirection"),u("newshape.layer"),u("newshape.fillcolor"),u("newshape.fillrule"),u("newshape.opacity");var c=u("newshape.line.width");if(c){var h=(s||{}).plot_bgcolor||"#FFF";u("newshape.line.color",n.contrast(h)),u("newshape.line.dash")}u("activeshape.fillcolor"),u("activeshape.opacity")}},{"../../color":103}],202:[function(r,i,o){var n=r("parse-svg-path"),a=r("./constants"),s=a.CIRCLE_SIDES,l=a.SQRT2,u=r("../../selections/helpers"),c=u.p2r,h=u.r2p,v=[0,3,4,5,6,1,2],f=[0,3,4,1,2];o.writePaths=function(g){var p=g.length;if(!p)return"M0,0Z";for(var d="",b=0;b<p;b++)for(var y=g[b].length,x=0;x<y;x++){var w=g[b][x][0];if(w==="Z")d+="Z";else for(var C=g[b][x].length,S=0;S<C;S++){var T=S;w==="Q"||w==="S"?T=f[S]:w==="C"&&(T=v[S]),d+=g[b][x][T],S>0&&S<C-1&&(d+=",")}}return d},o.readPaths=function(g,p,d,b){var y=n(g),x=[],w=-1,C=function(){w++,x[w]=[]},S,T=0,M=0,D,k,R=function(){D=T,k=M};R();for(var P=0;P<y.length;P++){var E=[],O,I,U,V,Z=y[P][0],z=Z;switch(Z){case"M":C(),T=+y[P][1],M=+y[P][2],E.push([z,T,M]),R();break;case"Q":case"S":O=+y[P][1],U=+y[P][2],T=+y[P][3],M=+y[P][4],E.push([z,T,M,O,U]);break;case"C":O=+y[P][1],U=+y[P][2],I=+y[P][3],V=+y[P][4],T=+y[P][5],M=+y[P][6],E.push([z,T,M,O,U,I,V]);break;case"T":case"L":T=+y[P][1],M=+y[P][2],E.push([z,T,M]);break;case"H":z="L",T=+y[P][1],E.push([z,T,M]);break;case"V":z="L",M=+y[P][1],E.push([z,T,M]);break;case"A":z="L";var H=+y[P][1],B=+y[P][2];+y[P][4]||(H=-H,B=-B);var W=T-H,F=M;for(S=1;S<=s/2;S++){var K=2*Math.PI*S/s;E.push([z,W+H*Math.cos(K),F+B*Math.sin(K)])}break;case"Z":(T!==D||M!==k)&&(T=D,M=k,E.push([z,T,M]));break}for(var fe=(d||{}).domain,se=p._fullLayout._size,ee=d&&d.xsizemode==="pixel",ie=d&&d.ysizemode==="pixel",J=b===!1,te=0;te<E.length;te++){for(S=0;S+2<7;S+=2){var L=E[te][S+1],N=E[te][S+2];L===void 0||N===void 0||(T=L,M=N,d&&(d.xaxis&&d.xaxis.p2r?(J&&(L-=d.xaxis._offset),ee?L=h(d.xaxis,d.xanchor)+L:L=c(d.xaxis,L)):(J&&(L-=se.l),fe?L=fe.x[0]+L/se.w:L=L/se.w),d.yaxis&&d.yaxis.p2r?(J&&(N-=d.yaxis._offset),ie?N=h(d.yaxis,d.yanchor)-N:N=c(d.yaxis,N)):(J&&(N-=se.t),fe?N=fe.y[1]-N/se.h:N=1-N/se.h)),E[te][S+1]=L,E[te][S+2]=N)}x[w].push(E[te].slice())}}return x};function m(g,p){return Math.abs(g-p)<=1e-6}function _(g,p){var d=p[1]-g[1],b=p[2]-g[2];return Math.sqrt(d*d+b*b)}o.pointsOnRectangle=function(g){var p=g.length;if(p!==5)return!1;for(var d=1;d<3;d++){var b=g[0][d]-g[1][d],y=g[3][d]-g[2][d];if(!m(b,y))return!1;var x=g[0][d]-g[3][d],w=g[1][d]-g[2][d];if(!m(x,w))return!1}return!m(g[0][1],g[1][1])&&!m(g[0][1],g[3][1])?!1:!!(_(g[0],g[1])*_(g[0],g[3]))},o.pointsOnEllipse=function(g){var p=g.length;if(p!==s+1)return!1;p=s;for(var d=0;d<p;d++){var b=(p*2-d)%p,y=(p/2+b)%p,x=(p/2+d)%p;if(!m(_(g[d],g[x]),_(g[b],g[y])))return!1}return!0},o.handleEllipse=function(g,p,d){if(!g)return[p,d];var b=o.ellipseOver({x0:p[0],y0:p[1],x1:d[0],y1:d[1]}),y=(b.x1+b.x0)/2,x=(b.y1+b.y0)/2,w=(b.x1-b.x0)/2,C=(b.y1-b.y0)/2;w||(w=C=C/l),C||(C=w=w/l);for(var S=[],T=0;T<s;T++){var M=T*2*Math.PI/s;S.push([y+w*Math.cos(M),x+C*Math.sin(M)])}return S},o.ellipseOver=function(g){var p=g.x0,d=g.y0,b=g.x1,y=g.y1,x=b-p,w=y-d;p-=x,d-=w;var C=(p+b)/2,S=(d+y)/2,T=l;return x*=T,w*=T,{x0:C-x,y0:S-w,x1:C+x,y1:S+w}},o.fixDatesForPaths=function(g,p,d){var b=p.type==="date",y=d.type==="date";if(!b&&!y)return g;for(var x=0;x<g.length;x++)for(var w=0;w<g[x].length;w++)for(var C=0;C+2<g[x][w].length;C+=2)b&&(g[x][w][C+1]=g[x][w][C+1].replace(" ","_")),y&&(g[x][w][C+2]=g[x][w][C+2].replace(" ","_"));return g}},{"../../selections/helpers":190,"./constants":200,"parse-svg-path":56}],203:[function(r,i,o){var n=r("../../dragelement/helpers"),a=n.drawMode,s=n.openMode,l=r("./constants"),u=l.i000,c=l.i090,h=l.i180,v=l.i270,f=l.cos45,m=l.sin45,_=r("../../selections/helpers"),g=_.p2r,p=_.r2p,d=r(".././handle_outline"),b=d.clearOutline,y=r("./helpers"),x=y.readPaths,w=y.writePaths,C=y.ellipseOver,S=y.fixDatesForPaths;i.exports=function(M,D){if(M.length){var k=M[0][0];if(k){var R=k.getAttribute("d"),P=D.gd,E=P._fullLayout.newshape,O=D.plotinfo,I=O.xaxis,U=O.yaxis,V=!!O.domain||!O.xaxis,Z=!!O.domain||!O.yaxis,z=D.isActiveShape,H=D.dragmode,B=(P.layout||{}).shapes||[];if(!a(H)&&z!==void 0){var W=P._fullLayout._activeShapeIndex;if(W<B.length)switch(P._fullLayout.shapes[W].type){case"rect":H="drawrect";break;case"circle":H="drawcircle";break;case"line":H="drawline";break;case"path":var F=B[W].path||"";F[F.length-1]==="Z"?H="drawclosedpath":H="drawopenpath";break}}var K=s(H),fe=x(R,P,O,z),se={editable:!0,xref:V?"paper":I._id,yref:Z?"paper":U._id,layer:E.layer,opacity:E.opacity,line:{color:E.line.color,width:E.line.width,dash:E.line.dash}};K||(se.fillcolor=E.fillcolor,se.fillrule=E.fillrule);var ee;if(fe.length===1&&(ee=fe[0]),ee&&ee.length===5&&H==="drawrect")se.type="rect",se.x0=ee[0][1],se.y0=ee[0][2],se.x1=ee[2][1],se.y1=ee[2][2];else if(ee&&H==="drawline")se.type="line",se.x0=ee[0][1],se.y0=ee[0][2],se.x1=ee[1][1],se.y1=ee[1][2];else if(ee&&H==="drawcircle"){se.type="circle";var ie=ee[u][1],J=ee[c][1],te=ee[h][1],L=ee[v][1],N=ee[u][2],G=ee[c][2],Y=ee[h][2],j=ee[v][2],Q=O.xaxis&&(O.xaxis.type==="date"||O.xaxis.type==="log"),q=O.yaxis&&(O.yaxis.type==="date"||O.yaxis.type==="log");Q&&(ie=p(O.xaxis,ie),J=p(O.xaxis,J),te=p(O.xaxis,te),L=p(O.xaxis,L)),q&&(N=p(O.yaxis,N),G=p(O.yaxis,G),Y=p(O.yaxis,Y),j=p(O.yaxis,j));var re=(J+L)/2,ue=(N+Y)/2,de=(L-J+te-ie)/2,me=(j-G+Y-N)/2,pe=C({x0:re,y0:ue,x1:re+de*f,y1:ue+me*m});Q&&(pe.x0=g(O.xaxis,pe.x0),pe.x1=g(O.xaxis,pe.x1)),q&&(pe.y0=g(O.yaxis,pe.y0),pe.y1=g(O.yaxis,pe.y1)),se.x0=pe.x0,se.y0=pe.y0,se.x1=pe.x1,se.y1=pe.y1}else se.type="path",I&&U&&S(fe,I,U),se.path=w(fe),ee=null;b(P);for(var ge=D.editHelpers,Te=(ge||{}).modifyItem,He=[],Oe=0;Oe<B.length;Oe++){var tt=P._fullLayout.shapes[Oe];if(He[Oe]=tt._input,z!==void 0&&Oe===P._fullLayout._activeShapeIndex){var Le=se;switch(tt.type){case"line":case"rect":case"circle":Te("x0",Le.x0),Te("x1",Le.x1),Te("y0",Le.y0),Te("y1",Le.y1);break;case"path":Te("path",Le.path);break}}}return z===void 0?(He.push(se),He):ge?ge.getUpdateObj():{}}}}},{"../../dragelement/helpers":121,"../../selections/helpers":190,".././handle_outline":204,"./constants":200,"./helpers":202}],204:[function(r,i,o){function n(s){var l=s._fullLayout._zoomlayer;l&&l.selectAll(".outline-controllers").remove()}function a(s){var l=s._fullLayout._zoomlayer;l&&l.selectAll(".select-outline").remove(),s._fullLayout._outlining=!1}i.exports={clearOutlineControllers:n,clearOutline:a}},{}],205:[function(r,i,o){var n=r("./constants"),a=r("../../lib"),s=r("../../plots/cartesian/axes");o.rangeToShapePosition=function(u){return u.type==="log"?u.r2d:function(c){return c}},o.shapePositionToRange=function(u){return u.type==="log"?u.d2r:function(c){return c}},o.decodeDate=function(u){return function(c){return c.replace&&(c=c.replace("_"," ")),u(c)}},o.encodeDate=function(u){return function(c){return u(c).replace(" ","_")}},o.extractPathCoords=function(u,c,h){var v=[],f=u.match(n.segmentRE);return f.forEach(function(m){var _=c[m.charAt(0)].drawn;if(_!==void 0){var g=m.substr(1).match(n.paramRE);if(!(!g||g.length<_)){var p=g[_],d=h?p:a.cleanNumber(p);v.push(d)}}}),v},o.getDataToPixel=function(u,c,h,v){var f=u._fullLayout._size,m;if(c)if(v==="domain")m=function(g){return c._length*(h?1-g:g)+c._offset};else{var _=o.shapePositionToRange(c);m=function(g){return c._offset+c.r2p(_(g,!0))},c.type==="date"&&(m=o.decodeDate(m))}else h?m=function(g){return f.t+f.h*(1-g)}:m=function(g){return f.l+f.w*g};return m},o.getPixelToData=function(u,c,h,v){var f=u._fullLayout._size,m;if(c)if(v==="domain")m=function(g){var p=(g-c._offset)/c._length;return h?1-p:p};else{var _=o.rangeToShapePosition(c);m=function(g){return _(c.p2r(g-c._offset))}}else h?m=function(g){return 1-(g-f.t)/f.h}:m=function(g){return(g-f.l)/f.w};return m},o.roundPositionForSharpStrokeRendering=function(u,c){var h=Math.round(c%2)===1,v=Math.round(u);return h?v+.5:v},o.makeShapesOptionsAndPlotinfo=function(u,c){var h=u._fullLayout.shapes[c]||{},v=u._fullLayout._plots[h.xref+h.yref],f=!!v;return f?v._hadPlotinfo=!0:(v={},h.xref&&h.xref!=="paper"&&(v.xaxis=u._fullLayout[h.xref+"axis"]),h.yref&&h.yref!=="paper"&&(v.yaxis=u._fullLayout[h.yref+"axis"])),v.xsizemode=h.xsizemode,v.ysizemode=h.ysizemode,v.xanchor=h.xanchor,v.yanchor=h.yanchor,{options:h,plotinfo:v}},o.makeSelectionsOptionsAndPlotinfo=function(u,c){var h=u._fullLayout.selections[c]||{},v=u._fullLayout._plots[h.xref+h.yref],f=!!v;return f?v._hadPlotinfo=!0:(v={},h.xref&&(v.xaxis=u._fullLayout[h.xref+"axis"]),h.yref&&(v.yaxis=u._fullLayout[h.yref+"axis"])),{options:h,plotinfo:v}},o.getPathString=function(u,c){var h=c.type,v=s.getRefType(c.xref),f=s.getRefType(c.yref),m=s.getFromId(u,c.xref),_=s.getFromId(u,c.yref),g=u._fullLayout._size,p,d,b,y,x,w,C,S;if(m?v==="domain"?d=function(U){return m._offset+m._length*U}:(p=o.shapePositionToRange(m),d=function(U){return m._offset+m.r2p(p(U,!0))}):d=function(U){return g.l+g.w*U},_?f==="domain"?y=function(U){return _._offset+_._length*(1-U)}:(b=o.shapePositionToRange(_),y=function(U){return _._offset+_.r2p(b(U,!0))}):y=function(U){return g.t+g.h*(1-U)},h==="path")return m&&m.type==="date"&&(d=o.decodeDate(d)),_&&_.type==="date"&&(y=o.decodeDate(y)),l(c,d,y);if(c.xsizemode==="pixel"){var T=d(c.xanchor);x=T+c.x0,w=T+c.x1}else x=d(c.x0),w=d(c.x1);if(c.ysizemode==="pixel"){var M=y(c.yanchor);C=M-c.y0,S=M-c.y1}else C=y(c.y0),S=y(c.y1);if(h==="line")return"M"+x+","+C+"L"+w+","+S;if(h==="rect")return"M"+x+","+C+"H"+w+"V"+S+"H"+x+"Z";var D=(x+w)/2,k=(C+S)/2,R=Math.abs(D-x),P=Math.abs(k-C),E="A"+R+","+P,O=D+R+","+k,I=D+","+(k-P);return"M"+O+E+" 0 1,1 "+I+E+" 0 0,1 "+O+"Z"};function l(u,c,h){var v=u.path,f=u.xsizemode,m=u.ysizemode,_=u.xanchor,g=u.yanchor;return v.replace(n.segmentRE,function(p){var d=0,b=p.charAt(0),y=n.paramIsX[b],x=n.paramIsY[b],w=n.numParams[b],C=p.substr(1).replace(n.paramRE,function(S){return y[d]?f==="pixel"?S=c(_)+Number(S):S=c(S):x[d]&&(m==="pixel"?S=h(g)-Number(S):S=h(S)),d++,d>w&&(S="X"),S});return d>w&&(C=C.replace(/[\s,]*X.*/,""),a.log("Ignoring extra params in segment "+p)),b+C})}},{"../../lib":244,"../../plots/cartesian/axes":291,"./constants":195}],206:[function(r,i,o){var n=r("./draw");i.exports={moduleType:"component",name:"shapes",layoutAttributes:r("./attributes"),supplyLayoutDefaults:r("./defaults"),supplyDrawNewShapeDefaults:r("./draw_newshape/defaults"),includeBasePlot:r("../../plots/cartesian/include_components")("shapes"),calcAutorange:r("./calc_autorange"),draw:n.draw,drawOne:n.drawOne}},{"../../plots/cartesian/include_components":302,"./attributes":193,"./calc_autorange":194,"./defaults":196,"./draw":198,"./draw_newshape/defaults":201}],207:[function(r,i,o){var n=r("../../plots/font_attributes"),a=r("../../plots/pad_attributes"),s=r("../../lib/extend").extendDeepAll,l=r("../../plot_api/edit_types").overrideAll,u=r("../../plots/animation_attributes"),c=r("../../plot_api/plot_template").templatedArray,h=r("./constants"),v=c("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});i.exports=l(c("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:v,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:s(a({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:u.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:n({})},font:n({}),activebgcolor:{valType:"color",dflt:h.gripBgActiveColor},bgcolor:{valType:"color",dflt:h.railBgColor},bordercolor:{valType:"color",dflt:h.railBorderColor},borderwidth:{valType:"number",min:0,dflt:h.railBorderWidth},ticklen:{valType:"number",min:0,dflt:h.tickLength},tickcolor:{valType:"color",dflt:h.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:h.minorTickLength}}),"arraydraw","from-root")},{"../../lib/extend":238,"../../plot_api/edit_types":273,"../../plot_api/plot_template":280,"../../plots/animation_attributes":285,"../../plots/font_attributes":319,"../../plots/pad_attributes":324,"./constants":208}],208:[function(r,i,o){i.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},{}],209:[function(r,i,o){var n=r("../../lib"),a=r("../../plots/array_container_defaults"),s=r("./attributes"),l=r("./constants"),u=l.name,c=s.steps;i.exports=function(m,_){a(m,_,{name:u,handleItemDefaults:h})};function h(f,m,_){function g(S,T){return n.coerce(f,m,s,S,T)}for(var p=a(f,m,{name:"steps",handleItemDefaults:v}),d=0,b=0;b<p.length;b++)p[b].visible&&d++;var y;if(d<2?y=m.visible=!1:y=g("visible"),!!y){m._stepCount=d;var x=m._visibleSteps=n.filterVisible(p),w=g("active");(p[w]||{}).visible||(m.active=x[0]._index),g("x"),g("y"),n.noneOrAll(f,m,["x","y"]),g("xanchor"),g("yanchor"),g("len"),g("lenmode"),g("pad.t"),g("pad.r"),g("pad.b"),g("pad.l"),n.coerceFont(g,"font",_.font);var C=g("currentvalue.visible");C&&(g("currentvalue.xanchor"),g("currentvalue.prefix"),g("currentvalue.suffix"),g("currentvalue.offset"),n.coerceFont(g,"currentvalue.font",m.font)),g("transition.duration"),g("transition.easing"),g("bgcolor"),g("activebgcolor"),g("bordercolor"),g("borderwidth"),g("ticklen"),g("tickwidth"),g("tickcolor"),g("minorticklen")}}function v(f,m){function _(d,b){return n.coerce(f,m,c,d,b)}var g;if(f.method!=="skip"&&!Array.isArray(f.args)?g=m.visible=!1:g=_("visible"),g){_("method"),_("args");var p=_("label","step-"+m._index);_("value",p),_("execute")}}},{"../../lib":244,"../../plots/array_container_defaults":286,"./attributes":207,"./constants":208}],210:[function(r,i,o){var n=r("@plotly/d3"),a=r("../../plots/plots"),s=r("../color"),l=r("../drawing"),u=r("../../lib"),c=u.strTranslate,h=r("../../lib/svg_text_utils"),v=r("../../plot_api/plot_template").arrayEditor,f=r("./constants"),m=r("../../constants/alignment"),_=m.LINE_SPACING,g=m.FROM_TL,p=m.FROM_BR;i.exports=function(H){var B=H._fullLayout,W=b(B,H),F=B._infolayer.selectAll("g."+f.containerClassName).data(W.length>0?[0]:[]);F.enter().append("g").classed(f.containerClassName,!0).style("cursor","ew-resize");function K(ie){ie._commandObserver&&(ie._commandObserver.remove(),delete ie._commandObserver),a.autoMargin(H,d(ie))}if(F.exit().each(function(){n.select(this).selectAll("g."+f.groupClassName).each(K)}).remove(),W.length!==0){var fe=F.selectAll("g."+f.groupClassName).data(W,y);fe.enter().append("g").classed(f.groupClassName,!0),fe.exit().each(K).remove();for(var se=0;se<W.length;se++){var ee=W[se];x(H,ee)}fe.each(function(ie){var J=n.select(this);E(ie),a.manageCommandObserver(H,ie,ie._visibleSteps,function(te){var L=J.data()[0];L.active!==te.index&&(L._dragging||k(H,J,L,te.index,!1,!0))}),w(H,n.select(this),ie)})}};function d(z){return f.autoMarginIdRoot+z._index}function b(z,H){for(var B=z[f.name],W=[],F=0;F<B.length;F++){var K=B[F];K.visible&&(K._gd=H,W.push(K))}return W}function y(z){return z._index}function x(z,H){var B=l.tester.selectAll("g."+f.labelGroupClass).data(H._visibleSteps);B.enter().append("g").classed(f.labelGroupClass,!0);var W=0,F=0;B.each(function(G){var Y=n.select(this),j=T(Y,{step:G},H),Q=j.node();if(Q){var q=l.bBox(Q);F=Math.max(F,q.height),W=Math.max(W,q.width)}}),B.remove();var K=H._dims={};K.inputAreaWidth=Math.max(f.railWidth,f.gripHeight);var fe=z._fullLayout._size;K.lx=fe.l+fe.w*H.x,K.ly=fe.t+fe.h*(1-H.y),H.lenmode==="fraction"?K.outerLength=Math.round(fe.w*H.len):K.outerLength=H.len,K.inputAreaStart=0,K.inputAreaLength=Math.round(K.outerLength-H.pad.l-H.pad.r);var se=K.inputAreaLength-2*f.stepInset,ee=se/(H._stepCount-1),ie=W+f.labelPadding;if(K.labelStride=Math.max(1,Math.ceil(ie/ee)),K.labelHeight=F,K.currentValueMaxWidth=0,K.currentValueHeight=0,K.currentValueTotalHeight=0,K.currentValueMaxLines=1,H.currentvalue.visible){var J=l.tester.append("g");B.each(function(G){var Y=C(J,H,G.label),j=Y.node()&&l.bBox(Y.node())||{width:0,height:0},Q=h.lineCount(Y);K.currentValueMaxWidth=Math.max(K.currentValueMaxWidth,Math.ceil(j.width)),K.currentValueHeight=Math.max(K.currentValueHeight,Math.ceil(j.height)),K.currentValueMaxLines=Math.max(K.currentValueMaxLines,Q)}),K.currentValueTotalHeight=K.currentValueHeight+H.currentvalue.offset,J.remove()}K.height=K.currentValueTotalHeight+f.tickOffset+H.ticklen+f.labelOffset+K.labelHeight+H.pad.t+H.pad.b;var te="left";u.isRightAnchor(H)&&(K.lx-=K.outerLength,te="right"),u.isCenterAnchor(H)&&(K.lx-=K.outerLength/2,te="center");var L="top";u.isBottomAnchor(H)&&(K.ly-=K.height,L="bottom"),u.isMiddleAnchor(H)&&(K.ly-=K.height/2,L="middle"),K.outerLength=Math.ceil(K.outerLength),K.height=Math.ceil(K.height),K.lx=Math.round(K.lx),K.ly=Math.round(K.ly);var N={y:H.y,b:K.height*p[L],t:K.height*g[L]};H.lenmode==="fraction"?(N.l=0,N.xl=H.x-H.len*g[te],N.r=0,N.xr=H.x+H.len*p[te]):(N.x=H.x,N.l=K.outerLength*g[te],N.r=K.outerLength*p[te]),a.autoMargin(z,d(H),N)}function w(z,H,B){(B.steps[B.active]||{}).visible||(B.active=B._visibleSteps[0]._index),H.call(C,B).call(Z,B).call(M,B).call(P,B).call(V,z,B).call(S,z,B);var W=B._dims;l.setTranslate(H,W.lx+B.pad.l,W.ly+B.pad.t),H.call(O,B,!1),H.call(C,B)}function C(z,H,B){if(H.currentvalue.visible){var W=H._dims,F,K;switch(H.currentvalue.xanchor){case"right":F=W.inputAreaLength-f.currentValueInset-W.currentValueMaxWidth,K="left";break;case"center":F=W.inputAreaLength*.5,K="middle";break;default:F=f.currentValueInset,K="left"}var fe=u.ensureSingle(z,"text",f.labelClass,function(L){L.attr({"text-anchor":K,"data-notex":1})}),se=H.currentvalue.prefix?H.currentvalue.prefix:"";if(typeof B=="string")se+=B;else{var ee=H.steps[H.active].label,ie=H._gd._fullLayout._meta;ie&&(ee=u.templateString(ee,ie)),se+=ee}H.currentvalue.suffix&&(se+=H.currentvalue.suffix),fe.call(l.font,H.currentvalue.font).text(se).call(h.convertToTspans,H._gd);var J=h.lineCount(fe),te=(W.currentValueMaxLines+1-J)*H.currentvalue.font.size*_;return h.positionText(fe,F,te),fe}}function S(z,H,B){var W=u.ensureSingle(z,"rect",f.gripRectClass,function(F){F.call(R,H,z,B).style("pointer-events","all")});W.attr({width:f.gripWidth,height:f.gripHeight,rx:f.gripRadius,ry:f.gripRadius}).call(s.stroke,B.bordercolor).call(s.fill,B.bgcolor).style("stroke-width",B.borderwidth+"px")}function T(z,H,B){var W=u.ensureSingle(z,"text",f.labelClass,function(fe){fe.attr({"text-anchor":"middle","data-notex":1})}),F=H.step.label,K=B._gd._fullLayout._meta;return K&&(F=u.templateString(F,K)),W.call(l.font,B.font).text(F).call(h.convertToTspans,B._gd),W}function M(z,H){var B=u.ensureSingle(z,"g",f.labelsClass),W=H._dims,F=B.selectAll("g."+f.labelGroupClass).data(W.labelSteps);F.enter().append("g").classed(f.labelGroupClass,!0),F.exit().remove(),F.each(function(K){var fe=n.select(this);fe.call(T,K,H),l.setTranslate(fe,I(H,K.fraction),f.tickOffset+H.ticklen+H.font.size*_+f.labelOffset+W.currentValueTotalHeight)})}function D(z,H,B,W,F){var K=Math.round(W*(B._stepCount-1)),fe=B._visibleSteps[K]._index;fe!==B.active&&k(z,H,B,fe,!0,F)}function k(z,H,B,W,F,K){var fe=B.active;B.active=W,v(z.layout,f.name,B).applyUpdate("active",W);var se=B.steps[B.active];H.call(O,B,K),H.call(C,B),z.emit("plotly_sliderchange",{slider:B,step:B.steps[B.active],interaction:F,previousActive:fe}),se&&se.method&&F&&(H._nextMethod?(H._nextMethod.step=se,H._nextMethod.doCallback=F,H._nextMethod.doTransition=K):(H._nextMethod={step:se,doCallback:F,doTransition:K},H._nextMethodRaf=window.requestAnimationFrame(function(){var ee=H._nextMethod.step;ee.method&&(ee.execute&&a.executeAPICommand(z,ee.method,ee.args),H._nextMethod=null,H._nextMethodRaf=null)})))}function R(z,H,B){var W=B.node(),F=n.select(H);function K(){return B.data()[0]}function fe(){var se=K();H.emit("plotly_sliderstart",{slider:se});var ee=B.select("."+f.gripRectClass);n.event.stopPropagation(),n.event.preventDefault(),ee.call(s.fill,se.activebgcolor);var ie=U(se,n.mouse(W)[0]);D(H,B,se,ie,!0),se._dragging=!0;function J(){var L=K(),N=U(L,n.mouse(W)[0]);D(H,B,L,N,!1)}F.on("mousemove",J),F.on("touchmove",J);function te(){var L=K();L._dragging=!1,ee.call(s.fill,L.bgcolor),F.on("mouseup",null),F.on("mousemove",null),F.on("touchend",null),F.on("touchmove",null),H.emit("plotly_sliderend",{slider:L,step:L.steps[L.active]})}F.on("mouseup",te),F.on("touchend",te)}z.on("mousedown",fe),z.on("touchstart",fe)}function P(z,H){var B=z.selectAll("rect."+f.tickRectClass).data(H._visibleSteps),W=H._dims;B.enter().append("rect").classed(f.tickRectClass,!0),B.exit().remove(),B.attr({width:H.tickwidth+"px","shape-rendering":"crispEdges"}),B.each(function(F,K){var fe=K%W.labelStride===0,se=n.select(this);se.attr({height:fe?H.ticklen:H.minorticklen}).call(s.fill,H.tickcolor),l.setTranslate(se,I(H,K/(H._stepCount-1))-.5*H.tickwidth,(fe?f.tickOffset:f.minorTickOffset)+W.currentValueTotalHeight)})}function E(z){var H=z._dims;H.labelSteps=[];for(var B=z._stepCount,W=0;W<B;W+=H.labelStride)H.labelSteps.push({fraction:W/(B-1),step:z._visibleSteps[W]})}function O(z,H,B){for(var W=z.select("rect."+f.gripRectClass),F=0,K=0;K<H._stepCount;K++)if(H._visibleSteps[K]._index===H.active){F=K;break}var fe=I(H,F/(H._stepCount-1));if(!H._invokingCommand){var se=W;B&&H.transition.duration>0&&(se=se.transition().duration(H.transition.duration).ease(H.transition.easing)),se.attr("transform",c(fe-f.gripWidth*.5,H._dims.currentValueTotalHeight))}}function I(z,H){var B=z._dims;return B.inputAreaStart+f.stepInset+(B.inputAreaLength-2*f.stepInset)*Math.min(1,Math.max(0,H))}function U(z,H){var B=z._dims;return Math.min(1,Math.max(0,(H-f.stepInset-B.inputAreaStart)/(B.inputAreaLength-2*f.stepInset-2*B.inputAreaStart)))}function V(z,H,B){var W=B._dims,F=u.ensureSingle(z,"rect",f.railTouchRectClass,function(K){K.call(R,H,z,B).style("pointer-events","all")});F.attr({width:W.inputAreaLength,height:Math.max(W.inputAreaWidth,f.tickOffset+B.ticklen+W.labelHeight)}).call(s.fill,B.bgcolor).attr("opacity",0),l.setTranslate(F,0,W.currentValueTotalHeight)}function Z(z,H){var B=H._dims,W=B.inputAreaLength-f.railInset*2,F=u.ensureSingle(z,"rect",f.railRectClass);F.attr({width:W,height:f.railWidth,rx:f.railRadius,ry:f.railRadius,"shape-rendering":"crispEdges"}).call(s.stroke,H.bordercolor).call(s.fill,H.bgcolor).style("stroke-width",H.borderwidth+"px"),l.setTranslate(F,f.railInset,(B.inputAreaWidth-f.railWidth)*.5+B.currentValueTotalHeight)}},{"../../constants/alignment":219,"../../lib":244,"../../lib/svg_text_utils":267,"../../plot_api/plot_template":280,"../../plots/plots":325,"../color":103,"../drawing":125,"./constants":208,"@plotly/d3":11}],211:[function(r,i,o){var n=r("./constants");i.exports={moduleType:"component",name:n.name,layoutAttributes:r("./attributes"),supplyLayoutDefaults:r("./defaults"),draw:r("./draw")}},{"./attributes":207,"./constants":208,"./defaults":209,"./draw":210}],212:[function(r,i,o){var n=r("@plotly/d3"),a=r("fast-isnumeric"),s=r("../../plots/plots"),l=r("../../registry"),u=r("../../lib"),c=u.strTranslate,h=r("../drawing"),v=r("../color"),f=r("../../lib/svg_text_utils"),m=r("../../constants/interactions"),_=r("../../constants/alignment").OPPOSITE_SIDE,g=/ [XY][0-9]* /;function p(d,b,y){var x=y.propContainer,w=y.propName,C=y.placeholder,S=y.traceIndex,T=y.avoid||{},M=y.attributes,D=y.transform,k=y.containerGroup,R=d._fullLayout,P=1,E=!1,O=x.title,I=(O&&O.text?O.text:"").trim(),U=O&&O.font?O.font:{},V=U.family,Z=U.size,z=U.color,H;w==="title.text"?H="titleText":w.indexOf("axis")!==-1?H="axisTitleText":w.indexOf("colorbar"!==-1)&&(H="colorbarTitleText");var B=d._context.edits[H];I===""?P=0:I.replace(g," % ")===C.replace(g," % ")&&(P=.2,E=!0,B||(I="")),y._meta?I=u.templateString(I,y._meta):R._meta&&(I=u.templateString(I,R._meta));var W=I||B,F;k||(k=u.ensureSingle(R._infolayer,"g","g-"+b),F=R._hColorbarMoveTitle);var K=k.selectAll("text").data(W?[0]:[]);if(K.enter().append("text"),K.text(I).attr("class",b),K.exit().remove(),!W)return k;function fe(J){u.syncOrAsync([se,ee],J)}function se(J){var te;return!D&&F&&(D={}),D?(te="",D.rotate&&(te+="rotate("+[D.rotate,M.x,M.y]+")"),(D.offset||F)&&(te+=c(0,(D.offset||0)-(F||0)))):te=null,J.attr("transform",te),J.style({"font-family":V,"font-size":n.round(Z,2)+"px",fill:v.rgb(z),opacity:P*v.opacity(z),"font-weight":s.fontWeight}).attr(M).call(f.convertToTspans,d),s.previousPromises(d)}function ee(J){var te=n.select(J.node().parentNode);if(T&&T.selection&&T.side&&I){te.attr("transform",null);var L=_[T.side],N=T.side==="left"||T.side==="top"?-1:1,G=a(T.pad)?T.pad:2,Y=h.bBox(te.node()),j={left:0,top:0,right:R.width,bottom:R.height},Q=T.maxShift||N*(j[T.side]-Y[T.side]),q=0;if(Q<0)q=Q;else{var re=T.offsetLeft||0,ue=T.offsetTop||0;Y.left-=re,Y.right-=re,Y.top-=ue,Y.bottom-=ue,T.selection.each(function(){var me=h.bBox(this);u.bBoxIntersect(Y,me,G)&&(q=Math.max(q,N*(me[T.side]-Y[L])+G))}),q=Math.min(Q,q)}if(q>0||Q<0){var de={left:[-q,0],right:[q,0],top:[0,-q],bottom:[0,q]}[T.side];te.attr("transform",c(de[0],de[1]))}}}K.call(fe);function ie(){P=0,E=!0,K.text(C).on("mouseover.opacity",function(){n.select(this).transition().duration(m.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){n.select(this).transition().duration(m.HIDE_PLACEHOLDER).style("opacity",0)})}return B&&(I?K.on(".opacity",null):ie(),K.call(f.makeEditable,{gd:d}).on("edit",function(J){S!==void 0?l.call("_guiRestyle",d,w,J,S):l.call("_guiRelayout",d,w,J)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(fe)}).on("input",function(J){this.text(J||" ").call(f.positionText,M.x,M.y)})),K.classed("js-placeholder",E),k}i.exports={draw:p}},{"../../constants/alignment":219,"../../constants/interactions":223,"../../lib":244,"../../lib/svg_text_utils":267,"../../plots/plots":325,"../../registry":327,"../color":103,"../drawing":125,"@plotly/d3":11,"fast-isnumeric":17}],213:[function(r,i,o){var n=r("../../plots/font_attributes"),a=r("../color/attributes"),s=r("../../lib/extend").extendFlat,l=r("../../plot_api/edit_types").overrideAll,u=r("../../plots/pad_attributes"),c=r("../../plot_api/plot_template").templatedArray,h=c("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});i.exports=l(c("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:h,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:s(u({editType:"arraydraw"}),{}),font:n({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:a.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},{"../../lib/extend":238,"../../plot_api/edit_types":273,"../../plot_api/plot_template":280,"../../plots/font_attributes":319,"../../plots/pad_attributes":324,"../color/attributes":102}],214:[function(r,i,o){i.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"◄",right:"►",up:"▲",down:"▼"}}},{}],215:[function(r,i,o){var n=r("../../lib"),a=r("../../plots/array_container_defaults"),s=r("./attributes"),l=r("./constants"),u=l.name,c=s.buttons;i.exports=function(m,_){var g={name:u,handleItemDefaults:h};a(m,_,g)};function h(f,m,_){function g(b,y){return n.coerce(f,m,s,b,y)}var p=a(f,m,{name:"buttons",handleItemDefaults:v}),d=g("visible",p.length>0);d&&(g("active"),g("direction"),g("type"),g("showactive"),g("x"),g("y"),n.noneOrAll(f,m,["x","y"]),g("xanchor"),g("yanchor"),g("pad.t"),g("pad.r"),g("pad.b"),g("pad.l"),n.coerceFont(g,"font",_.font),g("bgcolor",_.paper_bgcolor),g("bordercolor"),g("borderwidth"))}function v(f,m){function _(p,d){return n.coerce(f,m,c,p,d)}var g=_("visible",f.method==="skip"||Array.isArray(f.args));g&&(_("method"),_("args"),_("args2"),_("label"),_("execute"))}},{"../../lib":244,"../../plots/array_container_defaults":286,"./attributes":213,"./constants":214}],216:[function(r,i,o){var n=r("@plotly/d3"),a=r("../../plots/plots"),s=r("../color"),l=r("../drawing"),u=r("../../lib"),c=r("../../lib/svg_text_utils"),h=r("../../plot_api/plot_template").arrayEditor,v=r("../../constants/alignment").LINE_SPACING,f=r("./constants"),m=r("./scrollbox");i.exports=function(U){var V=U._fullLayout,Z=u.filterVisible(V[f.name]);function z(ee){a.autoMargin(U,P(ee))}var H=V._menulayer.selectAll("g."+f.containerClassName).data(Z.length>0?[0]:[]);if(H.enter().append("g").classed(f.containerClassName,!0).style("cursor","pointer"),H.exit().each(function(){n.select(this).selectAll("g."+f.headerGroupClassName).each(z)}).remove(),Z.length!==0){var B=H.selectAll("g."+f.headerGroupClassName).data(Z,_);B.enter().append("g").classed(f.headerGroupClassName,!0);for(var W=u.ensureSingle(H,"g",f.dropdownButtonGroupClassName,function(ee){ee.style("pointer-events","all")}),F=0;F<Z.length;F++){var K=Z[F];R(U,K)}var fe="updatemenus"+V._uid,se=new m(U,W,fe);B.enter().size()&&(W.node().parentNode.appendChild(W.node()),W.call(O)),B.exit().each(function(ee){W.call(O),z(ee)}).remove(),B.each(function(ee){var ie=n.select(this),J=ee.type==="dropdown"?W:null;a.manageCommandObserver(U,ee,ee.buttons,function(te){d(U,ee,ee.buttons[te.index],ie,J,se,te.index,!0)}),ee.type==="dropdown"?(b(U,ie,W,se,ee),p(W,ee)&&y(U,ie,W,se,ee)):y(U,ie,null,null,ee)})}};function _(I){return I._index}function g(I){return+I.attr(f.menuIndexAttrName)==-1}function p(I,U){return+I.attr(f.menuIndexAttrName)===U._index}function d(I,U,V,Z,z,H,B,W){U.active=B,h(I.layout,f.name,U).applyUpdate("active",B),U.type==="buttons"?y(I,Z,null,null,U):U.type==="dropdown"&&(z.attr(f.menuIndexAttrName,"-1"),b(I,Z,z,H,U),W||y(I,Z,z,H,U))}function b(I,U,V,Z,z){var H=u.ensureSingle(U,"g",f.headerClassName,function(ee){ee.style("pointer-events","all")}),B=z._dims,W=z.active,F=z.buttons[W]||f.blankHeaderOpts,K={y:z.pad.t,yPad:0,x:z.pad.l,xPad:0,index:0},fe={width:B.headerWidth,height:B.headerHeight};H.call(C,z,F,I).call(E,z,K,fe);var se=u.ensureSingle(U,"text",f.headerArrowClassName,function(ee){ee.attr("text-anchor","end").call(l.font,z.font).text(f.arrowSymbol[z.direction])});se.attr({x:B.headerWidth-f.arrowOffsetX+z.pad.l,y:B.headerHeight/2+f.textOffsetY+z.pad.t}),H.on("click",function(){V.call(O,String(p(V,z)?-1:z._index)),y(I,U,V,Z,z)}),H.on("mouseover",function(){H.call(D)}),H.on("mouseout",function(){H.call(k,z)}),l.setTranslate(U,B.lx,B.ly)}function y(I,U,V,Z,z){V||(V=U,V.attr("pointer-events","all"));var H=!g(V)||z.type==="buttons"?z.buttons:[],B=z.type==="dropdown"?f.dropdownButtonClassName:f.buttonClassName,W=V.selectAll("g."+B).data(u.filterVisible(H)),F=W.enter().append("g").classed(B,!0),K=W.exit();z.type==="dropdown"?(F.attr("opacity","0").transition().attr("opacity","1"),K.transition().attr("opacity","0").remove()):K.remove();var fe=0,se=0,ee=z._dims,ie=["up","down"].indexOf(z.direction)!==-1;z.type==="dropdown"&&(ie?se=ee.headerHeight+f.gapButtonHeader:fe=ee.headerWidth+f.gapButtonHeader),z.type==="dropdown"&&z.direction==="up"&&(se=-f.gapButtonHeader+f.gapButton-ee.openHeight),z.type==="dropdown"&&z.direction==="left"&&(fe=-f.gapButtonHeader+f.gapButton-ee.openWidth);var J={x:ee.lx+fe+z.pad.l,y:ee.ly+se+z.pad.t,yPad:f.gapButton,xPad:f.gapButton,index:0},te={l:J.x+z.borderwidth,t:J.y+z.borderwidth};W.each(function(L,N){var G=n.select(this);G.call(C,z,L,I).call(E,z,J),G.on("click",function(){n.event.defaultPrevented||(L.execute&&(L.args2&&z.active===N?(d(I,z,L,U,V,Z,-1),a.executeAPICommand(I,L.method,L.args2)):(d(I,z,L,U,V,Z,N),a.executeAPICommand(I,L.method,L.args))),I.emit("plotly_buttonclicked",{menu:z,button:L,active:z.active}))}),G.on("mouseover",function(){G.call(D)}),G.on("mouseout",function(){G.call(k,z),W.call(M,z)})}),W.call(M,z),ie?(te.w=Math.max(ee.openWidth,ee.headerWidth),te.h=J.y-te.t):(te.w=J.x-te.l,te.h=Math.max(ee.openHeight,ee.headerHeight)),te.direction=z.direction,Z&&(W.size()?x(I,U,V,Z,z,te):w(Z))}function x(I,U,V,Z,z,H){var B=z.direction,W=B==="up"||B==="down",F=z._dims,K=z.active,fe,se,ee;if(W)for(se=0,ee=0;ee<K;ee++)se+=F.heights[ee]+f.gapButton;else for(fe=0,ee=0;ee<K;ee++)fe+=F.widths[ee]+f.gapButton;Z.enable(H,fe,se),Z.hbar&&Z.hbar.attr("opacity","0").transition().attr("opacity","1"),Z.vbar&&Z.vbar.attr("opacity","0").transition().attr("opacity","1")}function w(I){var U=!!I.hbar,V=!!I.vbar;U&&I.hbar.transition().attr("opacity","0").each("end",function(){U=!1,V||I.disable()}),V&&I.vbar.transition().attr("opacity","0").each("end",function(){V=!1,U||I.disable()})}function C(I,U,V,Z){I.call(S,U).call(T,U,V,Z)}function S(I,U){var V=u.ensureSingle(I,"rect",f.itemRectClassName,function(Z){Z.attr({rx:f.rx,ry:f.ry,"shape-rendering":"crispEdges"})});V.call(s.stroke,U.bordercolor).call(s.fill,U.bgcolor).style("stroke-width",U.borderwidth+"px")}function T(I,U,V,Z){var z=u.ensureSingle(I,"text",f.itemTextClassName,function(W){W.attr({"text-anchor":"start","data-notex":1})}),H=V.label,B=Z._fullLayout._meta;B&&(H=u.templateString(H,B)),z.call(l.font,U.font).text(H).call(c.convertToTspans,Z)}function M(I,U){var V=U.active;I.each(function(Z,z){var H=n.select(this);z===V&&U.showactive&&H.select("rect."+f.itemRectClassName).call(s.fill,f.activeColor)})}function D(I){I.select("rect."+f.itemRectClassName).call(s.fill,f.hoverColor)}function k(I,U){I.select("rect."+f.itemRectClassName).call(s.fill,U.bgcolor)}function R(I,U){var V=U._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},Z=l.tester.selectAll("g."+f.dropdownButtonClassName).data(u.filterVisible(U.buttons));Z.enter().append("g").classed(f.dropdownButtonClassName,!0);var z=["up","down"].indexOf(U.direction)!==-1;Z.each(function(fe,se){var ee=n.select(this);ee.call(C,U,fe,I);var ie=ee.select("."+f.itemTextClassName),J=ie.node()&&l.bBox(ie.node()).width,te=Math.max(J+f.textPadX,f.minWidth),L=U.font.size*v,N=c.lineCount(ie),G=Math.max(L*N,f.minHeight)+f.textOffsetY;G=Math.ceil(G),te=Math.ceil(te),V.widths[se]=te,V.heights[se]=G,V.height1=Math.max(V.height1,G),V.width1=Math.max(V.width1,te),z?(V.totalWidth=Math.max(V.totalWidth,te),V.openWidth=V.totalWidth,V.totalHeight+=G+f.gapButton,V.openHeight+=G+f.gapButton):(V.totalWidth+=te+f.gapButton,V.openWidth+=te+f.gapButton,V.totalHeight=Math.max(V.totalHeight,G),V.openHeight=V.totalHeight)}),z?V.totalHeight-=f.gapButton:V.totalWidth-=f.gapButton,V.headerWidth=V.width1+f.arrowPadX,V.headerHeight=V.height1,U.type==="dropdown"&&(z?(V.width1+=f.arrowPadX,V.totalHeight=V.height1):V.totalWidth=V.width1,V.totalWidth+=f.arrowPadX),Z.remove();var H=V.totalWidth+U.pad.l+U.pad.r,B=V.totalHeight+U.pad.t+U.pad.b,W=I._fullLayout._size;V.lx=W.l+W.w*U.x,V.ly=W.t+W.h*(1-U.y);var F="left";u.isRightAnchor(U)&&(V.lx-=H,F="right"),u.isCenterAnchor(U)&&(V.lx-=H/2,F="center");var K="top";u.isBottomAnchor(U)&&(V.ly-=B,K="bottom"),u.isMiddleAnchor(U)&&(V.ly-=B/2,K="middle"),V.totalWidth=Math.ceil(V.totalWidth),V.totalHeight=Math.ceil(V.totalHeight),V.lx=Math.round(V.lx),V.ly=Math.round(V.ly),a.autoMargin(I,P(U),{x:U.x,y:U.y,l:H*({right:1,center:.5}[F]||0),r:H*({left:1,center:.5}[F]||0),b:B*({top:1,middle:.5}[K]||0),t:B*({bottom:1,middle:.5}[K]||0)})}function P(I){return f.autoMarginIdRoot+I._index}function E(I,U,V,Z){Z=Z||{};var z=I.select("."+f.itemRectClassName),H=I.select("."+f.itemTextClassName),B=U.borderwidth,W=V.index,F=U._dims;l.setTranslate(I,B+V.x,B+V.y);var K=["up","down"].indexOf(U.direction)!==-1,fe=Z.height||(K?F.heights[W]:F.height1);z.attr({x:0,y:0,width:Z.width||(K?F.width1:F.widths[W]),height:fe});var se=U.font.size*v,ee=c.lineCount(H),ie=(ee-1)*se/2;c.positionText(H,f.textOffsetX,fe/2-ie+f.textOffsetY),K?V.y+=F.heights[W]+V.yPad:V.x+=F.widths[W]+V.xPad,V.index++}function O(I,U){I.attr(f.menuIndexAttrName,U||"-1").selectAll("g."+f.dropdownButtonClassName).remove()}},{"../../constants/alignment":219,"../../lib":244,"../../lib/svg_text_utils":267,"../../plot_api/plot_template":280,"../../plots/plots":325,"../color":103,"../drawing":125,"./constants":214,"./scrollbox":218,"@plotly/d3":11}],217:[function(r,i,o){arguments[4][211][0].apply(o,arguments)},{"./attributes":213,"./constants":214,"./defaults":215,"./draw":216,dup:211}],218:[function(r,i,o){i.exports=u;var n=r("@plotly/d3"),a=r("../color"),s=r("../drawing"),l=r("../../lib");function u(c,h,v){this.gd=c,this.container=h,this.id=v,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}u.barWidth=2,u.barLength=20,u.barRadius=2,u.barPad=1,u.barColor="#808BA4",u.prototype.enable=function(h,v,f){var m=this.gd._fullLayout,_=m.width,g=m.height;this.position=h;var p=this.position.l,d=this.position.w,b=this.position.t,y=this.position.h,x=this.position.direction,w=x==="down",C=x==="left",S=x==="right",T=x==="up",M=d,D=y,k,R,P,E;!w&&!C&&!S&&!T&&(this.position.direction="down",w=!0);var O=w||T;O?(k=p,R=k+M,w?(P=b,E=Math.min(P+D,g),D=E-P):(E=b+D,P=Math.max(E-D,0),D=E-P)):(P=b,E=P+D,C?(R=p+M,k=Math.max(R-M,0),M=R-k):(k=p,R=Math.min(k+M,_),M=R-k)),this._box={l:k,t:P,w:M,h:D};var I=d>M,U=u.barLength+2*u.barPad,V=u.barWidth+2*u.barPad,Z=p,z=b+y;z+V>g&&(z=g-V);var H=this.container.selectAll("rect.scrollbar-horizontal").data(I?[0]:[]);H.exit().on(".drag",null).remove(),H.enter().append("rect").classed("scrollbar-horizontal",!0).call(a.fill,u.barColor),I?(this.hbar=H.attr({rx:u.barRadius,ry:u.barRadius,x:Z,y:z,width:U,height:V}),this._hbarXMin=Z+U/2,this._hbarTranslateMax=M-U):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var B=y>D,W=u.barWidth+2*u.barPad,F=u.barLength+2*u.barPad,K=p+d,fe=b;K+W>_&&(K=_-W);var se=this.container.selectAll("rect.scrollbar-vertical").data(B?[0]:[]);se.exit().on(".drag",null).remove(),se.enter().append("rect").classed("scrollbar-vertical",!0).call(a.fill,u.barColor),B?(this.vbar=se.attr({rx:u.barRadius,ry:u.barRadius,x:K,y:fe,width:W,height:F}),this._vbarYMin=fe+F/2,this._vbarTranslateMax=D-F):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var ee=this.id,ie=k-.5,J=B?R+W+.5:R+.5,te=P-.5,L=I?E+V+.5:E+.5,N=m._topdefs.selectAll("#"+ee).data(I||B?[0]:[]);if(N.exit().remove(),N.enter().append("clipPath").attr("id",ee).append("rect"),I||B?(this._clipRect=N.select("rect").attr({x:Math.floor(ie),y:Math.floor(te),width:Math.ceil(J)-Math.floor(ie),height:Math.ceil(L)-Math.floor(te)}),this.container.call(s.setClipUrl,ee,this.gd),this.bg.attr({x:p,y:b,width:d,height:y})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(s.setClipUrl,null),delete this._clipRect),I||B){var G=n.behavior.drag().on("dragstart",function(){n.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(G);var Y=n.behavior.drag().on("dragstart",function(){n.event.sourceEvent.preventDefault(),n.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));I&&this.hbar.on(".drag",null).call(Y),B&&this.vbar.on(".drag",null).call(Y)}this.setTranslate(v,f)},u.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(s.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},u.prototype._onBoxDrag=function(){var h=this.translateX,v=this.translateY;this.hbar&&(h-=n.event.dx),this.vbar&&(v-=n.event.dy),this.setTranslate(h,v)},u.prototype._onBoxWheel=function(){var h=this.translateX,v=this.translateY;this.hbar&&(h+=n.event.deltaY),this.vbar&&(v+=n.event.deltaY),this.setTranslate(h,v)},u.prototype._onBarDrag=function(){var h=this.translateX,v=this.translateY;if(this.hbar){var f=h+this._hbarXMin,m=f+this._hbarTranslateMax,_=l.constrain(n.event.x,f,m),g=(_-f)/(m-f),p=this.position.w-this._box.w;h=g*p}if(this.vbar){var d=v+this._vbarYMin,b=d+this._vbarTranslateMax,y=l.constrain(n.event.y,d,b),x=(y-d)/(b-d),w=this.position.h-this._box.h;v=x*w}this.setTranslate(h,v)},u.prototype.setTranslate=function(h,v){var f=this.position.w-this._box.w,m=this.position.h-this._box.h;if(h=l.constrain(h||0,0,f),v=l.constrain(v||0,0,m),this.translateX=h,this.translateY=v,this.container.call(s.setTranslate,this._box.l-this.position.l-h,this._box.t-this.position.t-v),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+h-.5),y:Math.floor(this.position.t+v-.5)}),this.hbar){var _=h/f;this.hbar.call(s.setTranslate,h+_*this._hbarTranslateMax,v)}if(this.vbar){var g=v/m;this.vbar.call(s.setTranslate,h,v+g*this._vbarTranslateMax)}}},{"../../lib":244,"../color":103,"../drawing":125,"@plotly/d3":11}],219:[function(r,i,o){i.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},{}],220:[function(r,i,o){i.exports={axisRefDescription:function(n,a,s){return["If set to a",n,"axis id (e.g. *"+n+"* or","*"+n+"2*), the `"+n+"` position refers to a",n,"coordinate. If set to *paper*, the `"+n+"`","position refers to the distance from the",a,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",a,"("+s+"). If set to a",n,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",a,"of the domain of that axis: e.g.,","*"+n+"2 domain* refers to the domain of the second",n," axis and a",n,"position of 0.5 refers to the","point between the",a,"and the",s,"of the domain of the","second",n,"axis."].join(" ")}}},{}],221:[function(r,i,o){i.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}},{}],222:[function(r,i,o){i.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},{}],223:[function(r,i,o){i.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},{}],224:[function(r,i,o){i.exports={BADNUM:void 0,FP_SAFE:Number.MAX_VALUE*1e-4,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:24405875e-1,ALMOST_EQUAL:1-1e-6,LOG_CLIP:10,MINUS_SIGN:"−"}},{}],225:[function(r,i,o){o.xmlns="http://www.w3.org/2000/xmlns/",o.svg="http://www.w3.org/2000/svg",o.xlink="http://www.w3.org/1999/xlink",o.svgAttrs={xmlns:o.svg,"xmlns:xlink":o.xlink}},{}],226:[function(r,i,o){o.version=r("./version").version,r("native-promise-only"),r("../build/plotcss");for(var n=r("./registry"),a=o.register=n.register,s=r("./plot_api"),l=Object.keys(s),u=0;u<l.length;u++){var c=l[u];c.charAt(0)!=="_"&&(o[c]=s[c]),a({moduleType:"apiMethod",name:c,fn:s[c]})}a(r("./traces/scatter")),a([r("./components/legend"),r("./components/fx"),r("./components/annotations"),r("./components/annotations3d"),r("./components/selections"),r("./components/shapes"),r("./components/images"),r("./components/updatemenus"),r("./components/sliders"),r("./components/rangeslider"),r("./components/rangeselector"),r("./components/grid"),r("./components/errorbars"),r("./components/colorscale"),r("./components/colorbar"),r("./components/modebar")]),a([r("./locale-en"),r("./locale-en-us")]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(a(window.PlotlyLocales),delete window.PlotlyLocales),o.Icons=r("./fonts/ploticon");var h=r("./components/fx"),v=r("./plots/plots");o.Plots={resize:v.resize,graphJson:v.graphJson,sendDataToCloud:v.sendDataToCloud},o.Fx={hover:h.hover,unhover:h.unhover,loneHover:h.loneHover,loneUnhover:h.loneUnhover},o.Snapshot=r("./snapshot"),o.PlotSchema=r("./plot_api/plot_schema")},{"../build/plotcss":1,"./components/annotations":94,"./components/annotations3d":99,"./components/colorbar":109,"./components/colorscale":115,"./components/errorbars":131,"./components/fx":143,"./components/grid":147,"./components/images":152,"./components/legend":160,"./components/modebar":166,"./components/rangeselector":174,"./components/rangeslider":181,"./components/selections":191,"./components/shapes":206,"./components/sliders":211,"./components/updatemenus":217,"./fonts/ploticon":227,"./locale-en":271,"./locale-en-us":270,"./plot_api":275,"./plot_api/plot_schema":279,"./plots/plots":325,"./registry":327,"./snapshot":332,"./traces/scatter":379,"./version":400,"native-promise-only":54}],227:[function(r,i,o){i.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>","<defs>"," <style>","  .cls-0{fill:#000;}","  .cls-1{fill:#FFF;}","  .cls-2{fill:#F26;}","  .cls-3{fill:#D69;}","  .cls-4{fill:#BAC;}","  .cls-5{fill:#9EF;}"," </style>","</defs>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect class='cls-0' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle class='cls-5' cx='102' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='54' r='6'/>","  <circle class='cls-3' cx='54' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='54' r='6'/>","  <path class='cls-1' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path class='cls-1' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path class='cls-1' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path class='cls-1' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}},{}],228:[function(r,i,o){o.isLeftAnchor=function(a){return a.xanchor==="left"||a.xanchor==="auto"&&a.x<=1/3},o.isCenterAnchor=function(a){return a.xanchor==="center"||a.xanchor==="auto"&&a.x>1/3&&a.x<2/3},o.isRightAnchor=function(a){return a.xanchor==="right"||a.xanchor==="auto"&&a.x>=2/3},o.isTopAnchor=function(a){return a.yanchor==="top"||a.yanchor==="auto"&&a.y>=2/3},o.isMiddleAnchor=function(a){return a.yanchor==="middle"||a.yanchor==="auto"&&a.y>1/3&&a.y<2/3},o.isBottomAnchor=function(a){return a.yanchor==="bottom"||a.yanchor==="auto"&&a.y<=1/3}},{}],229:[function(r,i,o){var n=r("./mod"),a=n.mod,s=n.modHalf,l=Math.PI,u=2*l;function c(x){return x/180*l}function h(x){return x/l*180}function v(x){return Math.abs(x[1]-x[0])>u-1e-14}function f(x,w){return s(w-x,u)}function m(x,w){return Math.abs(f(x,w))}function _(x,w){if(v(w))return!0;var C,S;w[0]<w[1]?(C=w[0],S=w[1]):(C=w[1],S=w[0]),C=a(C,u),S=a(S,u),C>S&&(S+=u);var T=a(x,u),M=T+u;return T>=C&&T<=S||M>=C&&M<=S}function g(x,w,C,S){if(!_(w,S))return!1;var T,M;return C[0]<C[1]?(T=C[0],M=C[1]):(T=C[1],M=C[0]),x>=T&&x<=M}function p(x,w,C,S,T,M,D){T=T||0,M=M||0;var k=v([C,S]),R,P,E,O,I;k?(R=0,P=l,E=u):C<S?(R=C,E=S):(R=S,E=C),x<w?(O=x,I=w):(O=w,I=x);function U(H,B){return[H*Math.cos(B)+T,M-H*Math.sin(B)]}var V=Math.abs(E-R)<=l?0:1;function Z(H,B,W){return"A"+[H,H]+" "+[0,V,W]+" "+U(H,B)}var z;return k?O===null?z="M"+U(I,R)+Z(I,P,0)+Z(I,E,0)+"Z":z="M"+U(O,R)+Z(O,P,0)+Z(O,E,0)+"ZM"+U(I,R)+Z(I,P,1)+Z(I,E,1)+"Z":O===null?(z="M"+U(I,R)+Z(I,E,0),D&&(z+="L0,0Z")):z="M"+U(O,R)+"L"+U(I,R)+Z(I,E,0)+"L"+U(O,E)+Z(O,R,1)+"Z",z}function d(x,w,C,S,T){return p(null,x,w,C,S,T,0)}function b(x,w,C,S,T){return p(null,x,w,C,S,T,1)}function y(x,w,C,S,T,M){return p(x,w,C,S,T,M,1)}i.exports={deg2rad:c,rad2deg:h,angleDelta:f,angleDist:m,isFullCircle:v,isAngleInsideSector:_,isPtInsideSector:g,pathArc:d,pathSector:b,pathAnnulus:y}},{"./mod":251}],230:[function(r,i,o){var n=Array.isArray,a=ArrayBuffer,s=DataView;function l(v){return a.isView(v)&&!(v instanceof s)}o.isTypedArray=l;function u(v){return n(v)||l(v)}o.isArrayOrTypedArray=u;function c(v){return!u(v[0])}o.isArray1D=c,o.ensureArray=function(v,f){return n(v)||(v=[]),v.length=f,v},o.concat=function(){var v=[],f=!0,m=0,_,g,p,d,b,y,x,w;for(p=0;p<arguments.length;p++)d=arguments[p],y=d.length,y&&(g?v.push(d):(g=d,b=y),n(d)?_=!1:(f=!1,m?_!==d.constructor&&(_=!1):_=d.constructor),m+=y);if(!m)return[];if(!v.length)return g;if(f)return g.concat.apply(g,v);if(_){for(x=new _(m),x.set(g),p=0;p<v.length;p++)d=v[p],x.set(d,b),b+=d.length;return x}for(x=new Array(m),w=0;w<g.length;w++)x[w]=g[w];for(p=0;p<v.length;p++){for(d=v[p],w=0;w<d.length;w++)x[b+w]=d[w];b+=w}return x},o.maxRowLength=function(v){return h(v,Math.max,0)},o.minRowLength=function(v){return h(v,Math.min,1/0)};function h(v,f,m){if(u(v))if(u(v[0])){for(var _=m,g=0;g<v.length;g++)_=f(_,v[g].length);return _}else return v.length;return 0}},{}],231:[function(r,i,o){var n=r("fast-isnumeric"),a=r("../constants/numerical").BADNUM,s=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;i.exports=function(u){return typeof u=="string"&&(u=u.replace(s,"")),n(u)?Number(u):a}},{"../constants/numerical":224,"fast-isnumeric":17}],232:[function(r,i,o){i.exports=function(a){var s=a._fullLayout;s._glcanvas&&s._glcanvas.size()&&s._glcanvas.each(function(l){l.regl&&l.regl.clear({color:!0,depth:!0})})}},{}],233:[function(r,i,o){i.exports=function(a){a._responsiveChartHandler&&(window.removeEventListener("resize",a._responsiveChartHandler),delete a._responsiveChartHandler)}},{}],234:[function(r,i,o){var n=r("fast-isnumeric"),a=r("tinycolor2"),s=r("../plots/attributes"),l=r("../components/colorscale/scales"),u=r("../components/color"),c=r("../constants/interactions").DESELECTDIM,h=r("./nested_property"),v=r("./regex").counter,f=r("./mod").modHalf,m=r("./array").isArrayOrTypedArray;o.valObjectMeta={data_array:{coerceFunction:function(g,p,d){m(g)?p.set(g):d!==void 0&&p.set(d)}},enumerated:{coerceFunction:function(g,p,d,b){b.coerceNumber&&(g=+g),b.values.indexOf(g)===-1?p.set(d):p.set(g)},validateFunction:function(g,p){p.coerceNumber&&(g=+g);for(var d=p.values,b=0;b<d.length;b++){var y=String(d[b]);if(y.charAt(0)==="/"&&y.charAt(y.length-1)==="/"){var x=new RegExp(y.substr(1,y.length-2));if(x.test(g))return!0}else if(g===d[b])return!0}return!1}},boolean:{coerceFunction:function(g,p,d){g===!0||g===!1?p.set(g):p.set(d)}},number:{coerceFunction:function(g,p,d,b){!n(g)||b.min!==void 0&&g<b.min||b.max!==void 0&&g>b.max?p.set(d):p.set(+g)}},integer:{coerceFunction:function(g,p,d,b){g%1||!n(g)||b.min!==void 0&&g<b.min||b.max!==void 0&&g>b.max?p.set(d):p.set(+g)}},string:{coerceFunction:function(g,p,d,b){if(typeof g!="string"){var y=typeof g=="number";b.strict===!0||!y?p.set(d):p.set(String(g))}else b.noBlank&&!g?p.set(d):p.set(g)}},color:{coerceFunction:function(g,p,d){a(g).isValid()?p.set(g):p.set(d)}},colorlist:{coerceFunction:function(g,p,d){function b(y){return a(y).isValid()}!Array.isArray(g)||!g.length?p.set(d):g.every(b)?p.set(g):p.set(d)}},colorscale:{coerceFunction:function(g,p,d){p.set(l.get(g,d))}},angle:{coerceFunction:function(g,p,d){g==="auto"?p.set("auto"):n(g)?p.set(f(+g,360)):p.set(d)}},subplotid:{coerceFunction:function(g,p,d,b){var y=b.regex||v(d);if(typeof g=="string"&&y.test(g)){p.set(g);return}p.set(d)},validateFunction:function(g,p){var d=p.dflt;return g===d?!0:typeof g!="string"?!1:!!v(d).test(g)}},flaglist:{coerceFunction:function(g,p,d,b){if((b.extras||[]).indexOf(g)!==-1){p.set(g);return}if(typeof g!="string"){p.set(d);return}for(var y=g.split("+"),x=0;x<y.length;){var w=y[x];b.flags.indexOf(w)===-1||y.indexOf(w)<x?y.splice(x,1):x++}y.length?p.set(y.join("+")):p.set(d)}},any:{coerceFunction:function(g,p,d){g===void 0?p.set(d):p.set(g)}},info_array:{coerceFunction:function(g,p,d,b){function y(U,V,Z){var z,H={set:function(B){z=B}};return Z===void 0&&(Z=V.dflt),o.valObjectMeta[V.valType].coerceFunction(U,H,Z,V),z}var x=b.dimensions===2||b.dimensions==="1-2"&&Array.isArray(g)&&Array.isArray(g[0]);if(!Array.isArray(g)){p.set(d);return}var w=b.items,C=[],S=Array.isArray(w),T=S&&x&&Array.isArray(w[0]),M=x&&S&&!T,D=S&&!M?w.length:g.length,k,R,P,E,O,I;if(d=Array.isArray(d)?d:[],x)for(k=0;k<D;k++)for(C[k]=[],P=Array.isArray(g[k])?g[k]:[],M?O=w.length:S?O=w[k].length:O=P.length,R=0;R<O;R++)M?E=w[R]:S?E=w[k][R]:E=w,I=y(P[R],E,(d[k]||[])[R]),I!==void 0&&(C[k][R]=I);else for(k=0;k<D;k++)I=y(g[k],S?w[k]:w,d[k]),I!==void 0&&(C[k]=I);p.set(C)},validateFunction:function(g,p){if(!Array.isArray(g))return!1;var d=p.items,b=Array.isArray(d),y=p.dimensions===2;if(!p.freeLength&&g.length!==d.length)return!1;for(var x=0;x<g.length;x++)if(y){if(!Array.isArray(g[x])||!p.freeLength&&g[x].length!==d[x].length)return!1;for(var w=0;w<g[x].length;w++)if(!_(g[x][w],b?d[x][w]:d))return!1}else if(!_(g[x],b?d[x]:d))return!1;return!0}}},o.coerce=function(g,p,d,b,y){var x=h(d,b).get(),w=h(g,b),C=h(p,b),S=w.get(),T=p._template;if(S===void 0&&T&&(S=h(T,b).get(),T=0),y===void 0&&(y=x.dflt),x.arrayOk&&m(S))return C.set(S),S;var M=o.valObjectMeta[x.valType].coerceFunction;M(S,C,y,x);var D=C.get();return T&&D===y&&!_(S,x)&&(S=h(T,b).get(),M(S,C,y,x),D=C.get()),D},o.coerce2=function(g,p,d,b,y){var x=h(g,b),w=o.coerce(g,p,d,b,y),C=x.get();return C!=null?w:!1},o.coerceFont=function(g,p,d){var b={};return d=d||{},b.family=g(p+".family",d.family),b.size=g(p+".size",d.size),b.color=g(p+".color",d.color),b},o.coercePattern=function(g,p,d,b){var y=g(p+".shape");if(y){g(p+".solidity"),g(p+".size");var x=g(p+".fillmode"),w=x==="overlay";if(!b){var C=g(p+".bgcolor",w?d:void 0);g(p+".fgcolor",w?u.contrast(C):d)}g(p+".fgopacity",w?.5:1)}},o.coerceHoverinfo=function(g,p,d){var b=p._module.attributes,y=b.hoverinfo?b:s,x=y.hoverinfo,w;if(d._dataLength===1){var C=x.dflt==="all"?x.flags.slice():x.dflt.split("+");C.splice(C.indexOf("name"),1),w=C.join("+")}return o.coerce(g,p,y,"hoverinfo",w)},o.coerceSelectionMarkerOpacity=function(g,p){if(g.marker){var d=g.marker.opacity;if(d!==void 0){var b,y;!m(d)&&!g.selected&&!g.unselected&&(b=d,y=c*d),p("selected.marker.opacity",b),p("unselected.marker.opacity",y)}}};function _(g,p){var d=o.valObjectMeta[p.valType];if(p.arrayOk&&m(g))return!0;if(d.validateFunction)return d.validateFunction(g,p);var b={},y=b,x={set:function(w){y=w}};return d.coerceFunction(g,x,b,p),y!==b}o.validate=_},{"../components/color":103,"../components/colorscale/scales":118,"../constants/interactions":223,"../plots/attributes":287,"./array":230,"./mod":251,"./nested_property":252,"./regex":260,"fast-isnumeric":17,tinycolor2:68}],235:[function(r,i,o){var n=r("d3-time-format").timeFormat,a=r("fast-isnumeric"),s=r("./loggers"),l=r("./mod").mod,u=r("../constants/numerical"),c=u.BADNUM,h=u.ONEDAY,v=u.ONEHOUR,f=u.ONEMIN,m=u.ONESEC,_=u.EPOCHJD,g=r("../registry"),p=r("d3-time-format").utcFormat,d=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,b=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,y=new Date().getFullYear()-70;function x(z){return z&&g.componentsRegistry.calendars&&typeof z=="string"&&z!=="gregorian"}o.dateTick0=function(z,H){var B=w(z,!!H);if(H<2)return B;var W=o.dateTime2ms(B,z);return W+=h*(H-1),o.ms2DateTime(W,0,z)};function w(z,H){return x(z)?H?g.getComponentMethod("calendars","CANONICAL_SUNDAY")[z]:g.getComponentMethod("calendars","CANONICAL_TICK")[z]:H?"2000-01-02":"2000-01-01"}o.dfltRange=function(z){return x(z)?g.getComponentMethod("calendars","DFLTRANGE")[z]:["2000-01-01","2001-01-01"]},o.isJSDate=function(z){return typeof z=="object"&&z!==null&&typeof z.getTime=="function"};var C,S;o.dateTime2ms=function(z,H){if(o.isJSDate(z)){var B=z.getTimezoneOffset()*f,W=(z.getUTCMinutes()-z.getMinutes())*f+(z.getUTCSeconds()-z.getSeconds())*m+(z.getUTCMilliseconds()-z.getMilliseconds());if(W){var F=3*f;B=B-F/2+l(W-B+F/2,F)}return z=Number(z)-B,z>=C&&z<=S?z:c}if(typeof z!="string"&&typeof z!="number")return c;z=String(z);var K=x(H),fe=z.charAt(0);K&&(fe==="G"||fe==="g")&&(z=z.substr(1),H="");var se=K&&H.substr(0,7)==="chinese",ee=z.match(se?b:d);if(!ee)return c;var ie=ee[1],J=ee[3]||"1",te=Number(ee[5]||1),L=Number(ee[7]||0),N=Number(ee[9]||0),G=Number(ee[11]||0);if(K){if(ie.length===2)return c;ie=Number(ie);var Y;try{var j=g.getComponentMethod("calendars","getCal")(H);if(se){var Q=J.charAt(J.length-1)==="i";J=parseInt(J,10),Y=j.newDate(ie,j.toMonthIndex(ie,J,Q),te)}else Y=j.newDate(ie,Number(J),te)}catch{return c}return Y?(Y.toJD()-_)*h+L*v+N*f+G*m:c}ie.length===2?ie=(Number(ie)+2e3-y)%100+y:ie=Number(ie),J-=1;var q=new Date(Date.UTC(2e3,J,te,L,N));return q.setUTCFullYear(ie),q.getUTCMonth()!==J||q.getUTCDate()!==te?c:q.getTime()+G*m},C=o.MIN_MS=o.dateTime2ms("-9999"),S=o.MAX_MS=o.dateTime2ms("9999-12-31 23:59:59.9999"),o.isDateTime=function(z,H){return o.dateTime2ms(z,H)!==c};function T(z,H){return String(z+Math.pow(10,H)).substr(1)}var M=90*h,D=3*v,k=5*f;o.ms2DateTime=function(z,H,B){if(typeof z!="number"||!(z>=C&&z<=S))return c;H||(H=0);var W=Math.floor(l(z+.05,1)*10),F=Math.round(z-W/10),K,fe,se,ee,ie,J;if(x(B)){var te=Math.floor(F/h)+_,L=Math.floor(l(z,h));try{K=g.getComponentMethod("calendars","getCal")(B).fromJD(te).formatDate("yyyy-mm-dd")}catch{K=p("G%Y-%m-%d")(new Date(F))}if(K.charAt(0)==="-")for(;K.length<11;)K="-0"+K.substr(1);else for(;K.length<10;)K="0"+K;fe=H<M?Math.floor(L/v):0,se=H<M?Math.floor(L%v/f):0,ee=H<D?Math.floor(L%f/m):0,ie=H<k?L%m*10+W:0}else J=new Date(F),K=p("%Y-%m-%d")(J),fe=H<M?J.getUTCHours():0,se=H<M?J.getUTCMinutes():0,ee=H<D?J.getUTCSeconds():0,ie=H<k?J.getUTCMilliseconds()*10+W:0;return R(K,fe,se,ee,ie)},o.ms2DateTimeLocal=function(z){if(!(z>=C+h&&z<=S-h))return c;var H=Math.floor(l(z+.05,1)*10),B=new Date(Math.round(z-H/10)),W=n("%Y-%m-%d")(B),F=B.getHours(),K=B.getMinutes(),fe=B.getSeconds(),se=B.getUTCMilliseconds()*10+H;return R(W,F,K,fe,se)};function R(z,H,B,W,F){if((H||B||W||F)&&(z+=" "+T(H,2)+":"+T(B,2),(W||F)&&(z+=":"+T(W,2),F))){for(var K=4;F%10===0;)K-=1,F/=10;z+="."+T(F,K)}return z}o.cleanDate=function(z,H,B){if(z===c)return H;if(o.isJSDate(z)||typeof z=="number"&&isFinite(z)){if(x(B))return s.error("JS Dates and milliseconds are incompatible with world calendars",z),H;if(z=o.ms2DateTimeLocal(+z),!z&&H!==void 0)return H}else if(!o.isDateTime(z,B))return s.error("unrecognized date",z),H;return z};var P=/%\d?f/g,E=/%h/g,O={1:"1",2:"1",3:"2",4:"2"};function I(z,H,B,W){z=z.replace(P,function(K){var fe=Math.min(+K.charAt(1)||6,6),se=(H/1e3%1+2).toFixed(fe).substr(2).replace(/0+$/,"")||"0";return se});var F=new Date(Math.floor(H+.05));if(z=z.replace(E,function(){return O[B("%q")(F)]}),x(W))try{z=g.getComponentMethod("calendars","worldCalFmt")(z,H,W)}catch{return"Invalid"}return B(z)(F)}var U=[59,59.9,59.99,59.999,59.9999];function V(z,H){var B=l(z+.05,h),W=T(Math.floor(B/v),2)+":"+T(l(Math.floor(B/f),60),2);if(H!=="M"){a(H)||(H=0);var F=Math.min(l(z/m,60),U[H]),K=(100+F).toFixed(H).substr(1);H>0&&(K=K.replace(/0+$/,"").replace(/[\.]$/,"")),W+=":"+K}return W}o.formatDate=function(z,H,B,W,F,K){if(F=x(F)&&F,!H)if(B==="y")H=K.year;else if(B==="m")H=K.month;else if(B==="d")H=K.dayMonth+`
`+K.year;else return V(z,B)+`
`+I(K.dayMonthYear,z,W,F);return I(H,z,W,F)};var Z=3*h;o.incrementMonth=function(z,H,B){B=x(B)&&B;var W=l(z,h);if(z=Math.round(z-W),B)try{var F=Math.round(z/h)+_,K=g.getComponentMethod("calendars","getCal")(B),fe=K.fromJD(F);return H%12?K.add(fe,H,"m"):K.add(fe,H/12,"y"),(fe.toJD()-_)*h+W}catch{s.error("invalid ms "+z+" in calendar "+B)}var se=new Date(z+Z);return se.setUTCMonth(se.getUTCMonth()+H)+W-Z},o.findExactDates=function(z,H){for(var B=0,W=0,F=0,K=0,fe,se,ee=x(H)&&g.getComponentMethod("calendars","getCal")(H),ie=0;ie<z.length;ie++){if(se=z[ie],!a(se)){K++;continue}if(!(se%h))if(ee)try{fe=ee.fromJD(se/h+_),fe.day()===1?fe.month()===1?B++:W++:F++}catch{}else fe=new Date(se),fe.getUTCDate()===1?fe.getUTCMonth()===0?B++:W++:F++}W+=B,F+=W;var J=z.length-K;return{exactYears:B/J,exactMonths:W/J,exactDays:F/J}}},{"../constants/numerical":224,"../registry":327,"./loggers":248,"./mod":251,"d3-time-format":14,"fast-isnumeric":17}],236:[function(r,i,o){var n=r("@plotly/d3"),a=r("./loggers"),s=r("./matrix"),l=r("gl-mat4");function u(y){var x;if(typeof y=="string"){if(x=document.getElementById(y),x===null)throw new Error("No DOM element with id '"+y+"' exists on the page.");return x}else if(y==null)throw new Error("DOM element provided is null or undefined");return y}function c(y){var x=n.select(y);return x.node()instanceof HTMLElement&&x.size()&&x.classed("js-plotly-plot")}function h(y){var x=y&&y.parentNode;x&&x.removeChild(y)}function v(y,x){f("global",y,x)}function f(y,x,w){var C="plotly.js-style-"+y,S=document.getElementById(C);S||(S=document.createElement("style"),S.setAttribute("id",C),S.appendChild(document.createTextNode("")),document.head.appendChild(S));var T=S.sheet;T.insertRule?T.insertRule(x+"{"+w+"}",0):T.addRule?T.addRule(x,w,0):a.warn("addStyleRule failed")}function m(y){var x="plotly.js-style-"+y,w=document.getElementById(x);w&&h(w)}function _(y){var x=p(y),w=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return x.forEach(function(C){var S=g(C);if(S){var T=s.convertCssMatrix(S);w=l.multiply(w,w,T)}}),w}function g(y){var x=window.getComputedStyle(y,null),w=x.getPropertyValue("-webkit-transform")||x.getPropertyValue("-moz-transform")||x.getPropertyValue("-ms-transform")||x.getPropertyValue("-o-transform")||x.getPropertyValue("transform");return w==="none"?null:w.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(C){return+C})}function p(y){for(var x=[];d(y);)x.push(y),y=y.parentNode;return x}function d(y){return y&&(y instanceof Element||y instanceof HTMLElement)}function b(y,x){return y&&x&&y.x===x.x&&y.y===x.y&&y.top===x.top&&y.left===x.left&&y.right===x.right&&y.bottom===x.bottom}i.exports={getGraphDiv:u,isPlotDiv:c,removeElement:h,addStyleRule:v,addRelatedStyleRule:f,deleteRelatedStyleRule:m,getFullTransformMatrix:_,getElementTransformMatrix:g,getElementAndAncestors:p,equalDomRects:b}},{"./loggers":248,"./matrix":250,"@plotly/d3":11,"gl-mat4":33}],237:[function(r,i,o){var n=r("events").EventEmitter,a={init:function(s){if(s._ev instanceof n)return s;var l=new n,u=new n;return s._ev=l,s._internalEv=u,s.on=l.on.bind(l),s.once=l.once.bind(l),s.removeListener=l.removeListener.bind(l),s.removeAllListeners=l.removeAllListeners.bind(l),s._internalOn=u.on.bind(u),s._internalOnce=u.once.bind(u),s._removeInternalListener=u.removeListener.bind(u),s._removeAllInternalListeners=u.removeAllListeners.bind(u),s.emit=function(c,h){typeof jQuery<"u"&&jQuery(s).trigger(c,h),l.emit(c,h),u.emit(c,h)},s},triggerHandler:function(s,l,u){var c,h;typeof jQuery<"u"&&(c=jQuery(s).triggerHandler(l,u));var v=s._ev;if(!v)return c;var f=v._events[l];if(!f)return c;function m(g){if(g.listener){if(v.removeListener(l,g.listener),!g.fired)return g.fired=!0,g.listener.apply(v,[u])}else return g.apply(v,[u])}f=Array.isArray(f)?f:[f];var _;for(_=0;_<f.length-1;_++)m(f[_]);return h=m(f[_]),c!==void 0?c:h},purge:function(s){return delete s._ev,delete s.on,delete s.once,delete s.removeListener,delete s.removeAllListeners,delete s.emit,delete s._ev,delete s._internalEv,delete s._internalOn,delete s._internalOnce,delete s._removeInternalListener,delete s._removeAllInternalListeners,s}};i.exports=a},{events:12}],238:[function(r,i,o){var n=r("./is_plain_object.js"),a=Array.isArray;function s(u,c){var h,v;for(h=0;h<u.length;h++){if(v=u[h],v!==null&&typeof v=="object")return!1;v!==void 0&&(c[h]=v)}return!0}o.extendFlat=function(){return l(arguments,!1,!1,!1)},o.extendDeep=function(){return l(arguments,!0,!1,!1)},o.extendDeepAll=function(){return l(arguments,!0,!0,!1)},o.extendDeepNoArrays=function(){return l(arguments,!0,!1,!0)};function l(u,c,h,v){var f=u[0],m=u.length,_,g,p,d,b,y,x;if(m===2&&a(f)&&a(u[1])&&f.length===0){if(x=s(u[1],f),x)return f;f.splice(0,f.length)}for(var w=1;w<m;w++){_=u[w];for(g in _)p=f[g],d=_[g],v&&a(d)?f[g]=d:c&&d&&(n(d)||(b=a(d)))?(b?(b=!1,y=p&&a(p)?p:[]):y=p&&n(p)?p:{},f[g]=l([y,d],c,h,v)):(typeof d<"u"||h)&&(f[g]=d)}return f}},{"./is_plain_object.js":245}],239:[function(r,i,o){i.exports=function(a){for(var s={},l=[],u=0,c=0;c<a.length;c++){var h=a[c];s[h]!==1&&(s[h]=1,l[u++]=h)}return l}},{}],240:[function(r,i,o){i.exports=function(u){for(var c=s(u)?a:n,h=[],v=0;v<u.length;v++){var f=u[v];c(f)&&h.push(f)}return h};function n(l){return l.visible===!0}function a(l){var u=l[0].trace;return u.visible===!0&&u._length!==0}function s(l){return Array.isArray(l)&&Array.isArray(l[0])&&l[0][0]&&l[0][0].trace}},{}],241:[function(r,i,o){var n=r("./mod").mod;o.segmentsIntersect=a;function a(h,v,f,m,_,g,p,d){var b=f-h,y=_-h,x=p-_,w=m-v,C=g-v,S=d-g,T=b*S-x*w;if(T===0)return null;var M=(y*S-x*C)/T,D=(y*w-b*C)/T;return D<0||D>1||M<0||M>1?null:{x:h+b*M,y:v+w*M}}o.segmentDistance=function(v,f,m,_,g,p,d,b){if(a(v,f,m,_,g,p,d,b))return 0;var y=m-v,x=_-f,w=d-g,C=b-p,S=y*y+x*x,T=w*w+C*C,M=Math.min(s(y,x,S,g-v,p-f),s(y,x,S,d-v,b-f),s(w,C,T,v-g,f-p),s(w,C,T,m-g,_-p));return Math.sqrt(M)};function s(h,v,f,m,_){var g=m*h+_*v;if(g<0)return m*m+_*_;if(g>f){var p=m-h,d=_-v;return p*p+d*d}else{var b=m*v-_*h;return b*b/f}}var l,u,c;o.getTextLocation=function(v,f,m,_){if((v!==u||_!==c)&&(l={},u=v,c=_),l[m])return l[m];var g=v.getPointAtLength(n(m-_/2,f)),p=v.getPointAtLength(n(m+_/2,f)),d=Math.atan((p.y-g.y)/(p.x-g.x)),b=v.getPointAtLength(n(m,f)),y=(b.x*4+g.x+p.x)/6,x=(b.y*4+g.y+p.y)/6,w={x:y,y:x,theta:d};return l[m]=w,w},o.clearLocationCache=function(){u=null},o.getVisibleSegment=function(v,f,m){var _=f.left,g=f.right,p=f.top,d=f.bottom,b=0,y=v.getTotalLength(),x=y,w,C;function S(M){var D=v.getPointAtLength(M);M===0?w=D:M===y&&(C=D);var k=D.x<_?_-D.x:D.x>g?D.x-g:0,R=D.y<p?p-D.y:D.y>d?D.y-d:0;return Math.sqrt(k*k+R*R)}for(var T=S(b);T;){if(b+=T+m,b>x)return;T=S(b)}for(T=S(x);T;){if(x-=T+m,b>x)return;T=S(x)}return{min:b,max:x,len:x-b,total:y,isClosed:b===0&&x===y&&Math.abs(w.x-C.x)<.1&&Math.abs(w.y-C.y)<.1}},o.findPointOnPath=function(v,f,m,_){_=_||{};for(var g=_.pathLength||v.getTotalLength(),p=_.tolerance||.001,d=_.iterationLimit||30,b=v.getPointAtLength(0)[m]>v.getPointAtLength(g)[m]?-1:1,y=0,x=0,w=g,C,S,T;y<d;){if(C=(x+w)/2,S=v.getPointAtLength(C),T=S[m]-f,Math.abs(T)<p)return S;b*T>0?w=C:x=C,y++}return S}},{"./mod":251}],242:[function(r,i,o){i.exports=function(a){return a}},{}],243:[function(r,i,o){i.exports=function(a,s){if(!s)return a;var l=1/Math.abs(s),u=l>1?(l*a+l*s)/l:a+s,c=String(u).length;if(c>16){var h=String(s).length,v=String(a).length;if(c>=v+h){var f=parseFloat(u).toPrecision(12);f.indexOf("e+")===-1&&(u=+f)}}return u}},{}],244:[function(r,i,o){var n=r("@plotly/d3"),a=r("d3-time-format").utcFormat,s=r("d3-format").format,l=r("fast-isnumeric"),u=r("../constants/numerical"),c=u.FP_SAFE,h=-c,v=u.BADNUM,f=i.exports={};f.adjustFormat=function(J){return!J||/^\d[.]\df/.test(J)||/[.]\d%/.test(J)?J:J==="0.f"?"~f":/^\d%/.test(J)?"~%":/^\ds/.test(J)?"~s":!/^[~,.0$]/.test(J)&&/[&fps]/.test(J)?"~"+J:J};var m={};f.warnBadFormat=function(ie){var J=String(ie);m[J]||(m[J]=1,f.warn('encountered bad format: "'+J+'"'))},f.noFormat=function(ie){return String(ie)},f.numberFormat=function(ie){var J;try{J=s(f.adjustFormat(ie))}catch{return f.warnBadFormat(ie),f.noFormat}return J},f.nestedProperty=r("./nested_property"),f.keyedContainer=r("./keyed_container"),f.relativeAttr=r("./relative_attr"),f.isPlainObject=r("./is_plain_object"),f.toLogRange=r("./to_log_range"),f.relinkPrivateKeys=r("./relink_private");var _=r("./array");f.isTypedArray=_.isTypedArray,f.isArrayOrTypedArray=_.isArrayOrTypedArray,f.isArray1D=_.isArray1D,f.ensureArray=_.ensureArray,f.concat=_.concat,f.maxRowLength=_.maxRowLength,f.minRowLength=_.minRowLength;var g=r("./mod");f.mod=g.mod,f.modHalf=g.modHalf;var p=r("./coerce");f.valObjectMeta=p.valObjectMeta,f.coerce=p.coerce,f.coerce2=p.coerce2,f.coerceFont=p.coerceFont,f.coercePattern=p.coercePattern,f.coerceHoverinfo=p.coerceHoverinfo,f.coerceSelectionMarkerOpacity=p.coerceSelectionMarkerOpacity,f.validate=p.validate;var d=r("./dates");f.dateTime2ms=d.dateTime2ms,f.isDateTime=d.isDateTime,f.ms2DateTime=d.ms2DateTime,f.ms2DateTimeLocal=d.ms2DateTimeLocal,f.cleanDate=d.cleanDate,f.isJSDate=d.isJSDate,f.formatDate=d.formatDate,f.incrementMonth=d.incrementMonth,f.dateTick0=d.dateTick0,f.dfltRange=d.dfltRange,f.findExactDates=d.findExactDates,f.MIN_MS=d.MIN_MS,f.MAX_MS=d.MAX_MS;var b=r("./search");f.findBin=b.findBin,f.sorterAsc=b.sorterAsc,f.sorterDes=b.sorterDes,f.distinctVals=b.distinctVals,f.roundUp=b.roundUp,f.sort=b.sort,f.findIndexOfMin=b.findIndexOfMin,f.sortObjectKeys=r("./sort_object_keys");var y=r("./stats");f.aggNums=y.aggNums,f.len=y.len,f.mean=y.mean,f.median=y.median,f.midRange=y.midRange,f.variance=y.variance,f.stdev=y.stdev,f.interp=y.interp;var x=r("./matrix");f.init2dArray=x.init2dArray,f.transposeRagged=x.transposeRagged,f.dot=x.dot,f.translationMatrix=x.translationMatrix,f.rotationMatrix=x.rotationMatrix,f.rotationXYMatrix=x.rotationXYMatrix,f.apply3DTransform=x.apply3DTransform,f.apply2DTransform=x.apply2DTransform,f.apply2DTransform2=x.apply2DTransform2,f.convertCssMatrix=x.convertCssMatrix,f.inverseTransformMatrix=x.inverseTransformMatrix;var w=r("./angles");f.deg2rad=w.deg2rad,f.rad2deg=w.rad2deg,f.angleDelta=w.angleDelta,f.angleDist=w.angleDist,f.isFullCircle=w.isFullCircle,f.isAngleInsideSector=w.isAngleInsideSector,f.isPtInsideSector=w.isPtInsideSector,f.pathArc=w.pathArc,f.pathSector=w.pathSector,f.pathAnnulus=w.pathAnnulus;var C=r("./anchor_utils");f.isLeftAnchor=C.isLeftAnchor,f.isCenterAnchor=C.isCenterAnchor,f.isRightAnchor=C.isRightAnchor,f.isTopAnchor=C.isTopAnchor,f.isMiddleAnchor=C.isMiddleAnchor,f.isBottomAnchor=C.isBottomAnchor;var S=r("./geometry2d");f.segmentsIntersect=S.segmentsIntersect,f.segmentDistance=S.segmentDistance,f.getTextLocation=S.getTextLocation,f.clearLocationCache=S.clearLocationCache,f.getVisibleSegment=S.getVisibleSegment,f.findPointOnPath=S.findPointOnPath;var T=r("./extend");f.extendFlat=T.extendFlat,f.extendDeep=T.extendDeep,f.extendDeepAll=T.extendDeepAll,f.extendDeepNoArrays=T.extendDeepNoArrays;var M=r("./loggers");f.log=M.log,f.warn=M.warn,f.error=M.error;var D=r("./regex");f.counterRegex=D.counter;var k=r("./throttle");f.throttle=k.throttle,f.throttleDone=k.done,f.clearThrottle=k.clear;var R=r("./dom");f.getGraphDiv=R.getGraphDiv,f.isPlotDiv=R.isPlotDiv,f.removeElement=R.removeElement,f.addStyleRule=R.addStyleRule,f.addRelatedStyleRule=R.addRelatedStyleRule,f.deleteRelatedStyleRule=R.deleteRelatedStyleRule,f.getFullTransformMatrix=R.getFullTransformMatrix,f.getElementTransformMatrix=R.getElementTransformMatrix,f.getElementAndAncestors=R.getElementAndAncestors,f.equalDomRects=R.equalDomRects,f.clearResponsive=r("./clear_responsive"),f.preserveDrawingBuffer=r("./preserve_drawing_buffer"),f.makeTraceGroups=r("./make_trace_groups"),f._=r("./localize"),f.notifier=r("./notifier"),f.filterUnique=r("./filter_unique"),f.filterVisible=r("./filter_visible"),f.pushUnique=r("./push_unique"),f.increment=r("./increment"),f.cleanNumber=r("./clean_number"),f.ensureNumber=function(J){return l(J)?(J=Number(J),J>c||J<h?v:J):v},f.isIndex=function(ie,J){return J!==void 0&&ie>=J?!1:l(ie)&&ie>=0&&ie%1===0},f.noop=r("./noop"),f.identity=r("./identity"),f.repeat=function(ie,J){for(var te=new Array(J),L=0;L<J;L++)te[L]=ie;return te},f.swapAttrs=function(ie,J,te,L){te||(te="x"),L||(L="y");for(var N=0;N<J.length;N++){var G=J[N],Y=f.nestedProperty(ie,G.replace("?",te)),j=f.nestedProperty(ie,G.replace("?",L)),Q=Y.get();Y.set(j.get()),j.set(Q)}},f.raiseToTop=function(J){J.parentNode.appendChild(J)},f.cancelTransition=function(ie){return ie.transition().duration(0)},f.constrain=function(ie,J,te){return J>te?Math.max(te,Math.min(J,ie)):Math.max(J,Math.min(te,ie))},f.bBoxIntersect=function(ie,J,te){return te=te||0,ie.left<=J.right+te&&J.left<=ie.right+te&&ie.top<=J.bottom+te&&J.top<=ie.bottom+te},f.simpleMap=function(ie,J,te,L,N){for(var G=ie.length,Y=new Array(G),j=0;j<G;j++)Y[j]=J(ie[j],te,L,N);return Y},f.randstr=function ie(J,te,L,N){if(L||(L=16),te===void 0&&(te=24),te<=0)return"0";var G=Math.log(Math.pow(2,te))/Math.log(L),Y="",j,Q,q;for(j=2;G===1/0;j*=2)G=Math.log(Math.pow(2,te/j))/Math.log(L)*j;var re=G-Math.floor(G);for(j=0;j<Math.floor(G);j++)q=Math.floor(Math.random()*L).toString(L),Y=q+Y;re&&(Q=Math.pow(L,re),q=Math.floor(Math.random()*Q).toString(L),Y=q+Y);var ue=parseInt(Y,L);return J&&J[Y]||ue!==1/0&&ue>=Math.pow(2,te)?N>10?(f.warn("randstr failed uniqueness"),Y):ie(J,te,L,(N||0)+1):Y},f.OptionControl=function(ie,J){ie||(ie={}),J||(J="opt");var te={};return te.optionList=[],te._newoption=function(L){L[J]=ie,te[L.name]=L,te.optionList.push(L)},te["_"+J]=ie,te},f.smooth=function(ie,J){if(J=Math.round(J)||0,J<2)return ie;var te=ie.length,L=2*te,N=2*J-1,G=new Array(N),Y=new Array(te),j,Q,q,re;for(j=0;j<N;j++)G[j]=(1-Math.cos(Math.PI*(j+1)/J))/(2*J);for(j=0;j<te;j++){for(re=0,Q=0;Q<N;Q++)q=j+Q+1-J,q<-te?q-=L*Math.round(q/L):q>=L&&(q-=L*Math.floor(q/L)),q<0?q=-1-q:q>=te&&(q=L-1-q),re+=ie[q]*G[Q];Y[j]=re}return Y},f.syncOrAsync=function(ie,J,te){var L,N;function G(){return f.syncOrAsync(ie,J,te)}for(;ie.length;)if(N=ie.splice(0,1)[0],L=N(J),L&&L.then)return L.then(G);return te&&te(J)},f.stripTrailingSlash=function(ie){return ie.substr(-1)==="/"?ie.substr(0,ie.length-1):ie},f.noneOrAll=function(ie,J,te){if(ie){var L=!1,N=!0,G,Y;for(G=0;G<te.length;G++)Y=ie[te[G]],Y!=null?L=!0:N=!1;if(L&&!N)for(G=0;G<te.length;G++)ie[te[G]]=J[te[G]]}},f.mergeArray=function(ie,J,te,L){var N=typeof L=="function";if(f.isArrayOrTypedArray(ie))for(var G=Math.min(ie.length,J.length),Y=0;Y<G;Y++){var j=ie[Y];J[Y][te]=N?L(j):j}},f.mergeArrayCastPositive=function(ie,J,te){return f.mergeArray(ie,J,te,function(L){var N=+L;return isFinite(N)&&N>0?N:0})},f.fillArray=function(ie,J,te,L){if(L=L||f.identity,f.isArrayOrTypedArray(ie))for(var N=0;N<J.length;N++)J[N][te]=L(ie[N])},f.castOption=function(ie,J,te,L){L=L||f.identity;var N=f.nestedProperty(ie,te).get();return f.isArrayOrTypedArray(N)?Array.isArray(J)&&f.isArrayOrTypedArray(N[J[0]])?L(N[J[0]][J[1]]):L(N[J]):N},f.extractOption=function(ie,J,te,L){if(te in ie)return ie[te];var N=f.nestedProperty(J,L).get();if(!Array.isArray(N))return N};function P(ie){var J={};for(var te in ie)for(var L=ie[te],N=0;N<L.length;N++)J[L[N]]=+te;return J}f.tagSelected=function(ie,J,te){var L=J.selectedpoints,N=J._indexToPoints,G;N&&(G=P(N));function Y(ue){return ue!==void 0&&ue<ie.length}for(var j=0;j<L.length;j++){var Q=L[j];if(f.isIndex(Q)||f.isArrayOrTypedArray(Q)&&f.isIndex(Q[0])&&f.isIndex(Q[1])){var q=G?G[Q]:Q,re=te?te[q]:q;Y(re)&&(ie[re].selected=1)}}},f.selIndices2selPoints=function(ie){var J=ie.selectedpoints,te=ie._indexToPoints;if(te){for(var L=P(te),N=[],G=0;G<J.length;G++){var Y=J[G];if(f.isIndex(Y)){var j=L[Y];f.isIndex(j)&&N.push(j)}}return N}else return J},f.getTargetArray=function(ie,J){var te=J.target;if(typeof te=="string"&&te){var L=f.nestedProperty(ie,te).get();return Array.isArray(L)?L:!1}else if(Array.isArray(te))return te;return!1},f.minExtend=function(ie,J){var te={};typeof J!="object"&&(J={});var L=3,N=Object.keys(ie),G,Y,j;for(G=0;G<N.length;G++)Y=N[G],j=ie[Y],!(Y.charAt(0)==="_"||typeof j=="function")&&(Y==="module"?te[Y]=j:Array.isArray(j)?Y==="colorscale"?te[Y]=j.slice():te[Y]=j.slice(0,L):f.isTypedArray(j)?te[Y]=j.subarray(0,L):j&&typeof j=="object"?te[Y]=f.minExtend(ie[Y],J[Y]):te[Y]=j);for(N=Object.keys(J),G=0;G<N.length;G++)Y=N[G],j=J[Y],(typeof j!="object"||!(Y in te)||typeof te[Y]!="object")&&(te[Y]=j);return te},f.titleCase=function(ie){return ie.charAt(0).toUpperCase()+ie.substr(1)},f.containsAny=function(ie,J){for(var te=0;te<J.length;te++)if(ie.indexOf(J[te])!==-1)return!0;return!1},f.isIE=function(){return typeof window.navigator.msSaveBlob<"u"};var E=/Version\/[\d\.]+.*Safari/;f.isSafari=function(){return E.test(window.navigator.userAgent)};var O=/iPad|iPhone|iPod/;f.isIOS=function(){return O.test(window.navigator.userAgent)};var I=/Firefox\/(\d+)\.\d+/;f.getFirefoxVersion=function(){var ie=I.exec(window.navigator.userAgent);if(ie&&ie.length===2){var J=parseInt(ie[1]);if(!isNaN(J))return J}return null},f.isD3Selection=function(ie){return ie instanceof n.selection},f.ensureSingle=function(ie,J,te,L){var N=ie.select(J+(te?"."+te:""));if(N.size())return N;var G=ie.append(J);return te&&G.classed(te,!0),L&&G.call(L),G},f.ensureSingleById=function(ie,J,te,L){var N=ie.select(J+"#"+te);if(N.size())return N;var G=ie.append(J).attr("id",te);return L&&G.call(L),G},f.objectFromPath=function(ie,J){for(var te=ie.split("."),L,N=L={},G=0;G<te.length;G++){var Y=te[G],j=null,Q=te[G].match(/(.*)\[([0-9]+)\]/);Q?(Y=Q[1],j=Q[2],L=L[Y]=[],G===te.length-1?L[j]=J:L[j]={},L=L[j]):(G===te.length-1?L[Y]=J:L[Y]={},L=L[Y])}return N};var U=/^([^\[\.]+)\.(.+)?/,V=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;f.expandObjectPaths=function(ie){var J,te,L,N,G,Y,j;if(typeof ie=="object"&&!Array.isArray(ie))for(te in ie)ie.hasOwnProperty(te)&&((J=te.match(U))?(N=ie[te],L=J[1],delete ie[te],ie[L]=f.extendDeepNoArrays(ie[L]||{},f.objectFromPath(te,f.expandObjectPaths(N))[L])):(J=te.match(V))?(N=ie[te],L=J[1],G=parseInt(J[2]),delete ie[te],ie[L]=ie[L]||[],J[3]==="."?(j=J[4],Y=ie[L][G]=ie[L][G]||{},f.extendDeepNoArrays(Y,f.objectFromPath(j,f.expandObjectPaths(N)))):ie[L][G]=f.expandObjectPaths(N)):ie[te]=f.expandObjectPaths(ie[te]));return ie},f.numSeparate=function(ie,J,te){if(te||(te=!1),typeof J!="string"||J.length===0)throw new Error("Separator string required for formatting!");typeof ie=="number"&&(ie=String(ie));var L=/(\d+)(\d{3})/,N=J.charAt(0),G=J.charAt(1),Y=ie.split("."),j=Y[0],Q=Y.length>1?N+Y[1]:"";if(G&&(Y.length>1||j.length>4||te))for(;L.test(j);)j=j.replace(L,"$1"+G+"$2");return j+Q},f.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var Z=/^\w*$/;f.templateString=function(ie,J){var te={};return ie.replace(f.TEMPLATE_STRING_REGEX,function(L,N){var G;return Z.test(N)?G=J[N]:(te[N]=te[N]||f.nestedProperty(J,N).get,G=te[N]()),f.isValidTextValue(G)?G:""})};var z={max:10,count:0,name:"hovertemplate"};f.hovertemplateString=function(){return W.apply(z,arguments)};var H={max:10,count:0,name:"texttemplate"};f.texttemplateString=function(){return W.apply(H,arguments)};var B=/^[:|\|]/;function W(ie,J,te){var L=this,N=arguments;J||(J={});var G={};return ie.replace(f.TEMPLATE_STRING_REGEX,function(Y,j,Q){var q=j==="xother"||j==="yother",re=j==="_xother"||j==="_yother",ue=j==="_xother_"||j==="_yother_",de=j==="xother_"||j==="yother_",me=q||re||de||ue,pe=j;(re||ue)&&(pe=pe.substring(1)),(de||ue)&&(pe=pe.substring(0,pe.length-1));var ge;if(me){if(ge=J[pe],ge===void 0)return""}else{var Te,He;for(He=3;He<N.length;He++)if(Te=N[He],!!Te){if(Te.hasOwnProperty(pe)){ge=Te[pe];break}if(Z.test(pe)||(ge=f.nestedProperty(Te,pe).get(),ge=G[pe]||f.nestedProperty(Te,pe).get(),ge&&(G[pe]=ge)),ge!==void 0)break}}if(ge===void 0&&L)return L.count<L.max&&(f.warn("Variable '"+pe+"' in "+L.name+" could not be found!"),ge=Y),L.count===L.max&&f.warn("Too many "+L.name+" warnings - additional warnings will be suppressed"),L.count++,Y;if(Q){var Oe;if(Q[0]===":"&&(Oe=te?te.numberFormat:f.numberFormat,ge=Oe(Q.replace(B,""))(ge)),Q[0]==="|"){Oe=te?te.timeFormat:a;var tt=f.dateTime2ms(ge);ge=f.formatDate(tt,Q.replace(B,""),!1,Oe)}}else{var Le=pe+"Label";J.hasOwnProperty(Le)&&(ge=J[Le])}return me&&(ge="("+ge+")",(re||ue)&&(ge=" "+ge),(de||ue)&&(ge=ge+" ")),ge})}var F=48,K=57;f.subplotSort=function(ie,J){for(var te=Math.min(ie.length,J.length)+1,L=0,N=0,G=0;G<te;G++){var Y=ie.charCodeAt(G)||0,j=J.charCodeAt(G)||0,Q=Y>=F&&Y<=K,q=j>=F&&j<=K;if(Q&&(L=10*L+Y-F),q&&(N=10*N+j-F),!Q||!q){if(L!==N)return L-N;if(Y!==j)return Y-j}}return N-L};var fe=2e9;f.seedPseudoRandom=function(){fe=2e9},f.pseudoRandom=function(){var ie=fe;return fe=(69069*fe+1)%4294967296,Math.abs(fe-ie)<429496729?f.pseudoRandom():fe/4294967296},f.fillText=function(ie,J,te){var L=Array.isArray(te)?function(Y){te.push(Y)}:function(Y){te.text=Y},N=f.extractOption(ie,J,"htx","hovertext");if(f.isValidTextValue(N))return L(N);var G=f.extractOption(ie,J,"tx","text");if(f.isValidTextValue(G))return L(G)},f.isValidTextValue=function(ie){return ie||ie===0},f.formatPercent=function(ie,J){J=J||0;for(var te=(Math.round(100*ie*Math.pow(10,J))*Math.pow(.1,J)).toFixed(J)+"%",L=0;L<J;L++)te.indexOf(".")!==-1&&(te=te.replace("0%","%"),te=te.replace(".%","%"));return te},f.isHidden=function(ie){var J=window.getComputedStyle(ie).display;return!J||J==="none"},f.strTranslate=function(ie,J){return ie||J?"translate("+ie+","+J+")":""},f.strRotate=function(ie){return ie?"rotate("+ie+")":""},f.strScale=function(ie){return ie!==1?"scale("+ie+")":""},f.getTextTransform=function(ie){var J=ie.noCenter,te=ie.textX,L=ie.textY,N=ie.targetX,G=ie.targetY,Y=ie.anchorX||0,j=ie.anchorY||0,Q=ie.rotate,q=ie.scale;return q?q>1&&(q=1):q=0,f.strTranslate(N-q*(te+Y),G-q*(L+j))+f.strScale(q)+(Q?"rotate("+Q+(J?"":" "+te+" "+L)+")":"")},f.ensureUniformFontSize=function(ie,J){var te=f.extendFlat({},J);return te.size=Math.max(J.size,ie._fullLayout.uniformtext.minsize||0),te},f.join2=function(ie,J,te){var L=ie.length;return L>1?ie.slice(0,-1).join(J)+te+ie[L-1]:ie.join(J)},f.bigFont=function(ie){return Math.round(1.2*ie)};var se=f.getFirefoxVersion(),ee=se!==null&&se<86;f.getPositionFromD3Event=function(){return ee?[n.event.layerX,n.event.layerY]:[n.event.offsetX,n.event.offsetY]}},{"../constants/numerical":224,"./anchor_utils":228,"./angles":229,"./array":230,"./clean_number":231,"./clear_responsive":233,"./coerce":234,"./dates":235,"./dom":236,"./extend":238,"./filter_unique":239,"./filter_visible":240,"./geometry2d":241,"./identity":242,"./increment":243,"./is_plain_object":245,"./keyed_container":246,"./localize":247,"./loggers":248,"./make_trace_groups":249,"./matrix":250,"./mod":251,"./nested_property":252,"./noop":253,"./notifier":254,"./preserve_drawing_buffer":257,"./push_unique":258,"./regex":260,"./relative_attr":261,"./relink_private":262,"./search":263,"./sort_object_keys":265,"./stats":266,"./throttle":268,"./to_log_range":269,"@plotly/d3":11,"d3-format":13,"d3-time-format":14,"fast-isnumeric":17}],245:[function(r,i,o){i.exports=function(a){return window&&window.process&&window.process.versions?Object.prototype.toString.call(a)==="[object Object]":Object.prototype.toString.call(a)==="[object Object]"&&Object.getPrototypeOf(a).hasOwnProperty("hasOwnProperty")}},{}],246:[function(r,i,o){var n=r("./nested_property"),a=/^\w*$/,s=0,l=1,u=2,c=3,h=4;i.exports=function(f,m,_,g){_=_||"name",g=g||"value";var p,d,b,y={};m&&m.length?(b=n(f,m),d=b.get()):d=f,m=m||"";var x={};if(d)for(p=0;p<d.length;p++)x[d[p][_]]=p;var w=a.test(g),C={set:function(S,T){var M=T===null?h:s;if(!d){if(!b||M===h)return;d=[],b.set(d)}var D=x[S];if(D===void 0){if(M===h)return;M=M|c,D=d.length,x[S]=D}else T!==(w?d[D][g]:n(d[D],g).get())&&(M=M|u);var k=d[D]=d[D]||{};return k[_]=S,w?k[g]=T:n(k,g).set(T),T!==null&&(M=M&~h),y[D]=y[D]|M,C},get:function(S){if(d){var T=x[S];if(T!==void 0)return w?d[T][g]:n(d[T],g).get()}},rename:function(S,T){var M=x[S];return M===void 0||(y[M]=y[M]|l,x[T]=M,delete x[S],d[M][_]=T),C},remove:function(S){var T=x[S];if(T===void 0)return C;var M=d[T];if(Object.keys(M).length>2)return y[T]=y[T]|u,C.set(S,null);if(w){for(p=T;p<d.length;p++)y[p]=y[p]|c;for(p=T;p<d.length;p++)x[d[p][_]]--;d.splice(T,1),delete x[S]}else n(M,g).set(null),y[T]=y[T]|u|h;return C},constructUpdate:function(){for(var S,T,M={},D=Object.keys(y),k=0;k<D.length;k++)T=D[k],S=m+"["+T+"]",d[T]?(y[T]&l&&(M[S+"."+_]=d[T][_]),y[T]&u&&(w?M[S+"."+g]=y[T]&h?null:d[T][g]:M[S+"."+g]=y[T]&h?null:n(d[T],g).get())):M[S]=null;return M}};return C}},{"./nested_property":252}],247:[function(r,i,o){var n=r("../registry");i.exports=function(s,l){for(var u=s._context.locale,c=0;c<2;c++){for(var h=s._context.locales,v=0;v<2;v++){var f=(h[u]||{}).dictionary;if(f){var m=f[l];if(m)return m}h=n.localeRegistry}var _=u.split("-")[0];if(_===u)break;u=_}return l}},{"../registry":327}],248:[function(r,i,o){var n=r("../plot_api/plot_config").dfltConfig,a=r("./notifier"),s=i.exports={};s.log=function(){var l;if(n.logging>1){var u=["LOG:"];for(l=0;l<arguments.length;l++)u.push(arguments[l]);console.trace.apply(console,u)}if(n.notifyOnLogging>1){var c=[];for(l=0;l<arguments.length;l++)c.push(arguments[l]);a(c.join("<br>"),"long")}},s.warn=function(){var l;if(n.logging>0){var u=["WARN:"];for(l=0;l<arguments.length;l++)u.push(arguments[l]);console.trace.apply(console,u)}if(n.notifyOnLogging>0){var c=[];for(l=0;l<arguments.length;l++)c.push(arguments[l]);a(c.join("<br>"),"stick")}},s.error=function(){var l;if(n.logging>0){var u=["ERROR:"];for(l=0;l<arguments.length;l++)u.push(arguments[l]);console.error.apply(console,u)}if(n.notifyOnLogging>0){var c=[];for(l=0;l<arguments.length;l++)c.push(arguments[l]);a(c.join("<br>"),"stick")}}},{"../plot_api/plot_config":278,"./notifier":254}],249:[function(r,i,o){var n=r("@plotly/d3");i.exports=function(s,l,u){var c=s.selectAll("g."+u.replace(/\s/g,".")).data(l,function(v){return v[0].trace.uid});c.exit().remove(),c.enter().append("g").attr("class",u),c.order();var h=s.classed("rangeplot")?"nodeRangePlot3":"node3";return c.each(function(v){v[0][h]=n.select(this)}),c}},{"@plotly/d3":11}],250:[function(r,i,o){var n=r("gl-mat4");o.init2dArray=function(a,s){for(var l=new Array(a),u=0;u<a;u++)l[u]=new Array(s);return l},o.transposeRagged=function(a){var s=0,l=a.length,u,c;for(u=0;u<l;u++)s=Math.max(s,a[u].length);var h=new Array(s);for(u=0;u<s;u++)for(h[u]=new Array(l),c=0;c<l;c++)h[u][c]=a[c][u];return h},o.dot=function(a,s){if(!(a.length&&s.length)||a.length!==s.length)return null;var l=a.length,u,c;if(a[0].length)for(u=new Array(l),c=0;c<l;c++)u[c]=o.dot(a[c],s);else if(s[0].length){var h=o.transposeRagged(s);for(u=new Array(h.length),c=0;c<h.length;c++)u[c]=o.dot(a,h[c])}else for(u=0,c=0;c<l;c++)u+=a[c]*s[c];return u},o.translationMatrix=function(a,s){return[[1,0,a],[0,1,s],[0,0,1]]},o.rotationMatrix=function(a){var s=a*Math.PI/180;return[[Math.cos(s),-Math.sin(s),0],[Math.sin(s),Math.cos(s),0],[0,0,1]]},o.rotationXYMatrix=function(a,s,l){return o.dot(o.dot(o.translationMatrix(s,l),o.rotationMatrix(a)),o.translationMatrix(-s,-l))},o.apply3DTransform=function(a){return function(){var s=arguments,l=arguments.length===1?s[0]:[s[0],s[1],s[2]||0];return o.dot(a,[l[0],l[1],l[2],1]).slice(0,3)}},o.apply2DTransform=function(a){return function(){var s=arguments;s.length===3&&(s=s[0]);var l=arguments.length===1?s[0]:[s[0],s[1]];return o.dot(a,[l[0],l[1],1]).slice(0,2)}},o.apply2DTransform2=function(a){var s=o.apply2DTransform(a);return function(l){return s(l.slice(0,2)).concat(s(l.slice(2,4)))}},o.convertCssMatrix=function(a){if(a){var s=a.length;if(s===16)return a;if(s===6)return[a[0],a[1],0,0,a[2],a[3],0,0,0,0,1,0,a[4],a[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},o.inverseTransformMatrix=function(a){var s=[];return n.invert(s,a),[[s[0],s[1],s[2],s[3]],[s[4],s[5],s[6],s[7]],[s[8],s[9],s[10],s[11]],[s[12],s[13],s[14],s[15]]]}},{"gl-mat4":33}],251:[function(r,i,o){function n(s,l){var u=s%l;return u<0?u+l:u}function a(s,l){return Math.abs(s)>l/2?s-Math.round(s/l)*l:s}i.exports={mod:n,modHalf:a}},{}],252:[function(r,i,o){var n=r("fast-isnumeric"),a=r("./array").isArrayOrTypedArray;i.exports=function(g,p){if(n(p))p=String(p);else if(typeof p!="string"||p.substr(p.length-4)==="[-1]")throw"bad property string";for(var d=0,b=p.split("."),y,x,w;d<b.length;){if(y=String(b[d]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/),y){if(y[1])b[d]=y[1];else if(d===0)b.splice(0,1);else throw"bad property string";for(x=y[2].substr(1,y[2].length-2).split("]["),w=0;w<x.length;w++)d++,b.splice(d,0,Number(x[w]))}d++}return typeof g!="object"?m(g,p,b):{set:c(g,b,p),get:s(g,b),astr:p,parts:b,obj:g}};function s(_,g){return function(){var p=_,d,b,y,x,w;for(x=0;x<g.length-1;x++){if(d=g[x],d===-1){for(b=!0,y=[],w=0;w<p.length;w++)y[w]=s(p[w],g.slice(x+1))(),y[w]!==y[0]&&(b=!1);return b?y[0]:y}if(typeof d=="number"&&!a(p)||(p=p[d],typeof p!="object"||p===null))return}if(!(typeof p!="object"||p===null)&&(y=p[g[x]],y!==null))return y}}var l=/(^|\.)args\[/;function u(_,g){return _===void 0||_===null&&!g.match(l)}function c(_,g,p){return function(d){var b=_,y="",x=u(d,p),w,C;for(C=0;C<g.length-1;C++){if(w=g[C],typeof w=="number"&&!a(b))throw"array index but container is not an array";if(w===-1){if(x=!v(b,g.slice(C+1),d,p),x)break;return}if(!f(b,w,g[C+1],x))break;if(b=b[w],typeof b!="object"||b===null)throw"container is not an object";y=h(y,w)}if(x){if(C===g.length-1&&(delete b[g[C]],Array.isArray(b)&&+g[C]===b.length-1))for(;b.length&&b[b.length-1]===void 0;)b.pop()}else b[g[C]]=d}}function h(_,g){var p=g;return n(g)?p="["+g+"]":_&&(p="."+g),_+p}function v(_,g,p,d){var b=a(p),y=!0,x=p,w=d.replace("-1",0),C=b?!1:u(p,w),S=g[0],T;for(T=0;T<_.length;T++)w=d.replace("-1",T),b&&(x=p[T%p.length],C=u(x,w)),C&&(y=!1),f(_,T,S,C)&&c(_[T],g,d.replace("-1",T))(x);return y}function f(_,g,p,d){if(_[g]===void 0){if(d)return!1;typeof p=="number"?_[g]=[]:_[g]={}}return!0}function m(_,g,p){return{set:function(){throw"bad container"},get:function(){},astr:g,parts:p,obj:_}}},{"./array":230,"fast-isnumeric":17}],253:[function(r,i,o){i.exports=function(){}},{}],254:[function(r,i,o){var n=r("@plotly/d3"),a=r("fast-isnumeric"),s=[];i.exports=function(l,u){if(s.indexOf(l)!==-1)return;s.push(l);var c=1e3;a(u)?c=u:u==="long"&&(c=3e3);var h=n.select("body").selectAll(".plotly-notifier").data([0]);h.enter().append("div").classed("plotly-notifier",!0);var v=h.selectAll(".notifier-note").data(s);function f(m){m.duration(700).style("opacity",0).each("end",function(_){var g=s.indexOf(_);g!==-1&&s.splice(g,1),n.select(this).remove()})}v.enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(m){var _=n.select(this);_.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){_.transition().call(f)});for(var g=_.append("p"),p=m.split(/<br\s*\/?>/g),d=0;d<p.length;d++)d&&g.append("br"),g.append("span").text(p[d]);u==="stick"?_.transition().duration(350).style("opacity",1):_.transition().duration(700).style("opacity",1).transition().delay(c).call(f)})}},{"@plotly/d3":11,"fast-isnumeric":17}],255:[function(r,i,o){var n=r("./setcursor"),a="data-savedcursor",s="!!";i.exports=function(u,c){var h=u.attr(a);if(c){if(!h){for(var v=(u.attr("class")||"").split(" "),f=0;f<v.length;f++){var m=v[f];m.indexOf("cursor-")===0&&u.attr(a,m.substr(7)).classed(m,!1)}u.attr(a)||u.attr(a,s)}n(u,c)}else h&&(u.attr(a,null),h===s?n(u):n(u,h))}},{"./setcursor":264}],256:[function(r,i,o){var n=r("./matrix").dot,a=r("../constants/numerical").BADNUM,s=i.exports={};s.tester=function(u){var c=u.slice(),h=c[0][0],v=h,f=c[0][1],m=f,_;for((c[c.length-1][0]!==c[0][0]||c[c.length-1][1]!==c[0][1])&&c.push(c[0]),_=1;_<c.length;_++)h=Math.min(h,c[_][0]),v=Math.max(v,c[_][0]),f=Math.min(f,c[_][1]),m=Math.max(m,c[_][1]);var g=!1,p;c.length===5&&(c[0][0]===c[1][0]?c[2][0]===c[3][0]&&c[0][1]===c[3][1]&&c[1][1]===c[2][1]&&(g=!0,p=function(w){return w[0]===c[0][0]}):c[0][1]===c[1][1]&&c[2][1]===c[3][1]&&c[0][0]===c[3][0]&&c[1][0]===c[2][0]&&(g=!0,p=function(w){return w[1]===c[0][1]}));function d(w,C){var S=w[0],T=w[1];return!(S===a||S<h||S>v||T===a||T<f||T>m||C&&p(w))}function b(w,C){var S=w[0],T=w[1];if(S===a||S<h||S>v||T===a||T<f||T>m)return!1;var M=c.length,D=c[0][0],k=c[0][1],R=0,P,E,O,I,U;for(P=1;P<M;P++)if(E=D,O=k,D=c[P][0],k=c[P][1],I=Math.min(E,D),!(S<I||S>Math.max(E,D)||T>Math.max(O,k)))if(T<Math.min(O,k))S!==I&&R++;else{if(D===E?U=T:U=O+(S-E)*(k-O)/(D-E),T===U)return!(P===1&&C);T<=U&&S!==I&&R++}return R%2===1}var y=!0,x=c[0];for(_=1;_<c.length;_++)if(x[0]!==c[_][0]||x[1]!==c[_][1]){y=!1;break}return{xmin:h,xmax:v,ymin:f,ymax:m,pts:c,contains:g?d:b,isRect:g,degenerate:y}},s.isSegmentBent=function(u,c,h,v){var f=u[c],m=[u[h][0]-f[0],u[h][1]-f[1]],_=n(m,m),g=Math.sqrt(_),p=[-m[1]/g,m[0]/g],d,b,y;for(d=c+1;d<h;d++)if(b=[u[d][0]-f[0],u[d][1]-f[1]],y=n(b,m),y<0||y>_||Math.abs(n(b,p))>v)return!0;return!1},s.filter=function(u,c){var h=[u[0]],v=0,f=0;function m(g){u.push(g);var p=h.length,d=v;h.splice(f+1);for(var b=d+1;b<u.length;b++)(b===u.length-1||s.isSegmentBent(u,d,b+1,c))&&(h.push(u[b]),h.length<p-2&&(v=b,f=h.length-1),d=b)}if(u.length>1){var _=u.pop();m(_)}return{addPt:m,raw:u,filtered:h}}},{"../constants/numerical":224,"./matrix":250}],257:[function(r,i,o){var n=r("fast-isnumeric"),a=r("is-mobile");i.exports=function(u){var c;if(u&&u.hasOwnProperty("userAgent")?c=u.userAgent:c=s(),typeof c!="string")return!0;var h=a({ua:{headers:{"user-agent":c}},tablet:!0,featureDetect:!1});if(!h)for(var v=c.split(" "),f=1;f<v.length;f++){var m=v[f];if(m.indexOf("Safari")!==-1)for(var _=f-1;_>-1;_--){var g=v[_];if(g.substr(0,8)==="Version/"){var p=g.substr(8).split(".")[0];if(n(p)&&(p=+p),p>=13)return!0}}}return h};function s(){var l;return typeof navigator<"u"&&(l=navigator.userAgent),l&&l.headers&&typeof l.headers["user-agent"]=="string"&&(l=l.headers["user-agent"]),l}},{"fast-isnumeric":17,"is-mobile":51}],258:[function(r,i,o){i.exports=function(a,s){if(s instanceof RegExp){for(var l=s.toString(),u=0;u<a.length;u++)if(a[u]instanceof RegExp&&a[u].toString()===l)return a;a.push(s)}else(s||s===0)&&a.indexOf(s)===-1&&a.push(s);return a}},{}],259:[function(r,i,o){var n=r("../lib"),a=r("../plot_api/plot_config").dfltConfig;function s(u,c){for(var h=[],v,f=0;f<c.length;f++)v=c[f],v===u?h[f]=v:typeof v=="object"?h[f]=Array.isArray(v)?n.extendDeep([],v):n.extendDeepAll({},v):h[f]=v;return h}var l={};l.add=function(u,c,h,v,f){var m,_;if(u.undoQueue=u.undoQueue||{index:0,queue:[],sequence:!1},_=u.undoQueue.index,u.autoplay){u.undoQueue.inSequence||(u.autoplay=!1);return}!u.undoQueue.sequence||u.undoQueue.beginSequence?(m={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},u.undoQueue.queue.splice(_,u.undoQueue.queue.length-_,m),u.undoQueue.index+=1):m=u.undoQueue.queue[_-1],u.undoQueue.beginSequence=!1,m&&(m.undo.calls.unshift(c),m.undo.args.unshift(h),m.redo.calls.push(v),m.redo.args.push(f)),u.undoQueue.queue.length>a.queueLength&&(u.undoQueue.queue.shift(),u.undoQueue.index--)},l.startSequence=function(u){u.undoQueue=u.undoQueue||{index:0,queue:[],sequence:!1},u.undoQueue.sequence=!0,u.undoQueue.beginSequence=!0},l.stopSequence=function(u){u.undoQueue=u.undoQueue||{index:0,queue:[],sequence:!1},u.undoQueue.sequence=!1,u.undoQueue.beginSequence=!1},l.undo=function(c){var h,v;if(!(c.undoQueue===void 0||isNaN(c.undoQueue.index)||c.undoQueue.index<=0)){for(c.undoQueue.index--,h=c.undoQueue.queue[c.undoQueue.index],c.undoQueue.inSequence=!0,v=0;v<h.undo.calls.length;v++)l.plotDo(c,h.undo.calls[v],h.undo.args[v]);c.undoQueue.inSequence=!1,c.autoplay=!1}},l.redo=function(c){var h,v;if(!(c.undoQueue===void 0||isNaN(c.undoQueue.index)||c.undoQueue.index>=c.undoQueue.queue.length)){for(h=c.undoQueue.queue[c.undoQueue.index],c.undoQueue.inSequence=!0,v=0;v<h.redo.calls.length;v++)l.plotDo(c,h.redo.calls[v],h.redo.args[v]);c.undoQueue.inSequence=!1,c.autoplay=!1,c.undoQueue.index++}},l.plotDo=function(u,c,h){u.autoplay=!0,h=s(u,h),c.apply(null,h)},i.exports=l},{"../lib":244,"../plot_api/plot_config":278}],260:[function(r,i,o){o.counter=function(n,a,s,l){var u=(a||"")+(s?"":"$"),c=l===!1?"":"^";return n==="xy"?new RegExp(c+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+u):new RegExp(c+n+"([2-9]|[1-9][0-9]+)?"+u)}},{}],261:[function(r,i,o){var n=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,a=/^[^\.\[\]]+$/;i.exports=function(s,l){for(;l;){var u=s.match(n);if(u)s=u[1];else if(s.match(a))s="";else throw new Error("bad relativeAttr call:"+[s,l]);if(l.charAt(0)==="^")l=l.slice(1);else break}return s&&l.charAt(0)!=="["?s+"."+l:s+l}},{}],262:[function(r,i,o){var n=r("./array").isArrayOrTypedArray,a=r("./is_plain_object");i.exports=function s(l,u){for(var c in u){var h=u[c],v=l[c];if(v!==h)if(c.charAt(0)==="_"||typeof h=="function"){if(c in l)continue;l[c]=h}else if(n(h)&&n(v)&&a(h[0])){if(c==="customdata"||c==="ids")continue;for(var f=Math.min(h.length,v.length),m=0;m<f;m++)v[m]!==h[m]&&a(h[m])&&a(v[m])&&s(v[m],h[m])}else a(h)&&a(v)&&(s(v,h),Object.keys(v).length||delete l[c])}}},{"./array":230,"./is_plain_object":245}],263:[function(r,i,o){var n=r("fast-isnumeric"),a=r("./loggers"),s=r("./identity"),l=r("../constants/numerical").BADNUM,u=1e-9;o.findBin=function(m,_,g){if(n(_.start))return g?Math.ceil((m-_.start)/_.size-u)-1:Math.floor((m-_.start)/_.size+u);var p=0,d=_.length,b=0,y=d>1?(_[d-1]-_[0])/(d-1):1,x,w;for(y>=0?w=g?c:h:w=g?f:v,m+=y*u*(g?-1:1)*(y>=0?1:-1);p<d&&b++<100;)x=Math.floor((p+d)/2),w(_[x],m)?p=x+1:d=x;return b>90&&a.log("Long binary search..."),p-1};function c(m,_){return m<_}function h(m,_){return m<=_}function v(m,_){return m>_}function f(m,_){return m>=_}o.sorterAsc=function(m,_){return m-_},o.sorterDes=function(m,_){return _-m},o.distinctVals=function(m){var _=m.slice();_.sort(o.sorterAsc);var g;for(g=_.length-1;g>-1&&_[g]===l;g--);for(var p=_[g]-_[0]||1,d=p/(g||1)/1e4,b=[],y,x=0;x<=g;x++){var w=_[x],C=w-y;y===void 0?(b.push(w),y=w):C>d&&(p=Math.min(p,C),b.push(w),y=w)}return{vals:b,minDiff:p}},o.roundUp=function(m,_,g){for(var p=0,d=_.length-1,b,y=0,x=g?0:1,w=g?1:0,C=g?Math.ceil:Math.floor;p<d&&y++<100;)b=C((p+d)/2),_[b]<=m?p=b+x:d=b-w;return _[p]},o.sort=function(m,_){for(var g=0,p=0,d=1;d<m.length;d++){var b=_(m[d],m[d-1]);if(b<0?g=1:b>0&&(p=1),g&&p)return m.sort(_)}return p?m:m.reverse()},o.findIndexOfMin=function(m,_){_=_||s;for(var g=1/0,p,d=0;d<m.length;d++){var b=_(m[d]);b<g&&(g=b,p=d)}return p}},{"../constants/numerical":224,"./identity":242,"./loggers":248,"fast-isnumeric":17}],264:[function(r,i,o){i.exports=function(a,s){(a.attr("class")||"").split(" ").forEach(function(l){l.indexOf("cursor-")===0&&a.classed(l,!1)}),s&&a.classed("cursor-"+s,!0)}},{}],265:[function(r,i,o){i.exports=function(a){return Object.keys(a).sort()}},{}],266:[function(r,i,o){var n=r("fast-isnumeric"),a=r("./array").isArrayOrTypedArray;o.aggNums=function(s,l,u,c){var h,v;if((!c||c>u.length)&&(c=u.length),n(l)||(l=!1),a(u[0])){for(v=new Array(c),h=0;h<c;h++)v[h]=o.aggNums(s,l,u[h]);u=v}for(h=0;h<c;h++)n(l)?n(u[h])&&(l=s(+l,+u[h])):l=u[h];return l},o.len=function(s){return o.aggNums(function(l){return l+1},0,s)},o.mean=function(s,l){return l||(l=o.len(s)),o.aggNums(function(u,c){return u+c},0,s)/l},o.midRange=function(s){if(!(s===void 0||s.length===0))return(o.aggNums(Math.max,null,s)+o.aggNums(Math.min,null,s))/2},o.variance=function(s,l,u){return l||(l=o.len(s)),n(u)||(u=o.mean(s,l)),o.aggNums(function(c,h){return c+Math.pow(h-u,2)},0,s)/l},o.stdev=function(s,l,u){return Math.sqrt(o.variance(s,l,u))},o.median=function(s){var l=s.slice().sort();return o.interp(l,.5)},o.interp=function(s,l){if(!n(l))throw"n should be a finite number";if(l=l*s.length-.5,l<0)return s[0];if(l>s.length-1)return s[s.length-1];var u=l%1;return u*s[Math.ceil(l)]+(1-u)*s[Math.floor(l)]}},{"./array":230,"fast-isnumeric":17}],267:[function(r,i,o){var n=r("@plotly/d3"),a=r("../lib"),s=a.strTranslate,l=r("../constants/xmlns_namespaces"),u=r("../constants/alignment").LINE_SPACING,c=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;o.convertToTspans=function(B,W,F){var K=B.text(),fe=!B.attr("data-notex")&&W&&W._context.typesetMath&&typeof MathJax<"u"&&K.match(c),se=n.select(B.node().parentNode);if(se.empty())return;var ee=B.attr("class")?B.attr("class").split(" ")[0]:"text";ee+="-math",se.selectAll("svg."+ee).remove(),se.selectAll("g."+ee+"-group").remove(),B.style("display",null).attr({"data-unformatted":K,"data-math":"N"});function ie(){se.empty()||(ee=B.attr("class")+"-math",se.select("svg."+ee).remove()),B.text("").style("white-space","pre");var J=V(B.node(),K);J&&B.style("pointer-events","all"),o.positionText(B),F&&F.call(B)}return fe?(W&&W._promises||[]).push(new Promise(function(J){B.style("display","none");var te=parseInt(B.node().style.fontSize,10),L={fontSize:te};_(fe[2],L,function(N,G,Y){se.selectAll("svg."+ee).remove(),se.selectAll("g."+ee+"-group").remove();var j=N&&N.select("svg");if(!j||!j.node()){ie(),J();return}var Q=se.append("g").classed(ee+"-group",!0).attr({"pointer-events":"none","data-unformatted":K,"data-math":"Y"});Q.node().appendChild(j.node()),G&&G.node()&&j.node().insertBefore(G.node().cloneNode(!0),j.node().firstChild);var q=Y.width,re=Y.height;j.attr({class:ee,height:re,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var ue=B.node().style.fill||"black",de=j.select("g");de.attr({fill:ue,stroke:ue});var me=de.node().getBoundingClientRect(),pe=me.width,ge=me.height;(pe>q||ge>re)&&(j.style("overflow","hidden"),me=j.node().getBoundingClientRect(),pe=me.width,ge=me.height);var Te=+B.attr("x"),He=+B.attr("y"),Oe=te||B.node().getBoundingClientRect().height,tt=-Oe/4;if(ee[0]==="y")Q.attr({transform:"rotate("+[-90,Te,He]+")"+s(-pe/2,tt-ge/2)});else if(ee[0]==="l")He=tt-ge/2;else if(ee[0]==="a"&&ee.indexOf("atitle")!==0)Te=0,He=tt;else{var Le=B.attr("text-anchor");Te=Te-pe*(Le==="middle"?.5:Le==="end"?1:0),He=He+tt-ge/2}j.attr({x:Te,y:He}),F&&F.call(B,Q),J(Q)})})):ie(),B};var h=/(<|&lt;|&#60;)/g,v=/(>|&gt;|&#62;)/g;function f(B){return B.replace(h,"\\lt ").replace(v,"\\gt ")}var m=[["$","$"],["\\(","\\)"]];function _(B,W,F){var K=parseInt((MathJax.version||"").split(".")[0]);if(K!==2&&K!==3){a.warn("No MathJax version:",MathJax.version);return}var fe,se,ee,ie,J=function(){return se=a.extendDeepAll({},MathJax.Hub.config),ee=MathJax.Hub.processSectionDelay,MathJax.Hub.processSectionDelay!==void 0&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:m},displayAlign:"left"})},te=function(){se=a.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=m},L=function(){if(fe=MathJax.Hub.config.menuSettings.renderer,fe!=="SVG")return MathJax.Hub.setRenderer("SVG")},N=function(){fe=MathJax.config.startup.output,fe!=="svg"&&(MathJax.config.startup.output="svg")},G=function(){var ue="math-output-"+a.randstr({},64);ie=n.select("body").append("div").attr({id:ue}).style({visibility:"hidden",position:"absolute","font-size":W.fontSize+"px"}).text(f(B));var de=ie.node();return K===2?MathJax.Hub.Typeset(de):MathJax.typeset([de])},Y=function(){var ue=ie.select(K===2?".MathJax_SVG":".MathJax"),de=!ue.empty()&&ie.select("svg").node();if(!de)a.log("There was an error in the tex syntax.",B),F();else{var me=de.getBoundingClientRect(),pe;K===2?pe=n.select("body").select("#MathJax_SVG_glyphs"):pe=ue.select("defs"),F(ue,pe,me)}ie.remove()},j=function(){if(fe!=="SVG")return MathJax.Hub.setRenderer(fe)},Q=function(){fe!=="svg"&&(MathJax.config.startup.output=fe)},q=function(){return ee!==void 0&&(MathJax.Hub.processSectionDelay=ee),MathJax.Hub.Config(se)},re=function(){MathJax.config=se};K===2?MathJax.Hub.Queue(J,L,G,Y,j,q):K===3&&(te(),N(),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){G(),Y(),Q(),re()}))}var g={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},p={sub:"0.3em",sup:"-0.6em"},d={sub:"-0.21em",sup:"0.42em"},b="​",y=["http:","https:","mailto:","",void 0,":"],x=o.NEWLINES=/(\r\n?|\n)/g,w=/(<[^<>]*>)/,C=/<(\/?)([^ >]*)(\s+(.*))?>/i,S=/<br(\s+.*)?>/i;o.BR_TAG_ALL=/<br(\s+.*)?>/gi;var T=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,M=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,D=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,k=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function R(B,W){if(!B)return null;var F=B.match(W),K=F&&(F[3]||F[4]);return K&&I(K)}var P=/(^|;)\s*color:/;o.plainText=function(B,W){W=W||{};for(var F=W.len!==void 0&&W.len!==-1?W.len:1/0,K=W.allowedTags!==void 0?W.allowedTags:["br"],fe="...",se=fe.length,ee=B.split(w),ie=[],J="",te=0,L=0;L<ee.length;L++){var N=ee[L],G=N.match(C),Y=G&&G[2].toLowerCase();if(Y)K.indexOf(Y)!==-1&&(ie.push(N),J=Y);else{var j=N.length;if(te+j<F)ie.push(N),te+=j;else if(te<F){var Q=F-te;J&&(J!=="br"||Q<=se||j<=se)&&ie.pop(),F>se?ie.push(N.substr(0,Q-se)+fe):ie.push(N.substr(0,Q));break}J=""}}return ie.join("")};var E={mu:"μ",amp:"&",lt:"<",gt:">",nbsp:" ",times:"×",plusmn:"±",deg:"°"},O=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function I(B){return B.replace(O,function(W,F){var K;return F.charAt(0)==="#"?K=U(F.charAt(1)==="x"?parseInt(F.substr(2),16):parseInt(F.substr(1),10)):K=E[F],K||W})}o.convertEntities=I;function U(B){if(!(B>1114111)){var W=String.fromCodePoint;if(W)return W(B);var F=String.fromCharCode;return B<=65535?F(B):F((B>>10)+55232,B%1024+56320)}}function V(B,W){W=W.replace(x," ");var F=!1,K=[],fe,se=-1;function ee(){se++;var ge=document.createElementNS(l.svg,"tspan");n.select(ge).attr({class:"line",dy:se*u+"em"}),B.appendChild(ge),fe=ge;var Te=K;if(K=[{node:ge}],Te.length>1)for(var He=1;He<Te.length;He++)ie(Te[He])}function ie(ge){var Te=ge.type,He={},Oe;if(Te==="a"){Oe="a";var tt=ge.target,Le=ge.href,De=ge.popup;Le&&(He={"xlink:xlink:show":tt==="_blank"||tt.charAt(0)!=="_"?"new":"replace",target:tt,"xlink:xlink:href":Le},De&&(He.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+De+'");return false;'))}else Oe="tspan";ge.style&&(He.style=ge.style);var Se=document.createElementNS(l.svg,Oe);if(Te==="sup"||Te==="sub"){J(fe,b),fe.appendChild(Se);var ze=document.createElementNS(l.svg,"tspan");J(ze,b),n.select(ze).attr("dy",d[Te]),He.dy=p[Te],fe.appendChild(Se),fe.appendChild(ze)}else fe.appendChild(Se);n.select(Se).attr(He),fe=ge.node=Se,K.push(ge)}function J(ge,Te){ge.appendChild(document.createTextNode(Te))}function te(ge){if(K.length===1){a.log("Ignoring unexpected end tag </"+ge+">.",W);return}var Te=K.pop();ge!==Te.type&&a.log("Start tag <"+Te.type+"> doesnt match end tag <"+ge+">. Pretending it did match.",W),fe=K[K.length-1].node}var L=S.test(W);L?ee():(fe=B,K=[{node:B}]);for(var N=W.split(w),G=0;G<N.length;G++){var Y=N[G],j=Y.match(C),Q=j&&j[2].toLowerCase(),q=g[Q];if(Q==="br")ee();else if(q===void 0)J(fe,I(Y));else if(j[1])te(Q);else{var re=j[4],ue={type:Q},de=R(re,T);if(de?(de=de.replace(P,"$1 fill:"),q&&(de+=";"+q)):q&&(de=q),de&&(ue.style=de),Q==="a"){F=!0;var me=R(re,M);if(me){var pe=Z(me);pe&&(ue.href=pe,ue.target=R(re,D)||"_blank",ue.popup=R(re,k))}}ie(ue)}}return F}function Z(B){var W=encodeURI(decodeURI(B)),F=document.createElement("a"),K=document.createElement("a");F.href=B,K.href=W;var fe=F.protocol,se=K.protocol;return y.indexOf(fe)!==-1&&y.indexOf(se)!==-1?W:""}o.sanitizeHTML=function(W){W=W.replace(x," ");for(var F=document.createElement("p"),K=F,fe=[],se=W.split(w),ee=0;ee<se.length;ee++){var ie=se[ee],J=ie.match(C),te=J&&J[2].toLowerCase();if(te in g)if(J[1])fe.length&&(K=fe.pop());else{var L=J[4],N=R(L,T),G=N?{style:N}:{};if(te==="a"){var Y=R(L,M);if(Y){var j=Z(Y);if(j){G.href=j;var Q=R(L,D);Q&&(G.target=Q)}}}var q=document.createElement(te);K.appendChild(q),n.select(q).attr(G),K=q,fe.push(q)}else K.appendChild(document.createTextNode(I(ie)))}var re="innerHTML";return F[re]},o.lineCount=function(W){return W.selectAll("tspan.line").size()||1},o.positionText=function(W,F,K){return W.each(function(){var fe=n.select(this);function se(J,te){return te===void 0?(te=fe.attr(J),te===null&&(fe.attr(J,0),te=0)):fe.attr(J,te),te}var ee=se("x",F),ie=se("y",K);this.nodeName==="text"&&fe.selectAll("tspan.line").attr({x:ee,y:ie})})};function z(B,W,F){var K=F.horizontalAlign,fe=F.verticalAlign||"top",se=B.node().getBoundingClientRect(),ee=W.node().getBoundingClientRect(),ie,J,te;return fe==="bottom"?J=function(){return se.bottom-ie.height}:fe==="middle"?J=function(){return se.top+(se.height-ie.height)/2}:J=function(){return se.top},K==="right"?te=function(){return se.right-ie.width}:K==="center"?te=function(){return se.left+(se.width-ie.width)/2}:te=function(){return se.left},function(){ie=this.node().getBoundingClientRect();var L=te()-ee.left,N=J()-ee.top,G=F.gd||{};if(F.gd){G._fullLayout._calcInverseTransform(G);var Y=a.apply3DTransform(G._fullLayout._invTransform)(L,N);L=Y[0],N=Y[1]}return this.style({top:N+"px",left:L+"px","z-index":1e3}),this}}var H="1px ";o.makeTextShadow=function(B){var W=H,F=H,K=H;return W+F+K+B+", -"+W+"-"+F+K+B+", "+W+"-"+F+K+B+", -"+W+F+K+B},o.makeEditable=function(B,W){var F=W.gd,K=W.delegate,fe=n.dispatch("edit","input","cancel"),se=K||B;if(B.style({"pointer-events":K?"none":"all"}),B.size()!==1)throw new Error("boo");function ee(){J(),B.style({opacity:0});var te=se.attr("class"),L;te?L="."+te.split(" ")[0]+"-math-group":L="[class*=-math-group]",L&&n.select(B.node().parentNode).select(L).style({opacity:0})}function ie(te){var L=te.node(),N=document.createRange();N.selectNodeContents(L);var G=window.getSelection();G.removeAllRanges(),G.addRange(N),L.focus()}function J(){var te=n.select(F),L=te.select(".svg-container"),N=L.append("div"),G=B.node().style,Y=parseFloat(G.fontSize||12),j=W.text;j===void 0&&(j=B.attr("data-unformatted")),N.classed("plugin-editable editable",!0).style({position:"absolute","font-family":G.fontFamily||"Arial","font-size":Y,color:W.fill||G.fill||"black",opacity:1,"background-color":W.background||"transparent",outline:"#ffffff33 1px solid",margin:[-Y/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(j).call(z(B,L,W)).on("blur",function(){F._editing=!1,B.text(this.textContent).style({opacity:1});var Q=n.select(this).attr("class"),q;Q?q="."+Q.split(" ")[0]+"-math-group":q="[class*=-math-group]",q&&n.select(B.node().parentNode).select(q).style({opacity:0});var re=this.textContent;n.select(this).transition().duration(0).remove(),n.select(document).on("mouseup",null),fe.edit.call(B,re)}).on("focus",function(){var Q=this;F._editing=!0,n.select(document).on("mouseup",function(){if(n.event.target===Q)return!1;document.activeElement===N.node()&&N.node().blur()})}).on("keyup",function(){n.event.which===27?(F._editing=!1,B.style({opacity:1}),n.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),fe.cancel.call(B,this.textContent)):(fe.input.call(B,this.textContent),n.select(this).call(z(B,L,W)))}).on("keydown",function(){n.event.which===13&&this.blur()}).call(ie)}return W.immediate?ee():se.on("click",ee),n.rebind(B,fe,"on")}},{"../constants/alignment":219,"../constants/xmlns_namespaces":225,"../lib":244,"@plotly/d3":11}],268:[function(r,i,o){var n={};o.throttle=function(l,u,c){var h=n[l],v=Date.now();if(!h){for(var f in n)n[f].ts<v-6e4&&delete n[f];h=n[l]={ts:0,timer:null}}a(h);function m(){c(),h.ts=Date.now(),h.onDone&&(h.onDone(),h.onDone=null)}if(v>h.ts+u){m();return}h.timer=setTimeout(function(){m(),h.timer=null},u)},o.done=function(s){var l=n[s];return!l||!l.timer?Promise.resolve():new Promise(function(u){var c=l.onDone;l.onDone=function(){c&&c(),u(),l.onDone=null}})},o.clear=function(s){if(s)a(n[s]),delete n[s];else for(var l in n)o.clear(l)};function a(s){s&&s.timer!==null&&(clearTimeout(s.timer),s.timer=null)}},{}],269:[function(r,i,o){var n=r("fast-isnumeric");i.exports=function(s,l){if(s>0)return Math.log(s)/Math.LN10;var u=Math.log(Math.min(l[0],l[1]))/Math.LN10;return n(u)||(u=Math.log(Math.max(l[0],l[1]))/Math.LN10-6),u}},{"fast-isnumeric":17}],270:[function(r,i,o){i.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},{}],271:[function(r,i,o){i.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},{}],272:[function(r,i,o){var n=r("../registry");i.exports=function(s){for(var l=n.layoutArrayContainers,u=n.layoutArrayRegexes,c=s.split("[")[0],h,v,f=0;f<u.length;f++)if(v=s.match(u[f]),v&&v.index===0){h=v[0];break}if(h||(h=l[l.indexOf(c)]),!h)return!1;var m=s.substr(h.length);return m?(v=m.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/),v?{array:h,index:Number(v[1]),property:v[3]||""}:!1):{array:h,index:"",property:""}}},{"../registry":327}],273:[function(r,i,o){var n=r("../lib"),a=n.extendFlat,s=n.isPlainObject,l={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},u={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},c=l.flags.slice().concat(["fullReplot"]),h=u.flags.slice().concat("layoutReplot");i.exports={traces:l,layout:u,traceFlags:function(){return v(c)},layoutFlags:function(){return v(h)},update:function(_,g){var p=g.editType;if(p&&p!=="none")for(var d=p.split("+"),b=0;b<d.length;b++)_[d[b]]=!0},overrideAll:f};function v(_){for(var g={},p=0;p<_.length;p++)g[_[p]]=!1;return g}function f(_,g,p){var d=a({},_);for(var b in d){var y=d[b];s(y)&&(d[b]=m(y,g,p,b))}return p==="from-root"&&(d.editType=g),d}function m(_,g,p,d){if(_.valType){var b=a({},_);if(b.editType=g,Array.isArray(_.items)){b.items=new Array(_.items.length);for(var y=0;y<_.items.length;y++)b.items[y]=m(_.items[y],g)}return b}else return f(_,g,d.charAt(0)==="_"?"nested":"from-root")}},{"../lib":244}],274:[function(r,i,o){var n=r("fast-isnumeric"),a=r("gl-mat4/fromQuat"),s=r("../registry"),l=r("../lib"),u=r("../plots/plots"),c=r("../plots/cartesian/axis_ids"),h=r("../components/color"),v=c.cleanId,f=c.getFromTrace,m=s.traceIs;o.clearPromiseQueue=function(S){Array.isArray(S._promises)&&S._promises.length>0&&l.log("Clearing previous rejected promises from queue."),S._promises=[]},o.cleanLayout=function(S){var T,M;S||(S={}),S.xaxis1&&(S.xaxis||(S.xaxis=S.xaxis1),delete S.xaxis1),S.yaxis1&&(S.yaxis||(S.yaxis=S.yaxis1),delete S.yaxis1),S.scene1&&(S.scene||(S.scene=S.scene1),delete S.scene1);var D=(u.subplotsRegistry.cartesian||{}).attrRegex,k=(u.subplotsRegistry.polar||{}).attrRegex,R=(u.subplotsRegistry.ternary||{}).attrRegex,P=(u.subplotsRegistry.gl3d||{}).attrRegex,E=Object.keys(S);for(T=0;T<E.length;T++){var O=E[T];if(D&&D.test(O)){var I=S[O];I.anchor&&I.anchor!=="free"&&(I.anchor=v(I.anchor)),I.overlaying&&(I.overlaying=v(I.overlaying)),I.type||(I.isdate?I.type="date":I.islog?I.type="log":I.isdate===!1&&I.islog===!1&&(I.type="linear")),(I.autorange==="withzero"||I.autorange==="tozero")&&(I.autorange=!0,I.rangemode="tozero"),delete I.islog,delete I.isdate,delete I.categories,y(I,"domain")&&delete I.domain,I.autotick!==void 0&&(I.tickmode===void 0&&(I.tickmode=I.autotick?"auto":"linear"),delete I.autotick),g(I)}else if(k&&k.test(O)){var U=S[O];g(U.radialaxis)}else if(R&&R.test(O)){var V=S[O];g(V.aaxis),g(V.baxis),g(V.caxis)}else if(P&&P.test(O)){var Z=S[O],z=Z.cameraposition;if(Array.isArray(z)&&z[0].length===4){var H=z[0],B=z[1],W=z[2],F=a([],H),K=[];for(M=0;M<3;++M)K[M]=B[M]+W*F[2+4*M];Z.camera={eye:{x:K[0],y:K[1],z:K[2]},center:{x:B[0],y:B[1],z:B[2]},up:{x:0,y:0,z:1}},delete Z.cameraposition}g(Z.xaxis),g(Z.yaxis),g(Z.zaxis)}}var fe=Array.isArray(S.annotations)?S.annotations.length:0;for(T=0;T<fe;T++){var se=S.annotations[T];l.isPlainObject(se)&&(se.ref&&(se.ref==="paper"?(se.xref="paper",se.yref="paper"):se.ref==="data"&&(se.xref="x",se.yref="y"),delete se.ref),_(se,"xref"),_(se,"yref"))}var ee=Array.isArray(S.shapes)?S.shapes.length:0;for(T=0;T<ee;T++){var ie=S.shapes[T];l.isPlainObject(ie)&&(_(ie,"xref"),_(ie,"yref"))}var J=Array.isArray(S.images)?S.images.length:0;for(T=0;T<J;T++){var te=S.images[T];l.isPlainObject(te)&&(_(te,"xref"),_(te,"yref"))}var L=S.legend;return L&&(L.x>3?(L.x=1.02,L.xanchor="left"):L.x<-2&&(L.x=-.02,L.xanchor="right"),L.y>3?(L.y=1.02,L.yanchor="bottom"):L.y<-2&&(L.y=-.02,L.yanchor="top")),g(S),S.dragmode==="rotate"&&(S.dragmode="orbit"),h.clean(S),S.template&&S.template.layout&&o.cleanLayout(S.template.layout),S};function _(S,T){var M=S[T],D=T.charAt(0);M&&M!=="paper"&&(S[T]=v(M,D,!0))}function g(S){S&&((typeof S.title=="string"||typeof S.title=="number")&&(S.title={text:S.title}),T("titlefont","font"),T("titleposition","position"),T("titleside","side"),T("titleoffset","offset"));function T(M,D){var k=S[M],R=S.title&&S.title[D];k&&!R&&(S.title||(S.title={}),S.title[D]=S[M],delete S[M])}}o.cleanData=function(S){for(var T=0;T<S.length;T++){var M=S[T],D;if(M.type==="histogramy"&&"xbins"in M&&!("ybins"in M)&&(M.ybins=M.xbins,delete M.xbins),M.error_y&&"opacity"in M.error_y){var k=h.defaults,R=M.error_y.color||(m(M,"bar")?h.defaultLine:k[T%k.length]);M.error_y.color=h.addOpacity(h.rgb(R),h.opacity(R)*M.error_y.opacity),delete M.error_y.opacity}if("bardir"in M&&(M.bardir==="h"&&(m(M,"bar")||M.type.substr(0,9)==="histogram")&&(M.orientation="h",o.swapXYData(M)),delete M.bardir),M.type==="histogramy"&&o.swapXYData(M),(M.type==="histogramx"||M.type==="histogramy")&&(M.type="histogram"),"scl"in M&&!("colorscale"in M)&&(M.colorscale=M.scl,delete M.scl),"reversescl"in M&&!("reversescale"in M)&&(M.reversescale=M.reversescl,delete M.reversescl),M.xaxis&&(M.xaxis=v(M.xaxis,"x")),M.yaxis&&(M.yaxis=v(M.yaxis,"y")),m(M,"gl3d")&&M.scene&&(M.scene=u.subplotsRegistry.gl3d.cleanId(M.scene)),!m(M,"pie-like")&&!m(M,"bar-like"))if(Array.isArray(M.textposition))for(D=0;D<M.textposition.length;D++)M.textposition[D]=b(M.textposition[D]);else M.textposition&&(M.textposition=b(M.textposition));var P=s.getModule(M);if(P&&P.colorbar){var E=P.colorbar.container,O=E?M[E]:M;O&&O.colorscale&&(O.colorscale==="YIGnBu"&&(O.colorscale="YlGnBu"),O.colorscale==="YIOrRd"&&(O.colorscale="YlOrRd"))}if(M.type==="surface"&&l.isPlainObject(M.contours)){var I=["x","y","z"];for(D=0;D<I.length;D++){var U=M.contours[I[D]];l.isPlainObject(U)&&(U.highlightColor&&(U.highlightcolor=U.highlightColor,delete U.highlightColor),U.highlightWidth&&(U.highlightwidth=U.highlightWidth,delete U.highlightWidth))}}if(M.type==="candlestick"||M.type==="ohlc"){var V=(M.increasing||{}).showlegend!==!1,Z=(M.decreasing||{}).showlegend!==!1,z=p(M.increasing),H=p(M.decreasing);if(z!==!1&&H!==!1){var B=d(z,H,V,Z);B&&(M.name=B)}else(z||H)&&!M.name&&(M.name=z||H)}if(Array.isArray(M.transforms)){var W=M.transforms;for(D=0;D<W.length;D++){var F=W[D];if(l.isPlainObject(F))switch(F.type){case"filter":F.filtersrc&&(F.target=F.filtersrc,delete F.filtersrc),F.calendar&&(F.valuecalendar||(F.valuecalendar=F.calendar),delete F.calendar);break;case"groupby":if(F.styles=F.styles||F.style,F.styles&&!Array.isArray(F.styles)){var K=F.styles,fe=Object.keys(K);F.styles=[];for(var se=0;se<fe.length;se++)F.styles.push({target:fe[se],value:K[fe[se]]})}break}}}y(M,"line")&&delete M.line,"marker"in M&&(y(M.marker,"line")&&delete M.marker.line,y(M,"marker")&&delete M.marker),h.clean(M),M.autobinx&&(delete M.autobinx,delete M.xbins),M.autobiny&&(delete M.autobiny,delete M.ybins),g(M),M.colorbar&&g(M.colorbar),M.marker&&M.marker.colorbar&&g(M.marker.colorbar),M.line&&M.line.colorbar&&g(M.line.colorbar),M.aaxis&&g(M.aaxis),M.baxis&&g(M.baxis)}};function p(S){if(!l.isPlainObject(S))return!1;var T=S.name;return delete S.name,delete S.showlegend,(typeof T=="string"||typeof T=="number")&&String(T)}function d(S,T,M,D){if(M&&!D)return S;if(D&&!M||!S.trim())return T;if(!T.trim())return S;var k=Math.min(S.length,T.length),R;for(R=0;R<k&&S.charAt(R)===T.charAt(R);R++);var P=S.substr(0,R);return P.trim()}function b(S){var T="middle",M="center";return typeof S=="string"&&(S.indexOf("top")!==-1?T="top":S.indexOf("bottom")!==-1&&(T="bottom"),S.indexOf("left")!==-1?M="left":S.indexOf("right")!==-1&&(M="right")),T+" "+M}function y(S,T){return T in S&&typeof S[T]=="object"&&Object.keys(S[T]).length===0}o.swapXYData=function(S){var T;if(l.swapAttrs(S,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(S.z)&&Array.isArray(S.z[0])&&(S.transpose?delete S.transpose:S.transpose=!0),S.error_x&&S.error_y){var M=S.error_y,D="copy_ystyle"in M?M.copy_ystyle:!(M.color||M.thickness||M.width);l.swapAttrs(S,["error_?.copy_ystyle"]),D&&l.swapAttrs(S,["error_?.color","error_?.thickness","error_?.width"])}if(typeof S.hoverinfo=="string"){var k=S.hoverinfo.split("+");for(T=0;T<k.length;T++)k[T]==="x"?k[T]="y":k[T]==="y"&&(k[T]="x");S.hoverinfo=k.join("+")}},o.coerceTraceIndices=function(S,T){if(n(T))return[T];if(!Array.isArray(T)||!T.length)return S.data.map(function(k,R){return R});if(Array.isArray(T)){for(var M=[],D=0;D<T.length;D++)l.isIndex(T[D],S.data.length)?M.push(T[D]):l.warn("trace index (",T[D],") is not a number or is out of bounds");return M}return T},o.manageArrayContainers=function(S,T,M){var D=S.obj,k=S.parts,R=k.length,P=k[R-1],E=n(P);if(E&&T===null){var O=k.slice(0,R-1).join("."),I=l.nestedProperty(D,O).get();I.splice(P,1)}else E&&S.get()===void 0&&S.get()===void 0&&(M[S.astr]=null),S.set(T)};var x=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function w(S){var T=S.search(x);if(T>0)return S.substr(0,T)}o.hasParent=function(S,T){for(var M=w(T);M;){if(M in S)return!0;M=w(M)}return!1};var C=["x","y","z"];o.clearAxisTypes=function(S,T,M){for(var D=0;D<T.length;D++)for(var k=S._fullData[D],R=0;R<3;R++){var P=f(S,k,C[R]);if(P&&P.type!=="log"){var E=P._name,O=P._id.substr(1);if(O.substr(0,5)==="scene"){if(M[O]!==void 0)continue;E=O+"."+E}var I=E+".type";M[E]===void 0&&M[I]===void 0&&l.nestedProperty(S.layout,I).set(null)}}}},{"../components/color":103,"../lib":244,"../plots/cartesian/axis_ids":295,"../plots/plots":325,"../registry":327,"fast-isnumeric":17,"gl-mat4/fromQuat":23}],275:[function(r,i,o){var n=r("./plot_api");o._doPlot=n._doPlot,o.newPlot=n.newPlot,o.restyle=n.restyle,o.relayout=n.relayout,o.redraw=n.redraw,o.update=n.update,o._guiRestyle=n._guiRestyle,o._guiRelayout=n._guiRelayout,o._guiUpdate=n._guiUpdate,o._storeDirectGUIEdit=n._storeDirectGUIEdit,o.react=n.react,o.extendTraces=n.extendTraces,o.prependTraces=n.prependTraces,o.addTraces=n.addTraces,o.deleteTraces=n.deleteTraces,o.moveTraces=n.moveTraces,o.purge=n.purge,o.addFrames=n.addFrames,o.deleteFrames=n.deleteFrames,o.animate=n.animate,o.setPlotConfig=n.setPlotConfig,o.toImage=r("./to_image"),o.validate=r("./validate"),o.downloadImage=r("../snapshot/download");var a=r("./template_api");o.makeTemplate=a.makeTemplate,o.validateTemplate=a.validateTemplate},{"../snapshot/download":329,"./plot_api":277,"./template_api":282,"./to_image":283,"./validate":284}],276:[function(r,i,o){var n=r("../lib/is_plain_object"),a=r("../lib/noop"),s=r("../lib/loggers"),l=r("../lib/search").sorterAsc,u=r("../registry");o.containerArrayMatch=r("./container_array_match");var c=o.isAddVal=function(f){return f==="add"||n(f)},h=o.isRemoveVal=function(f){return f===null||f==="remove"};o.applyContainerArrayChanges=function(f,m,_,g,p){var d=m.astr,b=u.getComponentMethod(d,"supplyLayoutDefaults"),y=u.getComponentMethod(d,"draw"),x=u.getComponentMethod(d,"drawOne"),w=g.replot||g.recalc||b===a||y===a,C=f.layout,S=f._fullLayout;if(_[""]){Object.keys(_).length>1&&s.warn("Full array edits are incompatible with other edits",d);var T=_[""][""];if(h(T))m.set(null);else if(Array.isArray(T))m.set(T);else return s.warn("Unrecognized full array edit value",d,T),!0;return w?!1:(b(C,S),y(f),!0)}var M=Object.keys(_).map(Number).sort(l),D=m.get(),k=D||[],R=p(S,d).get(),P=[],E=-1,O=k.length,I,U,V,Z,z,H,B,W;for(I=0;I<M.length;I++){if(V=M[I],Z=_[V],z=Object.keys(Z),H=Z[""],B=c(H),V<0||V>k.length-(B?0:1)){s.warn("index out of range",d,V);continue}if(H!==void 0)z.length>1&&s.warn("Insertion & removal are incompatible with edits to the same index.",d,V),h(H)?P.push(V):B?(H==="add"&&(H={}),k.splice(V,0,H),R&&R.splice(V,0,{})):s.warn("Unrecognized full object edit value",d,V,H),E===-1&&(E=V);else for(U=0;U<z.length;U++)W=d+"["+V+"].",p(k[V],z[U],W).set(Z[z[U]])}for(I=P.length-1;I>=0;I--)k.splice(P[I],1),R&&R.splice(P[I],1);if(k.length?D||m.set(k):m.set(null),w)return!1;if(b(C,S),x!==a){var F;if(E===-1)F=M;else{for(O=Math.max(k.length,O),F=[],I=0;I<M.length&&(V=M[I],!(V>=E));I++)F.push(V);for(I=E;I<O;I++)F.push(I)}for(I=0;I<F.length;I++)x(f,F[I])}else y(f);return!0}},{"../lib/is_plain_object":245,"../lib/loggers":248,"../lib/noop":253,"../lib/search":263,"../registry":327,"./container_array_match":272}],277:[function(r,i,o){var n=r("@plotly/d3"),a=r("fast-isnumeric"),s=r("has-hover"),l=r("../lib"),u=l.nestedProperty,c=r("../lib/events"),h=r("../lib/queue"),v=r("../registry"),f=r("./plot_schema"),m=r("../plots/plots"),_=r("../plots/cartesian/axes"),g=r("../components/drawing"),p=r("../components/color"),d=r("../plots/cartesian/graph_interact").initInteractions,b=r("../constants/xmlns_namespaces"),y=r("../components/selections").clearOutline,x=r("./plot_config").dfltConfig,w=r("./manage_arrays"),C=r("./helpers"),S=r("./subroutines"),T=r("./edit_types"),M=r("../plots/cartesian/constants").AX_NAME_PATTERN,D=0,k=5;function R(ce,Ce,Ae,ke){var xe;if(ce=l.getGraphDiv(ce),c.init(ce),l.isPlainObject(Ce)){var ye=Ce;Ce=ye.data,Ae=ye.layout,ke=ye.config,xe=ye.frames}var Ee=c.triggerHandler(ce,"plotly_beforeplot",[Ce,Ae,ke]);if(Ee===!1)return Promise.reject();!Ce&&!Ae&&!l.isPlotDiv(ce)&&l.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",ce);function $e(){if(xe)return o.addFrames(ce,xe)}U(ce,ke),Ae||(Ae={}),n.select(ce).classed("js-plotly-plot",!0),g.makeTester(),Array.isArray(ce._promises)||(ce._promises=[]);var Ie=(ce.data||[]).length===0&&Array.isArray(Ce);Array.isArray(Ce)&&(C.cleanData(Ce),Ie?ce.data=Ce:ce.data.push.apply(ce.data,Ce),ce.empty=!1),(!ce.layout||Ie)&&(ce.layout=C.cleanLayout(Ae)),m.supplyDefaults(ce);var Be=ce._fullLayout,st=Be._has("cartesian");Be._replotting=!0,(Ie||Be._shouldCreateBgLayer)&&(Ue(ce),Be._shouldCreateBgLayer&&delete Be._shouldCreateBgLayer),g.initGradients(ce),g.initPatterns(ce),Ie&&_.saveShowSpikeInitial(ce);var gt=!ce.calcdata||ce.calcdata.length!==(ce._fullData||[]).length;gt&&m.doCalcdata(ce);for(var wt=0;wt<ce.calcdata.length;wt++)ce.calcdata[wt][0].trace=ce._fullData[wt];ce._context.responsive?ce._responsiveChartHandler||(ce._responsiveChartHandler=function(){l.isHidden(ce)||m.resize(ce)},window.addEventListener("resize",ce._responsiveChartHandler)):l.clearResponsive(ce);var Wt=l.extendFlat({},Be._size),Yt=0;function qt(){for(var Dt=Be._basePlotModules,er=0;er<Dt.length;er++)Dt[er].drawFramework&&Dt[er].drawFramework(ce);!Be._glcanvas&&Be._has("gl")&&(Be._glcanvas=Be._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(Ne){return Ne.key}),Be._glcanvas.enter().append("canvas").attr("class",function(Ne){return"gl-canvas gl-canvas-"+Ne.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var tr=ce._context.plotGlPixelRatio;if(Be._glcanvas){Be._glcanvas.attr("width",Be.width*tr).attr("height",Be.height*tr).style("width",Be.width+"px").style("height",Be.height+"px");var he=Be._glcanvas.data()[0].regl;if(he&&(Math.floor(Be.width*tr)!==he._gl.drawingBufferWidth||Math.floor(Be.height*tr)!==he._gl.drawingBufferHeight)){var le="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(Yt)l.error(le);else return l.log(le+" Clearing graph and plotting again."),m.cleanPlot([],{},ce._fullData,Be),m.supplyDefaults(ce),Be=ce._fullLayout,m.doCalcdata(ce),Yt++,qt()}}return Be.modebar.orientation==="h"?Be._modebardiv.style("height",null).style("width","100%"):Be._modebardiv.style("width",null).style("height",Be.height+"px"),m.previousPromises(ce)}function Bt(){if(m.clearAutoMarginIds(ce),S.drawMarginPushers(ce),_.allowAutoMargin(ce),Be._has("pie"))for(var Dt=ce._fullData,er=0;er<Dt.length;er++){var tr=Dt[er];tr.type==="pie"&&tr.automargin&&m.allowAutoMargin(ce,"pie."+tr.uid+".automargin")}return m.doAutoMargin(ce),m.previousPromises(ce)}function Ut(){if(m.didMarginChange(Wt,Be._size))return l.syncOrAsync([Bt,S.layoutStyles],ce)}function Nt(){if(!gt){dt();return}return l.syncOrAsync([v.getComponentMethod("shapes","calcAutorange"),v.getComponentMethod("annotations","calcAutorange"),dt],ce)}function dt(){ce._transitioning||(S.doAutoRangeAndConstraints(ce),Ie&&_.saveRangeInitial(ce),v.getComponentMethod("rangeslider","calcAutorange")(ce))}function Vt(){return _.draw(ce,Ie?"":"redraw")}var Gt=[m.previousPromises,$e,qt,Bt,Ut];st&&Gt.push(Nt),Gt.push(S.layoutStyles),st&&Gt.push(Vt,function(er){er._fullLayout._insideTickLabelsAutorange&&ue(er,er._fullLayout._insideTickLabelsAutorange).then(function(){er._fullLayout._insideTickLabelsAutorange=void 0})}),Gt.push(S.drawData,S.finalDraw,d,m.addLinks,m.rehover,m.redrag,m.reselect,m.doAutoMargin,rr,m.previousPromises);function rr(Dt){Dt._fullLayout._insideTickLabelsAutorange&&Ie&&_.saveRangeInitial(Dt,!0)}var Jt=l.syncOrAsync(Gt,ce);return(!Jt||!Jt.then)&&(Jt=Promise.resolve()),Jt.then(function(){return P(ce),ce})}function P(ce){var Ce=ce._fullLayout;Ce._redrawFromAutoMarginCount?Ce._redrawFromAutoMarginCount--:ce.emit("plotly_afterplot")}function E(ce){return l.extendFlat(x,ce)}function O(ce,Ce){try{ce._fullLayout._paper.style("background",Ce)}catch(Ae){l.error(Ae)}}function I(ce,Ce){var Ae=p.combine(Ce,"white");O(ce,Ae)}function U(ce,Ce){if(!ce._context){ce._context=l.extendDeep({},x);var Ae=n.select("base");ce._context._baseUrl=Ae.size()&&Ae.attr("href")?window.location.href.split("#")[0]:""}var ke=ce._context,xe,ye,Ee;if(Ce){for(ye=Object.keys(Ce),xe=0;xe<ye.length;xe++)Ee=ye[xe],!(Ee==="editable"||Ee==="edits")&&Ee in ke&&(Ee==="setBackground"&&Ce[Ee]==="opaque"?ke[Ee]=I:ke[Ee]=Ce[Ee]);Ce.plot3dPixelRatio&&!ke.plotGlPixelRatio&&(ke.plotGlPixelRatio=ke.plot3dPixelRatio);var $e=Ce.editable;if($e!==void 0)for(ke.editable=$e,ye=Object.keys(ke.edits),xe=0;xe<ye.length;xe++)ke.edits[ye[xe]]=$e;if(Ce.edits)for(ye=Object.keys(Ce.edits),xe=0;xe<ye.length;xe++)Ee=ye[xe],Ee in ke.edits&&(ke.edits[Ee]=Ce.edits[Ee]);ke._exportedPlot=Ce._exportedPlot}ke.staticPlot&&(ke.editable=!1,ke.edits={},ke.autosizable=!1,ke.scrollZoom=!1,ke.doubleClick=!1,ke.showTips=!1,ke.showLink=!1,ke.displayModeBar=!1),ke.displayModeBar==="hover"&&!s&&(ke.displayModeBar=!0),(ke.setBackground==="transparent"||typeof ke.setBackground!="function")&&(ke.setBackground=O),ke._hasZeroHeight=ke._hasZeroHeight||ce.clientHeight===0,ke._hasZeroWidth=ke._hasZeroWidth||ce.clientWidth===0;var Ie=ke.scrollZoom,Be=ke._scrollZoom={};if(Ie===!0)Be.cartesian=1,Be.gl3d=1,Be.geo=1,Be.mapbox=1;else if(typeof Ie=="string"){var st=Ie.split("+");for(xe=0;xe<st.length;xe++)Be[st[xe]]=1}else Ie!==!1&&(Be.gl3d=1,Be.geo=1,Be.mapbox=1)}function V(ce){if(ce=l.getGraphDiv(ce),!l.isPlotDiv(ce))throw new Error("This element is not a Plotly plot: "+ce);return C.cleanData(ce.data),C.cleanLayout(ce.layout),ce.calcdata=void 0,o._doPlot(ce).then(function(){return ce.emit("plotly_redraw"),ce})}function Z(ce,Ce,Ae,ke){return ce=l.getGraphDiv(ce),m.cleanPlot([],{},ce._fullData||[],ce._fullLayout||{}),m.purge(ce),o._doPlot(ce,Ce,Ae,ke)}function z(ce,Ce){var Ae=Ce+1,ke=[],xe,ye;for(xe=0;xe<ce.length;xe++)ye=ce[xe],ye<0?ke.push(Ae+ye):ke.push(ye);return ke}function H(ce,Ce,Ae){var ke,xe;for(ke=0;ke<Ce.length;ke++){if(xe=Ce[ke],xe!==parseInt(xe,10))throw new Error("all values in "+Ae+" must be integers");if(xe>=ce.data.length||xe<-ce.data.length)throw new Error(Ae+" must be valid indices for gd.data.");if(Ce.indexOf(xe,ke+1)>-1||xe>=0&&Ce.indexOf(-ce.data.length+xe)>-1||xe<0&&Ce.indexOf(ce.data.length+xe)>-1)throw new Error("each index in "+Ae+" must be unique.")}}function B(ce,Ce,Ae){if(!Array.isArray(ce.data))throw new Error("gd.data must be an array.");if(typeof Ce>"u")throw new Error("currentIndices is a required argument.");if(Array.isArray(Ce)||(Ce=[Ce]),H(ce,Ce,"currentIndices"),typeof Ae<"u"&&!Array.isArray(Ae)&&(Ae=[Ae]),typeof Ae<"u"&&H(ce,Ae,"newIndices"),typeof Ae<"u"&&Ce.length!==Ae.length)throw new Error("current and new indices must be of equal length.")}function W(ce,Ce,Ae){var ke,xe;if(!Array.isArray(ce.data))throw new Error("gd.data must be an array.");if(typeof Ce>"u")throw new Error("traces must be defined.");for(Array.isArray(Ce)||(Ce=[Ce]),ke=0;ke<Ce.length;ke++)if(xe=Ce[ke],typeof xe!="object"||Array.isArray(xe)||xe===null)throw new Error("all values in traces array must be non-array objects");if(typeof Ae<"u"&&!Array.isArray(Ae)&&(Ae=[Ae]),typeof Ae<"u"&&Ae.length!==Ce.length)throw new Error("if indices is specified, traces.length must equal indices.length")}function F(ce,Ce,Ae,ke){var xe=l.isPlainObject(ke);if(!Array.isArray(ce.data))throw new Error("gd.data must be an array");if(!l.isPlainObject(Ce))throw new Error("update must be a key:value object");if(typeof Ae>"u")throw new Error("indices must be an integer or array of integers");H(ce,Ae,"indices");for(var ye in Ce){if(!Array.isArray(Ce[ye])||Ce[ye].length!==Ae.length)throw new Error("attribute "+ye+" must be an array of length equal to indices array length");if(xe&&(!(ye in ke)||!Array.isArray(ke[ye])||ke[ye].length!==Ce[ye].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}function K(ce,Ce,Ae,ke){var xe=l.isPlainObject(ke),ye=[],Ee,$e,Ie,Be,st;Array.isArray(Ae)||(Ae=[Ae]),Ae=z(Ae,ce.data.length-1);for(var gt in Ce)for(var wt=0;wt<Ae.length;wt++){if(Ee=ce.data[Ae[wt]],Ie=u(Ee,gt),$e=Ie.get(),Be=Ce[gt][wt],!l.isArrayOrTypedArray(Be))throw new Error("attribute: "+gt+" index: "+wt+" must be an array");if(!l.isArrayOrTypedArray($e))throw new Error("cannot extend missing or non-array attribute: "+gt);if($e.constructor!==Be.constructor)throw new Error("cannot extend array with an array of a different type: "+gt);st=xe?ke[gt][wt]:ke,a(st)||(st=-1),ye.push({prop:Ie,target:$e,insert:Be,maxp:Math.floor(st)})}return ye}function fe(ce,Ce,Ae,ke,xe){F(ce,Ce,Ae,ke);for(var ye=K(ce,Ce,Ae,ke),Ee={},$e={},Ie=0;Ie<ye.length;Ie++){var Be=ye[Ie].prop,st=ye[Ie].maxp,gt=xe(ye[Ie].target,ye[Ie].insert,st);Be.set(gt[0]),Array.isArray(Ee[Be.astr])||(Ee[Be.astr]=[]),Ee[Be.astr].push(gt[1]),Array.isArray($e[Be.astr])||($e[Be.astr]=[]),$e[Be.astr].push(ye[Ie].target.length)}return{update:Ee,maxPoints:$e}}function se(ce,Ce){var Ae=new ce.constructor(ce.length+Ce.length);return Ae.set(ce),Ae.set(Ce,ce.length),Ae}function ee(ce,Ce,Ae,ke){ce=l.getGraphDiv(ce);function xe(Ie,Be,st){var gt,wt;if(l.isTypedArray(Ie))if(st<0){var Wt=new Ie.constructor(0),Yt=se(Ie,Be);st<0?(gt=Yt,wt=Wt):(gt=Wt,wt=Yt)}else if(gt=new Ie.constructor(st),wt=new Ie.constructor(Ie.length+Be.length-st),st===Be.length)gt.set(Be),wt.set(Ie);else if(st<Be.length){var qt=Be.length-st;gt.set(Be.subarray(qt)),wt.set(Ie),wt.set(Be.subarray(0,qt),Ie.length)}else{var Bt=st-Be.length,Ut=Ie.length-Bt;gt.set(Ie.subarray(Ut)),gt.set(Be,Bt),wt.set(Ie.subarray(0,Ut))}else gt=Ie.concat(Be),wt=st>=0&&st<gt.length?gt.splice(0,gt.length-st):[];return[gt,wt]}var ye=fe(ce,Ce,Ae,ke,xe),Ee=o.redraw(ce),$e=[ce,ye.update,Ae,ye.maxPoints];return h.add(ce,o.prependTraces,$e,ee,arguments),Ee}function ie(ce,Ce,Ae,ke){ce=l.getGraphDiv(ce);function xe(Ie,Be,st){var gt,wt;if(l.isTypedArray(Ie))if(st<=0){var Wt=new Ie.constructor(0),Yt=se(Be,Ie);st<0?(gt=Yt,wt=Wt):(gt=Wt,wt=Yt)}else if(gt=new Ie.constructor(st),wt=new Ie.constructor(Ie.length+Be.length-st),st===Be.length)gt.set(Be),wt.set(Ie);else if(st<Be.length){var qt=Be.length-st;gt.set(Be.subarray(0,qt)),wt.set(Be.subarray(qt)),wt.set(Ie,qt)}else{var Bt=st-Be.length;gt.set(Be),gt.set(Ie.subarray(0,Bt),Be.length),wt.set(Ie.subarray(Bt))}else gt=Be.concat(Ie),wt=st>=0&&st<gt.length?gt.splice(st,gt.length):[];return[gt,wt]}var ye=fe(ce,Ce,Ae,ke,xe),Ee=o.redraw(ce),$e=[ce,ye.update,Ae,ye.maxPoints];return h.add(ce,o.extendTraces,$e,ie,arguments),Ee}function J(ce,Ce,Ae){ce=l.getGraphDiv(ce);var ke=[],xe=o.deleteTraces,ye=J,Ee=[ce,ke],$e=[ce,Ce],Ie,Be;for(W(ce,Ce,Ae),Array.isArray(Ce)||(Ce=[Ce]),Ce=Ce.map(function(st){return l.extendFlat({},st)}),C.cleanData(Ce),Ie=0;Ie<Ce.length;Ie++)ce.data.push(Ce[Ie]);for(Ie=0;Ie<Ce.length;Ie++)ke.push(-Ce.length+Ie);if(typeof Ae>"u")return Be=o.redraw(ce),h.add(ce,xe,Ee,ye,$e),Be;Array.isArray(Ae)||(Ae=[Ae]);try{B(ce,ke,Ae)}catch(st){throw ce.data.splice(ce.data.length-Ce.length,Ce.length),st}return h.startSequence(ce),h.add(ce,xe,Ee,ye,$e),Be=o.moveTraces(ce,ke,Ae),h.stopSequence(ce),Be}function te(ce,Ce){ce=l.getGraphDiv(ce);var Ae=[],ke=o.addTraces,xe=te,ye=[ce,Ae,Ce],Ee=[ce,Ce],$e,Ie;if(typeof Ce>"u")throw new Error("indices must be an integer or array of integers.");for(Array.isArray(Ce)||(Ce=[Ce]),H(ce,Ce,"indices"),Ce=z(Ce,ce.data.length-1),Ce.sort(l.sorterDes),$e=0;$e<Ce.length;$e+=1)Ie=ce.data.splice(Ce[$e],1)[0],Ae.push(Ie);var Be=o.redraw(ce);return h.add(ce,ke,ye,xe,Ee),Be}function L(ce,Ce,Ae){ce=l.getGraphDiv(ce);var ke=[],xe=[],ye=L,Ee=L,$e=[ce,Ae,Ce],Ie=[ce,Ce,Ae],Be;if(B(ce,Ce,Ae),Ce=Array.isArray(Ce)?Ce:[Ce],typeof Ae>"u")for(Ae=[],Be=0;Be<Ce.length;Be++)Ae.push(-Ce.length+Be);for(Ae=Array.isArray(Ae)?Ae:[Ae],Ce=z(Ce,ce.data.length-1),Ae=z(Ae,ce.data.length-1),Be=0;Be<ce.data.length;Be++)Ce.indexOf(Be)===-1&&ke.push(ce.data[Be]);for(Be=0;Be<Ce.length;Be++)xe.push({newIndex:Ae[Be],trace:ce.data[Ce[Be]]});for(xe.sort(function(gt,wt){return gt.newIndex-wt.newIndex}),Be=0;Be<xe.length;Be+=1)ke.splice(xe[Be].newIndex,0,xe[Be].trace);ce.data=ke;var st=o.redraw(ce);return h.add(ce,ye,$e,Ee,Ie),st}function N(ce,Ce,Ae,ke){ce=l.getGraphDiv(ce),C.clearPromiseQueue(ce);var xe={};if(typeof Ce=="string")xe[Ce]=Ae;else if(l.isPlainObject(Ce))xe=l.extendFlat({},Ce),ke===void 0&&(ke=Ae);else return l.warn("Restyle fail.",Ce,Ae,ke),Promise.reject();Object.keys(xe).length&&(ce.changed=!0);var ye=C.coerceTraceIndices(ce,ke),Ee=q(ce,xe,ye),$e=Ee.flags;$e.calc&&(ce.calcdata=void 0),$e.clearAxisTypes&&C.clearAxisTypes(ce,ye,{});var Ie=[];$e.fullReplot?Ie.push(o._doPlot):(Ie.push(m.previousPromises),m.supplyDefaults(ce),$e.markerSize&&(m.doCalcdata(ce),me(Ie)),$e.style&&Ie.push(S.doTraceStyle),$e.colorbars&&Ie.push(S.doColorBars),Ie.push(P)),Ie.push(m.rehover,m.redrag,m.reselect),h.add(ce,N,[ce,Ee.undoit,Ee.traces],N,[ce,Ee.redoit,Ee.traces]);var Be=l.syncOrAsync(Ie,ce);return(!Be||!Be.then)&&(Be=Promise.resolve()),Be.then(function(){return ce.emit("plotly_restyle",Ee.eventData),ce})}function G(ce){return ce===void 0?null:ce}function Y(ce,Ce){return Ce?function(Ae,ke,xe){var ye=u(Ae,ke),Ee=ye.set;return ye.set=function($e){var Ie=(xe||"")+ke;j(Ie,ye.get(),$e,ce),Ee($e)},ye}:u}function j(ce,Ce,Ae,ke){if(Array.isArray(Ce)||Array.isArray(Ae))for(var xe=Array.isArray(Ce)?Ce:[],ye=Array.isArray(Ae)?Ae:[],Ee=Math.max(xe.length,ye.length),$e=0;$e<Ee;$e++)j(ce+"["+$e+"]",xe[$e],ye[$e],ke);else if(l.isPlainObject(Ce)||l.isPlainObject(Ae)){var Ie=l.isPlainObject(Ce)?Ce:{},Be=l.isPlainObject(Ae)?Ae:{},st=l.extendFlat({},Ie,Be);for(var gt in st)j(ce+"."+gt,Ie[gt],Be[gt],ke)}else ke[ce]===void 0&&(ke[ce]=G(Ce))}function Q(ce,Ce,Ae){for(var ke in Ae){var xe=u(ce,ke);j(ke,xe.get(),Ae[ke],Ce)}}function q(ce,Ce,Ae){var ke=ce._fullLayout,xe=ce._fullData,ye=ce.data,Ee=ke._guiEditing,$e=Y(ke._preGUI,Ee),Ie=l.extendDeepAll({},Ce),Be;re(Ce);var st=T.traceFlags(),gt={},wt={},Wt;function Yt(){return Ae.map(function(){})}function qt(Xt){var $t=_.id2name(Xt);Wt.indexOf($t)===-1&&Wt.push($t)}function Bt(Xt){return"LAYOUT"+Xt+".autorange"}function Ut(Xt){return"LAYOUT"+Xt+".range"}function Nt(Xt){for(var $t=Xt;$t<xe.length;$t++)if(xe[$t]._input===ye[Xt])return xe[$t]}function dt(Xt,$t,ar){if(Array.isArray(Xt)){Xt.forEach(function(vr){dt(vr,$t,ar)});return}if(!(Xt in Ce||C.hasParent(Ce,Xt))){var ir;if(Xt.substr(0,6)==="LAYOUT")ir=$e(ce.layout,Xt.replace("LAYOUT",""));else{var cr=Ae[ar],dr=ke._tracePreGUI[Nt(cr)._fullInput.uid];ir=Y(dr,Ee)(ye[cr],Xt)}Xt in wt||(wt[Xt]=Yt()),wt[Xt][ar]===void 0&&(wt[Xt][ar]=G(ir.get())),$t!==void 0&&ir.set($t)}}function Vt(Xt){return function($t){return xe[$t][Xt]}}function Gt(Xt){return function($t,ar){return $t===!1?xe[Ae[ar]][Xt]:null}}for(var rr in Ce){if(C.hasParent(Ce,rr))throw new Error("cannot set "+rr+" and a parent attribute simultaneously");var Jt=Ce[rr],Dt,er,tr,he,le,Ne;if((rr==="autobinx"||rr==="autobiny")&&(rr=rr.charAt(rr.length-1)+"bins",Array.isArray(Jt)?Jt=Jt.map(Gt(rr)):Jt===!1?Jt=Ae.map(Vt(rr)):Jt=null),gt[rr]=Jt,rr.substr(0,6)==="LAYOUT"){tr=$e(ce.layout,rr.replace("LAYOUT","")),wt[rr]=[G(tr.get())],tr.set(Array.isArray(Jt)?Jt[0]:Jt),st.calc=!0;continue}for(wt[rr]=Yt(),Be=0;Be<Ae.length;Be++){Dt=ye[Ae[Be]],er=Nt(Ae[Be]);var Fe=ke._tracePreGUI[er._fullInput.uid];if(tr=Y(Fe,Ee)(Dt,rr),he=tr.get(),le=Array.isArray(Jt)?Jt[Be%Jt.length]:Jt,le!==void 0){var We=tr.parts[tr.parts.length-1],Ze=rr.substr(0,rr.length-We.length-1),Ve=Ze?Ze+".":"",je=Ze?u(er,Ze).get():er;if(Ne=f.getTraceValObject(er,tr.parts),Ne&&Ne.impliedEdits&&le!==null)for(var ut in Ne.impliedEdits)dt(l.relativeAttr(rr,ut),Ne.impliedEdits[ut],Be);else if((We==="thicknessmode"||We==="lenmode")&&he!==le&&(le==="fraction"||le==="pixels")&&je){var St=ke._size,Pt=je.orient,lt=Pt==="top"||Pt==="bottom";if(We==="thicknessmode"){var yt=lt?St.h:St.w;dt(Ve+"thickness",je.thickness*(le==="fraction"?1/yt:yt),Be)}else{var Ot=lt?St.w:St.h;dt(Ve+"len",je.len*(le==="fraction"?1/Ot:Ot),Be)}}else if(rr==="type"&&(le==="pie"!=(he==="pie")||le==="funnelarea"!=(he==="funnelarea"))){var At="x",mt="y";(le==="bar"||he==="bar")&&Dt.orientation==="h"&&(At="y",mt="x"),l.swapAttrs(Dt,["?","?src"],"labels",At),l.swapAttrs(Dt,["d?","?0"],"label",At),l.swapAttrs(Dt,["?","?src"],"values",mt),he==="pie"||he==="funnelarea"?(u(Dt,"marker.color").set(u(Dt,"marker.colors").get()),ke._pielayer.selectAll("g.trace").remove()):v.traceIs(Dt,"cartesian")&&u(Dt,"marker.colors").set(u(Dt,"marker.color").get())}wt[rr][Be]=G(he);var Et=["swapxy","swapxyaxes","orientation","orientationaxes"];if(Et.indexOf(rr)!==-1){if(rr==="orientation"){tr.set(le);var jt=Dt.x&&!Dt.y?"h":"v";if((tr.get()||jt)===er.orientation)continue}else rr==="orientationaxes"&&(Dt.orientation={v:"h",h:"v"}[er.orientation]);C.swapXYData(Dt),st.calc=st.clearAxisTypes=!0}else m.dataArrayContainers.indexOf(tr.parts[0])!==-1?(C.manageArrayContainers(tr,le,wt),st.calc=!0):(Ne?Ne.arrayOk&&!v.traceIs(er,"regl")&&(l.isArrayOrTypedArray(le)||l.isArrayOrTypedArray(he))?st.calc=!0:T.update(st,Ne):st.calc=!0,tr.set(le))}}if(["swapxyaxes","orientationaxes"].indexOf(rr)!==-1&&_.swap(ce,Ae),rr==="orientationaxes"){var Lt=u(ce.layout,"hovermode"),Ht=Lt.get();Ht==="x"?Lt.set("y"):Ht==="y"?Lt.set("x"):Ht==="x unified"?Lt.set("y unified"):Ht==="y unified"&&Lt.set("x unified")}if(["orientation","type"].indexOf(rr)!==-1){for(Wt=[],Be=0;Be<Ae.length;Be++){var Kt=ye[Ae[Be]];v.traceIs(Kt,"cartesian")&&(qt(Kt.xaxis||"x"),qt(Kt.yaxis||"y"))}dt(Wt.map(Bt),!0,0),dt(Wt.map(Ut),[0,1],0)}}return(st.calc||st.plot)&&(st.fullReplot=!0),{flags:st,undoit:wt,redoit:gt,traces:Ae,eventData:l.extendDeepNoArrays([],[Ie,Ae])}}function re(ce){var Ce=l.counterRegex("axis",".title",!1,!1),Ae=/colorbar\.title$/,ke=Object.keys(ce),xe,ye,Ee;for(xe=0;xe<ke.length;xe++)ye=ke[xe],Ee=ce[ye],(ye==="title"||Ce.test(ye)||Ae.test(ye))&&(typeof Ee=="string"||typeof Ee=="number")?$e(ye,ye.replace("title","title.text")):ye.indexOf("titlefont")>-1&&ye.indexOf("grouptitlefont")===-1?$e(ye,ye.replace("titlefont","title.font")):ye.indexOf("titleposition")>-1?$e(ye,ye.replace("titleposition","title.position")):ye.indexOf("titleside")>-1?$e(ye,ye.replace("titleside","title.side")):ye.indexOf("titleoffset")>-1&&$e(ye,ye.replace("titleoffset","title.offset"));function $e(Ie,Be){ce[Be]=ce[Ie],delete ce[Ie]}}function ue(ce,Ce,Ae){ce=l.getGraphDiv(ce),C.clearPromiseQueue(ce);var ke={};if(typeof Ce=="string")ke[Ce]=Ae;else if(l.isPlainObject(Ce))ke=l.extendFlat({},Ce);else return l.warn("Relayout fail.",Ce,Ae),Promise.reject();Object.keys(ke).length&&(ce.changed=!0);var xe=He(ce,ke),ye=xe.flags;ye.calc&&(ce.calcdata=void 0);var Ee=[m.previousPromises];ye.layoutReplot?Ee.push(S.layoutReplot):Object.keys(ke).length&&(de(ce,ye,xe)||m.supplyDefaults(ce),ye.legend&&Ee.push(S.doLegend),ye.layoutstyle&&Ee.push(S.layoutStyles),ye.axrange&&me(Ee,xe.rangesAltered),ye.ticks&&Ee.push(S.doTicksRelayout),ye.modebar&&Ee.push(S.doModeBar),ye.camera&&Ee.push(S.doCamera),ye.colorbars&&Ee.push(S.doColorBars),Ee.push(P)),Ee.push(m.rehover,m.redrag,m.reselect),h.add(ce,ue,[ce,xe.undoit],ue,[ce,xe.redoit]);var $e=l.syncOrAsync(Ee,ce);return(!$e||!$e.then)&&($e=Promise.resolve(ce)),$e.then(function(){return ce.emit("plotly_relayout",xe.eventData),ce})}function de(ce,Ce,Ae){var ke=ce._fullLayout;if(!Ce.axrange)return!1;for(var xe in Ce)if(xe!=="axrange"&&Ce[xe])return!1;for(var ye in Ae.rangesAltered){var Ee=_.id2name(ye),$e=ce.layout[Ee],Ie=ke[Ee];if(Ie.autorange=$e.autorange,$e.range&&(Ie.range=$e.range.slice()),Ie.cleanRange(),Ie._matchGroup){for(var Be in Ie._matchGroup)if(Be!==ye){var st=ke[_.id2name(Be)];st.autorange=Ie.autorange,st.range=Ie.range.slice(),st._input.range=Ie.range.slice()}}}return!0}function me(ce,Ce){var Ae=Ce?function(ke){var xe=[],ye=!0;for(var Ee in Ce){var $e=_.getFromId(ke,Ee);if(xe.push(Ee),($e.ticklabelposition||"").indexOf("inside")!==-1&&$e._anchorAxis&&xe.push($e._anchorAxis._id),$e._matchGroup)for(var Ie in $e._matchGroup)Ce[Ie]||xe.push(Ie);$e.automargin&&(ye=!1)}return _.draw(ke,xe,{skipTitle:ye})}:function(ke){return _.draw(ke,"redraw")};ce.push(y,S.doAutoRangeAndConstraints,Ae,S.drawData,S.finalDraw)}var pe=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,ge=/^[xyz]axis[0-9]*\.autorange$/,Te=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function He(ce,Ce){var Ae=ce.layout,ke=ce._fullLayout,xe=ke._guiEditing,ye=Y(ke._preGUI,xe),Ee=Object.keys(Ce),$e=_.list(ce),Ie=l.extendDeepAll({},Ce),Be={},st,gt,wt;for(re(Ce),Ee=Object.keys(Ce),gt=0;gt<Ee.length;gt++)if(Ee[gt].indexOf("allaxes")===0){for(wt=0;wt<$e.length;wt++){var Wt=$e[wt]._id.substr(1),Yt=Wt.indexOf("scene")!==-1?Wt+".":"",qt=Ee[gt].replace("allaxes",Yt+$e[wt]._name);Ce[qt]||(Ce[qt]=Ce[Ee[gt]])}delete Ce[Ee[gt]]}var Bt=T.layoutFlags(),Ut={},Nt={};function dt(cr,dr){if(Array.isArray(cr)){cr.forEach(function(mr){dt(mr,dr)});return}if(!(cr in Ce||C.hasParent(Ce,cr))){var vr=ye(Ae,cr);cr in Nt||(Nt[cr]=G(vr.get())),dr!==void 0&&vr.set(dr)}}var Vt={},Gt;function rr(cr){var dr=_.name2id(cr.split(".")[0]);return Vt[dr]=1,dr}for(var Jt in Ce){if(C.hasParent(Ce,Jt))throw new Error("cannot set "+Jt+" and a parent attribute simultaneously");for(var Dt=ye(Ae,Jt),er=Ce[Jt],tr=Dt.parts.length,he=tr-1;he>0&&typeof Dt.parts[he]!="string";)he--;var le=Dt.parts[he],Ne=Dt.parts[he-1]+"."+le,Fe=Dt.parts.slice(0,he).join("."),We=u(ce.layout,Fe).get(),Ze=u(ke,Fe).get(),Ve=Dt.get();if(er!==void 0){Ut[Jt]=er,Nt[Jt]=le==="reverse"?er:G(Ve);var je=f.getLayoutValObject(ke,Dt.parts);if(je&&je.impliedEdits&&er!==null)for(var ut in je.impliedEdits)dt(l.relativeAttr(Jt,ut),je.impliedEdits[ut]);if(["width","height"].indexOf(Jt)!==-1)if(er){dt("autosize",null);var St=Jt==="height"?"width":"height";dt(St,ke[St])}else ke[Jt]=ce._initialAutoSize[Jt];else if(Jt==="autosize")dt("width",er?null:ke.width),dt("height",er?null:ke.height);else if(Ne.match(pe))rr(Ne),u(ke,Fe+"._inputRange").set(null);else if(Ne.match(ge)){rr(Ne),u(ke,Fe+"._inputRange").set(null);var Pt=u(ke,Fe).get();Pt._inputDomain&&(Pt._input.domain=Pt._inputDomain.slice())}else Ne.match(Te)&&u(ke,Fe+"._inputDomain").set(null);if(le==="type"){Gt=We;var lt=Ze.type==="linear"&&er==="log",yt=Ze.type==="log"&&er==="linear";if(lt||yt){if(!Gt||!Gt.range)dt(Fe+".autorange",!0);else if(Ze.autorange)lt&&(Gt.range=Gt.range[1]>Gt.range[0]?[1,2]:[2,1]);else{var Ot=Gt.range[0],At=Gt.range[1];lt?(Ot<=0&&At<=0&&dt(Fe+".autorange",!0),Ot<=0?Ot=At/1e6:At<=0&&(At=Ot/1e6),dt(Fe+".range[0]",Math.log(Ot)/Math.LN10),dt(Fe+".range[1]",Math.log(At)/Math.LN10)):(dt(Fe+".range[0]",Math.pow(10,Ot)),dt(Fe+".range[1]",Math.pow(10,At)))}Array.isArray(ke._subplots.polar)&&ke._subplots.polar.length&&ke[Dt.parts[0]]&&Dt.parts[1]==="radialaxis"&&delete ke[Dt.parts[0]]._subplot.viewInitial["radialaxis.range"],v.getComponentMethod("annotations","convertCoords")(ce,Ze,er,dt),v.getComponentMethod("images","convertCoords")(ce,Ze,er,dt)}else dt(Fe+".autorange",!0),dt(Fe+".range",null);u(ke,Fe+"._inputRange").set(null)}else if(le.match(M)){var mt=u(ke,Jt).get(),Et=(er||{}).type;(!Et||Et==="-")&&(Et="linear"),v.getComponentMethod("annotations","convertCoords")(ce,mt,Et,dt),v.getComponentMethod("images","convertCoords")(ce,mt,Et,dt)}var jt=w.containerArrayMatch(Jt);if(jt){st=jt.array,gt=jt.index;var Lt=jt.property,Ht=je||{editType:"calc"};gt!==""&&Lt===""&&(w.isAddVal(er)?Nt[Jt]=null:w.isRemoveVal(er)?Nt[Jt]=(u(Ae,st).get()||[])[gt]:l.warn("unrecognized full object value",Ce)),T.update(Bt,Ht),Be[st]||(Be[st]={});var Kt=Be[st][gt];Kt||(Kt=Be[st][gt]={}),Kt[Lt]=er,delete Ce[Jt]}else le==="reverse"?(We.range?We.range.reverse():(dt(Fe+".autorange",!0),We.range=[1,0]),Ze.autorange?Bt.calc=!0:Bt.plot=!0):(Jt==="dragmode"&&(er===!1&&Ve!==!1||er!==!1&&Ve===!1)||ke._has("scatter-like")&&ke._has("regl")&&Jt==="dragmode"&&(er==="lasso"||er==="select")&&!(Ve==="lasso"||Ve==="select")||ke._has("gl2d")?Bt.plot=!0:je?T.update(Bt,je):Bt.calc=!0,Dt.set(er))}}for(st in Be){var Xt=w.applyContainerArrayChanges(ce,ye(Ae,st),Be[st],Bt,ye);Xt||(Bt.plot=!0)}for(var $t in Vt){Gt=_.getFromId(ce,$t);var ar=Gt&&Gt._constraintGroup;if(ar){Bt.calc=!0;for(var ir in ar)Vt[ir]||(_.getFromId(ce,ir)._constraintShrinkable=!0)}}return(Oe(ce)||Ce.height||Ce.width)&&(Bt.plot=!0),(Bt.plot||Bt.calc)&&(Bt.layoutReplot=!0),{flags:Bt,rangesAltered:Vt,undoit:Nt,redoit:Ut,eventData:Ie}}function Oe(ce){var Ce=ce._fullLayout,Ae=Ce.width,ke=Ce.height;return ce.layout.autosize&&m.plotAutoSize(ce,ce.layout,Ce),Ce.width!==Ae||Ce.height!==ke}function tt(ce,Ce,Ae,ke){ce=l.getGraphDiv(ce),C.clearPromiseQueue(ce),l.isPlainObject(Ce)||(Ce={}),l.isPlainObject(Ae)||(Ae={}),Object.keys(Ce).length&&(ce.changed=!0),Object.keys(Ae).length&&(ce.changed=!0);var xe=C.coerceTraceIndices(ce,ke),ye=q(ce,l.extendFlat({},Ce),xe),Ee=ye.flags,$e=He(ce,l.extendFlat({},Ae)),Ie=$e.flags;(Ee.calc||Ie.calc)&&(ce.calcdata=void 0),Ee.clearAxisTypes&&C.clearAxisTypes(ce,xe,Ae);var Be=[];Ie.layoutReplot?Be.push(S.layoutReplot):Ee.fullReplot?Be.push(o._doPlot):(Be.push(m.previousPromises),de(ce,Ie,$e)||m.supplyDefaults(ce),Ee.style&&Be.push(S.doTraceStyle),(Ee.colorbars||Ie.colorbars)&&Be.push(S.doColorBars),Ie.legend&&Be.push(S.doLegend),Ie.layoutstyle&&Be.push(S.layoutStyles),Ie.axrange&&me(Be,$e.rangesAltered),Ie.ticks&&Be.push(S.doTicksRelayout),Ie.modebar&&Be.push(S.doModeBar),Ie.camera&&Be.push(S.doCamera),Be.push(P)),Be.push(m.rehover,m.redrag,m.reselect),h.add(ce,tt,[ce,ye.undoit,$e.undoit,ye.traces],tt,[ce,ye.redoit,$e.redoit,ye.traces]);var st=l.syncOrAsync(Be,ce);return(!st||!st.then)&&(st=Promise.resolve(ce)),st.then(function(){return ce.emit("plotly_update",{data:ye.eventData,layout:$e.eventData}),ce})}function Le(ce){return function(Ae){Ae._fullLayout._guiEditing=!0;var ke=ce.apply(null,arguments);return Ae._fullLayout._guiEditing=!1,ke}}var De=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],Se=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function ze(ce,Ce){for(var Ae=0;Ae<Ce.length;Ae++){var ke=Ce[Ae],xe=ce.match(ke.pattern);if(xe){var ye=xe[1]||"";return{head:ye,tail:ce.substr(ye.length+1),attr:ke.attr}}}}function Ke(ce,Ce){var Ae=u(Ce,ce).get();if(Ae!==void 0)return Ae;var ke=ce.split(".");for(ke.pop();ke.length>1;)if(ke.pop(),Ae=u(Ce,ke.join(".")+".uirevision").get(),Ae!==void 0)return Ae;return Ce.uirevision}function _t(ce,Ce){for(var Ae=0;Ae<Ce.length;Ae++)if(Ce[Ae]._fullInput.uid===ce)return Ae;return-1}function Qe(ce,Ce,Ae){for(var ke=0;ke<Ce.length;ke++)if(Ce[ke].uid===ce)return ke;return!Ce[Ae]||Ce[Ae].uid?-1:Ae}function et(ce,Ce){var Ae=l.isPlainObject(ce),ke=Array.isArray(ce);return Ae||ke?(Ae&&l.isPlainObject(Ce)||ke&&Array.isArray(Ce))&&JSON.stringify(ce)===JSON.stringify(Ce):ce===Ce}function rt(ce,Ce,Ae,ke){var xe=ke._preGUI,ye,Ee,$e,Ie,Be,st,gt,wt,Wt,Yt,qt=[],Bt={},Ut={};for(ye in xe){if(Be=ze(ye,De),Be){if(Wt=Be.head,Yt=Be.tail,Ee=Be.attr||Wt+".uirevision",$e=u(ke,Ee).get(),Ie=$e&&Ke(Ee,Ce),Ie&&Ie===$e){if(st=xe[ye],st===null&&(st=void 0),gt=u(Ce,ye),wt=gt.get(),et(wt,st)){wt===void 0&&Yt==="autorange"&&qt.push(Wt),gt.set(G(u(ke,ye).get()));continue}else if(Yt==="autorange"||Yt.substr(0,6)==="range["){var Nt=xe[Wt+".range[0]"],dt=xe[Wt+".range[1]"],Vt=xe[Wt+".autorange"];if(Vt||Vt===null&&Nt===null&&dt===null){if(!(Wt in Bt)){var Gt=u(Ce,Wt).get();Bt[Wt]=Gt&&(Gt.autorange||Gt.autorange!==!1&&(!Gt.range||Gt.range.length!==2))}if(Bt[Wt]){gt.set(G(u(ke,ye).get()));continue}}}}}else l.warn("unrecognized GUI edit: "+ye);delete xe[ye],Be&&Be.tail.substr(0,6)==="range["&&(Ut[Be.head]=1)}for(var rr=0;rr<qt.length;rr++){var Jt=qt[rr];if(Ut[Jt]){var Dt=u(Ce,Jt).get();Dt&&delete Dt.autorange}}var er=ke._tracePreGUI;for(var tr in er){var he=er[tr],le=null,Ne;for(ye in he){if(!le){var Fe=_t(tr,Ae);if(Fe<0){delete er[tr];break}var We=Ae[Fe];Ne=We._fullInput;var Ze=Qe(tr,ce,Ne.index);if(Ze<0){delete er[tr];break}le=ce[Ze]}if(Be=ze(ye,Se),Be){if(Be.attr?($e=u(ke,Be.attr).get(),Ie=$e&&Ke(Be.attr,Ce)):($e=Ne.uirevision,Ie=le.uirevision,Ie===void 0&&(Ie=Ce.uirevision)),Ie&&Ie===$e&&(st=he[ye],st===null&&(st=void 0),gt=u(le,ye),wt=gt.get(),et(wt,st))){gt.set(G(u(Ne,ye).get()));continue}}else l.warn("unrecognized GUI edit: "+ye+" in trace uid "+tr);delete he[ye]}}}function ft(ce,Ce,Ae,ke){var xe,ye;function Ee(){return o.addFrames(ce,xe)}ce=l.getGraphDiv(ce),C.clearPromiseQueue(ce);var $e=ce._fullData,Ie=ce._fullLayout;if(!l.isPlotDiv(ce)||!$e||!Ie)ye=o.newPlot(ce,Ce,Ae,ke);else{if(l.isPlainObject(Ce)){var Be=Ce;Ce=Be.data,Ae=Be.layout,ke=Be.config,xe=Be.frames}var st=!1;if(ke){var gt=l.extendDeep({},ce._context);ce._context=void 0,U(ce,ke),st=nt(gt,ce._context)}ce.data=Ce||[],C.cleanData(ce.data),ce.layout=Ae||{},C.cleanLayout(ce.layout),rt(ce.data,ce.layout,$e,Ie),m.supplyDefaults(ce,{skipUpdateCalc:!0});var wt=ce._fullData,Wt=ce._fullLayout,Yt=Wt.datarevision===void 0,qt=Wt.transition,Bt=Ft(ce,Ie,Wt,Yt,qt),Ut=Bt.newDataRevision,Nt=bt(ce,$e,wt,Yt,qt,Ut);if(Oe(ce)&&(Bt.layoutReplot=!0),Nt.calc||Bt.calc){ce.calcdata=void 0;for(var dt=Object.getOwnPropertyNames(Wt),Vt=0;Vt<dt.length;Vt++){var Gt=dt[Vt],rr=Gt.substring(0,5);if(rr==="xaxis"||rr==="yaxis"){var Jt=Wt[Gt]._emptyCategories;Jt&&Jt()}}}else m.supplyDefaultsUpdateCalc(ce.calcdata,wt);var Dt=[];if(xe&&(ce._transitionData={},m.createTransitionData(ce),Dt.push(Ee)),Wt.transition&&!st&&(Nt.anim||Bt.anim))Bt.ticks&&Dt.push(S.doTicksRelayout),m.doCalcdata(ce),S.doAutoRangeAndConstraints(ce),Dt.push(function(){return m.transitionFromReact(ce,Nt,Bt,Ie)});else if(Nt.fullReplot||Bt.layoutReplot||st)ce._fullLayout._skipDefaults=!0,Dt.push(o._doPlot);else{for(var er in Bt.arrays){var tr=Bt.arrays[er];if(tr.length){var he=v.getComponentMethod(er,"drawOne");if(he!==l.noop)for(var le=0;le<tr.length;le++)he(ce,tr[le]);else{var Ne=v.getComponentMethod(er,"draw");if(Ne===l.noop)throw new Error("cannot draw components: "+er);Ne(ce)}}}Dt.push(m.previousPromises),Nt.style&&Dt.push(S.doTraceStyle),(Nt.colorbars||Bt.colorbars)&&Dt.push(S.doColorBars),Bt.legend&&Dt.push(S.doLegend),Bt.layoutstyle&&Dt.push(S.layoutStyles),Bt.axrange&&me(Dt),Bt.ticks&&Dt.push(S.doTicksRelayout),Bt.modebar&&Dt.push(S.doModeBar),Bt.camera&&Dt.push(S.doCamera),Dt.push(P)}Dt.push(m.rehover,m.redrag,m.reselect),ye=l.syncOrAsync(Dt,ce),(!ye||!ye.then)&&(ye=Promise.resolve(ce))}return ye.then(function(){return ce.emit("plotly_react",{data:Ce,layout:Ae}),ce})}function bt(ce,Ce,Ae,ke,xe,ye){var Ee=Ce.length===Ae.length;if(!xe&&!Ee)return{fullReplot:!0,calc:!0};var $e=T.traceFlags();$e.arrays={},$e.nChanges=0,$e.nChangesAnim=0;var Ie,Be;function st(Wt){var Yt=f.getTraceValObject(Be,Wt);return!Be._module.animatable&&Yt.anim&&(Yt.anim=!1),Yt}var gt={getValObject:st,flags:$e,immutable:ke,transition:xe,newDataRevision:ye,gd:ce},wt={};for(Ie=0;Ie<Ce.length;Ie++)if(Ae[Ie]){if(Be=Ae[Ie]._fullInput,m.hasMakesDataTransform(Be)&&(Be=Ae[Ie]),wt[Be.uid])continue;wt[Be.uid]=1,ct(Ce[Ie]._fullInput,Be,[],gt)}return($e.calc||$e.plot)&&($e.fullReplot=!0),xe&&$e.nChanges&&$e.nChangesAnim&&($e.anim=$e.nChanges===$e.nChangesAnim&&Ee?"all":"some"),$e}function Ft(ce,Ce,Ae,ke,xe){var ye=T.layoutFlags();ye.arrays={},ye.rangesAltered={},ye.nChanges=0,ye.nChangesAnim=0;function Ee(Ie){return f.getLayoutValObject(Ae,Ie)}var $e={getValObject:Ee,flags:ye,immutable:ke,transition:xe,gd:ce};return ct(Ce,Ae,[],$e),(ye.plot||ye.calc)&&(ye.layoutReplot=!0),xe&&ye.nChanges&&ye.nChangesAnim&&(ye.anim=ye.nChanges===ye.nChangesAnim?"all":"some"),ye}function ct(ce,Ce,Ae,ke){var xe,ye,Ee,$e=ke.getValObject,Ie=ke.flags,Be=ke.immutable,st=ke.inArray,gt=ke.arrayIndex;function wt(){var Fe=xe.editType;if(st&&Fe.indexOf("arraydraw")!==-1){l.pushUnique(Ie.arrays[st],gt);return}T.update(Ie,xe),Fe!=="none"&&Ie.nChanges++,ke.transition&&xe.anim&&Ie.nChangesAnim++,(pe.test(Ee)||ge.test(Ee))&&(Ie.rangesAltered[Ae[0]]=1),Te.test(Ee)&&u(Ce,"_inputDomain").set(null),ye==="datarevision"&&(Ie.newDataRevision=1)}function Wt(Fe){return Fe.valType==="data_array"||Fe.arrayOk}for(ye in ce){if(Ie.calc&&!ke.transition)return;var Yt=ce[ye],qt=Ce[ye],Bt=Ae.concat(ye);if(Ee=Bt.join("."),!(ye.charAt(0)==="_"||typeof Yt=="function"||Yt===qt)){if((ye==="tick0"||ye==="dtick")&&Ae[0]!=="geo"){var Ut=Ce.tickmode;if(Ut==="auto"||Ut==="array"||!Ut)continue}if(!(ye==="range"&&Ce.autorange)&&!((ye==="zmin"||ye==="zmax")&&Ce.type==="contourcarpet")&&(xe=$e(Bt),!!xe&&!(xe._compareAsJSON&&JSON.stringify(Yt)===JSON.stringify(qt)))){var Nt=xe.valType,dt,Vt=Wt(xe),Gt=Array.isArray(Yt),rr=Array.isArray(qt);if(Gt&&rr){var Jt="_input_"+ye,Dt=ce[Jt],er=Ce[Jt];if(Array.isArray(Dt)&&Dt===er)continue}if(qt===void 0)Vt&&Gt?Ie.calc=!0:wt();else if(xe._isLinkedToArray){var tr=[],he=!1;st||(Ie.arrays[ye]=tr);var le=Math.min(Yt.length,qt.length),Ne=Math.max(Yt.length,qt.length);if(le!==Ne)if(xe.editType==="arraydraw")he=!0;else{wt();continue}for(dt=0;dt<le;dt++)ct(Yt[dt],qt[dt],Bt.concat(dt),l.extendFlat({inArray:ye,arrayIndex:dt},ke));if(he)for(dt=le;dt<Ne;dt++)tr.push(dt)}else!Nt&&l.isPlainObject(Yt)?ct(Yt,qt,Bt,ke):Vt?Gt&&rr?(Be&&(Ie.calc=!0),(Be||ke.newDataRevision)&&wt()):Gt!==rr?Ie.calc=!0:wt():Gt&&rr?(Yt.length!==qt.length||String(Yt)!==String(qt))&&wt():wt()}}}for(ye in Ce)if(!(ye in ce||ye.charAt(0)==="_"||typeof Ce[ye]=="function"))if(xe=$e(Ae.concat(ye)),Wt(xe)&&Array.isArray(Ce[ye])){Ie.calc=!0;return}else wt()}function nt(ce,Ce){var Ae;for(Ae in ce)if(Ae.charAt(0)!=="_"){var ke=ce[Ae],xe=Ce[Ae];if(ke!==xe)if(l.isPlainObject(ke)&&l.isPlainObject(xe)){if(nt(ke,xe))return!0}else if(Array.isArray(ke)&&Array.isArray(xe)){if(ke.length!==xe.length)return!0;for(var ye=0;ye<ke.length;ye++)if(ke[ye]!==xe[ye])if(l.isPlainObject(ke[ye])&&l.isPlainObject(xe[ye])){if(nt(ke[ye],xe[ye]))return!0}else return!0}else return!0}}function at(ce,Ce,Ae){if(ce=l.getGraphDiv(ce),!l.isPlotDiv(ce))throw new Error("This element is not a Plotly plot: "+ce+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var ke=ce._transitionData;ke._frameQueue||(ke._frameQueue=[]),Ae=m.supplyAnimationDefaults(Ae);var xe=Ae.transition,ye=Ae.frame;ke._frameWaitingCnt===void 0&&(ke._frameWaitingCnt=0);function Ee(Be){return Array.isArray(xe)?Be>=xe.length?xe[0]:xe[Be]:xe}function $e(Be){return Array.isArray(ye)?Be>=ye.length?ye[0]:ye[Be]:ye}function Ie(Be,st){var gt=0;return function(){if(Be&&++gt===st)return Be()}}return new Promise(function(Be,st){function gt(){if(ke._frameQueue.length!==0){for(;ke._frameQueue.length;){var le=ke._frameQueue.pop();le.onInterrupt&&le.onInterrupt()}ce.emit("plotly_animationinterrupted",[])}}function wt(le){if(le.length!==0){for(var Ne=0;Ne<le.length;Ne++){var Fe;le[Ne].type==="byname"?Fe=m.computeFrame(ce,le[Ne].name):Fe=le[Ne].data;var We=$e(Ne),Ze=Ee(Ne);Ze.duration=Math.min(Ze.duration,We.duration);var Ve={frame:Fe,name:le[Ne].name,frameOpts:We,transitionOpts:Ze};Ne===le.length-1&&(Ve.onComplete=Ie(Be,2),Ve.onInterrupt=st),ke._frameQueue.push(Ve)}Ae.mode==="immediate"&&(ke._lastFrameAt=-1/0),ke._animationRaf||qt()}}function Wt(){ce.emit("plotly_animated"),window.cancelAnimationFrame(ke._animationRaf),ke._animationRaf=null}function Yt(){ke._currentFrame&&ke._currentFrame.onComplete&&ke._currentFrame.onComplete();var le=ke._currentFrame=ke._frameQueue.shift();if(le){var Ne=le.name?le.name.toString():null;ce._fullLayout._currentFrame=Ne,ke._lastFrameAt=Date.now(),ke._timeToNext=le.frameOpts.duration,m.transition(ce,le.frame.data,le.frame.layout,C.coerceTraceIndices(ce,le.frame.traces),le.frameOpts,le.transitionOpts).then(function(){le.onComplete&&le.onComplete()}),ce.emit("plotly_animatingframe",{name:Ne,frame:le.frame,animation:{frame:le.frameOpts,transition:le.transitionOpts}})}else Wt()}function qt(){ce.emit("plotly_animating"),ke._lastFrameAt=-1/0,ke._timeToNext=0,ke._runningTransitions=0,ke._currentFrame=null;var le=function(){ke._animationRaf=window.requestAnimationFrame(le),Date.now()-ke._lastFrameAt>ke._timeToNext&&Yt()};le()}var Bt=0;function Ut(le){return Array.isArray(xe)?Bt>=xe.length?le.transitionOpts=xe[Bt]:le.transitionOpts=xe[0]:le.transitionOpts=xe,Bt++,le}var Nt,dt,Vt=[],Gt=Ce==null,rr=Array.isArray(Ce),Jt=!Gt&&!rr&&l.isPlainObject(Ce);if(Jt)Vt.push({type:"object",data:Ut(l.extendFlat({},Ce))});else if(Gt||["string","number"].indexOf(typeof Ce)!==-1)for(Nt=0;Nt<ke._frames.length;Nt++)dt=ke._frames[Nt],dt&&(Gt||String(dt.group)===String(Ce))&&Vt.push({type:"byname",name:String(dt.name),data:Ut({name:dt.name})});else if(rr)for(Nt=0;Nt<Ce.length;Nt++){var Dt=Ce[Nt];["number","string"].indexOf(typeof Dt)!==-1?(Dt=String(Dt),Vt.push({type:"byname",name:Dt,data:Ut({name:Dt})})):l.isPlainObject(Dt)&&Vt.push({type:"object",data:Ut(l.extendFlat({},Dt))})}for(Nt=0;Nt<Vt.length;Nt++)if(dt=Vt[Nt],dt.type==="byname"&&!ke._frameHash[dt.data.name]){l.warn('animate failure: frame not found: "'+dt.data.name+'"'),st();return}["next","immediate"].indexOf(Ae.mode)!==-1&&gt(),Ae.direction==="reverse"&&Vt.reverse();var er=ce._fullLayout._currentFrame;if(er&&Ae.fromcurrent){var tr=-1;for(Nt=0;Nt<Vt.length;Nt++)if(dt=Vt[Nt],dt.type==="byname"&&dt.name===er){tr=Nt;break}if(tr>0&&tr<Vt.length-1){var he=[];for(Nt=0;Nt<Vt.length;Nt++)dt=Vt[Nt],(Vt[Nt].type!=="byname"||Nt>tr)&&he.push(dt);Vt=he}}Vt.length>0?wt(Vt):(ce.emit("plotly_animated"),Be())})}function It(ce,Ce,Ae){if(ce=l.getGraphDiv(ce),Ce==null)return Promise.resolve();if(!l.isPlotDiv(ce))throw new Error("This element is not a Plotly plot: "+ce+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var ke,xe,ye,Ee,$e=ce._transitionData._frames,Ie=ce._transitionData._frameHash;if(!Array.isArray(Ce))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+Ce);var Be=$e.length+Ce.length*2,st=[],gt={};for(ke=Ce.length-1;ke>=0;ke--)if(l.isPlainObject(Ce[ke])){var wt=Ce[ke].name,Wt=(Ie[wt]||gt[wt]||{}).name,Yt=Ce[ke].name,qt=Ie[Wt]||gt[Wt];Wt&&Yt&&typeof Yt=="number"&&qt&&D<k&&(D++,l.warn('addFrames: overwriting frame "'+(Ie[Wt]||gt[Wt]).name+'" with a frame whose name of type "number" also equates to "'+Wt+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),D===k&&l.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),gt[wt]={name:wt},st.push({frame:m.supplyFrameDefaults(Ce[ke]),index:Ae&&Ae[ke]!==void 0&&Ae[ke]!==null?Ae[ke]:Be+ke})}st.sort(function(Jt,Dt){return Jt.index>Dt.index?-1:Jt.index<Dt.index?1:0});var Bt=[],Ut=[],Nt=$e.length;for(ke=st.length-1;ke>=0;ke--){if(xe=st[ke].frame,typeof xe.name=="number"&&l.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!xe.name)for(;Ie[xe.name="frame "+ce._transitionData._counter++];);if(Ie[xe.name]){for(ye=0;ye<$e.length&&($e[ye]||{}).name!==xe.name;ye++);Bt.push({type:"replace",index:ye,value:xe}),Ut.unshift({type:"replace",index:ye,value:$e[ye]})}else Ee=Math.max(0,Math.min(st[ke].index,Nt)),Bt.push({type:"insert",index:Ee,value:xe}),Ut.unshift({type:"delete",index:Ee}),Nt++}var dt=m.modifyFrames,Vt=m.modifyFrames,Gt=[ce,Ut],rr=[ce,Bt];return h&&h.add(ce,dt,Gt,Vt,rr),m.modifyFrames(ce,Bt)}function zt(ce,Ce){if(ce=l.getGraphDiv(ce),!l.isPlotDiv(ce))throw new Error("This element is not a Plotly plot: "+ce);var Ae,ke,xe=ce._transitionData._frames,ye=[],Ee=[];if(!Ce)for(Ce=[],Ae=0;Ae<xe.length;Ae++)Ce.push(Ae);for(Ce=Ce.slice(),Ce.sort(),Ae=Ce.length-1;Ae>=0;Ae--)ke=Ce[Ae],ye.push({type:"delete",index:ke}),Ee.unshift({type:"insert",index:ke,value:xe[ke]});var $e=m.modifyFrames,Ie=m.modifyFrames,Be=[ce,Ee],st=[ce,ye];return h&&h.add(ce,$e,Be,Ie,st),m.modifyFrames(ce,ye)}function be(ce){ce=l.getGraphDiv(ce);var Ce=ce._fullLayout||{},Ae=ce._fullData||[];return m.cleanPlot([],{},Ae,Ce),m.purge(ce),c.purge(ce),Ce._container&&Ce._container.remove(),delete ce._context,ce}function Me(ce){var Ce=ce._fullLayout,Ae=ce.getBoundingClientRect();if(!l.equalDomRects(Ae,Ce._lastBBox)){var ke=Ce._invTransform=l.inverseTransformMatrix(l.getFullTransformMatrix(ce));Ce._invScaleX=Math.sqrt(ke[0][0]*ke[0][0]+ke[0][1]*ke[0][1]+ke[0][2]*ke[0][2]),Ce._invScaleY=Math.sqrt(ke[1][0]*ke[1][0]+ke[1][1]*ke[1][1]+ke[1][2]*ke[1][2]),Ce._lastBBox=Ae}}function Ue(ce){var Ce=n.select(ce),Ae=ce._fullLayout;if(Ae._calcInverseTransform=Me,Ae._calcInverseTransform(ce),Ae._container=Ce.selectAll(".plot-container").data([0]),Ae._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),Ae._paperdiv=Ae._container.selectAll(".svg-container").data([0]),Ae._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),Ae._glcontainer=Ae._paperdiv.selectAll(".gl-container").data([{}]),Ae._glcontainer.enter().append("div").classed("gl-container",!0),Ae._paperdiv.selectAll(".main-svg").remove(),Ae._paperdiv.select(".modebar-container").remove(),Ae._paper=Ae._paperdiv.insert("svg",":first-child").classed("main-svg",!0),Ae._toppaper=Ae._paperdiv.append("svg").classed("main-svg",!0),Ae._modebardiv=Ae._paperdiv.append("div"),delete Ae._modeBar,Ae._hoverpaper=Ae._paperdiv.append("svg").classed("main-svg",!0),!Ae._uid){var ke={};n.selectAll("defs").each(function(){this.id&&(ke[this.id.split("-")[1]]=1)}),Ae._uid=l.randstr(ke)}Ae._paperdiv.selectAll(".main-svg").attr(b.svgAttrs),Ae._defs=Ae._paper.append("defs").attr("id","defs-"+Ae._uid),Ae._clips=Ae._defs.append("g").classed("clips",!0),Ae._topdefs=Ae._toppaper.append("defs").attr("id","topdefs-"+Ae._uid),Ae._topclips=Ae._topdefs.append("g").classed("clips",!0),Ae._bgLayer=Ae._paper.append("g").classed("bglayer",!0),Ae._draggers=Ae._paper.append("g").classed("draglayer",!0);var xe=Ae._paper.append("g").classed("layer-below",!0);Ae._imageLowerLayer=xe.append("g").classed("imagelayer",!0),Ae._shapeLowerLayer=xe.append("g").classed("shapelayer",!0),Ae._cartesianlayer=Ae._paper.append("g").classed("cartesianlayer",!0),Ae._polarlayer=Ae._paper.append("g").classed("polarlayer",!0),Ae._smithlayer=Ae._paper.append("g").classed("smithlayer",!0),Ae._ternarylayer=Ae._paper.append("g").classed("ternarylayer",!0),Ae._geolayer=Ae._paper.append("g").classed("geolayer",!0),Ae._funnelarealayer=Ae._paper.append("g").classed("funnelarealayer",!0),Ae._pielayer=Ae._paper.append("g").classed("pielayer",!0),Ae._iciclelayer=Ae._paper.append("g").classed("iciclelayer",!0),Ae._treemaplayer=Ae._paper.append("g").classed("treemaplayer",!0),Ae._sunburstlayer=Ae._paper.append("g").classed("sunburstlayer",!0),Ae._indicatorlayer=Ae._toppaper.append("g").classed("indicatorlayer",!0),Ae._glimages=Ae._paper.append("g").classed("glimages",!0);var ye=Ae._toppaper.append("g").classed("layer-above",!0);Ae._imageUpperLayer=ye.append("g").classed("imagelayer",!0),Ae._shapeUpperLayer=ye.append("g").classed("shapelayer",!0),Ae._selectionLayer=Ae._toppaper.append("g").classed("selectionlayer",!0),Ae._infolayer=Ae._toppaper.append("g").classed("infolayer",!0),Ae._menulayer=Ae._toppaper.append("g").classed("menulayer",!0),Ae._zoomlayer=Ae._toppaper.append("g").classed("zoomlayer",!0),Ae._hoverlayer=Ae._hoverpaper.append("g").classed("hoverlayer",!0),Ae._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),ce.emit("plotly_framework")}o.animate=at,o.addFrames=It,o.deleteFrames=zt,o.addTraces=J,o.deleteTraces=te,o.extendTraces=ee,o.moveTraces=L,o.prependTraces=ie,o.newPlot=Z,o._doPlot=R,o.purge=be,o.react=ft,o.redraw=V,o.relayout=ue,o.restyle=N,o.setPlotConfig=E,o.update=tt,o._guiRelayout=Le(ue),o._guiRestyle=Le(N),o._guiUpdate=Le(tt),o._storeDirectGUIEdit=Q},{"../components/color":103,"../components/drawing":125,"../components/selections":191,"../constants/xmlns_namespaces":225,"../lib":244,"../lib/events":237,"../lib/queue":259,"../plots/cartesian/axes":291,"../plots/cartesian/constants":298,"../plots/cartesian/graph_interact":301,"../plots/plots":325,"../registry":327,"./edit_types":273,"./helpers":274,"./manage_arrays":276,"./plot_config":278,"./plot_schema":279,"./subroutines":281,"@plotly/d3":11,"fast-isnumeric":17,"has-hover":48}],278:[function(r,i,o){var n={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},a={};function s(l,u){for(var c in l){var h=l[c];h.valType?u[c]=h.dflt:(u[c]||(u[c]={}),s(h,u[c]))}}s(n,a),i.exports={configAttributes:n,dfltConfig:a}},{}],279:[function(r,i,o){var n=r("../registry"),a=r("../lib"),s=r("../plots/attributes"),l=r("../plots/layout_attributes"),u=r("../plots/frame_attributes"),c=r("../plots/animation_attributes"),h=r("./plot_config").configAttributes,v=r("./edit_types"),f=a.extendDeepAll,m=a.isPlainObject,_=a.isArrayOrTypedArray,g=a.nestedProperty,p=a.valObjectMeta,d="_isSubplotObj",b="_isLinkedToArray",y="_arrayAttrRegexps",x="_deprecated",w=[d,b,y,x];o.IS_SUBPLOT_OBJ=d,o.IS_LINKED_TO_ARRAY=b,o.DEPRECATED=x,o.UNDERSCORE_ATTRS=w,o.get=function(){var Z={};n.allTypes.forEach(function(H){Z[H]=M(H)});var z={};return Object.keys(n.transformsRegistry).forEach(function(H){z[H]=k(H)}),{defs:{valObjects:p,metaKeys:w.concat(["description","role","editType","impliedEdits"]),editType:{traces:v.traces,layout:v.layout},impliedEdits:{}},traces:Z,layout:D(),transforms:z,frames:R(),animation:P(c),config:P(h)}},o.crawl=function(Z,z,H,B){var W=H||0;B=B||"",Object.keys(Z).forEach(function(F){var K=Z[F];if(w.indexOf(F)===-1){var fe=(B?B+".":"")+F;z(K,F,Z,W,fe),!o.isValObject(K)&&m(K)&&F!=="impliedEdits"&&o.crawl(K,z,W+1,fe)}})},o.isValObject=function(Z){return Z&&Z.valType!==void 0},o.findArrayAttributes=function(Z){var z=[],H=[],B=[],W,F;function K(te,L,N,G){H=H.slice(0,G).concat([L]),B=B.slice(0,G).concat([te&&te._isLinkedToArray]);var Y=te&&(te.valType==="data_array"||te.arrayOk===!0)&&!(H[G-1]==="colorbar"&&(L==="ticktext"||L==="tickvals"));Y&&fe(W,0,"")}function fe(te,L,N){var G=te[H[L]],Y=N+H[L];if(L===H.length-1)_(G)&&z.push(F+Y);else if(B[L]){if(Array.isArray(G))for(var j=0;j<G.length;j++)m(G[j])&&fe(G[j],L+1,Y+"["+j+"].")}else m(G)&&fe(G,L+1,Y+".")}W=Z,F="",o.crawl(s,K),Z._module&&Z._module.attributes&&o.crawl(Z._module.attributes,K);var se=Z.transforms;if(se)for(var ee=0;ee<se.length;ee++){var ie=se[ee],J=ie._module;J&&(F="transforms["+ee+"].",W=ie,o.crawl(J.attributes,K))}return z},o.getTraceValObject=function(Z,z){var H=z[0],B=1,W,F;if(H==="transforms"){if(z.length===1)return s.transforms;var K=Z.transforms;if(!Array.isArray(K)||!K.length)return!1;var fe=z[1];if(!T(fe)||fe>=K.length)return!1;W=(n.transformsRegistry[K[fe].type]||{}).attributes,F=W&&W[z[2]],B=3}else{var se=Z._module;if(se||(se=(n.modules[Z.type||s.type.dflt]||{})._module),!se)return!1;if(W=se.attributes,F=W&&W[H],!F){var ee=se.basePlotModule;ee&&ee.attributes&&(F=ee.attributes[H])}F||(F=s[H])}return S(F,z,B)},o.getLayoutValObject=function(Z,z){var H=C(Z,z[0]);return S(H,z,1)};function C(Z,z){var H,B,W,F,K=Z._basePlotModules;if(K){var fe;for(H=0;H<K.length;H++){if(W=K[H],W.attrRegex&&W.attrRegex.test(z)){if(W.layoutAttrOverrides)return W.layoutAttrOverrides;!fe&&W.layoutAttributes&&(fe=W.layoutAttributes)}var se=W.baseLayoutAttrOverrides;if(se&&z in se)return se[z]}if(fe)return fe}var ee=Z._modules;if(ee){for(H=0;H<ee.length;H++)if(F=ee[H].layoutAttributes,F&&z in F)return F[z]}for(B in n.componentsRegistry){if(W=n.componentsRegistry[B],W.name==="colorscale"&&z.indexOf("coloraxis")===0)return W.layoutAttributes[z];if(!W.schema&&z===W.name)return W.layoutAttributes}return z in l?l[z]:!1}function S(Z,z,H){if(!Z)return!1;if(Z._isLinkedToArray){if(T(z[H]))H++;else if(H<z.length)return!1}for(;H<z.length;H++){var B=Z[z[H]];if(m(B))Z=B;else break;if(H===z.length-1)break;if(Z._isLinkedToArray){if(H++,!T(z[H]))return!1}else if(Z.valType==="info_array"){H++;var W=z[H];if(!T(W))return!1;var F=Z.items;if(Array.isArray(F)){if(W>=F.length)return!1;if(Z.dimensions===2){if(H++,z.length===H)return Z;var K=z[H];if(!T(K))return!1;Z=F[W][K]}else Z=F[W]}else Z=F}}return Z}function T(Z){return Z===Math.round(Z)&&Z>=0}function M(Z){var z,H;z=n.modules[Z]._module,H=z.basePlotModule;var B={};B.type=null;var W=f({},s),F=f({},z.attributes);o.crawl(F,function(se,ee,ie,J,te){g(W,te).set(void 0),se===void 0&&g(F,te).set(void 0)}),f(B,W),n.traceIs(Z,"noOpacity")&&delete B.opacity,n.traceIs(Z,"showLegend")||(delete B.showlegend,delete B.legendgroup),n.traceIs(Z,"noHover")&&(delete B.hoverinfo,delete B.hoverlabel),z.selectPoints||delete B.selectedpoints,f(B,F),H.attributes&&f(B,H.attributes),B.type=Z;var K={meta:z.meta||{},categories:z.categories||{},animatable:!!z.animatable,type:Z,attributes:P(B)};if(z.layoutAttributes){var fe={};f(fe,z.layoutAttributes),K.layoutAttributes=P(fe)}return z.animatable||o.crawl(K,function(se){o.isValObject(se)&&"anim"in se&&delete se.anim}),K}function D(){var Z={},z,H;f(Z,l);for(z in n.subplotsRegistry)if(H=n.subplotsRegistry[z],!!H.layoutAttributes)if(Array.isArray(H.attr))for(var B=0;B<H.attr.length;B++)U(Z,H,H.attr[B]);else{var W=H.attr==="subplot"?H.name:H.attr;U(Z,H,W)}for(z in n.componentsRegistry){H=n.componentsRegistry[z];var F=H.schema;if(F&&(F.subplots||F.layout)){var K=F.subplots;if(K&&K.xaxis&&!K.yaxis)for(var fe in K.xaxis)delete Z.yaxis[fe]}else H.name==="colorscale"?f(Z,H.layoutAttributes):H.layoutAttributes&&V(Z,H.layoutAttributes,H.name)}return{layoutAttributes:P(Z)}}function k(Z){var z=n.transformsRegistry[Z],H=f({},z.attributes);return Object.keys(n.componentsRegistry).forEach(function(B){var W=n.componentsRegistry[B];W.schema&&W.schema.transforms&&W.schema.transforms[Z]&&Object.keys(W.schema.transforms[Z]).forEach(function(F){V(H,W.schema.transforms[Z][F],F)})}),{attributes:P(H)}}function R(){var Z={frames:f({},u)};return P(Z),Z.frames}function P(Z){return E(Z),O(Z),I(Z),Z}function E(Z){function z(B){return{valType:"string",editType:"none"}}function H(B,W,F){o.isValObject(B)?(B.arrayOk===!0||B.valType==="data_array")&&(F[W+"src"]=z()):m(B)&&(B.role="object")}o.crawl(Z,H)}function O(Z){function z(H,B,W){if(H){var F=H[b];F&&(delete H[b],W[B]={items:{}},W[B].items[F]=H,W[B].role="object")}}o.crawl(Z,z)}function I(Z){function z(H){for(var B in H)if(m(H[B]))z(H[B]);else if(Array.isArray(H[B]))for(var W=0;W<H[B].length;W++)z(H[B][W]);else H[B]instanceof RegExp&&(H[B]=H[B].toString())}z(Z)}function U(Z,z,H){var B=g(Z,H),W=f({},z.layoutAttributes);W[d]=!0,B.set(W)}function V(Z,z,H){var B=g(Z,H);B.set(f(B.get()||{},z))}},{"../lib":244,"../plots/animation_attributes":285,"../plots/attributes":287,"../plots/frame_attributes":320,"../plots/layout_attributes":323,"../registry":327,"./edit_types":273,"./plot_config":278}],280:[function(r,i,o){var n=r("../lib"),a=r("../plots/attributes"),s="templateitemname",l={name:{valType:"string",editType:"none"}};l[s]={valType:"string",editType:"calc"},o.templatedArray=function(h,v){return v._isLinkedToArray=h,v.name=l.name,v[s]=l[s],v},o.traceTemplater=function(h){var v={},f,m;for(f in h)m=h[f],Array.isArray(m)&&m.length&&(v[f]=0);function _(g){f=n.coerce(g,{},a,"type");var p={type:f,_template:null};if(f in v){m=h[f];var d=v[f]%m.length;v[f]++,p._template=m[d]}return p}return{newTrace:_}},o.newContainer=function(h,v,f){var m=h._template,_=m&&(m[v]||f&&m[f]);n.isPlainObject(_)||(_=null);var g=h[v]={_template:_};return g},o.arrayTemplater=function(h,v,f){var m=h._template,_=m&&m[c(v)],g=m&&m[v];(!Array.isArray(g)||!g.length)&&(g=[]);var p={};function d(y){var x={name:y.name,_input:y},w=x[s]=y[s];if(!u(w))return x._template=_,x;for(var C=0;C<g.length;C++){var S=g[C];if(S.name===w)return p[w]=1,x._template=S,x}return x[f]=y[f]||!1,x._template=!1,x}function b(){for(var y=[],x=0;x<g.length;x++){var w=g[x],C=w.name;if(u(C)&&!p[C]){var S={_template:w,name:C,_input:{_templateitemname:C}};S[s]=w[s],y.push(S),p[C]=1}}return y}return{newItem:d,defaultItems:b}};function u(h){return h&&typeof h=="string"}function c(h){var v=h.length-1;return h.charAt(v)!=="s"&&n.warn("bad argument to arrayDefaultKey: "+h),h.substr(0,h.length-1)+"defaults"}o.arrayDefaultKey=c,o.arrayEditor=function(h,v,f){var m=(n.nestedProperty(h,v).get()||[]).length,_=f._index,g=_>=m&&(f._input||{})._templateitemname;g&&(_=m);var p=v+"["+_+"]",d;function b(){d={},g&&(d[p]={},d[p][s]=g)}b();function y(S,T){d[S]=T}function x(S,T){g?n.nestedProperty(d[p],S).set(T):d[p+"."+S]=T}function w(){var S=d;return b(),S}function C(S,T){S&&x(S,T);var M=w();for(var D in M)n.nestedProperty(h,D).set(M[D])}return{modifyBase:y,modifyItem:x,getUpdateObj:w,applyUpdate:C}}},{"../lib":244,"../plots/attributes":287}],281:[function(r,i,o){var n=r("@plotly/d3"),a=r("../registry"),s=r("../plots/plots"),l=r("../lib"),u=r("../lib/clear_gl_canvases"),c=r("../components/color"),h=r("../components/drawing"),v=r("../components/titles"),f=r("../components/modebar"),m=r("../plots/cartesian/axes"),_=r("../constants/alignment"),g=r("../plots/cartesian/constraints"),p=g.enforce,d=g.clean,b=r("../plots/cartesian/autorange").doAutoRange,y="start",x="middle",w="end";o.layoutStyles=function(O){return l.syncOrAsync([s.doAutoMargin,S],O)};function C(O,I,U){for(var V=0;V<U.length;V++){var Z=U[V][0],z=U[V][1];if(!(Z[0]>=O[1]||Z[1]<=O[0])&&z[0]<I[1]&&z[1]>I[0])return!0}return!1}function S(O){var I=O._fullLayout,U=I._size,V=U.p,Z=m.list(O,"",!0),z,H,B,W,F,K;if(I._paperdiv.style({width:O._context.responsive&&I.autosize&&!O._context._hasZeroWidth&&!O.layout.width?"100%":I.width+"px",height:O._context.responsive&&I.autosize&&!O._context._hasZeroHeight&&!O.layout.height?"100%":I.height+"px"}).selectAll(".main-svg").call(h.setSize,I.width,I.height),O._context.setBackground(O,I.paper_bgcolor),o.drawMainTitle(O),f.manage(O),!I._has("cartesian"))return s.previousPromises(O);function fe(nt,at,It){var zt=nt._lw/2;if(nt._id.charAt(0)==="x"){if(at){if(It==="top")return at._offset-V-zt}else return U.t+U.h*(1-(nt.position||0))+zt%1;return at._offset+at._length+V+zt}if(at){if(It==="right")return at._offset+at._length+V+zt}else return U.l+U.w*(nt.position||0)+zt%1;return at._offset-V-zt}for(z=0;z<Z.length;z++){W=Z[z];var se=W._anchorAxis;W._linepositions={},W._lw=h.crispRound(O,W.linewidth,1),W._mainLinePosition=fe(W,se,W.side),W._mainMirrorPosition=W.mirror&&se?fe(W,se,_.OPPOSITE_SIDE[W.side]):null}var ee=[],ie=[],J=[],te=c.opacity(I.paper_bgcolor)===1&&c.opacity(I.plot_bgcolor)===1&&I.paper_bgcolor===I.plot_bgcolor;for(H in I._plots)if(B=I._plots[H],B.mainplot)B.bg&&B.bg.remove(),B.bg=void 0;else{var L=B.xaxis.domain,N=B.yaxis.domain,G=B.plotgroup;if(C(L,N,J)){var Y=G.node(),j=B.bg=l.ensureSingle(G,"rect","bg");Y.insertBefore(j.node(),Y.childNodes[0]),ie.push(H)}else G.select("rect.bg").remove(),J.push([L,N]),te||(ee.push(H),ie.push(H))}var Q=I._bgLayer.selectAll(".bg").data(ee);for(Q.enter().append("rect").classed("bg",!0),Q.exit().remove(),Q.each(function(nt){I._plots[nt].bg=n.select(this)}),z=0;z<ie.length;z++)B=I._plots[ie[z]],F=B.xaxis,K=B.yaxis,B.bg&&F._offset!==void 0&&K._offset!==void 0&&B.bg.call(h.setRect,F._offset-V,K._offset-V,F._length+2*V,K._length+2*V).call(c.fill,I.plot_bgcolor).style("stroke-width",0);if(!I._hasOnlyLargeSploms)for(H in I._plots){B=I._plots[H],F=B.xaxis,K=B.yaxis;var q=B.clipId="clip"+I._uid+H+"plot",re=l.ensureSingleById(I._clips,"clipPath",q,function(nt){nt.classed("plotclip",!0).append("rect")});B.clipRect=re.select("rect").attr({width:F._length,height:K._length}),h.setTranslate(B.plot,F._offset,K._offset);var ue,de;B._hasClipOnAxisFalse?(ue=null,de=q):(ue=q,de=null),h.setClipUrl(B.plot,ue,O),B.layerClipId=de}var me,pe,ge,Te,He,Oe,tt,Le,De,Se,ze,Ke,_t;function Qe(nt){return"M"+me+","+nt+"H"+pe}function et(nt){return"M"+F._offset+","+nt+"h"+F._length}function rt(nt){return"M"+nt+","+Le+"V"+tt}function ft(nt){return"M"+nt+","+K._offset+"v"+K._length}function bt(nt,at,It){if(!nt.showline||H!==nt._mainSubplot)return"";if(!nt._anchorAxis)return It(nt._mainLinePosition);var zt=at(nt._mainLinePosition);return nt.mirror&&(zt+=at(nt._mainMirrorPosition)),zt}for(H in I._plots){B=I._plots[H],F=B.xaxis,K=B.yaxis;var Ft="M0,0";T(F,H)&&(He=D(F,"left",K,Z),me=F._offset-(He?V+He:0),Oe=D(F,"right",K,Z),pe=F._offset+F._length+(Oe?V+Oe:0),ge=fe(F,K,"bottom"),Te=fe(F,K,"top"),_t=!F._anchorAxis||H!==F._mainSubplot,_t&&(F.mirror==="allticks"||F.mirror==="all")&&(F._linepositions[H]=[ge,Te]),Ft=bt(F,Qe,et),_t&&F.showline&&(F.mirror==="all"||F.mirror==="allticks")&&(Ft+=Qe(ge)+Qe(Te)),B.xlines.style("stroke-width",F._lw+"px").call(c.stroke,F.showline?F.linecolor:"rgba(0,0,0,0)")),B.xlines.attr("d",Ft);var ct="M0,0";T(K,H)&&(ze=D(K,"bottom",F,Z),tt=K._offset+K._length+(ze?V:0),Ke=D(K,"top",F,Z),Le=K._offset-(Ke?V:0),De=fe(K,F,"left"),Se=fe(K,F,"right"),_t=!K._anchorAxis||H!==K._mainSubplot,_t&&(K.mirror==="allticks"||K.mirror==="all")&&(K._linepositions[H]=[De,Se]),ct=bt(K,rt,ft),_t&&K.showline&&(K.mirror==="all"||K.mirror==="allticks")&&(ct+=rt(De)+rt(Se)),B.ylines.style("stroke-width",K._lw+"px").call(c.stroke,K.showline?K.linecolor:"rgba(0,0,0,0)")),B.ylines.attr("d",ct)}return m.makeClipPaths(O),s.previousPromises(O)}function T(O,I){return(O.ticks||O.showline)&&(I===O._mainSubplot||O.mirror==="all"||O.mirror==="allticks")}function M(O,I,U){if(!U.showline||!U._lw)return!1;if(U.mirror==="all"||U.mirror==="allticks")return!0;var V=U._anchorAxis;if(!V)return!1;var Z=_.FROM_BL[I];return U.side===I?V.domain[Z]===O.domain[Z]:U.mirror&&V.domain[1-Z]===O.domain[1-Z]}function D(O,I,U,V){if(M(O,I,U))return U._lw;for(var Z=0;Z<V.length;Z++){var z=V[Z];if(z._mainAxis===U._mainAxis&&M(O,I,z))return z._lw}return 0}o.drawMainTitle=function(O){var I=O._fullLayout,U=P(I),V=E(I);v.draw(O,"gtitle",{propContainer:I,propName:"title.text",placeholder:I._dfltTitle.plot,attributes:{x:k(I,U),y:R(I,V),"text-anchor":U,dy:V}})};function k(O,I){var U=O.title,V=O._size,Z=0;switch(I===y?Z=U.pad.l:I===w&&(Z=-U.pad.r),U.xref){case"paper":return V.l+V.w*U.x+Z;case"container":default:return O.width*U.x+Z}}function R(O,I){var U=O.title,V=O._size,Z=0;if(I==="0em"||!I?Z=-U.pad.b:I===_.CAP_SHIFT+"em"&&(Z=U.pad.t),U.y==="auto")return V.t/2;switch(U.yref){case"paper":return V.t+V.h-V.h*U.y+Z;case"container":default:return O.height-O.height*U.y+Z}}function P(O){var I=O.title,U=x;return l.isRightAnchor(I)?U=w:l.isLeftAnchor(I)&&(U=y),U}function E(O){var I=O.title,U="0em";return l.isTopAnchor(I)?U=_.CAP_SHIFT+"em":l.isMiddleAnchor(I)&&(U=_.MID_SHIFT+"em"),U}o.doTraceStyle=function(O){var I=O.calcdata,U=[],V;for(V=0;V<I.length;V++){var Z=I[V],z=Z[0]||{},H=z.trace||{},B=H._module||{},W=B.arraysToCalcdata;W&&W(Z,H);var F=B.editStyle;F&&U.push({fn:F,cd0:z})}if(U.length){for(V=0;V<U.length;V++){var K=U[V];K.fn(O,K.cd0)}u(O),o.redrawReglTraces(O)}return s.style(O),a.getComponentMethod("legend","draw")(O),s.previousPromises(O)},o.doColorBars=function(O){return a.getComponentMethod("colorbar","draw")(O),s.previousPromises(O)},o.layoutReplot=function(O){var I=O.layout;return O.layout=void 0,a.call("_doPlot",O,"",I)},o.doLegend=function(O){return a.getComponentMethod("legend","draw")(O),s.previousPromises(O)},o.doTicksRelayout=function(O){return m.draw(O,"redraw"),O._fullLayout._hasOnlyLargeSploms&&(a.subplotsRegistry.splom.updateGrid(O),u(O),o.redrawReglTraces(O)),o.drawMainTitle(O),s.previousPromises(O)},o.doModeBar=function(O){var I=O._fullLayout;f.manage(O);for(var U=0;U<I._basePlotModules.length;U++){var V=I._basePlotModules[U].updateFx;V&&V(O)}return s.previousPromises(O)},o.doCamera=function(O){for(var I=O._fullLayout,U=I._subplots.gl3d,V=0;V<U.length;V++){var Z=I[U[V]],z=Z._scene;z.setViewport(Z)}},o.drawData=function(O){var I=O._fullLayout;u(O);for(var U=I._basePlotModules,V=0;V<U.length;V++)U[V].plot(O);return o.redrawReglTraces(O),s.style(O),a.getComponentMethod("selections","draw")(O),a.getComponentMethod("shapes","draw")(O),a.getComponentMethod("annotations","draw")(O),a.getComponentMethod("images","draw")(O),I._replotting=!1,s.previousPromises(O)},o.redrawReglTraces=function(O){var I=O._fullLayout;if(I._has("regl")){var U=O._fullData,V=[],Z=[],z,H;for(I._hasOnlyLargeSploms&&I._splomGrid.draw(),z=0;z<U.length;z++){var B=U[z];B.visible===!0&&B._length!==0&&(B.type==="splom"?I._splomScenes[B.uid].draw():B.type==="scattergl"?l.pushUnique(V,B.xaxis+B.yaxis):B.type==="scatterpolargl"&&l.pushUnique(Z,B.subplot))}for(z=0;z<V.length;z++)H=I._plots[V[z]],H._scene&&H._scene.draw();for(z=0;z<Z.length;z++)H=I[Z[z]]._subplot,H._scene&&H._scene.draw()}},o.doAutoRangeAndConstraints=function(O){for(var I=m.list(O,"",!0),U,V={},Z=0;Z<I.length;Z++)if(U=I[Z],!V[U._id]){V[U._id]=1,d(O,U),b(O,U);var z=U._matchGroup;if(z)for(var H in z){var B=m.getFromId(O,H);b(O,B,U.range),V[H]=1}}p(O)},o.finalDraw=function(O){a.getComponentMethod("rangeslider","draw")(O),a.getComponentMethod("rangeselector","draw")(O)},o.drawMarginPushers=function(O){a.getComponentMethod("legend","draw")(O),a.getComponentMethod("rangeselector","draw")(O),a.getComponentMethod("sliders","draw")(O),a.getComponentMethod("updatemenus","draw")(O),a.getComponentMethod("colorbar","draw")(O)}},{"../components/color":103,"../components/drawing":125,"../components/modebar":166,"../components/titles":212,"../constants/alignment":219,"../lib":244,"../lib/clear_gl_canvases":232,"../plots/cartesian/autorange":290,"../plots/cartesian/axes":291,"../plots/cartesian/constraints":299,"../plots/plots":325,"../registry":327,"@plotly/d3":11}],282:[function(r,i,o){var n=r("../lib"),a=n.isPlainObject,s=r("./plot_schema"),l=r("../plots/plots"),u=r("../plots/attributes"),c=r("./plot_template"),h=r("./plot_config").dfltConfig;o.makeTemplate=function(y){y=n.isPlainObject(y)?y:n.getGraphDiv(y),y=n.extendDeep({_context:h},{data:y.data,layout:y.layout}),l.supplyDefaults(y);var x=y.data||[],w=y.layout||{};w._basePlotModules=y._fullLayout._basePlotModules,w._modules=y._fullLayout._modules;var C={data:{},layout:{}};x.forEach(function(I){var U={};m(I,U,g.bind(null,I));var V=n.coerce(I,{},u,"type"),Z=C.data[V];Z||(Z=C.data[V]=[]),Z.push(U)}),m(w,C.layout,_.bind(null,w)),delete C.layout.template;var S=w.template;if(a(S)){var T=S.layout,M,D,k,R,P,E;a(T)&&v(T,C.layout);var O=S.data;if(a(O)){for(D in C.data)if(k=O[D],Array.isArray(k)){for(P=C.data[D],E=P.length,R=k.length,M=0;M<E;M++)v(k[M%R],P[M]);for(M=E;M<R;M++)P.push(n.extendDeep({},k[M]))}for(D in O)D in C.data||(C.data[D]=n.extendDeep([],O[D]))}}return C};function v(y,x){y=n.extendDeep({},y);var w=Object.keys(y).sort(),C,S;function T(P,E,O){if(a(E)&&a(P))v(P,E);else if(Array.isArray(E)&&Array.isArray(P)){var I=c.arrayTemplater({_template:y},O);for(S=0;S<E.length;S++){var U=E[S],V=I.newItem(U)._template;V&&v(V,U)}var Z=I.defaultItems();for(S=0;S<Z.length;S++)E.push(Z[S]._template);for(S=0;S<E.length;S++)delete E[S].templateitemname}}for(C=0;C<w.length;C++){var M=w[C],D=y[M];if(M in x?T(D,x[M],M):x[M]=D,f(M)===M)for(var k in x){var R=f(k);k!==R&&R===M&&!(k in y)&&T(D,x[k],M)}}}function f(y){return y.replace(/[0-9]+$/,"")}function m(y,x,w,C,S){var T=S&&w(S);for(var M in y){var D=y[M],k=p(y,M,C),R=p(y,M,S),P=w(R);if(!P){var E=f(M);E!==M&&(R=p(y,E,S),P=w(R))}if(!(T&&T===P)&&!(!P||P._noTemplating||P.valType==="data_array"||P.arrayOk&&Array.isArray(D)))if(!P.valType&&a(D))m(D,x,w,k,R);else if(P._isLinkedToArray&&Array.isArray(D))for(var O=!1,I=0,U={},V=0;V<D.length;V++){var Z=D[V];if(a(Z)){var z=Z.name;if(z)U[z]||(m(Z,x,w,p(D,I,k),p(D,I,R)),I++,U[z]=1);else if(!O){var H=c.arrayDefaultKey(M),B=p(y,H,C),W=p(D,I,k);m(Z,x,w,W,p(D,I,R));var F=n.nestedProperty(x,W),K=n.nestedProperty(x,B);K.set(F.get()),F.set(null),O=!0}}}else{var fe=n.nestedProperty(x,k);fe.set(D)}}}function _(y,x){return s.getLayoutValObject(y,n.nestedProperty({},x).parts)}function g(y,x){return s.getTraceValObject(y,n.nestedProperty({},x).parts)}function p(y,x,w){var C;return w?Array.isArray(y)?C=w+"["+x+"]":C=w+"."+x:C=x,C}o.validateTemplate=function(y,x){var w=n.extendDeep({},{_context:h,data:y.data,layout:y.layout}),C=w.layout||{};a(x)||(x=C.template||{});var S=x.layout,T=x.data,M=[];w.layout=C,w.layout.template=x,l.supplyDefaults(w);var D=w._fullLayout,k=w._fullData,R={};function P(B,W){for(var F in B)if(F.charAt(0)!=="_"&&a(B[F])){var K=f(F),fe=[],se;for(se=0;se<W.length;se++)fe.push(p(B,F,W[se])),K!==F&&fe.push(p(B,K,W[se]));for(se=0;se<fe.length;se++)R[fe[se]]=1;P(B[F],fe)}}function E(B,W){for(var F in B)if(F.indexOf("defaults")===-1&&a(B[F])){var K=p(B,F,W);R[K]?E(B[F],K):M.push({code:"unused",path:K})}}if(a(S)?(P(D,["layout"]),E(S,"layout")):M.push({code:"layout"}),!a(T))M.push({code:"data"});else{for(var O={},I,U=0;U<k.length;U++){var V=k[U];I=V.type,O[I]=(O[I]||0)+1,V._fullInput._template||M.push({code:"missing",index:V._fullInput.index,traceType:I})}for(I in T){var Z=T[I].length,z=O[I]||0;Z>z?M.push({code:"unused",traceType:I,templateCount:Z,dataCount:z}):z>Z&&M.push({code:"reused",traceType:I,templateCount:Z,dataCount:z})}}function H(B,W){for(var F in B)if(F.charAt(0)!=="_"){var K=B[F],fe=p(B,F,W);a(K)?(Array.isArray(B)&&K._template===!1&&K.templateitemname&&M.push({code:"missing",path:fe,templateitemname:K.templateitemname}),H(K,fe)):Array.isArray(K)&&d(K)&&H(K,fe)}}if(H({data:k,layout:D},""),M.length)return M.map(b)};function d(y){for(var x=0;x<y.length;x++)if(a(y[x]))return!0}function b(y){var x;switch(y.code){case"data":x="The template has no key data.";break;case"layout":x="The template has no key layout.";break;case"missing":y.path?x="There are no templates for item "+y.path+" with name "+y.templateitemname:x="There are no templates for trace "+y.index+", of type "+y.traceType+".";break;case"unused":y.path?x="The template item at "+y.path+" was not used in constructing the plot.":y.dataCount?x="Some of the templates of type "+y.traceType+" were not used. The template has "+y.templateCount+" traces, the data only has "+y.dataCount+" of this type.":x="The template has "+y.templateCount+" traces of type "+y.traceType+" but there are none in the data.";break;case"reused":x="Some of the templates of type "+y.traceType+" were used more than once. The template has "+y.templateCount+" traces, the data has "+y.dataCount+" of this type.";break}return y.msg=x,y}},{"../lib":244,"../plots/attributes":287,"../plots/plots":325,"./plot_config":278,"./plot_schema":279,"./plot_template":280}],283:[function(r,i,o){var n=r("fast-isnumeric"),a=r("./plot_api"),s=r("../plots/plots"),l=r("../lib"),u=r("../snapshot/helpers"),c=r("../snapshot/tosvg"),h=r("../snapshot/svgtoimg"),v=r("../version").version,f={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};function m(_,g){g=g||{};var p,d,b,y;l.isPlainObject(_)?(p=_.data||[],d=_.layout||{},b=_.config||{},y={}):(_=l.getGraphDiv(_),p=l.extendDeep([],_.data),d=l.extendDeep({},_.layout),b=_._context,y=_._fullLayout||{});function x(z){return!(z in g)||l.validate(g[z],f[z])}if(!x("width")&&g.width!==null||!x("height")&&g.height!==null)throw new Error("Height and width should be pixel values.");if(!x("format"))throw new Error("Export format is not "+l.join2(f.format.values,", "," or ")+".");var w={};function C(z,H){return l.coerce(g,w,f,z,H)}var S=C("format"),T=C("width"),M=C("height"),D=C("scale"),k=C("setBackground"),R=C("imageDataOnly"),P=document.createElement("div");P.style.position="absolute",P.style.left="-5000px",document.body.appendChild(P);var E=l.extendFlat({},d);T?E.width=T:g.width===null&&n(y.width)&&(E.width=y.width),M?E.height=M:g.height===null&&n(y.height)&&(E.height=y.height);var O=l.extendFlat({},b,{_exportedPlot:!0,staticPlot:!0,setBackground:k}),I=u.getRedrawFunc(P);function U(){return new Promise(function(z){setTimeout(z,u.getDelay(P._fullLayout))})}function V(){return new Promise(function(z,H){var B=c(P,S,D),W=P._fullLayout.width,F=P._fullLayout.height;function K(){a.purge(P),document.body.removeChild(P)}if(S==="full-json"){var fe=s.graphJson(P,!1,"keepdata","object",!0,!0);return fe.version=v,fe=JSON.stringify(fe),K(),z(R?fe:u.encodeJSON(fe))}if(K(),S==="svg")return z(R?B:u.encodeSVG(B));var se=document.createElement("canvas");se.id=l.randstr(),h({format:S,width:W,height:F,scale:D,canvas:se,svg:B,promise:!0}).then(z).catch(H)})}function Z(z){return R?z.replace(u.IMAGE_URL_PREFIX,""):z}return new Promise(function(z,H){a.newPlot(P,p,E,O).then(I).then(U).then(V).then(function(B){z(Z(B))}).catch(function(B){H(B)})})}i.exports=m},{"../lib":244,"../plots/plots":325,"../snapshot/helpers":331,"../snapshot/svgtoimg":333,"../snapshot/tosvg":335,"../version":400,"./plot_api":277,"fast-isnumeric":17}],284:[function(r,i,o){var n=r("../lib"),a=r("../plots/plots"),s=r("./plot_schema"),l=r("./plot_config").dfltConfig,u=n.isPlainObject,c=Array.isArray,h=n.isArrayOrTypedArray;i.exports=function(C,S){C===void 0&&(C=[]),S===void 0&&(S={});var T=s.get(),M=[],D={_context:n.extendFlat({},l)},k,R;c(C)?(D.data=n.extendDeep([],C),k=C):(D.data=[],k=[],M.push(g("array","data"))),u(S)?(D.layout=n.extendDeep({},S),R=S):(D.layout={},R={},arguments.length>1&&M.push(g("object","layout"))),a.supplyDefaults(D);for(var P=D._fullData,E=k.length,O=0;O<E;O++){var I=k[O],U=["data",O];if(!u(I)){M.push(g("object",U));continue}var V=P[O],Z=V.type,z=T.traces[Z].attributes;z.type={valType:"enumerated",values:[Z]},V.visible===!1&&I.visible!==!1&&M.push(g("invisible",U)),v(I,V,z,M,U);var H=I.transforms,B=V.transforms;if(H){c(H)||M.push(g("array",U,["transforms"])),U.push("transforms");for(var W=0;W<H.length;W++){var F=["transforms",W],K=H[W].type;if(!u(H[W])){M.push(g("object",U,F));continue}var fe=T.transforms[K]?T.transforms[K].attributes:{};fe.type={valType:"enumerated",values:Object.keys(T.transforms)},v(H[W],B[W],fe,M,U,F)}}}var se=D._fullLayout,ee=f(T,P);return v(R,se,ee,M,"layout"),M.length===0?void 0:M};function v(w,C,S,T,M,D){D=D||[];for(var k=Object.keys(w),R=0;R<k.length;R++){var P=k[R];if(P!=="transforms"){var E=D.slice();E.push(P);var O=w[P],I=C[P],U=d(S,P),V=(U||{}).valType,Z=V==="info_array",z=V==="colorscale",H=(U||{}).items;if(!p(S,P))T.push(g("schema",M,E));else if(u(O)&&u(I)&&V!=="any")v(O,I,U,T,M,E);else if(Z&&c(O)){O.length>I.length&&T.push(g("unused",M,E.concat(I.length)));var B=I.length,W=Array.isArray(H);W&&(B=Math.min(B,H.length));var F,K,fe,se,ee;if(U.dimensions===2)for(K=0;K<B;K++)if(c(O[K])){O[K].length>I[K].length&&T.push(g("unused",M,E.concat(K,I[K].length)));var ie=I[K].length;for(F=0;F<(W?Math.min(ie,H[K].length):ie);F++)fe=W?H[K][F]:H,se=O[K][F],ee=I[K][F],n.validate(se,fe)?ee!==se&&ee!==+se&&T.push(g("dynamic",M,E.concat(K,F),se,ee)):T.push(g("value",M,E.concat(K,F),se))}else T.push(g("array",M,E.concat(K),O[K]));else for(K=0;K<B;K++)fe=W?H[K]:H,se=O[K],ee=I[K],n.validate(se,fe)?ee!==se&&ee!==+se&&T.push(g("dynamic",M,E.concat(K),se,ee)):T.push(g("value",M,E.concat(K),se))}else if(U.items&&!Z&&c(O)){var J=H[Object.keys(H)[0]],te=[],L,N;for(L=0;L<I.length;L++){var G=I[L]._index||L;if(N=E.slice(),N.push(G),u(O[G])&&u(I[L])){te.push(G);var Y=O[G],j=I[L];u(Y)&&Y.visible!==!1&&j.visible===!1?T.push(g("invisible",M,N)):v(Y,j,J,T,M,N)}}for(L=0;L<O.length;L++)N=E.slice(),N.push(L),u(O[L])?te.indexOf(L)===-1&&T.push(g("unused",M,N)):T.push(g("object",M,N,O[L]))}else!u(O)&&u(I)?T.push(g("object",M,E,O)):!h(O)&&h(I)&&!Z&&!z?T.push(g("array",M,E,O)):P in C?n.validate(O,U)?U.valType==="enumerated"&&(U.coerceNumber&&O!==+I||O!==I)&&T.push(g("dynamic",M,E,O,I)):T.push(g("value",M,E,O)):T.push(g("unused",M,E,O))}}return T}function f(w,C){for(var S=w.layout.layoutAttributes,T=0;T<C.length;T++){var M=C[T],D=w.traces[M.type],k=D.layoutAttributes;k&&(M.subplot?n.extendFlat(S[D.attributes.subplot.dflt],k):n.extendFlat(S,k))}return S}var m={object:function(w,C){var S;return w==="layout"&&C===""?S="The layout argument":w[0]==="data"&&C===""?S="Trace "+w[1]+" in the data argument":S=_(w)+"key "+C,S+" must be linked to an object container"},array:function(w,C){var S;return w==="data"?S="The data argument":S=_(w)+"key "+C,S+" must be linked to an array container"},schema:function(w,C){return _(w)+"key "+C+" is not part of the schema"},unused:function(w,C,S){var T=u(S)?"container":"key";return _(w)+T+" "+C+" did not get coerced"},dynamic:function(w,C,S,T){return[_(w)+"key",C,"(set to '"+S+"')","got reset to","'"+T+"'","during defaults."].join(" ")},invisible:function(w,C){return(C?_(w)+"item "+C:"Trace "+w[1])+" got defaulted to be not visible"},value:function(w,C,S){return[_(w)+"key "+C,"is set to an invalid value ("+S+")"].join(" ")}};function _(w){return c(w)?"In data trace "+w[1]+", ":"In "+w+", "}function g(w,C,S,T,M){S=S||"";var D,k;c(C)?(D=C[0],k=C[1]):(D=C,k=null);var R=x(S),P=m[w](C,R,T,M);return n.log(P),{code:w,container:D,trace:k,path:S,astr:R,msg:P}}function p(w,C){var S=y(C),T=S.keyMinusId,M=S.id;return T in w&&w[T]._isSubplotObj&&M?!0:C in w}function d(w,C){if(C in w)return w[C];var S=y(C);return w[S.keyMinusId]}var b=n.counterRegex("([a-z]+)");function y(w){var C=w.match(b);return{keyMinusId:C&&C[1],id:C&&C[2]}}function x(w){if(!c(w))return String(w);for(var C="",S=0;S<w.length;S++){var T=w[S];typeof T=="number"?C=C.substr(0,C.length-1)+"["+T+"]":C+=T,S<w.length-1&&(C+=".")}return C}},{"../lib":244,"../plots/plots":325,"./plot_config":278,"./plot_schema":279}],285:[function(r,i,o){i.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},{}],286:[function(r,i,o){var n=r("../lib"),a=r("../plot_api/plot_template");i.exports=function(l,u,c){var h=c.name,v=c.inclusionAttr||"visible",f=u[h],m=n.isArrayOrTypedArray(l[h])?l[h]:[],_=u[h]=[],g=a.arrayTemplater(u,h,v),p,d;for(p=0;p<m.length;p++){var b=m[p];n.isPlainObject(b)?d=g.newItem(b):(d=g.newItem({}),d[v]=!1),d._index=p,d[v]!==!1&&c.handleItemDefaults(b,d,u,c),_.push(d)}var y=g.defaultItems();for(p=0;p<y.length;p++)d=y[p],d._index=_.length,c.handleItemDefaults({},d,u,c,{}),_.push(d);if(n.isArrayOrTypedArray(f)){var x=Math.min(f.length,_.length);for(p=0;p<x;p++)n.relinkPrivateKeys(_[p],f[p])}return _}},{"../lib":244,"../plot_api/plot_template":280}],287:[function(r,i,o){var n=r("./font_attributes"),a=r("../components/fx/attributes");i.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:n({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:a.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},{"../components/fx/attributes":134,"./font_attributes":319}],288:[function(r,i,o){var n=r("fast-isnumeric"),a=r("../../lib"),s=a.dateTime2ms,l=a.incrementMonth,u=r("../../constants/numerical"),c=u.ONEAVGMONTH;i.exports=function(v,f,m,_){if(f.type!=="date")return{vals:_};var g=v[m+"periodalignment"];if(!g)return{vals:_};var p=v[m+"period"],d;if(n(p)){if(p=+p,p<=0)return{vals:_}}else if(typeof p=="string"&&p.charAt(0)==="M"){var b=+p.substring(1);if(b>0&&Math.round(b)===b)d=b;else return{vals:_}}for(var y=f.calendar,x=g==="start",w=g==="end",C=v[m+"period0"],S=s(C,y)||0,T=[],M=[],D=[],k=_.length,R=0;R<k;R++){var P=_[R],E,O,I;if(d){for(E=Math.round((P-S)/(d*c)),I=l(S,d*E,y);I>P;)I=l(I,-d,y);for(;I<=P;)I=l(I,d,y);O=l(I,-d,y)}else{for(E=Math.round((P-S)/p),I=S+E*p;I>P;)I-=p;for(;I<=P;)I+=p;O=I-p}T[R]=x?O:w?I:(O+I)/2,M[R]=O,D[R]=I}return{vals:T,starts:M,ends:D}}},{"../../constants/numerical":224,"../../lib":244,"fast-isnumeric":17}],289:[function(r,i,o){i.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},{}],290:[function(r,i,o){var n=r("@plotly/d3"),a=r("fast-isnumeric"),s=r("../../lib"),l=r("../../constants/numerical").FP_SAFE,u=r("../../registry"),c=r("../../components/drawing"),h=r("./axis_ids"),v=h.getFromId,f=h.isLinked;i.exports={getAutoRange:m,makePadFn:g,doAutoRange:y,findExtremes:x,concatExtremes:b};function m(k,R){var P,E,O=[],I=k._fullLayout,U=g(I,R,0),V=g(I,R,1),Z=b(k,R),z=Z.min,H=Z.max;if(z.length===0||H.length===0)return s.simpleMap(R.range,R.r2l);var B=z[0].val,W=H[0].val;for(P=1;P<z.length&&B===W;P++)B=Math.min(B,z[P].val);for(P=1;P<H.length&&B===W;P++)W=Math.max(W,H[P].val);var F=!1;if(R.range){var K=s.simpleMap(R.range,R.r2l);F=K[1]<K[0]}R.autorange==="reversed"&&(F=!0,R.autorange=!0);var fe=R.rangemode,se=fe==="tozero",ee=fe==="nonnegative",ie=R._length,J=ie/10,te=0,L,N,G,Y,j,Q;for(P=0;P<z.length;P++)for(L=z[P],E=0;E<H.length;E++)N=H[E],Q=N.val-L.val-_(R,L.val,N.val),Q>0&&(j=ie-U(L)-V(N),j>J?Q/j>te&&(G=L,Y=N,te=Q/j):Q/ie>te&&(G={val:L.val,nopad:1},Y={val:N.val,nopad:1},te=Q/ie));function q(pe,ge){return Math.max(pe,V(ge))}if(B===W){var re=B-1,ue=B+1;if(se)if(B===0)O=[0,1];else{var de=(B>0?H:z).reduce(q,0),me=B/(1-Math.min(.5,de/ie));O=B>0?[0,me]:[me,0]}else ee?O=[Math.max(0,re),Math.max(1,ue)]:O=[re,ue]}else se?(G.val>=0&&(G={val:0,nopad:1}),Y.val<=0&&(Y={val:0,nopad:1})):ee&&(G.val-te*U(G)<0&&(G={val:0,nopad:1}),Y.val<=0&&(Y={val:1,nopad:1})),te=(Y.val-G.val-_(R,L.val,N.val))/(ie-U(G)-V(Y)),O=[G.val-te*U(G),Y.val+te*V(Y)];return F&&O.reverse(),s.simpleMap(O,R.l2r||Number)}function _(k,R,P){var E=0;if(k.rangebreaks)for(var O=k.locateBreaks(R,P),I=0;I<O.length;I++){var U=O[I];E+=U.max-U.min}return E}function g(k,R,P){var E=.05*R._length,O=R._anchorAxis||{};if((R.ticklabelposition||"").indexOf("inside")!==-1||(O.ticklabelposition||"").indexOf("inside")!==-1){var I=R.autorange==="reversed";if(!I){var U=s.simpleMap(R.range,R.r2l);I=U[1]<U[0]}I&&(P=!P)}var V=0;return f(k,R._id)||(V=d(k,R,P)),E=Math.max(V,E),R.constrain==="domain"&&R._inputDomain&&(E*=(R._inputDomain[1]-R._inputDomain[0])/(R.domain[1]-R.domain[0])),function(z){return z.nopad?0:z.pad+(z.extrapad?E:V)}}var p=3;function d(k,R,P){var E=0,O=R._id.charAt(0)==="x";for(var I in k._plots){var U=k._plots[I];if(!(R._id!==U.xaxis._id&&R._id!==U.yaxis._id)){var V=(O?U.yaxis:U.xaxis)||{};if((V.ticklabelposition||"").indexOf("inside")!==-1&&(!P&&(V.side==="left"||V.side==="bottom")||P&&(V.side==="top"||V.side==="right"))){if(V._vals){var Z=s.deg2rad(V._tickAngles[V._id+"tick"]||0),z=Math.abs(Math.cos(Z)),H=Math.abs(Math.sin(Z));if(!V._vals[0].bb){var B=V._id+"tick",W=V._selections[B];W.each(function(ie){var J=n.select(this),te=J.select(".text-math-group");te.empty()&&(ie.bb=c.bBox(J.node()))})}for(var F=0;F<V._vals.length;F++){var K=V._vals[F],fe=K.bb;if(fe){var se=2*p+fe.width,ee=2*p+fe.height;E=Math.max(E,O?Math.max(se*z,ee*H):Math.max(ee*z,se*H))}}}V.ticks==="inside"&&V.ticklabelposition==="inside"&&(E+=V.ticklen||0)}}}return E}function b(k,R,P){var E=R._id,O=k._fullData,I=k._fullLayout,U=[],V=[],Z,z,H;function B(se,ee){for(Z=0;Z<ee.length;Z++){var ie=se[ee[Z]],J=(ie._extremes||{})[E];if(ie.visible===!0&&J){for(z=0;z<J.min.length;z++)H=J.min[z],w(U,H.val,H.pad,{extrapad:H.extrapad});for(z=0;z<J.max.length;z++)H=J.max[z],C(V,H.val,H.pad,{extrapad:H.extrapad})}}}if(B(O,R._traceIndices),B(I.annotations||[],R._annIndices||[]),B(I.shapes||[],R._shapeIndices||[]),R._matchGroup&&!P){for(var W in R._matchGroup)if(W!==R._id){var F=v(k,W),K=b(k,F,!0),fe=R._length/F._length;for(z=0;z<K.min.length;z++)H=K.min[z],w(U,H.val,H.pad*fe,{extrapad:H.extrapad});for(z=0;z<K.max.length;z++)H=K.max[z],C(V,H.val,H.pad*fe,{extrapad:H.extrapad})}}return{min:U,max:V}}function y(k,R,P){if(R.setScale(),R.autorange){R.range=P?P.slice():m(k,R),R._r=R.range.slice(),R._rl=s.simpleMap(R._r,R.r2l);var E=R._input,O={};O[R._attr+".range"]=R.range,O[R._attr+".autorange"]=R.autorange,u.call("_storeDirectGUIEdit",k.layout,k._fullLayout._preGUI,O),E.range=R.range.slice(),E.autorange=R.autorange}var I=R._anchorAxis;if(I&&I.rangeslider){var U=I.rangeslider[R._name];U&&U.rangemode==="auto"&&(U.range=m(k,R)),I._input.rangeslider[R._name]=s.extendFlat({},U)}}function x(k,R,P){P||(P={}),k._m||k.setScale();var E=[],O=[],I=R.length,U=P.padded||!1,V=P.tozero&&(k.type==="linear"||k.type==="-"),Z=k.type==="log",z=!1,H=P.vpadLinearized||!1,B,W,F,K,fe,se,ee,ie,J;function te(re){if(Array.isArray(re))return z=!0,function(de){return Math.max(Number(re[de]||0),0)};var ue=Math.max(Number(re||0),0);return function(){return ue}}var L=te((k._m>0?P.ppadplus:P.ppadminus)||P.ppad||0),N=te((k._m>0?P.ppadminus:P.ppadplus)||P.ppad||0),G=te(P.vpadplus||P.vpad),Y=te(P.vpadminus||P.vpad);if(!z){if(ie=1/0,J=-1/0,Z)for(B=0;B<I;B++)W=R[B],W<ie&&W>0&&(ie=W),W>J&&W<l&&(J=W);else for(B=0;B<I;B++)W=R[B],W<ie&&W>-l&&(ie=W),W>J&&W<l&&(J=W);R=[ie,J],I=2}var j={tozero:V,extrapad:U};function Q(re){F=R[re],a(F)&&(se=L(re),ee=N(re),H?(K=k.c2l(F)-Y(re),fe=k.c2l(F)+G(re)):(ie=F-Y(re),J=F+G(re),Z&&ie<J/10&&(ie=J/10),K=k.c2l(ie),fe=k.c2l(J)),V&&(K=Math.min(0,K),fe=Math.max(0,fe)),T(K)&&w(E,K,ee,j),T(fe)&&C(O,fe,se,j))}var q=Math.min(6,I);for(B=0;B<q;B++)Q(B);for(B=I-1;B>=q;B--)Q(B);return{min:E,max:O,opts:P}}function w(k,R,P,E){S(k,R,P,E,M)}function C(k,R,P,E){S(k,R,P,E,D)}function S(k,R,P,E,O){for(var I=E.tozero,U=E.extrapad,V=!0,Z=0;Z<k.length&&V;Z++){var z=k[Z];if(O(z.val,R)&&z.pad>=P&&(z.extrapad||!U)){V=!1;break}else O(R,z.val)&&z.pad<=P&&(U||!z.extrapad)&&(k.splice(Z,1),Z--)}if(V){var H=I&&R===0;k.push({val:R,pad:H?0:P,extrapad:H?!1:U})}}function T(k){return a(k)&&Math.abs(k)<l}function M(k,R){return k<=R}function D(k,R){return k>=R}},{"../../components/drawing":125,"../../constants/numerical":224,"../../lib":244,"../../registry":327,"./axis_ids":295,"@plotly/d3":11,"fast-isnumeric":17}],291:[function(r,i,o){var n=r("@plotly/d3"),a=r("fast-isnumeric"),s=r("../../plots/plots"),l=r("../../registry"),u=r("../../lib"),c=u.strTranslate,h=r("../../lib/svg_text_utils"),v=r("../../components/titles"),f=r("../../components/color"),m=r("../../components/drawing"),_=r("./layout_attributes"),g=r("./clean_ticks"),p=r("../../constants/numerical"),d=p.ONEMAXYEAR,b=p.ONEAVGYEAR,y=p.ONEMINYEAR,x=p.ONEMAXQUARTER,w=p.ONEAVGQUARTER,C=p.ONEMINQUARTER,S=p.ONEMAXMONTH,T=p.ONEAVGMONTH,M=p.ONEMINMONTH,D=p.ONEWEEK,k=p.ONEDAY,R=k/2,P=p.ONEHOUR,E=p.ONEMIN,O=p.ONESEC,I=p.MINUS_SIGN,U=p.BADNUM,V={K:"zeroline"},Z={K:"gridline",L:"path"},z={K:"minor-gridline",L:"path"},H={K:"tick",L:"path"},B={K:"tick",L:"text"},W={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},F=r("../../constants/alignment"),K=F.MID_SHIFT,fe=F.CAP_SHIFT,se=F.LINE_SPACING,ee=F.OPPOSITE_SIDE,ie=3,J=i.exports={};J.setConvert=r("./set_convert");var te=r("./axis_autotype"),L=r("./axis_ids"),N=L.idSort,G=L.isLinked;J.id2name=L.id2name,J.name2id=L.name2id,J.cleanId=L.cleanId,J.list=L.list,J.listIds=L.listIds,J.getFromId=L.getFromId,J.getFromTrace=L.getFromTrace;var Y=r("./autorange");J.getAutoRange=Y.getAutoRange,J.findExtremes=Y.findExtremes;var j=1e-4;function Q(he){var le=(he[1]-he[0])*j;return[he[0]-le,he[1]+le]}J.coerceRef=function(he,le,Ne,Fe,We,Ze){var Ve=Fe.charAt(Fe.length-1),je=Ne._fullLayout._subplots[Ve+"axis"],ut=Fe+"ref",St={};return We||(We=je[0]||(typeof Ze=="string"?Ze:Ze[0])),Ze||(Ze=We),je=je.concat(je.map(function(Pt){return Pt+" domain"})),St[ut]={valType:"enumerated",values:je.concat(Ze?typeof Ze=="string"?[Ze]:Ze:[]),dflt:We},u.coerce(he,le,St,ut)},J.getRefType=function(he){return he===void 0?he:he==="paper"?"paper":he==="pixel"?"pixel":/( domain)$/.test(he)?"domain":"range"},J.coercePosition=function(he,le,Ne,Fe,We,Ze){var Ve,je,ut=J.getRefType(Fe);if(ut!=="range")Ve=u.ensureNumber,je=Ne(We,Ze);else{var St=J.getFromId(le,Fe);Ze=St.fraction2r(Ze),je=Ne(We,Ze),Ve=St.cleanPos}he[We]=Ve(je)},J.cleanPosition=function(he,le,Ne){var Fe=Ne==="paper"||Ne==="pixel"?u.ensureNumber:J.getFromId(le,Ne).cleanPos;return Fe(he)},J.redrawComponents=function(he,le){le=le||J.listIds(he);var Ne=he._fullLayout;function Fe(We,Ze,Ve,je){for(var ut=l.getComponentMethod(We,Ze),St={},Pt=0;Pt<le.length;Pt++)for(var lt=Ne[J.id2name(le[Pt])],yt=lt[Ve],Ot=0;Ot<yt.length;Ot++){var At=yt[Ot];if(!St[At]&&(ut(he,At),St[At]=1,je))return}}Fe("annotations","drawOne","_annIndices"),Fe("shapes","drawOne","_shapeIndices"),Fe("images","draw","_imgIndices",!0),Fe("selections","drawOne","_selectionIndices")};var q=J.getDataConversions=function(he,le,Ne,Fe){var We,Ze=Ne==="x"||Ne==="y"||Ne==="z"?Ne:Fe;if(Array.isArray(Ze)){if(We={type:te(Fe,void 0,{autotypenumbers:he._fullLayout.autotypenumbers}),_categories:[]},J.setConvert(We),We.type==="category")for(var Ve=0;Ve<Fe.length;Ve++)We.d2c(Fe[Ve])}else We=J.getFromTrace(he,le,Ze);return We?{d2c:We.d2c,c2d:We.c2d}:Ze==="ids"?{d2c:ue,c2d:ue}:{d2c:re,c2d:re}};function re(he){return+he}function ue(he){return String(he)}J.getDataToCoordFunc=function(he,le,Ne,Fe){return q(he,le,Ne,Fe).d2c},J.counterLetter=function(he){var le=he.charAt(0);if(le==="x")return"y";if(le==="y")return"x"},J.minDtick=function(he,le,Ne,Fe){["log","category","multicategory"].indexOf(he.type)!==-1||!Fe?he._minDtick=0:he._minDtick===void 0?(he._minDtick=le,he._forceTick0=Ne):he._minDtick&&((he._minDtick/le+1e-6)%1<2e-6&&((Ne-he._forceTick0)/le%1+1.000001)%1<2e-6?(he._minDtick=le,he._forceTick0=Ne):((le/he._minDtick+1e-6)%1>2e-6||((Ne-he._forceTick0)/he._minDtick%1+1.000001)%1>2e-6)&&(he._minDtick=0))},J.saveRangeInitial=function(he,le){for(var Ne=J.list(he,"",!0),Fe=!1,We=0;We<Ne.length;We++){var Ze=Ne[We],Ve=Ze._rangeInitial===void 0,je=Ve||!(Ze.range[0]===Ze._rangeInitial[0]&&Ze.range[1]===Ze._rangeInitial[1]);(Ve&&Ze.autorange===!1||le&&je)&&(Ze._rangeInitial=Ze.range.slice(),Fe=!0)}return Fe},J.saveShowSpikeInitial=function(he,le){for(var Ne=J.list(he,"",!0),Fe=!1,We="on",Ze=0;Ze<Ne.length;Ze++){var Ve=Ne[Ze],je=Ve._showSpikeInitial===void 0,ut=je||Ve.showspikes!==Ve._showspikes;(je||le&&ut)&&(Ve._showSpikeInitial=Ve.showspikes,Fe=!0),We==="on"&&!Ve.showspikes&&(We="off")}return he._fullLayout._cartesianSpikesEnabled=We,Fe},J.autoBin=function(he,le,Ne,Fe,We,Ze){var Ve=u.aggNums(Math.min,null,he),je=u.aggNums(Math.max,null,he);if(le.type==="category"||le.type==="multicategory")return{start:Ve-.5,end:je+.5,size:Math.max(1,Math.round(Ze)||1),_dataSpan:je-Ve};We||(We=le.calendar);var ut;if(le.type==="log"?ut={type:"linear",range:[Ve,je]}:ut={type:le.type,range:u.simpleMap([Ve,je],le.c2r,0,We),calendar:We},J.setConvert(ut),Ze=Ze&&g.dtick(Ze,ut.type),Ze)ut.dtick=Ze,ut.tick0=g.tick0(void 0,ut.type,We);else{var St;if(Ne)St=(je-Ve)/Ne;else{var Pt=u.distinctVals(he),lt=Math.pow(10,Math.floor(Math.log(Pt.minDiff)/Math.LN10)),yt=lt*u.roundUp(Pt.minDiff/lt,[.9,1.9,4.9,9.9],!0);St=Math.max(yt,2*u.stdev(he)/Math.pow(he.length,Fe?.25:.4)),a(St)||(St=1)}J.autoTicks(ut,St)}var Ot=ut.dtick,At=J.tickIncrement(J.tickFirst(ut),Ot,"reverse",We),mt,Et;if(typeof Ot=="number")At=de(At,he,ut,Ve,je),Et=1+Math.floor((je-At)/Ot),mt=At+Et*Ot;else for(ut.dtick.charAt(0)==="M"&&(At=me(At,he,Ot,Ve,We)),mt=At,Et=0;mt<=je;)mt=J.tickIncrement(mt,Ot,!1,We),Et++;return{start:le.c2r(At,0,We),end:le.c2r(mt,0,We),size:Ot,_dataSpan:je-Ve}};function de(he,le,Ne,Fe,We){var Ze=0,Ve=0,je=0,ut=0;function St(Ot){return(1+(Ot-he)*100/Ne.dtick)%100<2}for(var Pt=0;Pt<le.length;Pt++)le[Pt]%1===0?je++:a(le[Pt])||ut++,St(le[Pt])&&Ze++,St(le[Pt]+Ne.dtick/2)&&Ve++;var lt=le.length-ut;if(je===lt&&Ne.type!=="date")Ne.dtick<1?he=Fe-.5*Ne.dtick:(he-=.5,he+Ne.dtick<Fe&&(he+=Ne.dtick));else if(Ve<lt*.1&&(Ze>lt*.3||St(Fe)||St(We))){var yt=Ne.dtick/2;he+=he+yt<Fe?yt:-yt}return he}function me(he,le,Ne,Fe,We){var Ze=u.findExactDates(le,We),Ve=.8;if(Ze.exactDays>Ve){var je=Number(Ne.substr(1));Ze.exactYears>Ve&&je%12===0?he=J.tickIncrement(he,"M6","reverse")+k*1.5:Ze.exactMonths>Ve?he=J.tickIncrement(he,"M1","reverse")+k*15.5:he-=R;var ut=J.tickIncrement(he,Ne);if(ut<=Fe)return ut}return he}J.prepMinorTicks=function(he,le,Ne){if(!le.minor.dtick){delete he.dtick;var Fe=le.dtick&&a(le._tmin),We;if(Fe){var Ze=J.tickIncrement(le._tmin,le.dtick,!0);We=[le._tmin,Ze*.99+le._tmin*.01]}else{var Ve=u.simpleMap(le.range,le.r2l);We=[Ve[0],.8*Ve[0]+.2*Ve[1]]}if(he.range=u.simpleMap(We,le.l2r),he._isMinor=!0,J.prepTicks(he,Ne),Fe){var je=a(le.dtick),ut=a(he.dtick),St=je?le.dtick:+le.dtick.substring(1),Pt=ut?he.dtick:+he.dtick.substring(1);je&&ut?pe(St,Pt)?St===2*D&&Pt===2*k&&(he.dtick=D):St===2*D&&Pt===3*k?he.dtick=D:St===D&&!(le._input.minor||{}).nticks?he.dtick=k:ge(St/Pt,2.5)?he.dtick=St/2:he.dtick=St:String(le.dtick).charAt(0)==="M"?ut?he.dtick="M1":pe(St,Pt)?St>=12&&Pt===2&&(he.dtick="M3"):he.dtick=le.dtick:String(he.dtick).charAt(0)==="L"?String(le.dtick).charAt(0)==="L"?pe(St,Pt)||(he.dtick=ge(St/Pt,2.5)?le.dtick/2:le.dtick):he.dtick="D1":he.dtick==="D2"&&+le.dtick>1&&(he.dtick=1)}he.range=le.range}le.minor._tick0Init===void 0&&(he.tick0=le.tick0)};function pe(he,le){return Math.abs((he/le+.5)%1-.5)<.001}function ge(he,le){return Math.abs(he/le-1)<.001}J.prepTicks=function(he,le){var Ne=u.simpleMap(he.range,he.r2l,void 0,void 0,le);if(he.tickmode==="auto"||!he.dtick){var Fe=he.nticks,We;Fe||(he.type==="category"||he.type==="multicategory"?(We=he.tickfont?u.bigFont(he.tickfont.size||12):15,Fe=he._length/We):(We=he._id.charAt(0)==="y"?40:80,Fe=u.constrain(he._length/We,4,9)+1),he._name==="radialaxis"&&(Fe*=2)),he.minor&&he.minor.tickmode!=="array"||he.tickmode==="array"&&(Fe*=100),he._roughDTick=Math.abs(Ne[1]-Ne[0])/Fe,J.autoTicks(he,he._roughDTick),he._minDtick>0&&he.dtick<he._minDtick*2&&(he.dtick=he._minDtick,he.tick0=he.l2r(he._forceTick0))}he.ticklabelmode==="period"&&He(he),he.tick0||(he.tick0=he.type==="date"?"2000-01-01":0),he.type==="date"&&he.dtick<.1&&(he.dtick=.1),rt(he)};function Te(he){return+he.substring(1)}function He(he){var le;function Ne(){return!(a(he.dtick)||he.dtick.charAt(0)!=="M")}var Fe=Ne(),We=J.getTickFormat(he);if(We){var Ze=he._dtickInit!==he.dtick;/%[fLQsSMX]/.test(We)||(/%[HI]/.test(We)?(le=P,Ze&&!Fe&&he.dtick<P&&(he.dtick=P)):/%p/.test(We)?(le=R,Ze&&!Fe&&he.dtick<R&&(he.dtick=R)):/%[Aadejuwx]/.test(We)?(le=k,Ze&&!Fe&&he.dtick<k&&(he.dtick=k)):/%[UVW]/.test(We)?(le=D,Ze&&!Fe&&he.dtick<D&&(he.dtick=D)):/%[Bbm]/.test(We)?(le=T,Ze&&(Fe?Te(he.dtick)<1:he.dtick<M)&&(he.dtick="M1")):/%[q]/.test(We)?(le=w,Ze&&(Fe?Te(he.dtick)<3:he.dtick<C)&&(he.dtick="M3")):/%[Yy]/.test(We)&&(le=b,Ze&&(Fe?Te(he.dtick)<12:he.dtick<y)&&(he.dtick="M12")))}Fe=Ne(),Fe&&he.tick0===he._dowTick0&&(he.tick0=he._rawTick0),he._definedDelta=le}function Oe(he,le,Ne){for(var Fe=0;Fe<he.length;Fe++){var We=he[Fe].value,Ze=Fe,Ve=Fe+1;Fe<he.length-1?(Ze=Fe,Ve=Fe+1):Fe>0?(Ze=Fe-1,Ve=Fe):(Ze=Fe,Ve=Fe);var je=he[Ze].value,ut=he[Ve].value,St=Math.abs(ut-je),Pt=Ne||St,lt=0;Pt>=y?St>=y&&St<=d?lt=St:lt=b:Ne===w&&Pt>=C?St>=C&&St<=x?lt=St:lt=w:Pt>=M?St>=M&&St<=S?lt=St:lt=T:Ne===D&&Pt>=D?lt=D:Pt>=k?lt=k:Ne===R&&Pt>=R?lt=R:Ne===P&&Pt>=P&&(lt=P);var yt;lt>=St&&(lt=St,yt=!0);var Ot=We+lt;if(le.rangebreaks&&lt>0){for(var At=84,mt=0,Et=0;Et<At;Et++){var jt=(Et+.5)/At;le.maskBreaks(We*(1-jt)+jt*Ot)!==U&&mt++}lt*=mt/At,lt||(he[Fe].drop=!0),yt&&St>D&&(lt=St)}(lt>0||Fe===0)&&(he[Fe].periodX=We+lt/2)}}J.calcTicks=function(le,Ne){for(var Fe=le.type,We=le.calendar,Ze=le.ticklabelstep,Ve=le.ticklabelmode==="period",je=u.simpleMap(le.range,le.r2l,void 0,void 0,Ne),ut=je[1]<je[0],St=Math.min(je[0],je[1]),Pt=Math.max(je[0],je[1]),lt=Math.max(1e3,le._length||0),yt=[],Ot=[],At=[],mt=[],Et=le.minor&&(le.minor.ticks||le.minor.showgrid),jt=1;jt>=(Et?0:1);jt--){var Lt=!jt;jt?(le._dtickInit=le.dtick,le._tick0Init=le.tick0):(le.minor._dtickInit=le.minor.dtick,le.minor._tick0Init=le.minor.tick0);var Ht=jt?le:u.extendFlat({},le,le.minor);if(Lt?J.prepMinorTicks(Ht,le,Ne):J.prepTicks(Ht,Ne),Ht.tickmode==="array"){jt?(At=[],yt=tt(le)):(mt=[],Ot=tt(le));continue}var Kt=Q(je),Xt=Kt[0],$t=Kt[1],ar=a(Ht.dtick),ir=Fe==="log"&&!(ar||Ht.dtick.charAt(0)==="L"),cr=J.tickFirst(Ht,Ne);if(jt){if(le._tmin=cr,cr<Xt!==ut)break;(Fe==="category"||Fe==="multicategory")&&($t=ut?Math.max(-.5,$t):Math.min(le._categories.length-.5,$t))}var dr=null,vr=cr,mr;if(jt){var _r;ar?_r=le.dtick:Fe==="date"?typeof le.dtick=="string"&&le.dtick.charAt(0)==="M"&&(_r=T*le.dtick.substring(1)):_r=le._roughDTick,mr=Math.round((le.r2l(vr)-le.r2l(le.tick0))/_r)-1}var Mt=Ht.dtick;for(Ht.rangebreaks&&Ht._tick0Init!==Ht.tick0&&(vr=Dt(vr,le),ut||(vr=J.tickIncrement(vr,Mt,!ut,We))),jt&&Ve&&(vr=J.tickIncrement(vr,Mt,!ut,We),mr--);ut?vr>=$t:vr<=$t;vr=J.tickIncrement(vr,Mt,ut,We)){if(jt&&mr++,Ht.rangebreaks&&!ut){if(vr<Xt)continue;if(Ht.maskBreaks(vr)===U&&Dt(vr,Ht)>=Pt)break}if(At.length>lt||vr===dr)break;dr=vr;var Rt={value:vr};jt?(ir&&vr!==(vr|0)&&(Rt.simpleLabel=!0),Ze>1&&mr%Ze&&(Rt.skipLabel=!0),At.push(Rt)):(Rt.minor=!0,mt.push(Rt))}}if(Et){var Lr=le.minor.ticks==="inside"&&le.ticks==="outside"||le.minor.ticks==="outside"&&le.ticks==="inside";if(!Lr){for(var kr=At.map(function(Cr){return Cr.value}),jr=[],un=0;un<mt.length;un++){var on=mt[un],zr=on.value;if(kr.indexOf(zr)===-1){for(var sn=!1,bn=0;!sn&&bn<At.length;bn++)1e7+At[bn].value===1e7+zr&&(sn=!0);sn||jr.push(on)}}mt=jr}}Ve&&Oe(At,le,le._definedDelta);var Sr;if(le.rangebreaks){var vn=le._id.charAt(0)==="y",Mn=1;le.tickmode==="auto"&&(Mn=le.tickfont?le.tickfont.size:12);var En=NaN;for(Sr=At.length-1;Sr>-1;Sr--){if(At[Sr].drop){At.splice(Sr,1);continue}At[Sr].value=Dt(At[Sr].value,le);var Kn=le.c2p(At[Sr].value);(vn?En>Kn-Mn:En<Kn+Mn)?At.splice(ut?Sr+1:Sr,1):En=Kn}}Jt(le)&&Math.abs(je[1]-je[0])===360&&At.pop(),le._tmax=(At[At.length-1]||{}).value,le._prevDateHead="",le._inCalcTicks=!0;var qe,xt=function(Cr){Cr.text="",le._prevDateHead=qe};At=At.concat(mt);var Zt,nr;for(Sr=0;Sr<At.length;Sr++){var Or=At[Sr].minor,br=At[Sr].value;Or?Ot.push({x:br,minor:!0}):(qe=le._prevDateHead,Zt=J.tickText(le,br,!1,At[Sr].simpleLabel),nr=At[Sr].periodX,nr!==void 0&&(Zt.periodX=nr,(nr>Pt||nr<St)&&(nr>Pt&&(Zt.periodX=Pt),nr<St&&(Zt.periodX=St),xt(Zt))),At[Sr].skipLabel&&xt(Zt),yt.push(Zt))}return yt=yt.concat(Ot),le._inCalcTicks=!1,Ve&&yt.length&&(yt[0].noTick=!0),yt};function tt(he){var le=u.simpleMap(he.range,he.r2l),Ne=Q(le),Fe=Math.min(Ne[0],Ne[1]),We=Math.max(Ne[0],Ne[1]),Ze=he.type==="category"?he.d2l_noadd:he.d2l;he.type==="log"&&String(he.dtick).charAt(0)!=="L"&&(he.dtick="L"+Math.pow(10,Math.floor(Math.min(he.range[0],he.range[1]))-1));for(var Ve=[],je=0;je<=1;je++)if(!(je&&!he.minor)){var ut=je?he.minor.tickvals:he.tickvals,St=je?[]:he.ticktext;if(ut){Array.isArray(St)||(St=[]);for(var Pt=0;Pt<ut.length;Pt++){var lt=Ze(ut[Pt]);if(lt>Fe&&lt<We){var yt=St[Pt]===void 0?J.tickText(he,lt):ft(he,lt,String(St[Pt]));je&&(yt.minor=!0,yt.text=""),Ve.push(yt)}}}}return he.rangebreaks&&(Ve=Ve.filter(function(Ot){return he.maskBreaks(Ot.x)!==U})),Ve}var Le=[2,5,10],De=[1,2,3,6,12],Se=[1,2,5,10,15,30],ze=[1,2,3,7,14],Ke=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],_t=[-.301,0,.301,.699,1],Qe=[15,30,45,90,180];function et(he,le,Ne){return le*u.roundUp(he/le,Ne)}J.autoTicks=function(he,le,Ne){var Fe;function We(lt){return Math.pow(lt,Math.floor(Math.log(le)/Math.LN10))}if(he.type==="date"){he.tick0=u.dateTick0(he.calendar,0);var Ze=2*le;if(Ze>b)le/=b,Fe=We(10),he.dtick="M"+12*et(le,Fe,Le);else if(Ze>T)le/=T,he.dtick="M"+et(le,1,De);else if(Ze>k){if(he.dtick=et(le,k,he._hasDayOfWeekBreaks?[1,2,7,14]:ze),!Ne){var Ve=J.getTickFormat(he),je=he.ticklabelmode==="period";je&&(he._rawTick0=he.tick0),/%[uVW]/.test(Ve)?he.tick0=u.dateTick0(he.calendar,2):he.tick0=u.dateTick0(he.calendar,1),je&&(he._dowTick0=he.tick0)}}else Ze>P?he.dtick=et(le,P,De):Ze>E?he.dtick=et(le,E,Se):Ze>O?he.dtick=et(le,O,Se):(Fe=We(10),he.dtick=et(le,Fe,Le))}else if(he.type==="log"){he.tick0=0;var ut=u.simpleMap(he.range,he.r2l);if(he._isMinor&&(le*=1.5),le>.7)he.dtick=Math.ceil(le);else if(Math.abs(ut[1]-ut[0])<1){var St=1.5*Math.abs((ut[1]-ut[0])/le);le=Math.abs(Math.pow(10,ut[1])-Math.pow(10,ut[0]))/St,Fe=We(10),he.dtick="L"+et(le,Fe,Le)}else he.dtick=le>.3?"D2":"D1"}else he.type==="category"||he.type==="multicategory"?(he.tick0=0,he.dtick=Math.ceil(Math.max(le,1))):Jt(he)?(he.tick0=0,Fe=1,he.dtick=et(le,Fe,Qe)):(he.tick0=0,Fe=We(10),he.dtick=et(le,Fe,Le));if(he.dtick===0&&(he.dtick=1),!a(he.dtick)&&typeof he.dtick!="string"){var Pt=he.dtick;throw he.dtick=1,"ax.dtick error: "+String(Pt)}};function rt(he){var le=he.dtick;if(he._tickexponent=0,!a(le)&&typeof le!="string"&&(le=1),(he.type==="category"||he.type==="multicategory")&&(he._tickround=null),he.type==="date"){var Ne=he.r2l(he.tick0),Fe=he.l2r(Ne).replace(/(^-|i)/g,""),We=Fe.length;if(String(le).charAt(0)==="M")We>10||Fe.substr(5)!=="01-01"?he._tickround="d":he._tickround=+le.substr(1)%12===0?"y":"m";else if(le>=k&&We<=10||le>=k*15)he._tickround="d";else if(le>=E&&We<=16||le>=P)he._tickround="M";else if(le>=O&&We<=19||le>=E)he._tickround="S";else{var Ze=he.l2r(Ne+le).replace(/^-/,"").length;he._tickround=Math.max(We,Ze)-20,he._tickround<0&&(he._tickround=4)}}else if(a(le)||le.charAt(0)==="L"){var Ve=he.range.map(he.r2d||Number);a(le)||(le=Number(le.substr(1))),he._tickround=2-Math.floor(Math.log(le)/Math.LN10+.01);var je=Math.max(Math.abs(Ve[0]),Math.abs(Ve[1])),ut=Math.floor(Math.log(je)/Math.LN10+.01),St=he.minexponent===void 0?3:he.minexponent;Math.abs(ut)>St&&(Me(he.exponentformat)&&!Ue(ut)?he._tickexponent=3*Math.round((ut-1)/3):he._tickexponent=ut)}else he._tickround=null}J.tickIncrement=function(he,le,Ne,Fe){var We=Ne?-1:1;if(a(le))return u.increment(he,We*le);var Ze=le.charAt(0),Ve=We*Number(le.substr(1));if(Ze==="M")return u.incrementMonth(he,Ve,Fe);if(Ze==="L")return Math.log(Math.pow(10,he)+Ve)/Math.LN10;if(Ze==="D"){var je=le==="D2"?_t:Ke,ut=he+We*.01,St=u.roundUp(u.mod(ut,1),je,Ne);return Math.floor(ut)+Math.log(n.round(Math.pow(10,St),1))/Math.LN10}throw"unrecognized dtick "+String(le)},J.tickFirst=function(he,le){var Ne=he.r2l||Number,Fe=u.simpleMap(he.range,Ne,void 0,void 0,le),We=Fe[1]<Fe[0],Ze=We?Math.floor:Math.ceil,Ve=Q(Fe)[0],je=he.dtick,ut=Ne(he.tick0);if(a(je)){var St=Ze((Ve-ut)/je)*je+ut;return(he.type==="category"||he.type==="multicategory")&&(St=u.constrain(St,0,he._categories.length-1)),St}var Pt=je.charAt(0),lt=Number(je.substr(1));if(Pt==="M"){for(var yt=0,Ot=ut,At,mt,Et;yt<10;){if(At=J.tickIncrement(Ot,je,We,he.calendar),(At-Ve)*(Ot-Ve)<=0)return We?Math.min(Ot,At):Math.max(Ot,At);mt=(Ve-(Ot+At)/2)/(At-Ot),Et=Pt+(Math.abs(Math.round(mt))||1)*lt,Ot=J.tickIncrement(Ot,Et,mt<0?!We:We,he.calendar),yt++}return u.error("tickFirst did not converge",he),Ot}else{if(Pt==="L")return Math.log(Ze((Math.pow(10,Ve)-ut)/lt)*lt+ut)/Math.LN10;if(Pt==="D"){var jt=je==="D2"?_t:Ke,Lt=u.roundUp(u.mod(Ve,1),jt,We);return Math.floor(Ve)+Math.log(n.round(Math.pow(10,Lt),1))/Math.LN10}else throw"unrecognized dtick "+String(je)}},J.tickText=function(he,le,Ne,Fe){var We=ft(he,le),Ze=he.tickmode==="array",Ve=Ne||Ze,je=he.type,ut=je==="category"?he.d2l_noadd:he.d2l,St;if(Ze&&Array.isArray(he.ticktext)){var Pt=u.simpleMap(he.range,he.r2l),lt=(Math.abs(Pt[1]-Pt[0])-(he._lBreaks||0))/1e4;for(St=0;St<he.ticktext.length&&!(Math.abs(le-ut(he.tickvals[St]))<lt);St++);if(St<he.ticktext.length)return We.text=String(he.ticktext[St]),We}function yt(mt){if(mt===void 0)return!0;if(Ne)return mt==="none";var Et={first:he._tmin,last:he._tmax}[mt];return mt!=="all"&&le!==Et}var Ot=Ne?"never":he.exponentformat!=="none"&&yt(he.showexponent)?"hide":"";if(je==="date"?bt(he,We,Ne,Ve):je==="log"?Ft(he,We,Ne,Ve,Ot):je==="category"?ct(he,We):je==="multicategory"?nt(he,We,Ne):Jt(he)?It(he,We,Ne,Ve,Ot):at(he,We,Ne,Ve,Ot),Fe||(he.tickprefix&&!yt(he.showtickprefix)&&(We.text=he.tickprefix+We.text),he.ticksuffix&&!yt(he.showticksuffix)&&(We.text+=he.ticksuffix)),he.tickson==="boundaries"||he.showdividers){var At=function(mt){var Et=he.l2p(mt);return Et>=0&&Et<=he._length?mt:null};We.xbnd=[At(We.x-.5),At(We.x+he.dtick-.5)]}return We},J.hoverLabelText=function(he,le,Ne){Ne&&(he=u.extendFlat({},he,{hoverformat:Ne}));var Fe=Array.isArray(le)?le[0]:le,We=Array.isArray(le)?le[1]:void 0;if(We!==void 0&&We!==Fe)return J.hoverLabelText(he,Fe,Ne)+" - "+J.hoverLabelText(he,We,Ne);var Ze=he.type==="log"&&Fe<=0,Ve=J.tickText(he,he.c2l(Ze?-Fe:Fe),"hover").text;return Ze?Fe===0?"0":I+Ve:Ve};function ft(he,le,Ne){var Fe=he.tickfont||{};return{x:le,dx:0,dy:0,text:Ne||"",fontSize:Fe.size,font:Fe.family,fontColor:Fe.color}}function bt(he,le,Ne,Fe){var We=he._tickround,Ze=Ne&&he.hoverformat||J.getTickFormat(he);Fe&&(a(We)?We=4:We={y:"m",m:"d",d:"M",M:"S",S:4}[We]);var Ve=u.formatDate(le.x,Ze,We,he._dateFormat,he.calendar,he._extraFormat),je,ut=Ve.indexOf(`
`);if(ut!==-1&&(je=Ve.substr(ut+1),Ve=Ve.substr(0,ut)),Fe&&(Ve==="00:00:00"||Ve==="00:00"?(Ve=je,je=""):Ve.length===8&&(Ve=Ve.replace(/:00$/,""))),je)if(Ne)We==="d"?Ve+=", "+je:Ve=je+(Ve?", "+Ve:"");else if(!he._inCalcTicks||he._prevDateHead!==je)he._prevDateHead=je,Ve+="<br>"+je;else{var St=er(he),Pt=he._trueSide||he.side;(!St&&Pt==="top"||St&&Pt==="bottom")&&(Ve+="<br> ")}le.text=Ve}function Ft(he,le,Ne,Fe,We){var Ze=he.dtick,Ve=le.x,je=he.tickformat,ut=typeof Ze=="string"&&Ze.charAt(0);if(We==="never"&&(We=""),Fe&&ut!=="L"&&(Ze="L3",ut="L"),je||ut==="L")le.text=ce(Math.pow(10,Ve),he,We,Fe);else if(a(Ze)||ut==="D"&&u.mod(Ve+.01,1)<.1){var St=Math.round(Ve),Pt=Math.abs(St),lt=he.exponentformat;lt==="power"||Me(lt)&&Ue(St)?(St===0?le.text=1:St===1?le.text="10":le.text="10<sup>"+(St>1?"":I)+Pt+"</sup>",le.fontSize*=1.25):(lt==="e"||lt==="E")&&Pt>2?le.text="1"+lt+(St>0?"+":I)+Pt:(le.text=ce(Math.pow(10,Ve),he,"","fakehover"),Ze==="D1"&&he._id.charAt(0)==="y"&&(le.dy-=le.fontSize/6))}else if(ut==="D")le.text=String(Math.round(Math.pow(10,u.mod(Ve,1)))),le.fontSize*=.75;else throw"unrecognized dtick "+String(Ze);if(he.dtick==="D1"){var yt=String(le.text).charAt(0);(yt==="0"||yt==="1")&&(he._id.charAt(0)==="y"?le.dx-=le.fontSize/4:(le.dy+=le.fontSize/2,le.dx+=(he.range[1]>he.range[0]?1:-1)*le.fontSize*(Ve<0?.5:.25)))}}function ct(he,le){var Ne=he._categories[Math.round(le.x)];Ne===void 0&&(Ne=""),le.text=String(Ne)}function nt(he,le,Ne){var Fe=Math.round(le.x),We=he._categories[Fe]||[],Ze=We[1]===void 0?"":String(We[1]),Ve=We[0]===void 0?"":String(We[0]);Ne?le.text=Ve+" - "+Ze:(le.text=Ze,le.text2=Ve)}function at(he,le,Ne,Fe,We){We==="never"?We="":he.showexponent==="all"&&Math.abs(le.x/he.dtick)<1e-6&&(We="hide"),le.text=ce(le.x,he,We,Fe)}function It(he,le,Ne,Fe,We){if(he.thetaunit==="radians"&&!Ne){var Ze=le.x/180;if(Ze===0)le.text="0";else{var Ve=zt(Ze);if(Ve[1]>=100)le.text=ce(u.deg2rad(le.x),he,We,Fe);else{var je=le.x<0;Ve[1]===1?Ve[0]===1?le.text="π":le.text=Ve[0]+"π":le.text=["<sup>",Ve[0],"</sup>","⁄","<sub>",Ve[1],"</sub>","π"].join(""),je&&(le.text=I+le.text)}}}else le.text=ce(le.x,he,We,Fe)}function zt(he){function le(je,ut){return Math.abs(je-ut)<=1e-6}function Ne(je,ut){return le(ut,0)?je:Ne(ut,je%ut)}function Fe(je){for(var ut=1;!le(Math.round(je*ut)/ut,je);)ut*=10;return ut}var We=Fe(he),Ze=he*We,Ve=Math.abs(Ne(Ze,We));return[Math.round(Ze/Ve),Math.round(We/Ve)]}var be=["f","p","n","μ","m","","k","M","G","T"];function Me(he){return he==="SI"||he==="B"}function Ue(he){return he>14||he<-15}function ce(he,le,Ne,Fe){var We=he<0,Ze=le._tickround,Ve=Ne||le.exponentformat||"B",je=le._tickexponent,ut=J.getTickFormat(le),St=le.separatethousands;if(Fe){var Pt={exponentformat:Ve,minexponent:le.minexponent,dtick:le.showexponent==="none"?le.dtick:a(he)&&Math.abs(he)||1,range:le.showexponent==="none"?le.range.map(le.r2d):[0,he||1]};rt(Pt),Ze=(Number(Pt._tickround)||0)+4,je=Pt._tickexponent,le.hoverformat&&(ut=le.hoverformat)}if(ut)return le._numFormat(ut)(he).replace(/-/g,I);var lt=Math.pow(10,-Ze)/2;if(Ve==="none"&&(je=0),he=Math.abs(he),he<lt)he="0",We=!1;else{if(he+=lt,je&&(he*=Math.pow(10,-je),Ze+=je),Ze===0)he=String(Math.floor(he));else if(Ze<0){he=String(Math.round(he)),he=he.substr(0,he.length+Ze);for(var yt=Ze;yt<0;yt++)he+="0"}else{he=String(he);var Ot=he.indexOf(".")+1;Ot&&(he=he.substr(0,Ot+Ze).replace(/\.?0+$/,""))}he=u.numSeparate(he,le._separators,St)}if(je&&Ve!=="hide"){Me(Ve)&&Ue(je)&&(Ve="power");var At;je<0?At=I+-je:Ve!=="power"?At="+"+je:At=String(je),Ve==="e"||Ve==="E"?he+=Ve+At:Ve==="power"?he+="×10<sup>"+At+"</sup>":Ve==="B"&&je===9?he+="B":Me(Ve)&&(he+=be[je/3+5])}return We?I+he:he}J.getTickFormat=function(he){var le;function Ne(ut){return typeof ut!="string"?ut:Number(ut.replace("M",""))*T}function Fe(ut,St){var Pt=["L","D"];if(typeof ut==typeof St){if(typeof ut=="number")return ut-St;var lt=Pt.indexOf(ut.charAt(0)),yt=Pt.indexOf(St.charAt(0));return lt===yt?Number(ut.replace(/(L|D)/g,""))-Number(St.replace(/(L|D)/g,"")):lt-yt}else return typeof ut=="number"?1:-1}function We(ut,St,Pt){var lt=Pt||function(At){return At},yt=St[0],Ot=St[1];return(!yt&&typeof yt!="number"||lt(yt)<=lt(ut))&&(!Ot&&typeof Ot!="number"||lt(Ot)>=lt(ut))}function Ze(ut,St){var Pt=St[0]===null,lt=St[1]===null,yt=Fe(ut,St[0])>=0,Ot=Fe(ut,St[1])<=0;return(Pt||yt)&&(lt||Ot)}var Ve,je;if(he.tickformatstops&&he.tickformatstops.length>0)switch(he.type){case"date":case"linear":{for(le=0;le<he.tickformatstops.length;le++)if(je=he.tickformatstops[le],je.enabled&&We(he.dtick,je.dtickrange,Ne)){Ve=je;break}break}case"log":{for(le=0;le<he.tickformatstops.length;le++)if(je=he.tickformatstops[le],je.enabled&&Ze(he.dtick,je.dtickrange)){Ve=je;break}break}}return Ve?Ve.value:he.tickformat},J.getSubplots=function(he,le){var Ne=he._fullLayout._subplots,Fe=Ne.cartesian.concat(Ne.gl2d||[]),We=le?J.findSubplotsWithAxis(Fe,le):Fe;return We.sort(function(Ze,Ve){var je=Ze.substr(1).split("y"),ut=Ve.substr(1).split("y");return je[0]===ut[0]?+je[1]-+ut[1]:+je[0]-+ut[0]}),We},J.findSubplotsWithAxis=function(he,le){for(var Ne=new RegExp(le._id.charAt(0)==="x"?"^"+le._id+"y":le._id+"$"),Fe=[],We=0;We<he.length;We++){var Ze=he[We];Ne.test(Ze)&&Fe.push(Ze)}return Fe},J.makeClipPaths=function(he){var le=he._fullLayout;if(!le._hasOnlyLargeSploms){var Ne={_offset:0,_length:le.width,_id:""},Fe={_offset:0,_length:le.height,_id:""},We=J.list(he,"x",!0),Ze=J.list(he,"y",!0),Ve=[],je,ut;for(je=0;je<We.length;je++)for(Ve.push({x:We[je],y:Fe}),ut=0;ut<Ze.length;ut++)je===0&&Ve.push({x:Ne,y:Ze[ut]}),Ve.push({x:We[je],y:Ze[ut]});var St=le._clips.selectAll(".axesclip").data(Ve,function(Pt){return Pt.x._id+Pt.y._id});St.enter().append("clipPath").classed("axesclip",!0).attr("id",function(Pt){return"clip"+le._uid+Pt.x._id+Pt.y._id}).append("rect"),St.exit().remove(),St.each(function(Pt){n.select(this).select("rect").attr({x:Pt.x._offset||0,y:Pt.y._offset||0,width:Pt.x._length||1,height:Pt.y._length||1})})}},J.draw=function(he,le,Ne){var Fe=he._fullLayout;le==="redraw"&&Fe._paper.selectAll("g.subplot").each(function(Ze){var Ve=Ze[0],je=Fe._plots[Ve];if(je){var ut=je.xaxis,St=je.yaxis;je.xaxislayer.selectAll("."+ut._id+"tick").remove(),je.yaxislayer.selectAll("."+St._id+"tick").remove(),je.xaxislayer.selectAll("."+ut._id+"tick2").remove(),je.yaxislayer.selectAll("."+St._id+"tick2").remove(),je.xaxislayer.selectAll("."+ut._id+"divider").remove(),je.yaxislayer.selectAll("."+St._id+"divider").remove(),je.minorGridlayer&&je.minorGridlayer.selectAll("path").remove(),je.gridlayer&&je.gridlayer.selectAll("path").remove(),je.zerolinelayer&&je.zerolinelayer.selectAll("path").remove(),Fe._infolayer.select(".g-"+ut._id+"title").remove(),Fe._infolayer.select(".g-"+St._id+"title").remove()}});var We=!le||le==="redraw"?J.listIds(he):le;return u.syncOrAsync(We.map(function(Ze){return function(){if(Ze){var Ve=J.getFromId(he,Ze),je=J.drawOne(he,Ve,Ne);return Ve._r=Ve.range.slice(),Ve._rl=u.simpleMap(Ve._r,Ve.r2l),je}}}))},J.drawOne=function(he,le,Ne){Ne=Ne||{};var Fe,We,Ze;le.setScale();var Ve=he._fullLayout,je=le._id,ut=je.charAt(0),St=J.counterLetter(je),Pt=Ve._plots[le._mainSubplot];if(!Pt)return;var lt=Pt[ut+"axislayer"],yt=le._mainLinePosition,Ot=le._mainMirrorPosition,At=le._vals=J.calcTicks(le),mt=[le.mirror,yt,Ot].join("_");for(Fe=0;Fe<At.length;Fe++)At[Fe].axInfo=mt;le._selections={},le._tickAngles&&(le._prevTickAngles=le._tickAngles),le._tickAngles={},le._depth=null;var Et={};function jt(Cr){var Ur=je+(Cr||"tick");return Et[Ur]||(Et[Ur]=ye(le,Ur)),Et[Ur]}if(le.visible){var Lt=J.makeTransTickFn(le),Ht=J.makeTransTickLabelFn(le),Kt,Xt,$t=le.ticks==="inside",ar=le.ticks==="outside";if(le.tickson==="boundaries"){var ir=Ae(le,At);Xt=J.clipEnds(le,ir),Kt=$t?Xt:ir}else Xt=J.clipEnds(le,At),Kt=$t&&le.ticklabelmode!=="period"?Xt:At;var cr=le._gridVals=Xt,dr=xe(le,At);if(!Ve._hasOnlyLargeSploms){var vr=le._subplotsWith,mr={};for(Fe=0;Fe<vr.length;Fe++){We=vr[Fe],Ze=Ve._plots[We];var _r=Ze[St+"axis"],Mt=_r._mainAxis._id;if(!mr[Mt]){mr[Mt]=1;var Rt=ut==="x"?"M0,"+_r._offset+"v"+_r._length:"M"+_r._offset+",0h"+_r._length;J.drawGrid(he,le,{vals:cr,counterAxis:_r,layer:Ze.gridlayer.select("."+je),minorLayer:Ze.minorGridlayer.select("."+je),path:Rt,transFn:Lt}),J.drawZeroLine(he,le,{counterAxis:_r,layer:Ze.zerolinelayer,path:Rt,transFn:Lt})}}}var Lr,kr=J.getTickSigns(le),jr=J.getTickSigns(le,"minor");if(le.ticks||le.minor&&le.minor.ticks){var un=J.makeTickPath(le,yt,kr[2]),on=J.makeTickPath(le,yt,jr[2],{minor:!0}),zr,sn,bn,Sr;if(le._anchorAxis&&le.mirror&&le.mirror!==!0?(zr=J.makeTickPath(le,Ot,kr[3]),sn=J.makeTickPath(le,Ot,jr[3],{minor:!0}),bn=un+zr,Sr=on+sn):(zr="",sn="",bn=un,Sr=on),le.showdividers&&ar&&le.tickson==="boundaries"){var vn={};for(Fe=0;Fe<dr.length;Fe++)vn[dr[Fe].x]=1;Lr=function(Cr){return vn[Cr.x]?zr:bn}}else Lr=function(Cr){return Cr.minor?Sr:bn}}if(J.drawTicks(he,le,{vals:Kt,layer:lt,path:Lr,transFn:Lt}),le.mirror==="allticks"){var Mn=Object.keys(le._linepositions||{});for(Fe=0;Fe<Mn.length;Fe++){We=Mn[Fe],Ze=Ve._plots[We];var En=le._linepositions[We]||[],Kn=En[0],qe=En[1],xt=En[2],Zt=J.makeTickPath(le,Kn,xt?kr[0]:jr[0],{minor:xt})+J.makeTickPath(le,qe,xt?kr[1]:jr[1],{minor:xt});J.drawTicks(he,le,{vals:Kt,layer:Ze[ut+"axislayer"],path:Zt,transFn:Lt})}}var nr=[];if(nr.push(function(){return J.drawLabels(he,le,{vals:At,layer:lt,plotinfo:Ze,transFn:Ht,labelFns:J.makeLabelFns(le,yt)})}),le.type==="multicategory"){var Or={x:2,y:10}[ut];nr.push(function(){var Cr={x:"height",y:"width"}[ut],Ur=jt()[Cr]+Or+(le._tickAngles[je+"tick"]?le.tickfont.size*se:0);return J.drawLabels(he,le,{vals:ke(le,At),layer:lt,cls:je+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:Lt,labelFns:J.makeLabelFns(le,yt+Ur*kr[4])})}),nr.push(function(){return le._depth=kr[4]*(jt("tick2")[le.side]-yt),Be(he,le,{vals:dr,layer:lt,path:J.makeTickPath(le,yt,kr[4],{len:le._depth}),transFn:Lt})})}else le.title.hasOwnProperty("standoff")&&nr.push(function(){le._depth=kr[4]*(jt()[le.side]-yt)});var br=l.getComponentMethod("rangeslider","isVisible")(le);return nr.push(function(){var Cr=le.side.charAt(0),Ur=ee[le.side].charAt(0),cn=J.getPxPosition(he,le),$r=ar?le.ticklen:0,Wr,Vr,Zr,Ln;if((le.automargin||br)&&(le.type==="multicategory"?Wr=jt("tick2"):(Wr=jt(),ut==="x"&&Cr==="b"&&(le._depth=Math.max(Wr.width>0?Wr.bottom-cn:0,$r)))),le.automargin){Vr={x:0,y:0,r:0,l:0,t:0,b:0};var rn=[0,1];if(ut==="x"){if(Cr==="b"?Vr[Cr]=le._depth:(Vr[Cr]=le._depth=Math.max(Wr.width>0?cn-Wr.top:0,$r),rn.reverse()),Wr.width>0){var mn=Wr.right-(le._offset+le._length);mn>0&&(Vr.xr=1,Vr.r=mn);var Un=le._offset-Wr.left;Un>0&&(Vr.xl=0,Vr.l=Un)}}else if(Cr==="l"?Vr[Cr]=le._depth=Math.max(Wr.height>0?cn-Wr.left:0,$r):(Vr[Cr]=le._depth=Math.max(Wr.height>0?Wr.right-cn:0,$r),rn.reverse()),Wr.height>0){var yi=Wr.bottom-(le._offset+le._length);yi>0&&(Vr.yb=0,Vr.b=yi);var Cs=le._offset-Wr.top;Cs>0&&(Vr.yt=1,Vr.t=Cs)}Vr[St]=le.anchor==="free"?le.position:le._anchorAxis.domain[rn[0]],le.title.text!==Ve._dfltTitle[ut]&&(Vr[Cr]+=st(le)+(le.title.standoff||0)),le.mirror&&le.anchor!=="free"&&(Zr={x:0,y:0,r:0,l:0,t:0,b:0},Zr[Ur]=le.linewidth,le.mirror&&le.mirror!==!0&&(Zr[Ur]+=$r),le.mirror===!0||le.mirror==="ticks"?Zr[St]=le._anchorAxis.domain[rn[1]]:(le.mirror==="all"||le.mirror==="allticks")&&(Zr[St]=[le._counterDomainMin,le._counterDomainMax][rn[1]]))}br&&(Ln=l.getComponentMethod("rangeslider","autoMarginOpts")(he,le)),typeof le.automargin=="string"&&(Ce(Vr,le.automargin),Ce(Zr,le.automargin)),s.autoMargin(he,Bt(le),Vr),s.autoMargin(he,Ut(le),Zr),s.autoMargin(he,Nt(le),Ln)}),!Ne.skipTitle&&!(br&&le.side==="bottom")&&nr.push(function(){return gt(he,le)}),u.syncOrAsync(nr)}};function Ce(he,le){if(he){var Ne=Object.keys(W).reduce(function(Fe,We){return le.indexOf(We)!==-1&&W[We].forEach(function(Ze){Fe[Ze]=1}),Fe},{});Object.keys(he).forEach(function(Fe){Ne[Fe]||(Fe.length===1?he[Fe]=0:delete he[Fe])})}}function Ae(he,le){var Ne=[],Fe,We=function(Ze,Ve){var je=Ze.xbnd[Ve];je!==null&&Ne.push(u.extendFlat({},Ze,{x:je}))};if(le.length){for(Fe=0;Fe<le.length;Fe++)We(le[Fe],0);We(le[Fe-1],1)}return Ne}function ke(he,le){for(var Ne=[],Fe={},We=0;We<le.length;We++){var Ze=le[We];Fe[Ze.text2]?Fe[Ze.text2].push(Ze.x):Fe[Ze.text2]=[Ze.x]}for(var Ve in Fe)Ne.push(ft(he,u.interp(Fe[Ve],.5),Ve));return Ne}function xe(he,le){var Ne=[],Fe,We,Ze=le.length&&le[le.length-1].x<le[0].x,Ve=function(ut,St){var Pt=ut.xbnd[St];Pt!==null&&Ne.push(u.extendFlat({},ut,{x:Pt}))};if(he.showdividers&&le.length){for(Fe=0;Fe<le.length;Fe++){var je=le[Fe];je.text2!==We&&Ve(je,Ze?1:0),We=je.text2}Ve(le[Fe-1],Ze?0:1)}return Ne}function ye(he,le){var Ne,Fe,We,Ze;return he._selections[le].size()?(Ne=1/0,Fe=-1/0,We=1/0,Ze=-1/0,he._selections[le].each(function(){var Ve=qt(this),je=m.bBox(Ve.node().parentNode);Ne=Math.min(Ne,je.top),Fe=Math.max(Fe,je.bottom),We=Math.min(We,je.left),Ze=Math.max(Ze,je.right)})):(Ne=0,Fe=0,We=0,Ze=0),{top:Ne,bottom:Fe,left:We,right:Ze,height:Fe-Ne,width:Ze-We}}J.getTickSigns=function(he,le){var Ne=he._id.charAt(0),Fe={x:"top",y:"right"}[Ne],We=he.side===Fe?1:-1,Ze=[-1,1,We,-We],Ve=le?(he.minor||{}).ticks:he.ticks;return Ve!=="inside"==(Ne==="x")&&(Ze=Ze.map(function(je){return-je})),he.side&&Ze.push({l:-1,t:-1,r:1,b:1}[he.side.charAt(0)]),Ze},J.makeTransTickFn=function(he){return he._id.charAt(0)==="x"?function(le){return c(he._offset+he.l2p(le.x),0)}:function(le){return c(0,he._offset+he.l2p(le.x))}},J.makeTransTickLabelFn=function(he){var le=$e(he),Ne=le[0],Fe=le[1];return he._id.charAt(0)==="x"?function(We){return c(Ne+he._offset+he.l2p(Ee(We)),Fe)}:function(We){return c(Fe,Ne+he._offset+he.l2p(Ee(We)))}};function Ee(he){return he.periodX!==void 0?he.periodX:he.x}function $e(he){var le=he.ticklabelposition||"",Ne=function(Ot){return le.indexOf(Ot)!==-1},Fe=Ne("top"),We=Ne("left"),Ze=Ne("right"),Ve=Ne("bottom"),je=Ne("inside"),ut=Ve||We||Fe||Ze;if(!ut&&!je)return[0,0];var St=he.side,Pt=ut?(he.tickwidth||0)/2:0,lt=ie,yt=he.tickfont?he.tickfont.size:12;return(Ve||Fe)&&(Pt+=yt*fe,lt+=(he.linewidth||0)/2),(We||Ze)&&(Pt+=(he.linewidth||0)/2,lt+=ie),je&&St==="top"&&(lt-=yt*(1-fe)),(We||Fe)&&(Pt=-Pt),(St==="bottom"||St==="right")&&(lt=-lt),[ut?Pt:0,je?lt:0]}J.makeTickPath=function(he,le,Ne,Fe){Fe||(Fe={});var We=Fe.minor;if(We&&!he.minor)return"";var Ze=Fe.len!==void 0?Fe.len:We?he.minor.ticklen:he.ticklen,Ve=he._id.charAt(0),je=(he.linewidth||1)/2;return Ve==="x"?"M0,"+(le+je*Ne)+"v"+Ze*Ne:"M"+(le+je*Ne)+",0h"+Ze*Ne},J.makeLabelFns=function(he,le,Ne){var Fe=he.ticklabelposition||"",We=function(mr){return Fe.indexOf(mr)!==-1},Ze=We("top"),Ve=We("left"),je=We("right"),ut=We("bottom"),St=ut||Ve||Ze||je,Pt=We("inside"),lt=Fe==="inside"&&he.ticks==="inside"||!Pt&&he.ticks==="outside"&&he.tickson!=="boundaries",yt=0,Ot=0,At=lt?he.ticklen:0;if(Pt?At*=-1:St&&(At=0),lt&&(yt+=At,Ne)){var mt=u.deg2rad(Ne);yt=At*Math.cos(mt)+1,Ot=At*Math.sin(mt)}he.showticklabels&&(lt||he.showline)&&(yt+=.2*he.tickfont.size),yt+=(he.linewidth||1)/2*(Pt?-1:1);var Et={labelStandoff:yt,labelShift:Ot},jt,Lt,Ht,Kt,Xt=0,$t=he.side,ar=he._id.charAt(0),ir=he.tickangle,cr;if(ar==="x")cr=!Pt&&$t==="bottom"||Pt&&$t==="top",Kt=cr?1:-1,Pt&&(Kt*=-1),jt=Ot*Kt,Lt=le+yt*Kt,Ht=cr?1:-.2,Math.abs(ir)===90&&(Pt?Ht+=K:ir===-90&&$t==="bottom"?Ht=fe:ir===90&&$t==="top"?Ht=K:Ht=.5,Xt=K/2*(ir/90)),Et.xFn=function(mr){return mr.dx+jt+Xt*mr.fontSize},Et.yFn=function(mr){return mr.dy+Lt+mr.fontSize*Ht},Et.anchorFn=function(mr,_r){if(St){if(Ve)return"end";if(je)return"start"}return!a(_r)||_r===0||_r===180?"middle":_r*Kt<0!==Pt?"end":"start"},Et.heightFn=function(mr,_r,Mt){return _r<-60||_r>60?-.5*Mt:he.side==="top"!==Pt?-Mt:0};else if(ar==="y"){if(cr=!Pt&&$t==="left"||Pt&&$t==="right",Kt=cr?1:-1,Pt&&(Kt*=-1),jt=yt,Lt=Ot*Kt,Ht=0,!Pt&&Math.abs(ir)===90&&(ir===-90&&$t==="left"||ir===90&&$t==="right"?Ht=fe:Ht=.5),Pt){var dr=a(ir)?+ir:0;if(dr!==0){var vr=u.deg2rad(dr);Xt=Math.abs(Math.sin(vr))*fe*Kt,Ht=0}}Et.xFn=function(mr){return mr.dx+le-(jt+mr.fontSize*Ht)*Kt+Xt*mr.fontSize},Et.yFn=function(mr){return mr.dy+Lt+mr.fontSize*K},Et.anchorFn=function(mr,_r){return a(_r)&&Math.abs(_r)===90?"middle":cr?"end":"start"},Et.heightFn=function(mr,_r,Mt){return he.side==="right"&&(_r*=-1),_r<-30?-Mt:_r<30?-.5*Mt:0}}return Et};function Ie(he){return[he.text,he.x,he.axInfo,he.font,he.fontSize,he.fontColor].join("_")}J.drawTicks=function(he,le,Ne){Ne=Ne||{};var Fe=le._id+"tick",We=[].concat(le.minor&&le.minor.ticks?Ne.vals.filter(function(Ve){return Ve.minor&&!Ve.noTick}):[]).concat(le.ticks?Ne.vals.filter(function(Ve){return!Ve.minor&&!Ve.noTick}):[]),Ze=Ne.layer.selectAll("path."+Fe).data(We,Ie);Ze.exit().remove(),Ze.enter().append("path").classed(Fe,1).classed("ticks",1).classed("crisp",Ne.crisp!==!1).each(function(Ve){return f.stroke(n.select(this),Ve.minor?le.minor.tickcolor:le.tickcolor)}).style("stroke-width",function(Ve){return m.crispRound(he,Ve.minor?le.minor.tickwidth:le.tickwidth,1)+"px"}).attr("d",Ne.path).style("display",null),tr(le,[H]),Ze.attr("transform",Ne.transFn)},J.drawGrid=function(he,le,Ne){Ne=Ne||{};var Fe=le._id+"grid",We=le.minor&&le.minor.showgrid,Ze=We?Ne.vals.filter(function(jt){return jt.minor}):[],Ve=le.showgrid?Ne.vals.filter(function(jt){return!jt.minor}):[],je=Ne.counterAxis;if(je&&J.shouldShowZeroLine(he,le,je))for(var ut=le.tickmode==="array",St=0;St<Ve.length;St++){var Pt=Ve[St].x;if(ut?!Pt:Math.abs(Pt)<le.dtick/100)if(Ve=Ve.slice(0,St).concat(Ve.slice(St+1)),ut)St--;else break}le._gw=m.crispRound(he,le.gridwidth,1);for(var lt=We?m.crispRound(he,le.minor.gridwidth,1):0,yt=Ne.layer,Ot=Ne.minorLayer,At=1;At>=0;At--){var mt=At?yt:Ot;if(mt){var Et=mt.selectAll("path."+Fe).data(At?Ve:Ze,Ie);Et.exit().remove(),Et.enter().append("path").classed(Fe,1).classed("crisp",Ne.crisp!==!1),Et.attr("transform",Ne.transFn).attr("d",Ne.path).each(function(jt){return f.stroke(n.select(this),jt.minor?le.minor.gridcolor:le.gridcolor||"#ddd")}).style("stroke-dasharray",function(jt){return m.dashStyle(jt.minor?le.minor.griddash:le.griddash,jt.minor?le.minor.gridwidth:le.gridwidth)}).style("stroke-width",function(jt){return(jt.minor?lt:le._gw)+"px"}).style("display",null),typeof Ne.path=="function"&&Et.attr("d",Ne.path)}}tr(le,[Z,z])},J.drawZeroLine=function(he,le,Ne){Ne=Ne||Ne;var Fe=le._id+"zl",We=J.shouldShowZeroLine(he,le,Ne.counterAxis),Ze=Ne.layer.selectAll("path."+Fe).data(We?[{x:0,id:le._id}]:[]);Ze.exit().remove(),Ze.enter().append("path").classed(Fe,1).classed("zl",1).classed("crisp",Ne.crisp!==!1).each(function(){Ne.layer.selectAll("path").sort(function(Ve,je){return N(Ve.id,je.id)})}),Ze.attr("transform",Ne.transFn).attr("d",Ne.path).call(f.stroke,le.zerolinecolor||f.defaultLine).style("stroke-width",m.crispRound(he,le.zerolinewidth,le._gw||1)+"px").style("display",null),tr(le,[V])},J.drawLabels=function(he,le,Ne){Ne=Ne||{};var Fe=he._fullLayout,We=le._id,Ze=We.charAt(0),Ve=Ne.cls||We+"tick",je=Ne.vals.filter(function(Kt){return Kt.text}),ut=Ne.labelFns,St=Ne.secondary?0:le.tickangle,Pt=(le._prevTickAngles||{})[Ve],lt=Ne.layer.selectAll("g."+Ve).data(le.showticklabels?je:[],Ie),yt=[];lt.enter().append("g").classed(Ve,1).append("text").attr("text-anchor","middle").each(function(Kt){var Xt=n.select(this),$t=he._promises.length;Xt.call(h.positionText,ut.xFn(Kt),ut.yFn(Kt)).call(m.font,Kt.font,Kt.fontSize,Kt.fontColor).text(Kt.text).call(h.convertToTspans,he),he._promises[$t]?yt.push(he._promises.pop().then(function(){Ot(Xt,St)})):Ot(Xt,St)}),tr(le,[B]),lt.exit().remove(),Ne.repositionOnUpdate&&lt.each(function(Kt){n.select(this).select("text").call(h.positionText,ut.xFn(Kt),ut.yFn(Kt))});function Ot(Kt,Xt){Kt.each(function($t){var ar=n.select(this),ir=ar.select(".text-math-group"),cr=ut.anchorFn($t,Xt),dr=Ne.transFn.call(ar.node(),$t)+(a(Xt)&&+Xt!=0?" rotate("+Xt+","+ut.xFn($t)+","+(ut.yFn($t)-$t.fontSize/2)+")":""),vr=h.lineCount(ar),mr=se*$t.fontSize,_r=ut.heightFn($t,a(Xt)?+Xt:0,(vr-1)*mr);if(_r&&(dr+=c(0,_r)),ir.empty()){var Mt=ar.select("text");Mt.attr({transform:dr,"text-anchor":cr}),Mt.style("opacity",1),le._adjustTickLabelsOverflow&&le._adjustTickLabelsOverflow()}else{var Rt=m.bBox(ir.node()).width,Lr=Rt*{end:-.5,start:.5}[cr];ir.attr("transform",dr+c(Lr,0))}})}le._adjustTickLabelsOverflow=function(){var Kt=le.ticklabeloverflow;if(!(!Kt||Kt==="allow")){var Xt=Kt.indexOf("hide")!==-1,$t=le._id.charAt(0)==="x",ar=0,ir=$t?he._fullLayout.width:he._fullLayout.height;if(Kt.indexOf("domain")!==-1){var cr=u.simpleMap(le.range,le.r2l);ar=le.l2p(cr[0])+le._offset,ir=le.l2p(cr[1])+le._offset}var dr=Math.min(ar,ir),vr=Math.max(ar,ir),mr=le.side,_r=1/0,Mt=-1/0;lt.each(function(jr){var un=n.select(this),on=un.select(".text-math-group");if(on.empty()){var zr=m.bBox(un.node()),sn=0;$t?(zr.right>vr||zr.left<dr)&&(sn=1):(zr.bottom>vr||zr.top+(le.tickangle?0:jr.fontSize/4)<dr)&&(sn=1);var bn=un.select("text");sn?Xt&&bn.style("opacity",0):(bn.style("opacity",1),mr==="bottom"||mr==="right"?_r=Math.min(_r,$t?zr.top:zr.left):_r=-1/0,mr==="top"||mr==="left"?Mt=Math.max(Mt,$t?zr.bottom:zr.right):Mt=1/0)}});for(var Rt in Fe._plots){var Lr=Fe._plots[Rt];if(!(le._id!==Lr.xaxis._id&&le._id!==Lr.yaxis._id)){var kr=$t?Lr.yaxis:Lr.xaxis;kr&&(kr["_visibleLabelMin_"+le._id]=_r,kr["_visibleLabelMax_"+le._id]=Mt)}}}},le._hideCounterAxisInsideTickLabels=function(Kt){var Xt=le._id.charAt(0)==="x",$t=[];for(var ar in Fe._plots){var ir=Fe._plots[ar];le._id!==ir.xaxis._id&&le._id!==ir.yaxis._id||$t.push(Xt?ir.yaxis:ir.xaxis)}$t.forEach(function(cr,dr){cr&&er(cr)&&(Kt||[V,z,Z,H,B]).forEach(function(vr){var mr=vr.K==="tick"&&vr.L==="text"&&le.ticklabelmode==="period",_r=Fe._plots[le._mainSubplot],Mt;vr.K===V.K?Mt=_r.zerolinelayer.selectAll("."+le._id+"zl"):vr.K===z.K?Mt=_r.minorGridlayer.selectAll("."+le._id):vr.K===Z.K?Mt=_r.gridlayer.selectAll("."+le._id):Mt=_r[le._id.charAt(0)+"axislayer"],Mt.each(function(){var Rt=n.select(this);vr.L&&(Rt=Rt.selectAll(vr.L)),Rt.each(function(Lr){var kr=le.l2p(mr?Ee(Lr):Lr.x)+le._offset,jr=n.select(this);kr<le["_visibleLabelMax_"+cr._id]&&kr>le["_visibleLabelMin_"+cr._id]?jr.style("display","none"):vr.K==="tick"&&!dr&&jr.style("display",null)})})})})},Ot(lt,Pt+1?Pt:St);function At(){return yt.length&&Promise.all(yt)}var mt=null;function Et(){if(Ot(lt,St),je.length&&Ze==="x"&&!a(St)&&(le.type!=="log"||String(le.dtick).charAt(0)!=="D")){mt=0;var Kt=0,Xt=[],$t;if(lt.each(function(zr){Kt=Math.max(Kt,zr.fontSize);var sn=le.l2p(zr.x),bn=qt(this),Sr=m.bBox(bn.node());Xt.push({top:0,bottom:10,height:10,left:sn-Sr.width/2,right:sn+Sr.width/2+2,width:Sr.width+2})}),(le.tickson==="boundaries"||le.showdividers)&&!Ne.secondary){var ar=2;for(le.ticks&&(ar+=le.tickwidth/2),$t=0;$t<Xt.length;$t++){var ir=je[$t].xbnd,cr=Xt[$t];if(ir[0]!==null&&cr.left-le.l2p(ir[0])<ar||ir[1]!==null&&le.l2p(ir[1])-cr.right<ar){mt=90;break}}}else{var dr=je.length,vr=Math.abs((je[dr-1].x-je[0].x)*le._m)/(dr-1),mr=le.ticklabelposition||"",_r=function(zr){return mr.indexOf(zr)!==-1},Mt=_r("top"),Rt=_r("left"),Lr=_r("right"),kr=_r("bottom"),jr=kr||Rt||Mt||Lr,un=jr?(le.tickwidth||0)+2*ie:0,on=vr<Kt*2.5||le.type==="multicategory"||le._name==="realaxis";for($t=0;$t<Xt.length-1;$t++)if(u.bBoxIntersect(Xt[$t],Xt[$t+1],un)){mt=on?90:30;break}}mt&&Ot(lt,mt)}}le._selections&&(le._selections[Ve]=lt);var jt=[At];le.automargin&&Fe._redrawFromAutoMarginCount&&Pt===90?(mt=90,jt.push(function(){Ot(lt,Pt)})):jt.push(Et),le._tickAngles&&jt.push(function(){le._tickAngles[Ve]=mt===null?a(St)?St:0:mt});var Lt=le._anchorAxis;Lt&&Lt.autorange&&er(le)&&!G(Fe,le._id)&&(Fe._insideTickLabelsAutorange||(Fe._insideTickLabelsAutorange={}),Fe._insideTickLabelsAutorange[Lt._name+".autorange"]=Lt.autorange,jt.push(function(){lt.each(function(Xt,$t){var ar=qt(this),ir=ar.select(".text-math-group");ir.empty()&&(le._vals[$t].bb=m.bBox(ar.node()))})}));var Ht=u.syncOrAsync(jt);return Ht&&Ht.then&&he._promises.push(Ht),Ht};function Be(he,le,Ne){var Fe=le._id+"divider",We=Ne.vals,Ze=Ne.layer.selectAll("path."+Fe).data(We,Ie);Ze.exit().remove(),Ze.enter().insert("path",":first-child").classed(Fe,1).classed("crisp",1).call(f.stroke,le.dividercolor).style("stroke-width",m.crispRound(he,le.dividerwidth,1)+"px"),Ze.attr("transform",Ne.transFn).attr("d",Ne.path)}J.getPxPosition=function(he,le){var Ne=he._fullLayout._size,Fe=le._id.charAt(0),We=le.side,Ze;if(le.anchor!=="free"?Ze=le._anchorAxis:Fe==="x"?Ze={_offset:Ne.t+(1-(le.position||0))*Ne.h,_length:0}:Fe==="y"&&(Ze={_offset:Ne.l+(le.position||0)*Ne.w,_length:0}),We==="top"||We==="left")return Ze._offset;if(We==="bottom"||We==="right")return Ze._offset+Ze._length};function st(he){var le=he.title.font.size,Ne=(he.title.text.match(h.BR_TAG_ALL)||[]).length;return he.title.hasOwnProperty("standoff")?Ne?le*(fe+Ne*se):le*fe:Ne?le*(Ne+1)*se:le}function gt(he,le){var Ne=he._fullLayout,Fe=le._id,We=Fe.charAt(0),Ze=le.title.font.size,Ve;if(le.title.hasOwnProperty("standoff"))Ve=le._depth+le.title.standoff+st(le);else{var je=er(le);if(le.type==="multicategory")Ve=le._depth;else{var ut=1.5*Ze;je&&(ut=.5*Ze,le.ticks==="outside"&&(ut+=le.ticklen)),Ve=10+ut+(le.linewidth?le.linewidth-1:0)}je||(We==="x"?Ve+=le.side==="top"?Ze*(le.showticklabels?1:0):Ze*(le.showticklabels?1.5:.5):Ve+=le.side==="right"?Ze*(le.showticklabels?1:.5):Ze*(le.showticklabels?.5:0))}var St=J.getPxPosition(he,le),Pt,lt,yt;We==="x"?(lt=le._offset+le._length/2,yt=le.side==="top"?St-Ve:St+Ve):(yt=le._offset+le._length/2,lt=le.side==="right"?St+Ve:St-Ve,Pt={rotate:"-90",offset:0});var Ot;if(le.type!=="multicategory"){var At=le._selections[le._id+"tick"];if(Ot={selection:At,side:le.side},At&&At.node()&&At.node().parentNode){var mt=m.getTranslate(At.node().parentNode);Ot.offsetLeft=mt.x,Ot.offsetTop=mt.y}le.title.hasOwnProperty("standoff")&&(Ot.pad=0)}return v.draw(he,Fe+"title",{propContainer:le,propName:le._name+".title.text",placeholder:Ne._dfltTitle[We],avoid:Ot,transform:Pt,attributes:{x:lt,y:yt,"text-anchor":"middle"}})}J.shouldShowZeroLine=function(he,le,Ne){var Fe=u.simpleMap(le.range,le.r2l);return Fe[0]*Fe[1]<=0&&le.zeroline&&(le.type==="linear"||le.type==="-")&&!(le.rangebreaks&&le.maskBreaks(0)===U)&&(wt(le,0)||!Wt(he,le,Ne,Fe)||Yt(he,le))},J.clipEnds=function(he,le){return le.filter(function(Ne){return wt(he,Ne.x)})};function wt(he,le){var Ne=he.l2p(le);return Ne>1&&Ne<he._length-1}function Wt(he,le,Ne,Fe){var We=Ne._mainAxis;if(!We)return;var Ze=he._fullLayout,Ve=le._id.charAt(0),je=J.counterLetter(le._id),ut=le._offset+(Math.abs(Fe[0])<Math.abs(Fe[1])==(Ve==="x")?0:le._length);function St(At){if(!At.showline||!At.linewidth)return!1;var mt=Math.max((At.linewidth+le.zerolinewidth)/2,1);function Et(Ht){return typeof Ht=="number"&&Math.abs(Ht-ut)<mt}if(Et(At._mainLinePosition)||Et(At._mainMirrorPosition))return!0;var jt=At._linepositions||{};for(var Lt in jt)if(Et(jt[Lt][0])||Et(jt[Lt][1]))return!0}var Pt=Ze._plots[Ne._mainSubplot];if(!(Pt.mainplotinfo||Pt).overlays.length)return St(Ne);for(var lt=J.list(he,je),yt=0;yt<lt.length;yt++){var Ot=lt[yt];if(Ot._mainAxis===We&&St(Ot))return!0}}function Yt(he,le){for(var Ne=he._fullData,Fe=le._mainSubplot,We=le._id.charAt(0),Ze=0;Ze<Ne.length;Ze++){var Ve=Ne[Ze];if(Ve.visible===!0&&Ve.xaxis+Ve.yaxis===Fe&&(l.traceIs(Ve,"bar-like")&&Ve.orientation==={x:"h",y:"v"}[We]||Ve.fill&&Ve.fill.charAt(Ve.fill.length-1)===We))return!0}return!1}function qt(he){var le=n.select(he),Ne=le.select(".text-math-group");return Ne.empty()?le.select("text"):Ne}J.allowAutoMargin=function(he){for(var le=J.list(he,"",!0),Ne=0;Ne<le.length;Ne++){var Fe=le[Ne];Fe.automargin&&(s.allowAutoMargin(he,Bt(Fe)),Fe.mirror&&s.allowAutoMargin(he,Ut(Fe))),l.getComponentMethod("rangeslider","isVisible")(Fe)&&s.allowAutoMargin(he,Nt(Fe))}};function Bt(he){return he._id+".automargin"}function Ut(he){return Bt(he)+".mirror"}function Nt(he){return he._id+".rangeslider"}J.swap=function(he,le){for(var Ne=dt(he,le),Fe=0;Fe<Ne.length;Fe++)Gt(he,Ne[Fe].x,Ne[Fe].y)};function dt(he,le){var Ne=[],Fe,We;for(Fe=0;Fe<le.length;Fe++){var Ze=[],Ve=he._fullData[le[Fe]].xaxis,je=he._fullData[le[Fe]].yaxis;if(!(!Ve||!je)){for(We=0;We<Ne.length;We++)(Ne[We].x.indexOf(Ve)!==-1||Ne[We].y.indexOf(je)!==-1)&&Ze.push(We);if(!Ze.length){Ne.push({x:[Ve],y:[je]});continue}var ut=Ne[Ze[0]],St;if(Ze.length>1)for(We=1;We<Ze.length;We++)St=Ne[Ze[We]],Vt(ut.x,St.x),Vt(ut.y,St.y);Vt(ut.x,[Ve]),Vt(ut.y,[je])}}return Ne}function Vt(he,le){for(var Ne=0;Ne<le.length;Ne++)he.indexOf(le[Ne])===-1&&he.push(le[Ne])}function Gt(he,le,Ne){var Fe=[],We=[],Ze=he.layout,Ve,je;for(Ve=0;Ve<le.length;Ve++)Fe.push(J.getFromId(he,le[Ve]));for(Ve=0;Ve<Ne.length;Ve++)We.push(J.getFromId(he,Ne[Ve]));var ut=Object.keys(_),St=["anchor","domain","overlaying","position","side","tickangle","editType"],Pt=["linear","log"];for(Ve=0;Ve<ut.length;Ve++){var lt=ut[Ve],yt=Fe[0][lt],Ot=We[0][lt],At=!0,mt=!1,Et=!1;if(!(lt.charAt(0)==="_"||typeof yt=="function"||St.indexOf(lt)!==-1)){for(je=1;je<Fe.length&&At;je++){var jt=Fe[je][lt];lt==="type"&&Pt.indexOf(yt)!==-1&&Pt.indexOf(jt)!==-1&&yt!==jt?mt=!0:jt!==yt&&(At=!1)}for(je=1;je<We.length&&At;je++){var Lt=We[je][lt];lt==="type"&&Pt.indexOf(Ot)!==-1&&Pt.indexOf(Lt)!==-1&&Ot!==Lt?Et=!0:We[je][lt]!==Ot&&(At=!1)}At&&(mt&&(Ze[Fe[0]._name].type="linear"),Et&&(Ze[We[0]._name].type="linear"),rr(Ze,lt,Fe,We,he._fullLayout._dfltTitle))}}for(Ve=0;Ve<he._fullLayout.annotations.length;Ve++){var Ht=he._fullLayout.annotations[Ve];le.indexOf(Ht.xref)!==-1&&Ne.indexOf(Ht.yref)!==-1&&u.swapAttrs(Ze.annotations[Ve],["?"])}}function rr(he,le,Ne,Fe,We){var Ze=u.nestedProperty,Ve=Ze(he[Ne[0]._name],le).get(),je=Ze(he[Fe[0]._name],le).get(),ut;for(le==="title"&&(Ve&&Ve.text===We.x&&(Ve.text=We.y),je&&je.text===We.y&&(je.text=We.x)),ut=0;ut<Ne.length;ut++)Ze(he,Ne[ut]._name+"."+le).set(je);for(ut=0;ut<Fe.length;ut++)Ze(he,Fe[ut]._name+"."+le).set(Ve)}function Jt(he){return he._id==="angularaxis"}function Dt(he,le){for(var Ne=le._rangebreaks.length,Fe=0;Fe<Ne;Fe++){var We=le._rangebreaks[Fe];if(he>=We.min&&he<We.max)return We.max}return he}function er(he){return(he.ticklabelposition||"").indexOf("inside")!==-1}function tr(he,le){er(he._anchorAxis||{})&&he._hideCounterAxisInsideTickLabels&&he._hideCounterAxisInsideTickLabels(le)}},{"../../components/color":103,"../../components/drawing":125,"../../components/titles":212,"../../constants/alignment":219,"../../constants/numerical":224,"../../lib":244,"../../lib/svg_text_utils":267,"../../plots/plots":325,"../../registry":327,"./autorange":290,"./axis_autotype":292,"./axis_ids":295,"./clean_ticks":297,"./layout_attributes":304,"./set_convert":310,"@plotly/d3":11,"fast-isnumeric":17}],292:[function(r,i,o){var n=r("fast-isnumeric"),a=r("../../lib"),s=r("../../constants/numerical").BADNUM,l=a.isArrayOrTypedArray,u=a.isDateTime,c=a.cleanNumber,h=Math.round;i.exports=function(b,y,x){var w=b,C=x.noMultiCategory;if(l(w)&&!w.length)return"-";if(!C&&p(w))return"multicategory";if(C&&Array.isArray(w[0])){for(var S=[],T=0;T<w.length;T++)if(l(w[T]))for(var M=0;M<w[T].length;M++)S.push(w[T][M]);w=S}if(m(w,y))return"date";var D=x.autotypenumbers!=="strict";return g(w,D)?"category":f(w,D)?"linear":"-"};function v(d,b){return b?n(d):typeof d=="number"}function f(d,b){for(var y=d.length,x=0;x<y;x++)if(v(d[x],b))return!0;return!1}function m(d,b){for(var y=d.length,x=_(y),w=0,C=0,S={},T=0;T<y;T+=x){var M=h(T),D=d[M],k=String(D);S[k]||(S[k]=1,u(D,b)&&w++,n(D)&&C++)}return w>C*2}function _(d){return Math.max(1,(d-1)/1e3)}function g(d,b){for(var y=d.length,x=_(y),w=0,C=0,S={},T=0;T<y;T+=x){var M=h(T),D=d[M],k=String(D);if(!S[k]){S[k]=1;var R=typeof D;R==="boolean"?C++:(b?c(D)!==s:R==="number")?w++:R==="string"&&C++}}return C>w*2}function p(d){return l(d[0])&&l(d[1])}},{"../../constants/numerical":224,"../../lib":244,"fast-isnumeric":17}],293:[function(r,i,o){var n=r("fast-isnumeric"),a=r("../../registry"),s=r("../../lib"),l=r("../../plot_api/plot_template"),u=r("../array_container_defaults"),c=r("./layout_attributes"),h=r("./tick_value_defaults"),v=r("./tick_mark_defaults"),f=r("./tick_label_defaults"),m=r("./prefix_suffix_defaults"),_=r("./category_order_defaults"),g=r("./line_grid_defaults"),p=r("./set_convert"),d=r("./constants").WEEKDAY_PATTERN,b=r("./constants").HOUR_PATTERN;i.exports=function(S,T,M,D,k){var R=D.letter,P=D.font||{},E=D.splomStash||{},O=M("visible",!D.visibleDflt),I=T._template||{},U=T.type||I.type||"-",V;if(U==="date"){var Z=a.getComponentMethod("calendars","handleDefaults");Z(S,T,"calendar",D.calendar),D.noTicklabelmode||(V=M("ticklabelmode"))}var z="";(!D.noTicklabelposition||U==="multicategory")&&(z=s.coerce(S,T,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:V==="period"?["outside","inside"]:R==="x"?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),D.noTicklabeloverflow||M("ticklabeloverflow",z.indexOf("inside")!==-1?"hide past domain":U==="category"||U==="multicategory"?"allow":"hide past div"),p(T,k);var H=!T.isValidRange(S.range);H&&D.reverseDflt&&(H="reversed");var B=M("autorange",H);B&&(U==="linear"||U==="-")&&M("rangemode"),M("range"),T.cleanRange(),_(S,T,M,D),U!=="category"&&!D.noHover&&M("hoverformat");var W=M("color"),F=W!==c.color.dflt?W:P.color,K=E.label||k._dfltTitle[R];if(m(S,T,M,U,D),!O)return T;M("title.text",K),s.coerceFont(M,"title.font",{family:P.family,size:s.bigFont(P.size),color:F}),h(S,T,M,U);var fe=D.hasMinor;if(fe&&(l.newContainer(T,"minor"),h(S,T,M,U,{isMinor:!0})),f(S,T,M,U,D),v(S,T,M,D),fe){var se=D.isMinor;D.isMinor=!0,v(S,T,M,D),D.isMinor=se}g(S,T,M,{dfltColor:W,bgColor:D.bgColor,showGrid:D.showGrid,hasMinor:fe,attributes:c}),fe&&!T.minor.ticks&&!T.minor.showgrid&&delete T.minor,(T.showline||T.ticks)&&M("mirror"),D.automargin&&M("automargin");var ee=U==="multicategory";if(!D.noTickson&&(U==="category"||ee)&&(T.ticks||T.showgrid)){var ie;ee&&(ie="boundaries");var J=M("tickson",ie);J==="boundaries"&&delete T.ticklabelposition}if(ee){var te=M("showdividers");te&&(M("dividercolor"),M("dividerwidth"))}if(U==="date")if(u(S,T,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:y}),!T.rangebreaks.length)delete T.rangebreaks;else{for(var L=0;L<T.rangebreaks.length;L++)if(T.rangebreaks[L].pattern===d){T._hasDayOfWeekBreaks=!0;break}if(p(T,k),k._has("scattergl")||k._has("splom"))for(var N=0;N<D.data.length;N++){var G=D.data[N];(G.type==="scattergl"||G.type==="splom")&&(G.visible=!1,s.warn(G.type+" traces do not work on axes with rangebreaks. Setting trace "+G.index+" to `visible: false`."))}}return T};function y(C,S,T){function M(V,Z){return s.coerce(C,S,c.rangebreaks,V,Z)}var D=M("enabled");if(D){var k=M("bounds");if(k&&k.length>=2){var R="",P,E;if(k.length===2){for(P=0;P<2;P++)if(E=w(k[P]),E){R=d;break}}var O=M("pattern",R);if(O===d)for(P=0;P<2;P++)E=w(k[P]),E&&(S.bounds[P]=k[P]=E-1);if(O)for(P=0;P<2;P++)switch(E=k[P],O){case d:if(!n(E)){S.enabled=!1;return}if(E=+E,E!==Math.floor(E)||E<0||E>=7){S.enabled=!1;return}S.bounds[P]=k[P]=E;break;case b:if(!n(E)){S.enabled=!1;return}if(E=+E,E<0||E>24){S.enabled=!1;return}S.bounds[P]=k[P]=E;break}if(T.autorange===!1){var I=T.range;if(I[0]<I[1]){if(k[0]<I[0]&&k[1]>I[1]){S.enabled=!1;return}}else if(k[0]>I[0]&&k[1]<I[1]){S.enabled=!1;return}}}else{var U=M("values");if(U&&U.length)M("dvalue");else{S.enabled=!1;return}}}}var x={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function w(C){if(typeof C=="string")return x[C.substr(0,3).toLowerCase()]}},{"../../lib":244,"../../plot_api/plot_template":280,"../../registry":327,"../array_container_defaults":286,"./category_order_defaults":296,"./constants":298,"./layout_attributes":304,"./line_grid_defaults":306,"./prefix_suffix_defaults":308,"./set_convert":310,"./tick_label_defaults":312,"./tick_mark_defaults":313,"./tick_value_defaults":314,"fast-isnumeric":17}],294:[function(r,i,o){var n=r("../../constants/docs"),a=n.FORMAT_LINK,s=n.DATE_FORMAT_LINK;function l(h,v){return{valType:"string",dflt:"",editType:"none",description:(v?u:c)("hover text",h)+["By default the values are formatted using "+(v?"generic number format":"`"+h+"axis.hoverformat`")+"."].join(" ")}}function u(h,v){return["Sets the "+h+" formatting rule"+(v?"for `"+v+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+a+"."].join(" ")}function c(h,v){return u(h,v)+[" And for dates see: "+s+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}i.exports={axisHoverFormat:l,descriptionOnlyNumbers:u,descriptionWithDates:c}},{"../../constants/docs":221}],295:[function(r,i,o){var n=r("../../registry"),a=r("./constants");o.id2name=function(u){if(!(typeof u!="string"||!u.match(a.AX_ID_PATTERN))){var c=u.split(" ")[0].substr(1);return c==="1"&&(c=""),u.charAt(0)+"axis"+c}},o.name2id=function(u){if(u.match(a.AX_NAME_PATTERN)){var c=u.substr(5);return c==="1"&&(c=""),u.charAt(0)+c}},o.cleanId=function(u,c,h){var v=/( domain)$/.test(u);if(!(typeof u!="string"||!u.match(a.AX_ID_PATTERN))&&!(c&&u.charAt(0)!==c)&&!(v&&!h)){var f=u.split(" ")[0].substr(1).replace(/^0+/,"");return f==="1"&&(f=""),u.charAt(0)+f+(v&&h?" domain":"")}},o.list=function(l,u,c){var h=l._fullLayout;if(!h)return[];var v=o.listIds(l,u),f=new Array(v.length),m;for(m=0;m<v.length;m++){var _=v[m];f[m]=h[_.charAt(0)+"axis"+_.substr(1)]}if(!c){var g=h._subplots.gl3d||[];for(m=0;m<g.length;m++){var p=h[g[m]];u?f.push(p[u+"axis"]):f.push(p.xaxis,p.yaxis,p.zaxis)}}return f},o.listIds=function(l,u){var c=l._fullLayout;if(!c)return[];var h=c._subplots;return u?h[u+"axis"]:h.xaxis.concat(h.yaxis)},o.getFromId=function(l,u,c){var h=l._fullLayout;return u=u===void 0||typeof u!="string"?u:u.replace(" domain",""),c==="x"?u=u.replace(/y[0-9]*/,""):c==="y"&&(u=u.replace(/x[0-9]*/,"")),h[o.id2name(u)]},o.getFromTrace=function(l,u,c){var h=l._fullLayout,v=null;if(n.traceIs(u,"gl3d")){var f=u.scene;f.substr(0,5)==="scene"&&(v=h[f][c+"axis"])}else v=o.getFromId(l,u[c+"axis"]||c);return v},o.idSort=function(l,u){var c=l.charAt(0),h=u.charAt(0);return c!==h?c>h?1:-1:+(l.substr(1)||1)-+(u.substr(1)||1)},o.ref2id=function(l){return/^[xyz]/.test(l)?l.split(" ")[0]:!1};function s(l,u){if(u&&u.length){for(var c=0;c<u.length;c++)if(u[c][l])return!0}return!1}o.isLinked=function(l,u){return s(u,l._axisMatchGroups)||s(u,l._axisConstraintGroups)}},{"../../registry":327,"./constants":298}],296:[function(r,i,o){function n(a,s){var l=s.dataAttr||a._id.charAt(0),u={},c,h,v;if(s.axData)c=s.axData;else for(c=[],h=0;h<s.data.length;h++){var f=s.data[h];f[l+"axis"]===a._id&&c.push(f)}for(h=0;h<c.length;h++){var m=c[h][l];for(v=0;v<m.length;v++){var _=m[v];_!=null&&(u[_]=1)}}return Object.keys(u)}i.exports=function(s,l,u,c){if(l.type==="category"){var h=s.categoryarray,v=Array.isArray(h)&&h.length>0,f;v&&(f="array");var m=u("categoryorder",f),_;m==="array"&&(_=u("categoryarray")),!v&&m==="array"&&(m=l.categoryorder="trace"),m==="trace"?l._initialCategories=[]:m==="array"?l._initialCategories=_.slice():(_=n(l,c).sort(),m==="category ascending"?l._initialCategories=_:m==="category descending"&&(l._initialCategories=_.reverse()))}}},{}],297:[function(r,i,o){var n=r("fast-isnumeric"),a=r("../../lib"),s=r("../../constants/numerical"),l=s.ONEDAY,u=s.ONEWEEK;o.dtick=function(c,h){var v=h==="log",f=h==="date",m=h==="category",_=f?l:1;if(!c)return _;if(n(c))return c=Number(c),c<=0?_:m?Math.max(1,Math.round(c)):f?Math.max(.1,c):c;if(typeof c!="string"||!(f||v))return _;var g=c.charAt(0),p=c.substr(1);return p=n(p)?Number(p):0,p<=0||!(f&&g==="M"&&p===Math.round(p)||v&&g==="L"||v&&g==="D"&&(p===1||p===2))?_:c},o.tick0=function(c,h,v,f){if(h==="date")return a.cleanDate(c,a.dateTick0(v,f%u===0?1:0));if(!(f==="D1"||f==="D2"))return n(c)?Number(c):0}},{"../../constants/numerical":224,"../../lib":244,"fast-isnumeric":17}],298:[function(r,i,o){var n=r("../../lib/regex").counter;i.exports={idRegex:{x:n("x","( domain)?"),y:n("y","( domain)?")},attrRegex:n("[xy]axis"),xAxisMatch:n("xaxis"),yAxisMatch:n("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},{"../../lib/regex":260}],299:[function(r,i,o){var n=r("../../lib"),a=r("./autorange"),s=r("./axis_ids").id2name,l=r("./layout_attributes"),u=r("./scale_zoom"),c=r("./set_convert"),h=r("../../constants/numerical").ALMOST_EQUAL,v=r("../../constants/alignment").FROM_BL;o.handleDefaults=function(y,x,w){var C=w.axIds,S=w.axHasImage,T=x._axisConstraintGroups=[],M=x._axisMatchGroups=[],D,k,R,P,E,O,I,U;for(D=0;D<C.length;D++)P=s(C[D]),E=y[P],O=x[P],f(E,O,{axIds:C,layoutOut:x,hasImage:S[P]});function V(se,ee){for(D=0;D<se.length;D++){k=se[D];for(R in k)x[s(R)][ee]=k}}for(V(M,"_matchGroup"),D=0;D<T.length;D++){k=T[D];for(R in k)if(O=x[s(R)],O.fixedrange){for(var Z in k){var z=s(Z);(y[z]||{}).fixedrange===!1&&n.warn("fixedrange was specified as false for axis "+z+" but was overridden because another axis in its constraint group has fixedrange true"),x[z].fixedrange=!0}break}}for(D=0;D<T.length;){k=T[D];for(R in k){O=x[s(R)],O._matchGroup&&Object.keys(O._matchGroup).length===Object.keys(k).length&&(T.splice(D,1),D--);break}D++}V(T,"_constraintGroup");var H=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],B=!1,W=!1;function F(){U=O[I],I==="rangebreaks"&&(W=O._hasDayOfWeekBreaks)}for(D=0;D<M.length;D++){k=M[D];for(var K=0;K<H.length;K++){I=H[K],U=null;var fe;for(R in k)if(P=s(R),E=y[P],O=x[P],I in O){if(!O.matches&&(fe=O,I in E)){F();break}U===null&&I in E&&F()}if(I==="range"&&U&&(B=!0),I==="autorange"&&U===null&&B&&(U=!1),U===null&&I in fe&&(U=fe[I]),U!==null)for(R in k)O=x[s(R)],O[I]=I==="range"?U.slice():U,I==="rangebreaks"&&(O._hasDayOfWeekBreaks=W,c(O,x))}}};function f(y,x,w){var C=w.axIds,S=w.layoutOut,T=w.hasImage,M=S._axisConstraintGroups,D=S._axisMatchGroups,k=x._id,R=k.charAt(0),P=((S._splomAxes||{})[R]||{})[k]||{},E=x._id,O=E.charAt(0)==="x";x._matchGroup=null,x._constraintGroup=null;function I(te,L){return n.coerce(y,x,l,te,L)}I("constrain",T?"domain":"range"),n.coerce(y,x,{constraintoward:{valType:"enumerated",values:O?["left","center","right"]:["bottom","middle","top"],dflt:O?"center":"middle"}},"constraintoward");var U=x.type,V,Z,z=[];for(V=0;V<C.length;V++)if(Z=C[V],Z!==E){var H=S[s(Z)];H.type===U&&z.push(Z)}var B=_(M,E);if(B){var W=[];for(V=0;V<z.length;V++)Z=z[V],B[Z]||W.push(Z);z=W}var F=z.length,K,fe;F&&(y.matches||P.matches)&&(K=n.coerce(y,x,{matches:{valType:"enumerated",values:z,dflt:z.indexOf(P.matches)!==-1?P.matches:void 0}},"matches"));var se=T&&!O?x.anchor:void 0;if(F&&!K&&(y.scaleanchor||se)&&(fe=n.coerce(y,x,{scaleanchor:{valType:"enumerated",values:z}},"scaleanchor",se)),K){x._matchGroup=g(D,E,K,1);var ee=S[s(K)],ie=m(S,x)/m(S,ee);O!==(K.charAt(0)==="x")&&(ie=(O?"x":"y")+ie),g(M,E,K,ie)}else y.matches&&C.indexOf(y.matches)!==-1&&n.warn("ignored "+x._name+'.matches: "'+y.matches+'" to avoid an infinite loop');if(fe){var J=I("scaleratio");J||(J=x.scaleratio=1),g(M,E,fe,J)}else y.scaleanchor&&C.indexOf(y.scaleanchor)!==-1&&n.warn("ignored "+x._name+'.scaleanchor: "'+y.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function m(y,x){var w=x.domain;return w||(w=y[s(x.overlaying)].domain),w[1]-w[0]}function _(y,x){for(var w=0;w<y.length;w++)if(y[w][x])return y[w];return null}function g(y,x,w,C){var S,T,M,D,k,R=_(y,x);R===null?(R={},R[x]=1,k=y.length,y.push(R)):k=y.indexOf(R);var P=Object.keys(R);for(S=0;S<y.length;S++)if(M=y[S],S!==k&&M[w]){var E=M[w];for(T=0;T<P.length;T++)D=P[T],M[D]=p(E,p(C,R[D]));y.splice(k,1);return}if(C!==1)for(T=0;T<P.length;T++){var O=P[T];R[O]=p(C,R[O])}R[w]=1}function p(y,x){var w="",C="",S,T;typeof y=="string"&&(w=y.match(/^[xy]*/)[0],S=w.length,y=+y.substr(S)),typeof x=="string"&&(C=x.match(/^[xy]*/)[0],T=C.length,x=+x.substr(T));var M=y*x;return!S&&!T?M:!S||!T||w.charAt(0)===C.charAt(0)?w+C+y*x:S===T?M:(S>T?w.substr(T):C.substr(S))+M}function d(y,x){for(var w=x._size,C=w.h/w.w,S={},T=Object.keys(y),M=0;M<T.length;M++){var D=T[M],k=y[D];if(typeof k=="string"){var R=k.match(/^[xy]*/)[0],P=R.length;k=+k.substr(P);for(var E=R.charAt(0)==="y"?C:1/C,O=0;O<P;O++)k*=E}S[D]=k}return S}o.enforce=function(x){var w=x._fullLayout,C=w._axisConstraintGroups||[],S,T,M,D,k,R,P,E;for(S=0;S<C.length;S++){M=d(C[S],w);var O=Object.keys(M),I=1/0,U=0,V=1/0,Z={},z={},H=!1;for(T=0;T<O.length;T++)D=O[T],z[D]=k=w[s(D)],k._inputDomain?k.domain=k._inputDomain.slice():k._inputDomain=k.domain.slice(),k._inputRange||(k._inputRange=k.range.slice()),k.setScale(),Z[D]=R=Math.abs(k._m)/M[D],I=Math.min(I,R),(k.constrain==="domain"||!k._constraintShrinkable)&&(V=Math.min(V,R)),delete k._constraintShrinkable,U=Math.max(U,R),k.constrain==="domain"&&(H=!0);if(!(I>h*U&&!H)){for(T=0;T<O.length;T++)if(D=O[T],R=Z[D],k=z[D],P=k.constrain,R!==V||P==="domain")if(E=R/V,P==="range")u(k,E);else{var B=k._inputDomain,W=(k.domain[1]-k.domain[0])/(B[1]-B[0]),F=(k.r2l(k.range[1])-k.r2l(k.range[0]))/(k.r2l(k._inputRange[1])-k.r2l(k._inputRange[0]));if(E/=W,E*F<1){k.domain=k._input.domain=B.slice(),u(k,E);continue}if(F<1&&(k.range=k._input.range=k._inputRange.slice(),E*=F),k.autorange){var K=k.r2l(k.range[0]),fe=k.r2l(k.range[1]),se=(K+fe)/2,ee=se,ie=se,J=Math.abs(fe-se),te=se-J*E*1.0001,L=se+J*E*1.0001,N=a.makePadFn(w,k,0),G=a.makePadFn(w,k,1);b(k,E);var Y=Math.abs(k._m),j=a.concatExtremes(x,k),Q=j.min,q=j.max,re,ue;for(ue=0;ue<Q.length;ue++)re=Q[ue].val-N(Q[ue])/Y,re>te&&re<ee&&(ee=re);for(ue=0;ue<q.length;ue++)re=q[ue].val+G(q[ue])/Y,re<L&&re>ie&&(ie=re);var de=(ie-ee)/(2*J);E/=de,ee=k.l2r(ee),ie=k.l2r(ie),k.range=k._input.range=K<fe?[ee,ie]:[ie,ee]}b(k,E)}}}},o.getAxisGroup=function(x,w){for(var C=x._axisMatchGroups,S=0;S<C.length;S++){var T=C[S];if(T[w])return"g"+S}return w},o.clean=function(x,w){if(w._inputDomain){for(var C=!1,S=w._id,T=x._fullLayout._axisConstraintGroups,M=0;M<T.length;M++)if(T[M][S]){C=!0;break}(!C||w.constrain!=="domain")&&(w._input.domain=w.domain=w._inputDomain,delete w._inputDomain)}};function b(y,x){var w=y._inputDomain,C=v[y.constraintoward],S=w[0]+(w[1]-w[0])*C;y.domain=y._input.domain=[S+(w[0]-S)/x,S+(w[1]-S)/x],y.setScale()}},{"../../constants/alignment":219,"../../constants/numerical":224,"../../lib":244,"./autorange":290,"./axis_ids":295,"./layout_attributes":304,"./scale_zoom":309,"./set_convert":310}],300:[function(r,i,o){var n=r("@plotly/d3"),a=r("../../lib"),s=a.numberFormat,l=r("tinycolor2"),u=r("has-passive-events"),c=r("../../registry"),h=a.strTranslate,v=r("../../lib/svg_text_utils"),f=r("../../components/color"),m=r("../../components/drawing"),_=r("../../components/fx"),g=r("./axes"),p=r("../../lib/setcursor"),d=r("../../components/dragelement"),b=r("../../components/dragelement/helpers"),y=b.selectingOrDrawing,x=b.freeMode,w=r("../../constants/alignment").FROM_TL,C=r("../../lib/clear_gl_canvases"),S=r("../../plot_api/subroutines").redrawReglTraces,T=r("../plots"),M=r("./axis_ids").getFromId,D=r("../../components/selections").prepSelect,k=r("../../components/selections").clearOutline,R=r("../../components/selections").selectOnClick,P=r("./scale_zoom"),E=r("./constants"),O=E.MINDRAG,I=E.MINZOOM,U=!0;function V(re,ue,de,me,pe,ge,Te,He){var Oe=re._fullLayout._zoomlayer,tt=Te+He==="nsew",Le=(Te+He).length===1,De,Se,ze,Ke,_t,Qe,et,rt,ft,bt,Ft,ct,nt,at,It,zt,be,Me,Ue,ce,Ce,Ae,ke;function xe(){if(De=ue.xaxis,Se=ue.yaxis,ft=De._length,bt=Se._length,et=De._offset,rt=Se._offset,ze={},ze[De._id]=De,Ke={},Ke[Se._id]=Se,Te&&He)for(var lt=ue.overlays,yt=0;yt<lt.length;yt++){var Ot=lt[yt].xaxis;ze[Ot._id]=Ot;var At=lt[yt].yaxis;Ke[At._id]=At}_t=q(ze),Qe=q(Ke),nt=H(_t,He),at=H(Qe,Te),It=!at&&!nt,ct=j(re,re._fullLayout._axisMatchGroups,ze,Ke),Ft=j(re,re._fullLayout._axisConstraintGroups,ze,Ke,ct);var mt=Ft.isSubplotConstrained||ct.isSubplotConstrained;zt=He||mt,be=Te||mt;var Et=re._fullLayout;Me=Et._has("scattergl"),Ue=Et._has("splom"),ce=Et._has("svg")}xe();var ye=fe(at+nt,re._fullLayout.dragmode,tt),Ee=z(ue,Te+He+"drag",ye,de,me,pe,ge);if(It&&!tt)return Ee.onmousedown=null,Ee.style.pointerEvents="none",Ee;var $e={element:Ee,gd:re,plotinfo:ue};$e.prepFn=function(lt,yt,Ot){var At=$e.dragmode,mt=re._fullLayout.dragmode;mt!==At&&($e.dragmode=mt),xe(),Ae=re._fullLayout._invScaleX,ke=re._fullLayout._invScaleY,It||(tt?lt.shiftKey?mt==="pan"?mt="zoom":y(mt)||(mt="pan"):lt.ctrlKey&&(mt="pan"):mt="pan"),x(mt)?$e.minDrag=1:$e.minDrag=void 0,y(mt)?($e.xaxes=_t,$e.yaxes=Qe,D(lt,yt,Ot,$e,mt)):($e.clickFn=Be,y(At)&&Ie(),It||(mt==="zoom"?($e.moveFn=Gt,$e.doneFn=Jt,$e.minDrag=1,Vt(lt,yt,Ot)):mt==="pan"&&($e.moveFn=Ne,$e.doneFn=Ve))),re._fullLayout._redrag=function(){var Et=re._dragdata;if(Et&&Et.element===Ee){var jt=re._fullLayout.dragmode;y(jt)||(xe(),je([0,0,ft,bt]),$e.moveFn(Et.dx,Et.dy))}}};function Ie(){$e.plotinfo.selection=!1,k(re)}function Be(lt,yt){var Ot=$e.gd;if(Ot._fullLayout._activeShapeIndex>=0){Ot._fullLayout._deactivateShape(Ot);return}var At=Ot._fullLayout.clickmode;if(te(Ot),lt===2&&!Le&&Ze(),tt)At.indexOf("select")>-1&&R(yt,Ot,_t,Qe,ue.id,$e),At.indexOf("event")>-1&&_.click(Ot,yt,ue.id);else if(lt===1&&Le){var mt=Te?Se:De,Et=Te==="s"||He==="w"?0:1,jt=mt._name+".range["+Et+"]",Lt=B(mt,Et),Ht="left",Kt="middle";if(mt.fixedrange)return;Te?(Kt=Te==="n"?"top":"bottom",mt.side==="right"&&(Ht="right")):He==="e"&&(Ht="right"),Ot._context.showAxisRangeEntryBoxes&&n.select(Ee).call(v.makeEditable,{gd:Ot,immediate:!0,background:Ot._fullLayout.paper_bgcolor,text:String(Lt),fill:mt.tickfont?mt.tickfont.color:"#444",horizontalAlign:Ht,verticalAlign:Kt}).on("edit",function(Xt){var $t=mt.d2r(Xt);$t!==void 0&&c.call("_guiRelayout",Ot,jt,$t)})}}d.init($e);var st,gt,wt,Wt,Yt,qt,Bt,Ut,Nt,dt;function Vt(lt,yt,Ot){var At=Ee.getBoundingClientRect();st=yt-At.left,gt=Ot-At.top,re._fullLayout._calcInverseTransform(re);var mt=a.apply3DTransform(re._fullLayout._invTransform)(st,gt);st=mt[0],gt=mt[1],wt={l:st,r:st,w:0,t:gt,b:gt,h:0},Wt=re._hmpixcount?re._hmlumcount/re._hmpixcount:l(re._fullLayout.plot_bgcolor).getLuminance(),Yt="M0,0H"+ft+"V"+bt+"H0V0",qt=!1,Bt="xy",dt=!1,Ut=se(Oe,Wt,et,rt,Yt),Nt=ee(Oe,et,rt)}function Gt(lt,yt){if(re._transitioningWithDuration)return!1;var Ot=Math.max(0,Math.min(ft,Ae*lt+st)),At=Math.max(0,Math.min(bt,ke*yt+gt)),mt=Math.abs(Ot-st),Et=Math.abs(At-gt);wt.l=Math.min(st,Ot),wt.r=Math.max(st,Ot),wt.t=Math.min(gt,At),wt.b=Math.max(gt,At);function jt(){Bt="",wt.r=wt.l,wt.t=wt.b,Nt.attr("d","M0,0Z")}if(Ft.isSubplotConstrained)mt>I||Et>I?(Bt="xy",mt/ft>Et/bt?(Et=mt*bt/ft,gt>At?wt.t=gt-Et:wt.b=gt+Et):(mt=Et*ft/bt,st>Ot?wt.l=st-mt:wt.r=st+mt),Nt.attr("d",Y(wt))):jt();else if(ct.isSubplotConstrained)if(mt>I||Et>I){Bt="xy";var Lt=Math.min(wt.l/ft,(bt-wt.b)/bt),Ht=Math.max(wt.r/ft,(bt-wt.t)/bt);wt.l=Lt*ft,wt.r=Ht*ft,wt.b=(1-Lt)*bt,wt.t=(1-Ht)*bt,Nt.attr("d",Y(wt))}else jt();else!at||Et<Math.min(Math.max(mt*.6,O),I)?mt<O||!nt?jt():(wt.t=0,wt.b=bt,Bt="x",Nt.attr("d",N(wt,gt))):!nt||mt<Math.min(Et*.6,I)?(wt.l=0,wt.r=ft,Bt="y",Nt.attr("d",G(wt,st))):(Bt="xy",Nt.attr("d",Y(wt)));wt.w=wt.r-wt.l,wt.h=wt.b-wt.t,Bt&&(dt=!0),re._dragged=dt,ie(Ut,Nt,wt,Yt,qt,Wt),rr(),re.emit("plotly_relayouting",Ce),qt=!0}function rr(){Ce={},(Bt==="xy"||Bt==="x")&&(W(_t,wt.l/ft,wt.r/ft,Ce,Ft.xaxes),Fe("x",Ce)),(Bt==="xy"||Bt==="y")&&(W(Qe,(bt-wt.b)/bt,(bt-wt.t)/bt,Ce,Ft.yaxes),Fe("y",Ce))}function Jt(){rr(),te(re),Ve(),L(re)}var Dt=[0,0,ft,bt],er=null,tr=E.REDRAWDELAY,he=ue.mainplot?re._fullLayout._plots[ue.mainplot]:ue;function le(lt){if(!re._context._scrollZoom.cartesian&&!re._fullLayout._enablescrollzoom)return;if(Ie(),re._transitioningWithDuration){lt.preventDefault(),lt.stopPropagation();return}xe(),clearTimeout(er);var yt=-lt.deltaY;if(isFinite(yt)||(yt=lt.wheelDelta/10),!isFinite(yt)){a.log("Did not find wheel motion attributes: ",lt);return}var Ot=Math.exp(-Math.min(Math.max(yt,-20),20)/200),At=he.draglayer.select(".nsewdrag").node().getBoundingClientRect(),mt=(lt.clientX-At.left)/At.width,Et=(At.bottom-lt.clientY)/At.height,jt;function Lt(Ht,Kt,Xt){if(Ht.fixedrange)return;var $t=a.simpleMap(Ht.range,Ht.r2l),ar=$t[0]+($t[1]-$t[0])*Kt;function ir(cr){return Ht.l2r(ar+(cr-ar)*Xt)}Ht.range=$t.map(ir)}if(zt){for(He||(mt=.5),jt=0;jt<_t.length;jt++)Lt(_t[jt],mt,Ot);Fe("x"),Dt[2]*=Ot,Dt[0]+=Dt[2]*mt*(1/Ot-1)}if(be){for(Te||(Et=.5),jt=0;jt<Qe.length;jt++)Lt(Qe[jt],Et,Ot);Fe("y"),Dt[3]*=Ot,Dt[1]+=Dt[3]*(1-Et)*(1/Ot-1)}je(Dt),We(),re.emit("plotly_relayouting",Ce),er=setTimeout(function(){re._fullLayout&&(Dt=[0,0,ft,bt],Ve())},tr),lt.preventDefault()}Te.length*He.length!==1&&Q(Ee,le);function Ne(lt,yt){if(lt=lt*Ae,yt=yt*ke,re._transitioningWithDuration)return;if(re._fullLayout._replotting=!0,nt==="ew"||at==="ns"){var Ot=nt?-lt:0,At=at?-yt:0;if(ct.isSubplotConstrained){if(nt&&at){var mt=(lt/ft-yt/bt)/2;lt=mt*ft,yt=-mt*bt,Ot=-lt,At=-yt}at?Ot=-At*ft/bt:At=-Ot*bt/ft}nt&&(F(_t,lt),Fe("x")),at&&(F(Qe,yt),Fe("y")),je([Ot,At,ft,bt]),We(),re.emit("plotly_relayouting",Ce);return}function Et(ir,cr,dr){for(var vr=1-cr,mr,_r,Mt=0;Mt<ir.length;Mt++){var Rt=ir[Mt];if(!Rt.fixedrange){mr=Rt,_r=Rt._rl[vr]+(Rt._rl[cr]-Rt._rl[vr])/K(dr/Rt._length);var Lr=Rt.l2r(_r);Lr!==!1&&Lr!==void 0&&(Rt.range[cr]=Lr)}}return mr._length*(mr._rl[cr]-_r)/(mr._rl[cr]-mr._rl[vr])}var jt=nt==="w"==(at==="n")?1:-1;if(nt&&at&&(Ft.isSubplotConstrained||ct.isSubplotConstrained)){var Lt=(lt/ft+jt*yt/bt)/2;lt=Lt*ft,yt=jt*Lt*bt}var Ht,Kt;if(nt==="w"?lt=Et(_t,0,lt):nt==="e"?lt=Et(_t,1,-lt):nt||(lt=0),at==="n"?yt=Et(Qe,1,yt):at==="s"?yt=Et(Qe,0,-yt):at||(yt=0),Ht=nt==="w"?lt:0,Kt=at==="n"?yt:0,Ft.isSubplotConstrained&&!ct.isSubplotConstrained||ct.isSubplotConstrained&&nt&&at&&jt>0){var Xt;if(ct.isSubplotConstrained||!nt&&at.length===1){for(Xt=0;Xt<_t.length;Xt++)_t[Xt].range=_t[Xt]._r.slice(),P(_t[Xt],1-yt/bt);lt=yt*ft/bt,Ht=lt/2}if(ct.isSubplotConstrained||!at&&nt.length===1){for(Xt=0;Xt<Qe.length;Xt++)Qe[Xt].range=Qe[Xt]._r.slice(),P(Qe[Xt],1-lt/ft);yt=lt*bt/ft,Kt=yt/2}}(!ct.isSubplotConstrained||!at)&&Fe("x"),(!ct.isSubplotConstrained||!nt)&&Fe("y");var $t=ft-lt,ar=bt-yt;ct.isSubplotConstrained&&!(nt&&at)&&(nt?(Kt=Ht?0:lt*bt/ft,ar=$t*bt/ft):(Ht=Kt?0:yt*ft/bt,$t=ar*ft/bt)),je([Ht,Kt,$t,ar]),We(),re.emit("plotly_relayouting",Ce)}function Fe(lt,yt){for(var Ot=ct.isSubplotConstrained?{x:Qe,y:_t}[lt]:ct[lt+"axes"],At=ct.isSubplotConstrained?{x:_t,y:Qe}[lt]:[],mt=0;mt<Ot.length;mt++){var Et=Ot[mt],jt=Et._id,Lt=ct.xLinks[jt]||ct.yLinks[jt],Ht=At[0]||ze[Lt]||Ke[Lt];Ht&&(yt?(yt[Et._name+".range[0]"]=yt[Ht._name+".range[0]"],yt[Et._name+".range[1]"]=yt[Ht._name+".range[1]"]):Et.range=Ht.range.slice())}}function We(){var lt=[],yt;function Ot(Et){for(yt=0;yt<Et.length;yt++)Et[yt].fixedrange||lt.push(Et[yt]._id)}for(zt&&(Ot(_t),Ot(Ft.xaxes),Ot(ct.xaxes)),be&&(Ot(Qe),Ot(Ft.yaxes),Ot(ct.yaxes)),Ce={},yt=0;yt<lt.length;yt++){var At=lt[yt],mt=M(re,At);g.drawOne(re,mt,{skipTitle:!0}),Ce[mt._name+".range[0]"]=mt.range[0],Ce[mt._name+".range[1]"]=mt.range[1]}g.redrawComponents(re,lt)}function Ze(){if(!re._transitioningWithDuration){var lt=re._context.doubleClick,yt=[];nt&&(yt=yt.concat(_t)),at&&(yt=yt.concat(Qe)),ct.xaxes&&(yt=yt.concat(ct.xaxes)),ct.yaxes&&(yt=yt.concat(ct.yaxes));var Ot={},At,mt,Et;if(lt==="reset+autosize"){for(lt="autosize",mt=0;mt<yt.length;mt++)if(At=yt[mt],At._rangeInitial&&(At.range[0]!==At._rangeInitial[0]||At.range[1]!==At._rangeInitial[1])||!At._rangeInitial&&!At.autorange){lt="reset";break}}if(lt==="autosize")for(mt=0;mt<yt.length;mt++)At=yt[mt],At.fixedrange||(Ot[At._name+".autorange"]=!0);else if(lt==="reset")for((nt||Ft.isSubplotConstrained)&&(yt=yt.concat(Ft.xaxes)),at&&!Ft.isSubplotConstrained&&(yt=yt.concat(Ft.yaxes)),Ft.isSubplotConstrained&&(nt?at||(yt=yt.concat(Qe)):yt=yt.concat(_t)),mt=0;mt<yt.length;mt++)At=yt[mt],At.fixedrange||(At._rangeInitial?(Et=At._rangeInitial,Ot[At._name+".range[0]"]=Et[0],Ot[At._name+".range[1]"]=Et[1]):Ot[At._name+".autorange"]=!0);re.emit("plotly_doubleclick",null),c.call("_guiRelayout",re,Ot)}}function Ve(){je([0,0,ft,bt]),a.syncOrAsync([T.previousPromises,function(){re._fullLayout._replotting=!1,c.call("_guiRelayout",re,Ce)}],re)}function je(lt){var yt=re._fullLayout,Ot=yt._plots,At=yt._subplots.cartesian,mt,Et,jt,Lt;if(Ue&&c.subplotsRegistry.splom.drag(re),Me){for(mt=0;mt<At.length;mt++)if(Et=Ot[At[mt]],jt=Et.xaxis,Lt=Et.yaxis,Et._scene){var Ht=a.simpleMap(jt.range,jt.r2l),Kt=a.simpleMap(Lt.range,Lt.r2l);Et._scene.update({range:[Ht[0],Kt[0],Ht[1],Kt[1]]})}}if((Ue||Me)&&(C(re),S(re)),ce){var Xt=lt[2]/De._length,$t=lt[3]/Se._length;for(mt=0;mt<At.length;mt++){Et=Ot[At[mt]],jt=Et.xaxis,Lt=Et.yaxis;var ar=(zt||ct.isSubplotConstrained)&&!jt.fixedrange&&ze[jt._id],ir=(be||ct.isSubplotConstrained)&&!Lt.fixedrange&&Ke[Lt._id],cr,dr,vr,mr;if(ar?(cr=Xt,vr=He||ct.isSubplotConstrained?lt[0]:Pt(jt,cr)):ct.xaHash[jt._id]?(cr=Xt,vr=lt[0]*jt._length/De._length):ct.yaHash[jt._id]?(cr=$t,vr=at==="ns"?-lt[1]*jt._length/Se._length:Pt(jt,cr,{n:"top",s:"bottom"}[at])):(cr=ut(jt,Xt,$t),vr=St(jt,cr)),ir?(dr=$t,mr=Te||ct.isSubplotConstrained?lt[1]:Pt(Lt,dr)):ct.yaHash[Lt._id]?(dr=$t,mr=lt[1]*Lt._length/Se._length):ct.xaHash[Lt._id]?(dr=Xt,mr=nt==="ew"?-lt[0]*Lt._length/De._length:Pt(Lt,dr,{e:"right",w:"left"}[nt])):(dr=ut(Lt,Xt,$t),mr=St(Lt,dr)),!(!cr&&!dr)){cr||(cr=1),dr||(dr=1);var _r=jt._offset-vr/cr,Mt=Lt._offset-mr/dr;Et.clipRect.call(m.setTranslate,vr,mr).call(m.setScale,cr,dr),Et.plot.call(m.setTranslate,_r,Mt).call(m.setScale,1/cr,1/dr),(cr!==Et.xScaleFactor||dr!==Et.yScaleFactor)&&(m.setPointGroupScale(Et.zoomScalePts,cr,dr),m.setTextPointsScale(Et.zoomScaleTxt,cr,dr)),m.hideOutsideRangePoints(Et.clipOnAxisFalseTraces,Et),Et.xScaleFactor=cr,Et.yScaleFactor=dr}}}}function ut(lt,yt,Ot){return lt.fixedrange?0:zt&&Ft.xaHash[lt._id]?yt:be&&(Ft.isSubplotConstrained?Ft.xaHash:Ft.yaHash)[lt._id]?Ot:0}function St(lt,yt){return yt?(lt.range=lt._r.slice(),P(lt,yt),Pt(lt,yt)):0}function Pt(lt,yt,Ot){return lt._length*(1-yt)*w[Ot||lt.constraintoward||"middle"]}return Ee}function Z(re,ue,de,me){var pe=a.ensureSingle(re.draglayer,ue,de,function(ge){ge.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",re.id)});return pe.call(p,me),pe.node()}function z(re,ue,de,me,pe,ge,Te){var He=Z(re,"rect",ue,de);return n.select(He).call(m.setRect,me,pe,ge,Te),He}function H(re,ue){for(var de=0;de<re.length;de++)if(!re[de].fixedrange)return ue;return""}function B(re,ue){var de=re.range[ue],me=Math.abs(de-re.range[1-ue]),pe;return re.type==="date"?de:re.type==="log"?(pe=Math.ceil(Math.max(0,-Math.log(me)/Math.LN10))+3,s("."+pe+"g")(Math.pow(10,de))):(pe=Math.floor(Math.log(Math.abs(de))/Math.LN10)-Math.floor(Math.log(me)/Math.LN10)+4,s("."+String(pe)+"g")(de))}function W(re,ue,de,me,pe){for(var ge=0;ge<re.length;ge++){var Te=re[ge];if(!Te.fixedrange)if(Te.rangebreaks){var He=Te._id.charAt(0)==="y",Oe=He?1-ue:ue,tt=He?1-de:de;me[Te._name+".range[0]"]=Te.l2r(Te.p2l(Oe*Te._length)),me[Te._name+".range[1]"]=Te.l2r(Te.p2l(tt*Te._length))}else{var Le=Te._rl[0],De=Te._rl[1]-Le;me[Te._name+".range[0]"]=Te.l2r(Le+De*ue),me[Te._name+".range[1]"]=Te.l2r(Le+De*de)}}if(pe&&pe.length){var Se=(ue+(1-de))/2;W(pe,Se,1-Se,me,[])}}function F(re,ue){for(var de=0;de<re.length;de++){var me=re[de];if(!me.fixedrange)if(me.rangebreaks){var pe=0,ge=me._length,Te=me.p2l(pe+ue)-me.p2l(pe),He=me.p2l(ge+ue)-me.p2l(ge),Oe=(Te+He)/2;me.range=[me.l2r(me._rl[0]-Oe),me.l2r(me._rl[1]-Oe)]}else me.range=[me.l2r(me._rl[0]-ue/me._m),me.l2r(me._rl[1]-ue/me._m)]}}function K(re){return 1-(re>=0?Math.min(re,.9):1/(1/Math.max(re,-.3)+3.222))}function fe(re,ue,de){return re?re==="nsew"?de?"":ue==="pan"?"move":"crosshair":re.toLowerCase()+"-resize":"pointer"}function se(re,ue,de,me,pe){return re.append("path").attr("class","zoombox").style({fill:ue>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",h(de,me)).attr("d",pe+"Z")}function ee(re,ue,de){return re.append("path").attr("class","zoombox-corners").style({fill:f.background,stroke:f.defaultLine,"stroke-width":1,opacity:0}).attr("transform",h(ue,de)).attr("d","M0,0Z")}function ie(re,ue,de,me,pe,ge){re.attr("d",me+"M"+de.l+","+de.t+"v"+de.h+"h"+de.w+"v-"+de.h+"h-"+de.w+"Z"),J(re,ue,pe,ge)}function J(re,ue,de,me){de||(re.transition().style("fill",me>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),ue.transition().style("opacity",1).duration(200))}function te(re){n.select(re).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function L(re){U&&re.data&&re._context.showTips&&(a.notifier(a._(re,"Double-click to zoom back out"),"long"),U=!1)}function N(re,ue){return"M"+(re.l-.5)+","+(ue-I-.5)+"h-3v"+(2*I+1)+"h3ZM"+(re.r+.5)+","+(ue-I-.5)+"h3v"+(2*I+1)+"h-3Z"}function G(re,ue){return"M"+(ue-I-.5)+","+(re.t-.5)+"v-3h"+(2*I+1)+"v3ZM"+(ue-I-.5)+","+(re.b+.5)+"v3h"+(2*I+1)+"v-3Z"}function Y(re){var ue=Math.floor(Math.min(re.b-re.t,re.r-re.l,I)/2);return"M"+(re.l-3.5)+","+(re.t-.5+ue)+"h3v"+-ue+"h"+ue+"v-3h-"+(ue+3)+"ZM"+(re.r+3.5)+","+(re.t-.5+ue)+"h-3v"+-ue+"h"+-ue+"v-3h"+(ue+3)+"ZM"+(re.r+3.5)+","+(re.b+.5-ue)+"h-3v"+ue+"h"+-ue+"v3h"+(ue+3)+"ZM"+(re.l-3.5)+","+(re.b+.5-ue)+"h3v"+ue+"h"+ue+"v3h-"+(ue+3)+"Z"}function j(re,ue,de,me,pe){for(var ge=!1,Te={},He={},Oe,tt,Le,De,Se=(pe||{}).xaHash,ze=(pe||{}).yaHash,Ke=0;Ke<ue.length;Ke++){var _t=ue[Ke];for(Oe in de)if(_t[Oe]){for(Le in _t)!(pe&&(Se[Le]||ze[Le]))&&!(Le.charAt(0)==="x"?de:me)[Le]&&(Te[Le]=Oe);for(tt in me)!(pe&&(Se[tt]||ze[tt]))&&_t[tt]&&(ge=!0)}for(tt in me)if(_t[tt])for(De in _t)!(pe&&(Se[De]||ze[De]))&&!(De.charAt(0)==="x"?de:me)[De]&&(He[De]=tt)}ge&&(a.extendFlat(Te,He),He={});var Qe={},et=[];for(Le in Te){var rt=M(re,Le);et.push(rt),Qe[rt._id]=rt}var ft={},bt=[];for(De in He){var Ft=M(re,De);bt.push(Ft),ft[Ft._id]=Ft}return{xaHash:Qe,yaHash:ft,xaxes:et,yaxes:bt,xLinks:Te,yLinks:He,isSubplotConstrained:ge}}function Q(re,ue){if(!u)re.onwheel!==void 0?re.onwheel=ue:re.onmousewheel!==void 0?re.onmousewheel=ue:re.isAddedWheelEvent||(re.isAddedWheelEvent=!0,re.addEventListener("wheel",ue,{passive:!1}));else{var de=re.onwheel!==void 0?"wheel":"mousewheel";re._onwheel&&re.removeEventListener(de,re._onwheel),re._onwheel=ue,re.addEventListener(de,ue,{passive:!1})}}function q(re){var ue=[];for(var de in re)ue.push(re[de]);return ue}i.exports={makeDragBox:V,makeDragger:Z,makeRectDragger:z,makeZoombox:se,makeCorners:ee,updateZoombox:ie,xyCorners:Y,transitionZoombox:J,removeZoombox:te,showDoubleClickNotifier:L,attachWheelEventHandler:Q}},{"../../components/color":103,"../../components/dragelement":122,"../../components/dragelement/helpers":121,"../../components/drawing":125,"../../components/fx":143,"../../components/selections":191,"../../constants/alignment":219,"../../lib":244,"../../lib/clear_gl_canvases":232,"../../lib/setcursor":264,"../../lib/svg_text_utils":267,"../../plot_api/subroutines":281,"../../registry":327,"../plots":325,"./axes":291,"./axis_ids":295,"./constants":298,"./scale_zoom":309,"@plotly/d3":11,"has-passive-events":49,tinycolor2:68}],301:[function(r,i,o){var n=r("@plotly/d3"),a=r("../../components/fx"),s=r("../../components/dragelement"),l=r("../../lib/setcursor"),u=r("./dragbox").makeDragBox,c=r("./constants").DRAGGERSIZE;o.initInteractions=function(v){var f=v._fullLayout;if(v._context.staticPlot){n.select(v).selectAll(".drag").remove();return}if(!(!f._has("cartesian")&&!f._has("splom"))){var m=Object.keys(f._plots||{}).sort(function(g,p){if((f._plots[g].mainplot&&!0)===(f._plots[p].mainplot&&!0)){var d=g.split("y"),b=p.split("y");return d[0]===b[0]?Number(d[1]||1)-Number(b[1]||1):Number(d[0]||1)-Number(b[0]||1)}return f._plots[g].mainplot?1:-1});m.forEach(function(g){var p=f._plots[g],d=p.xaxis,b=p.yaxis;if(!p.mainplot){var y=u(v,p,d._offset,b._offset,d._length,b._length,"ns","ew");y.onmousemove=function(C){v._fullLayout._rehover=function(){v._fullLayout._hoversubplot===g&&v._fullLayout._plots[g]&&a.hover(v,C,g)},a.hover(v,C,g),v._fullLayout._lasthover=y,v._fullLayout._hoversubplot=g},y.onmouseout=function(C){v._dragging||(v._fullLayout._hoversubplot=null,s.unhover(v,C))},v._context.showAxisDragHandles&&(u(v,p,d._offset-c,b._offset-c,c,c,"n","w"),u(v,p,d._offset+d._length,b._offset-c,c,c,"n","e"),u(v,p,d._offset-c,b._offset+b._length,c,c,"s","w"),u(v,p,d._offset+d._length,b._offset+b._length,c,c,"s","e"))}if(v._context.showAxisDragHandles){if(g===d._mainSubplot){var x=d._mainLinePosition;d.side==="top"&&(x-=c),u(v,p,d._offset+d._length*.1,x,d._length*.8,c,"","ew"),u(v,p,d._offset,x,d._length*.1,c,"","w"),u(v,p,d._offset+d._length*.9,x,d._length*.1,c,"","e")}if(g===b._mainSubplot){var w=b._mainLinePosition;b.side!=="right"&&(w-=c),u(v,p,w,b._offset+b._length*.1,c,b._length*.8,"ns",""),u(v,p,w,b._offset+b._length*.9,c,b._length*.1,"s",""),u(v,p,w,b._offset,c,b._length*.1,"n","")}}});var _=f._hoverlayer.node();_.onmousemove=function(g){g.target=v._fullLayout._lasthover,a.hover(v,g,f._hoversubplot)},_.onclick=function(g){g.target=v._fullLayout._lasthover,a.click(v,g)},_.onmousedown=function(g){v._fullLayout._lasthover.onmousedown(g)},o.updateFx(v)}},o.updateFx=function(h){var v=h._fullLayout,f=v.dragmode==="pan"?"move":"crosshair";l(v._draggers,f)}},{"../../components/dragelement":122,"../../components/fx":143,"../../lib/setcursor":264,"./constants":298,"./dragbox":300,"@plotly/d3":11}],302:[function(r,i,o){var n=r("../../registry"),a=r("../../lib"),s=r("./axis_ids");i.exports=function(u){return function(h,v){var f=h[u];if(Array.isArray(f))for(var m=n.subplotsRegistry.cartesian,_=m.idRegex,g=v._subplots,p=g.xaxis,d=g.yaxis,b=g.cartesian,y=v._has("cartesian")||v._has("gl2d"),x=0;x<f.length;x++){var w=f[x];if(a.isPlainObject(w)){var C=s.cleanId(w.xref,"x",!1),S=s.cleanId(w.yref,"y",!1),T=_.x.test(C),M=_.y.test(S);if(T||M){y||a.pushUnique(v._basePlotModules,m);var D=!1;T&&p.indexOf(C)===-1&&(p.push(C),D=!0),M&&d.indexOf(S)===-1&&(d.push(S),D=!0),D&&T&&M&&b.push(C+S)}}}}}},{"../../lib":244,"../../registry":327,"./axis_ids":295}],303:[function(r,i,o){var n=r("@plotly/d3"),a=r("../../registry"),s=r("../../lib"),l=r("../plots"),u=r("../../components/drawing"),c=r("../get_data").getModuleCalcData,h=r("./axis_ids"),v=r("./constants"),f=r("../../constants/xmlns_namespaces"),m=s.ensureSingle;function _(x,w,C){return s.ensureSingle(x,w,C,function(S){S.datum(C)})}o.name="cartesian",o.attr=["xaxis","yaxis"],o.idRoot=["x","y"],o.idRegex=v.idRegex,o.attrRegex=v.attrRegex,o.attributes=r("./attributes"),o.layoutAttributes=r("./layout_attributes"),o.supplyLayoutDefaults=r("./layout_defaults"),o.transitionAxes=r("./transition_axes"),o.finalizeSubplots=function(x,w){var C=w._subplots,S=C.xaxis,T=C.yaxis,M=C.cartesian,D=M.concat(C.gl2d||[]),k={},R={},P,E,O;for(P=0;P<D.length;P++){var I=D[P].split("y");k[I[0]]=1,R["y"+I[1]]=1}for(P=0;P<S.length;P++)E=S[P],k[E]||(O=(x[h.id2name(E)]||{}).anchor,v.idRegex.y.test(O)||(O="y"),M.push(E+O),D.push(E+O),R[O]||(R[O]=1,s.pushUnique(T,O)));for(P=0;P<T.length;P++)O=T[P],R[O]||(E=(x[h.id2name(O)]||{}).anchor,v.idRegex.x.test(E)||(E="x"),M.push(E+O),D.push(E+O),k[E]||(k[E]=1,s.pushUnique(S,E)));if(!D.length){E="",O="";for(var U in x)if(v.attrRegex.test(U)){var V=U.charAt(0);V==="x"?(!E||+U.substr(5)<+E.substr(5))&&(E=U):(!O||+U.substr(5)<+O.substr(5))&&(O=U)}E=E?h.name2id(E):"x",O=O?h.name2id(O):"y",S.push(E),T.push(O),M.push(E+O)}},o.plot=function(x,w,C,S){var T=x._fullLayout,M=T._subplots.cartesian,D=x.calcdata,k;if(!Array.isArray(w))for(w=[],k=0;k<D.length;k++)w.push(k);for(k=0;k<M.length;k++){for(var R=M[k],P=T._plots[R],E=[],O,I=0;I<D.length;I++){var U=D[I],V=U[0].trace;V.xaxis+V.yaxis===R&&((w.indexOf(V.index)!==-1||V.carpet)&&(O&&O[0].trace.xaxis+O[0].trace.yaxis===R&&["tonextx","tonexty","tonext"].indexOf(V.fill)!==-1&&E.indexOf(O)===-1&&E.push(O),E.push(U)),O=U)}g(x,P,E,C,S)}};function g(x,w,C,S,T){for(var M=v.traceLayerClasses,D=x._fullLayout,k=D._modules,R,P,E,O=[],I=[],U=0;U<k.length;U++){R=k[U];var V=R.name,Z=a.modules[V].categories;if(Z.svg){var z=R.layerName||V+"layer",H=R.plot;P=c(C,H),E=P[0],C=P[1],E.length&&O.push({i:M.indexOf(z),className:z,plotMethod:H,cdModule:E}),Z.zoomScale&&I.push("."+z)}}O.sort(function(F,K){return F.i-K.i});var B=w.plot.selectAll("g.mlayer").data(O,function(F){return F.className});if(B.enter().append("g").attr("class",function(F){return F.className}).classed("mlayer",!0).classed("rangeplot",w.isRangePlot),B.exit().remove(),B.order(),B.each(function(F){var K=n.select(this),fe=F.className;F.plotMethod(x,w,F.cdModule,K,S,T),v.clipOnAxisFalseQuery.indexOf("."+fe)===-1&&u.setClipUrl(K,w.layerClipId,x)}),D._has("scattergl")&&(R=a.getModule("scattergl"),E=c(C,R)[0],R.plot(x,w,E)),!x._context.staticPlot&&(w._hasClipOnAxisFalse&&(w.clipOnAxisFalseTraces=w.plot.selectAll(v.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),I.length)){var W=w.plot.selectAll(I.join(",")).selectAll(".trace");w.zoomScalePts=W.selectAll("path.point"),w.zoomScaleTxt=W.selectAll(".textpoint")}}o.clean=function(x,w,C,S){var T=S._plots||{},M=w._plots||{},D=S._subplots||{},k,R,P;if(S._hasOnlyLargeSploms&&!w._hasOnlyLargeSploms)for(P in T)k=T[P],k.plotgroup&&k.plotgroup.remove();var E=S._has&&S._has("gl"),O=w._has&&w._has("gl");if(E&&!O)for(P in T)k=T[P],k._scene&&k._scene.destroy();if(D.xaxis&&D.yaxis){var I=h.listIds({_fullLayout:S});for(R=0;R<I.length;R++){var U=I[R];w[h.id2name(U)]||S._infolayer.selectAll(".g-"+U+"title").remove()}}var V=S._has&&S._has("cartesian"),Z=w._has&&w._has("cartesian");if(V&&!Z)b(S._cartesianlayer.selectAll(".subplot"),S),S._defs.selectAll(".axesclip").remove(),delete S._axisConstraintGroups,delete S._axisMatchGroups;else if(D.cartesian)for(R=0;R<D.cartesian.length;R++){var z=D.cartesian[R];if(!M[z]){var H="."+z+",."+z+"-x,."+z+"-y";S._cartesianlayer.selectAll(H).remove(),y(z,S)}}},o.drawFramework=function(x){var w=x._fullLayout,C=p(x),S=w._cartesianlayer.selectAll(".subplot").data(C,String);S.enter().append("g").attr("class",function(T){return"subplot "+T[0]}),S.order(),S.exit().call(b,w),S.each(function(T){var M=T[0],D=w._plots[M];D.plotgroup=n.select(this),d(x,D),D.draglayer=m(w._draggers,"g",M)})},o.rangePlot=function(x,w,C){d(x,w),g(x,w,C),l.style(x)};function p(x){var w=x._fullLayout,C=w._subplots.cartesian,S=C.length,T,M,D,k,R,P,E=[],O=[];for(T=0;T<S;T++){D=C[T],k=w._plots[D],R=k.xaxis,P=k.yaxis;var I=R._mainAxis,U=P._mainAxis,V=I._id+U._id,Z=w._plots[V];k.overlays=[],V!==D&&Z?(k.mainplot=V,k.mainplotinfo=Z,O.push(D)):(k.mainplot=void 0,k.mainplotinfo=void 0,E.push(D))}for(T=0;T<O.length;T++)D=O[T],k=w._plots[D],k.mainplotinfo.overlays.push(k);var z=E.concat(O),H=new Array(S);for(T=0;T<S;T++){D=z[T],k=w._plots[D],R=k.xaxis,P=k.yaxis;var B=[D,R.layer,P.layer,R.overlaying||"",P.overlaying||""];for(M=0;M<k.overlays.length;M++)B.push(k.overlays[M].id);H[T]=B}return H}function d(x,w){var C=w.plotgroup,S=w.id,T=v.layerValue2layerClass[w.xaxis.layer],M=v.layerValue2layerClass[w.yaxis.layer],D=x._fullLayout._hasOnlyLargeSploms;if(w.mainplot){var R=w.mainplotinfo,P=R.plotgroup,E=S+"-x",O=S+"-y";w.minorGridlayer=R.minorGridlayer,w.gridlayer=R.gridlayer,w.zerolinelayer=R.zerolinelayer,m(R.overlinesBelow,"path",E),m(R.overlinesBelow,"path",O),m(R.overaxesBelow,"g",E),m(R.overaxesBelow,"g",O),w.plot=m(R.overplot,"g",S),m(R.overlinesAbove,"path",E),m(R.overlinesAbove,"path",O),m(R.overaxesAbove,"g",E),m(R.overaxesAbove,"g",O),w.xlines=P.select(".overlines-"+T).select("."+E),w.ylines=P.select(".overlines-"+M).select("."+O),w.xaxislayer=P.select(".overaxes-"+T).select("."+E),w.yaxislayer=P.select(".overaxes-"+M).select("."+O)}else if(D)w.xlines=m(C,"path","xlines-above"),w.ylines=m(C,"path","ylines-above"),w.xaxislayer=m(C,"g","xaxislayer-above"),w.yaxislayer=m(C,"g","yaxislayer-above");else{var k=m(C,"g","layer-subplot");w.shapelayer=m(k,"g","shapelayer"),w.imagelayer=m(k,"g","imagelayer"),w.minorGridlayer=m(C,"g","minor-gridlayer"),w.gridlayer=m(C,"g","gridlayer"),w.zerolinelayer=m(C,"g","zerolinelayer"),m(C,"path","xlines-below"),m(C,"path","ylines-below"),w.overlinesBelow=m(C,"g","overlines-below"),m(C,"g","xaxislayer-below"),m(C,"g","yaxislayer-below"),w.overaxesBelow=m(C,"g","overaxes-below"),w.plot=m(C,"g","plot"),w.overplot=m(C,"g","overplot"),w.xlines=m(C,"path","xlines-above"),w.ylines=m(C,"path","ylines-above"),w.overlinesAbove=m(C,"g","overlines-above"),m(C,"g","xaxislayer-above"),m(C,"g","yaxislayer-above"),w.overaxesAbove=m(C,"g","overaxes-above"),w.xlines=C.select(".xlines-"+T),w.ylines=C.select(".ylines-"+M),w.xaxislayer=C.select(".xaxislayer-"+T),w.yaxislayer=C.select(".yaxislayer-"+M)}D||(_(w.minorGridlayer,"g",w.xaxis._id),_(w.minorGridlayer,"g",w.yaxis._id),w.minorGridlayer.selectAll("g").map(function(I){return I[0]}).sort(h.idSort),_(w.gridlayer,"g",w.xaxis._id),_(w.gridlayer,"g",w.yaxis._id),w.gridlayer.selectAll("g").map(function(I){return I[0]}).sort(h.idSort)),w.xlines.style("fill","none").classed("crisp",!0),w.ylines.style("fill","none").classed("crisp",!0)}function b(x,w){if(x){var C={};x.each(function(R){var P=R[0],E=n.select(this);E.remove(),y(P,w),C[P]=!0});for(var S in w._plots)for(var T=w._plots[S],M=T.overlays||[],D=0;D<M.length;D++){var k=M[D];C[k.id]&&k.plot.selectAll(".trace").remove()}}}function y(x,w){w._draggers.selectAll("g."+x).remove(),w._defs.select("#clip"+w._uid+x+"plot").remove()}o.toSVG=function(x){var w=x._fullLayout._glimages,C=n.select(x).selectAll(".svg-container"),S=C.filter(function(M,D){return D===C.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function T(){var M=this,D=M.toDataURL("image/png"),k=w.append("svg:image");k.attr({xmlns:f.svg,"xlink:href":D,preserveAspectRatio:"none",x:0,y:0,width:M.style.width,height:M.style.height})}S.each(T)},o.updateFx=r("./graph_interact").updateFx},{"../../components/drawing":125,"../../constants/xmlns_namespaces":225,"../../lib":244,"../../registry":327,"../get_data":321,"../plots":325,"./attributes":289,"./axis_ids":295,"./constants":298,"./graph_interact":301,"./layout_attributes":304,"./layout_defaults":305,"./transition_axes":315,"@plotly/d3":11}],304:[function(r,i,o){var n=r("../font_attributes"),a=r("../../components/color/attributes"),s=r("../../components/drawing/attributes").dash,l=r("../../lib/extend").extendFlat,u=r("../../plot_api/plot_template").templatedArray,c=r("../../plots/cartesian/axis_format_attributes").descriptionWithDates,h=r("../../constants/numerical").ONEDAY,v=r("./constants"),f=v.HOUR_PATTERN,m=v.WEEKDAY_PATTERN,_={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}};function g(k){return{valType:"integer",min:0,dflt:k?5:0,editType:"ticks"}}var p={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},d={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},b={valType:"data_array",editType:"ticks"},y={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function x(k){var R={valType:"number",min:0,editType:"ticks"};return k||(R.dflt=5),R}function w(k){var R={valType:"number",min:0,editType:"ticks"};return k||(R.dflt=1),R}var C={valType:"color",dflt:a.defaultLine,editType:"ticks"},S={valType:"color",dflt:a.lightLine,editType:"ticks"};function T(k){var R={valType:"number",min:0,editType:"ticks"};return k||(R.dflt=1),R}var M=l({},s,{editType:"ticks"}),D={valType:"boolean",editType:"ticks"};i.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:a.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:n({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},scaleanchor:{valType:"enumerated",values:[v.idRegex.x.toString(),v.idRegex.y.toString()],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[v.idRegex.x.toString(),v.idRegex.y.toString()],editType:"calc"},rangebreaks:u("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[m,f,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:h},editType:"calc"}),tickmode:_,nticks:g(),tick0:p,dtick:d,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:b,ticktext:{valType:"data_array",editType:"ticks"},ticks:y,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:x(),tickwidth:w(),tickcolor:C,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:l({},s,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:n({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:c("tick label")},tickformatstops:u("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:c("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:a.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:D,gridcolor:S,gridwidth:T(),griddash:M,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:a.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:a.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",v.idRegex.x.toString(),v.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",v.idRegex.x.toString(),v.idRegex.y.toString()],editType:"plot"},minor:{tickmode:_,nticks:g("minor"),tick0:p,dtick:d,tickvals:b,ticks:y,ticklen:x("minor"),tickwidth:w("minor"),tickcolor:C,gridcolor:S,gridwidth:T("minor"),griddash:M,showgrid:D,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:n({editType:"ticks"})}}},{"../../components/color/attributes":102,"../../components/drawing/attributes":124,"../../constants/numerical":224,"../../lib/extend":238,"../../plot_api/plot_template":280,"../../plots/cartesian/axis_format_attributes":294,"../font_attributes":319,"./constants":298}],305:[function(r,i,o){var n=r("../../lib"),a=r("../../components/color"),s=r("../../components/fx/helpers").isUnifiedHover,l=r("../../components/fx/hovermode_defaults"),u=r("../../plot_api/plot_template"),c=r("../layout_attributes"),h=r("./layout_attributes"),v=r("./type_defaults"),f=r("./axis_defaults"),m=r("./constraints"),_=r("./position_defaults"),g=r("./axis_ids"),p=g.id2name,d=g.name2id,b=r("./constants").AX_ID_PATTERN,y=r("../../registry"),x=y.traceIs,w=y.getComponentMethod;function C(S,T,M){Array.isArray(S[T])?S[T].push(M):S[T]=[M]}i.exports=function(T,M,D){var k=M.autotypenumbers,R={},P={},E={},O={},I={},U={},V={},Z={},z={},H={},B,W;for(B=0;B<D.length;B++){var F=D[B];if(!(!x(F,"cartesian")&&!x(F,"gl2d"))){var K;if(F.xaxis)K=p(F.xaxis),C(R,K,F);else if(F.xaxes)for(W=0;W<F.xaxes.length;W++)C(R,p(F.xaxes[W]),F);var fe;if(F.yaxis)fe=p(F.yaxis),C(R,fe,F);else if(F.yaxes)for(W=0;W<F.yaxes.length;W++)C(R,p(F.yaxes[W]),F);if(F.type==="funnel"?F.orientation==="h"?(K&&(P[K]=!0),fe&&(V[fe]=!0)):fe&&(E[fe]=!0):F.type==="image"?(fe&&(Z[fe]=!0),K&&(Z[K]=!0)):(fe&&(I[fe]=!0,U[fe]=!0),(!x(F,"carpet")||F.type==="carpet"&&!F._cheater)&&K&&(O[K]=!0)),F.type==="carpet"&&F._cheater&&K&&(P[K]=!0),x(F,"2dMap")&&(z[K]=!0,z[fe]=!0),x(F,"oriented")){var se=F.orientation==="h"?fe:K;H[se]=!0}}}var ee=M._subplots,ie=ee.xaxis,J=ee.yaxis,te=n.simpleMap(ie,p),L=n.simpleMap(J,p),N=te.concat(L),G=a.background;ie.length&&J.length&&(G=n.coerce(T,M,c,"plot_bgcolor"));var Y=a.combine(G,M.paper_bgcolor),j,Q,q,re,ue;function de(){var Ue=R[j]||[];ue._traceIndices=Ue.map(function(ce){return ce._expandedIndex}),ue._annIndices=[],ue._shapeIndices=[],ue._selectionIndices=[],ue._imgIndices=[],ue._subplotsWith=[],ue._counterAxes=[],ue._name=ue._attr=j,ue._id=Q}function me(Ue,ce){return n.coerce(re,ue,h,Ue,ce)}function pe(Ue,ce){return n.coerce2(re,ue,h,Ue,ce)}function ge(Ue){return Ue==="x"?J:ie}function Te(Ue,ce){for(var Ce=Ue==="x"?te:L,Ae=[],ke=0;ke<Ce.length;ke++){var xe=Ce[ke];xe!==ce&&!(T[xe]||{}).overlaying&&Ae.push(d(xe))}return Ae}var He={x:ge("x"),y:ge("y")},Oe=He.x.concat(He.y),tt={},Le=[];function De(){var Ue=re.matches;b.test(Ue)&&Oe.indexOf(Ue)===-1&&(tt[Ue]=re.type,Le=Object.keys(tt))}var Se=l(T,M),ze=s(Se);for(B=0;B<N.length;B++){j=N[B],Q=d(j),q=j.charAt(0),n.isPlainObject(T[j])||(T[j]={}),re=T[j],ue=u.newContainer(M,j,q+"axis"),de();var Ke=q==="x"&&!O[j]&&P[j]||q==="y"&&!I[j]&&E[j],_t=q==="y"&&(!U[j]&&V[j]||Z[j]),Qe={hasMinor:!0,letter:q,font:M.font,outerTicks:z[j],showGrid:!H[j],data:R[j]||[],bgColor:Y,calendar:M.calendar,automargin:!0,visibleDflt:Ke,reverseDflt:_t,autotypenumbersDflt:k,splomStash:((M._splomAxes||{})[q]||{})[Q]};me("uirevision",M.uirevision),v(re,ue,me,Qe),f(re,ue,me,Qe,M);var et=ze&&q===Se.charAt(0),rt=pe("spikecolor",ze?ue.color:void 0),ft=pe("spikethickness",ze?1.5:void 0),bt=pe("spikedash",ze?"dot":void 0),Ft=pe("spikemode",ze?"across":void 0),ct=pe("spikesnap"),nt=me("showspikes",!!et||!!rt||!!ft||!!bt||!!Ft||!!ct);nt||(delete ue.spikecolor,delete ue.spikethickness,delete ue.spikedash,delete ue.spikemode,delete ue.spikesnap),_(re,ue,me,{letter:q,counterAxes:He[q],overlayableAxes:Te(q,j),grid:M.grid}),me("title.standoff"),De(),ue._input=re}for(B=0;B<Le.length;){Q=Le[B++],j=p(Q),q=j.charAt(0),n.isPlainObject(T[j])||(T[j]={}),re=T[j],ue=u.newContainer(M,j,q+"axis"),de();var at={letter:q,font:M.font,outerTicks:z[j],showGrid:!H[j],data:[],bgColor:Y,calendar:M.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:k,splomStash:((M._splomAxes||{})[q]||{})[Q]};me("uirevision",M.uirevision),ue.type=tt[Q]||"linear",f(re,ue,me,at,M),_(re,ue,me,{letter:q,counterAxes:He[q],overlayableAxes:Te(q,j),grid:M.grid}),me("fixedrange"),De(),ue._input=re}var It=w("rangeslider","handleDefaults"),zt=w("rangeselector","handleDefaults");for(B=0;B<te.length;B++)j=te[B],re=T[j],ue=M[j],It(T,M,j),ue.type==="date"&&zt(re,ue,M,L,ue.calendar),me("fixedrange");for(B=0;B<L.length;B++){j=L[B],re=T[j],ue=M[j];var be=M[p(ue.anchor)],Me=w("rangeslider","isVisible")(be);me("fixedrange",Me)}m.handleDefaults(T,M,{axIds:Oe.concat(Le).sort(g.idSort),axHasImage:Z})}},{"../../components/color":103,"../../components/fx/helpers":139,"../../components/fx/hovermode_defaults":142,"../../lib":244,"../../plot_api/plot_template":280,"../../registry":327,"../layout_attributes":323,"./axis_defaults":293,"./axis_ids":295,"./constants":298,"./constraints":299,"./layout_attributes":304,"./position_defaults":307,"./type_defaults":316}],306:[function(r,i,o){var n=r("tinycolor2").mix,a=r("../../components/color/attributes"),s=r("../../lib");i.exports=function(u,c,h,v){v=v||{};var f=v.dfltColor;function m(E,O){return s.coerce2(u,c,v.attributes,E,O)}var _=m("linecolor",f),g=m("linewidth"),p=h("showline",v.showLine||!!_||!!g);p||(delete c.linecolor,delete c.linewidth);var d=n(f,v.bgColor,v.blend||a.lightFraction).toRgbString(),b=m("gridcolor",d),y=m("gridwidth"),x=m("griddash"),w=h("showgrid",v.showGrid||!!b||!!y||!!x);if(w||(delete c.gridcolor,delete c.gridwidth,delete c.griddash),v.hasMinor){var C=n(c.gridcolor,v.bgColor,67).toRgbString(),S=m("minor.gridcolor",C),T=m("minor.gridwidth",c.gridwidth||1),M=m("minor.griddash",c.griddash||"solid"),D=h("minor.showgrid",!!S||!!T||!!M);D||(delete c.minor.gridcolor,delete c.minor.gridwidth,delete c.minor.griddash)}if(!v.noZeroLine){var k=m("zerolinecolor",f),R=m("zerolinewidth"),P=h("zeroline",v.showGrid||!!k||!!R);P||(delete c.zerolinecolor,delete c.zerolinewidth)}}},{"../../components/color/attributes":102,"../../lib":244,tinycolor2:68}],307:[function(r,i,o){var n=r("fast-isnumeric"),a=r("../../lib");i.exports=function(l,u,c,h){var v=h.counterAxes||[],f=h.overlayableAxes||[],m=h.letter,_=h.grid,g,p,d,b;_&&(p=_._domains[m][_._axisMap[u._id]],g=_._anchors[u._id],p&&(d=_[m+"side"].split(" ")[0],b=_.domain[m][d==="right"||d==="top"?1:0])),p=p||[0,1],g=g||(n(l.position)?"free":v[0]||"free"),d=d||(m==="x"?"bottom":"left"),b=b||0;var y=a.coerce(l,u,{anchor:{valType:"enumerated",values:["free"].concat(v),dflt:g}},"anchor");y==="free"&&c("position",b),a.coerce(l,u,{side:{valType:"enumerated",values:m==="x"?["bottom","top"]:["left","right"],dflt:d}},"side");var x=!1;if(f.length&&(x=a.coerce(l,u,{overlaying:{valType:"enumerated",values:[!1].concat(f),dflt:!1}},"overlaying")),!x){var w=c("domain",p);w[0]>w[1]-1/4096&&(u.domain=p),a.noneOrAll(l.domain,u.domain,p)}return c("layer"),u}},{"../../lib":244,"fast-isnumeric":17}],308:[function(r,i,o){var n=r("./show_dflt");i.exports=function(s,l,u,c,h){h||(h={});var v=h.tickSuffixDflt,f=n(s),m=u("tickprefix");m&&u("showtickprefix",f);var _=u("ticksuffix",v);_&&u("showticksuffix",f)}},{"./show_dflt":311}],309:[function(r,i,o){var n=r("../../constants/alignment").FROM_BL;i.exports=function(s,l,u){u===void 0&&(u=n[s.constraintoward||"center"]);var c=[s.r2l(s.range[0]),s.r2l(s.range[1])],h=c[0]+(c[1]-c[0])*u;s.range=s._input.range=[s.l2r(h+(c[0]-h)*l),s.l2r(h+(c[1]-h)*l)],s.setScale()}},{"../../constants/alignment":219}],310:[function(r,i,o){var n=r("@plotly/d3"),a=r("d3-time-format").utcFormat,s=r("../../lib"),l=s.numberFormat,u=r("fast-isnumeric"),c=s.cleanNumber,h=s.ms2DateTime,v=s.dateTime2ms,f=s.ensureNumber,m=s.isArrayOrTypedArray,_=r("../../constants/numerical"),g=_.FP_SAFE,p=_.BADNUM,d=_.LOG_CLIP,b=_.ONEWEEK,y=_.ONEDAY,x=_.ONEHOUR,w=_.ONEMIN,C=_.ONESEC,S=r("./axis_ids"),T=r("./constants"),M=T.HOUR_PATTERN,D=T.WEEKDAY_PATTERN;function k(P){return Math.pow(10,P)}function R(P){return P!=null}i.exports=function(E,O){O=O||{};var I=E._id||"x",U=I.charAt(0);function V(N,G){if(N>0)return Math.log(N)/Math.LN10;if(N<=0&&G&&E.range&&E.range.length===2){var Y=E.range[0],j=E.range[1];return .5*(Y+j-2*d*Math.abs(Y-j))}else return p}function Z(N,G,Y,j){if((j||{}).msUTC&&u(N))return+N;var Q=v(N,Y||E.calendar);if(Q===p)if(u(N)){N=+N;var q=Math.floor(s.mod(N+.05,1)*10),re=Math.round(N-q/10);Q=v(new Date(re))+q/10}else return p;return Q}function z(N,G,Y){return h(N,G,Y||E.calendar)}function H(N){return E._categories[Math.round(N)]}function B(N){if(R(N)){if(E._categoriesMap===void 0&&(E._categoriesMap={}),E._categoriesMap[N]!==void 0)return E._categoriesMap[N];E._categories.push(typeof N=="number"?String(N):N);var G=E._categories.length-1;return E._categoriesMap[N]=G,G}return p}function W(N,G){for(var Y=new Array(G),j=0;j<G;j++){var Q=(N[0]||[])[j],q=(N[1]||[])[j];Y[j]=F([Q,q])}return Y}function F(N){if(E._categoriesMap)return E._categoriesMap[N]}function K(N){var G=F(N);if(G!==void 0)return G;if(u(N))return+N}function fe(N){return u(N)?+N:F(N)}function se(N,G,Y){return n.round(Y+G*N,2)}function ee(N,G,Y){return(N-Y)/G}var ie=function(G){return u(G)?se(G,E._m,E._b):p},J=function(N){return ee(N,E._m,E._b)};if(E.rangebreaks){var te=U==="y";ie=function(N){if(!u(N))return p;var G=E._rangebreaks.length;if(!G)return se(N,E._m,E._b);var Y=te;E.range[0]>E.range[1]&&(Y=!Y);for(var j=Y?-1:1,Q=j*N,q=0,re=0;re<G;re++){var ue=j*E._rangebreaks[re].min,de=j*E._rangebreaks[re].max;if(Q<ue)break;if(Q>de)q=re+1;else{q=Q<(ue+de)/2?re:re+1;break}}var me=E._B[q]||0;return isFinite(me)?se(N,E._m2,me):0},J=function(N){var G=E._rangebreaks.length;if(!G)return ee(N,E._m,E._b);for(var Y=0,j=0;j<G&&!(N<E._rangebreaks[j].pmin);j++)N>E._rangebreaks[j].pmax&&(Y=j+1);return ee(N,E._m2,E._B[Y])}}E.c2l=E.type==="log"?V:f,E.l2c=E.type==="log"?k:f,E.l2p=ie,E.p2l=J,E.c2p=E.type==="log"?function(N,G){return ie(V(N,G))}:ie,E.p2c=E.type==="log"?function(N){return k(J(N))}:J,["linear","-"].indexOf(E.type)!==-1?(E.d2r=E.r2d=E.d2c=E.r2c=E.d2l=E.r2l=c,E.c2d=E.c2r=E.l2d=E.l2r=f,E.d2p=E.r2p=function(N){return E.l2p(c(N))},E.p2d=E.p2r=J,E.cleanPos=f):E.type==="log"?(E.d2r=E.d2l=function(N,G){return V(c(N),G)},E.r2d=E.r2c=function(N){return k(c(N))},E.d2c=E.r2l=c,E.c2d=E.l2r=f,E.c2r=V,E.l2d=k,E.d2p=function(N,G){return E.l2p(E.d2r(N,G))},E.p2d=function(N){return k(J(N))},E.r2p=function(N){return E.l2p(c(N))},E.p2r=J,E.cleanPos=f):E.type==="date"?(E.d2r=E.r2d=s.identity,E.d2c=E.r2c=E.d2l=E.r2l=Z,E.c2d=E.c2r=E.l2d=E.l2r=z,E.d2p=E.r2p=function(N,G,Y){return E.l2p(Z(N,0,Y))},E.p2d=E.p2r=function(N,G,Y){return z(J(N),G,Y)},E.cleanPos=function(N){return s.cleanDate(N,p,E.calendar)}):E.type==="category"?(E.d2c=E.d2l=B,E.r2d=E.c2d=E.l2d=H,E.d2r=E.d2l_noadd=K,E.r2c=function(N){var G=fe(N);return G!==void 0?G:E.fraction2r(.5)},E.l2r=E.c2r=f,E.r2l=fe,E.d2p=function(N){return E.l2p(E.r2c(N))},E.p2d=function(N){return H(J(N))},E.r2p=E.d2p,E.p2r=J,E.cleanPos=function(N){return typeof N=="string"&&N!==""?N:f(N)}):E.type==="multicategory"&&(E.r2d=E.c2d=E.l2d=H,E.d2r=E.d2l_noadd=K,E.r2c=function(N){var G=K(N);return G!==void 0?G:E.fraction2r(.5)},E.r2c_just_indices=F,E.l2r=E.c2r=f,E.r2l=K,E.d2p=function(N){return E.l2p(E.r2c(N))},E.p2d=function(N){return H(J(N))},E.r2p=E.d2p,E.p2r=J,E.cleanPos=function(N){return Array.isArray(N)||typeof N=="string"&&N!==""?N:f(N)},E.setupMultiCategory=function(N){var G=E._traceIndices,Y,j,Q=E._matchGroup;if(Q&&E._categories.length===0){for(var q in Q)if(q!==I){var re=O[S.id2name(q)];G=G.concat(re._traceIndices)}}var ue=[[0,{}],[0,{}]],de=[];for(Y=0;Y<G.length;Y++){var me=N[G[Y]];if(U in me){var pe=me[U],ge=me._length||s.minRowLength(pe);if(m(pe[0])&&m(pe[1]))for(j=0;j<ge;j++){var Te=pe[0][j],He=pe[1][j];R(Te)&&R(He)&&(de.push([Te,He]),Te in ue[0][1]||(ue[0][1][Te]=ue[0][0]++),He in ue[1][1]||(ue[1][1][He]=ue[1][0]++))}}}for(de.sort(function(Oe,tt){var Le=ue[0][1],De=Le[Oe[0]]-Le[tt[0]];if(De)return De;var Se=ue[1][1];return Se[Oe[1]]-Se[tt[1]]}),Y=0;Y<de.length;Y++)B(de[Y])}),E.fraction2r=function(N){var G=E.r2l(E.range[0]),Y=E.r2l(E.range[1]);return E.l2r(G+N*(Y-G))},E.r2fraction=function(N){var G=E.r2l(E.range[0]),Y=E.r2l(E.range[1]);return(E.r2l(N)-G)/(Y-G)},E.cleanRange=function(N,G){G||(G={}),N||(N="range");var Y=s.nestedProperty(E,N).get(),j,Q;if(E.type==="date"?Q=s.dfltRange(E.calendar):U==="y"?Q=T.DFLTRANGEY:E._name==="realaxis"?Q=[0,1]:Q=G.dfltRange||T.DFLTRANGEX,Q=Q.slice(),(E.rangemode==="tozero"||E.rangemode==="nonnegative")&&(Q[0]=0),!Y||Y.length!==2){s.nestedProperty(E,N).set(Q);return}for(E.type==="date"&&!E.autorange&&(Y[0]=s.cleanDate(Y[0],p,E.calendar),Y[1]=s.cleanDate(Y[1],p,E.calendar)),j=0;j<2;j++)if(E.type==="date"){if(!s.isDateTime(Y[j],E.calendar)){E[N]=Q;break}if(E.r2l(Y[0])===E.r2l(Y[1])){var q=s.constrain(E.r2l(Y[0]),s.MIN_MS+1e3,s.MAX_MS-1e3);Y[0]=E.l2r(q-1e3),Y[1]=E.l2r(q+1e3);break}}else{if(!u(Y[j]))if(u(Y[1-j]))Y[j]=Y[1-j]*(j?10:.1);else{E[N]=Q;break}if(Y[j]<-g?Y[j]=-g:Y[j]>g&&(Y[j]=g),Y[0]===Y[1]){var re=Math.max(1,Math.abs(Y[0]*1e-6));Y[0]-=re,Y[1]+=re}}},E.setScale=function(N){var G=O._size;if(E.overlaying){var Y=S.getFromId({_fullLayout:O},E.overlaying);E.domain=Y.domain}var j=N&&E._r?"_r":"range",Q=E.calendar;E.cleanRange(j);var q=E.r2l(E[j][0],Q),re=E.r2l(E[j][1],Q),ue=U==="y";if(ue?(E._offset=G.t+(1-E.domain[1])*G.h,E._length=G.h*(E.domain[1]-E.domain[0]),E._m=E._length/(q-re),E._b=-E._m*re):(E._offset=G.l+E.domain[0]*G.w,E._length=G.w*(E.domain[1]-E.domain[0]),E._m=E._length/(re-q),E._b=-E._m*q),E._rangebreaks=[],E._lBreaks=0,E._m2=0,E._B=[],E.rangebreaks){var de,me;if(E._rangebreaks=E.locateBreaks(Math.min(q,re),Math.max(q,re)),E._rangebreaks.length){for(de=0;de<E._rangebreaks.length;de++)me=E._rangebreaks[de],E._lBreaks+=Math.abs(me.max-me.min);var pe=ue;q>re&&(pe=!pe),pe&&E._rangebreaks.reverse();var ge=pe?-1:1;for(E._m2=ge*E._length/(Math.abs(re-q)-E._lBreaks),E._B.push(-E._m2*(ue?re:q)),de=0;de<E._rangebreaks.length;de++)me=E._rangebreaks[de],E._B.push(E._B[E._B.length-1]-ge*E._m2*(me.max-me.min));for(de=0;de<E._rangebreaks.length;de++)me=E._rangebreaks[de],me.pmin=ie(me.min),me.pmax=ie(me.max)}}if(!isFinite(E._m)||!isFinite(E._b)||E._length<0)throw O._replotting=!1,new Error("Something went wrong with axis scaling")},E.maskBreaks=function(N){var G=E.rangebreaks||[],Y,j,Q,q,re;G._cachedPatterns||(G._cachedPatterns=G.map(function(Le){return Le.enabled&&Le.bounds?s.simpleMap(Le.bounds,Le.pattern?c:E.d2c):null})),G._cachedValues||(G._cachedValues=G.map(function(Le){return Le.enabled&&Le.values?s.simpleMap(Le.values,E.d2c).sort(s.sorterAsc):null}));for(var ue=0;ue<G.length;ue++){var de=G[ue];if(de.enabled){if(de.bounds){var me=de.pattern;switch(Y=G._cachedPatterns[ue],j=Y[0],Q=Y[1],me){case D:re=new Date(N),q=re.getUTCDay(),j>Q&&(Q+=7,q<j&&(q+=7));break;case M:re=new Date(N);var pe=re.getUTCHours(),ge=re.getUTCMinutes(),Te=re.getUTCSeconds(),He=re.getUTCMilliseconds();q=pe+(ge/60+Te/3600+He/36e5),j>Q&&(Q+=24,q<j&&(q+=24));break;case"":q=N;break}if(q>=j&&q<Q)return p}else for(var Oe=G._cachedValues[ue],tt=0;tt<Oe.length;tt++)if(j=Oe[tt],Q=j+de.dvalue,N>=j&&N<Q)return p}}return N},E.locateBreaks=function(N,G){var Y,j,Q,q,re=[];if(!E.rangebreaks)return re;var ue=E.rangebreaks.slice().sort(function(Se,ze){return Se.pattern===D&&ze.pattern===M?-1:ze.pattern===D&&Se.pattern===M?1:0}),de=function(Se,ze){if(Se=s.constrain(Se,N,G),ze=s.constrain(ze,N,G),Se!==ze){for(var Ke=!0,_t=0;_t<re.length;_t++){var Qe=re[_t];Se<Qe.max&&ze>=Qe.min&&(Se<Qe.min&&(Qe.min=Se),ze>Qe.max&&(Qe.max=ze),Ke=!1)}Ke&&re.push({min:Se,max:ze})}};for(Y=0;Y<ue.length;Y++){var me=ue[Y];if(me.enabled)if(me.bounds){var pe=N,ge=G;me.pattern&&(pe=Math.floor(pe)),j=s.simpleMap(me.bounds,me.pattern?c:E.r2l),Q=j[0],q=j[1];var Te=new Date(pe),He,Oe;switch(me.pattern){case D:Oe=b,He=((q<Q?7:0)+(q-Q))*y,pe+=Q*y-(Te.getUTCDay()*y+Te.getUTCHours()*x+Te.getUTCMinutes()*w+Te.getUTCSeconds()*C+Te.getUTCMilliseconds());break;case M:Oe=y,He=((q<Q?24:0)+(q-Q))*x,pe+=Q*x-(Te.getUTCHours()*x+Te.getUTCMinutes()*w+Te.getUTCSeconds()*C+Te.getUTCMilliseconds());break;default:pe=Math.min(j[0],j[1]),ge=Math.max(j[0],j[1]),Oe=ge-pe,He=Oe}for(var tt=pe;tt<ge;tt+=Oe)de(tt,tt+He)}else for(var Le=s.simpleMap(me.values,E.d2c),De=0;De<Le.length;De++)Q=Le[De],q=Q+me.dvalue,de(Q,q)}return re.sort(function(Se,ze){return Se.min-ze.min}),re},E.makeCalcdata=function(N,G,Y){var j,Q,q,re,ue=E.type,de=ue==="date"&&N[G+"calendar"];if(G in N){if(j=N[G],re=N._length||s.minRowLength(j),s.isTypedArray(j)&&(ue==="linear"||ue==="log")){if(re===j.length)return j;if(j.subarray)return j.subarray(0,re)}if(ue==="multicategory")return W(j,re);for(Q=new Array(re),q=0;q<re;q++)Q[q]=E.d2c(j[q],0,de,Y)}else{var me=G+"0"in N?E.d2c(N[G+"0"],0,de):0,pe=N["d"+G]?Number(N["d"+G]):1;for(j=N[{x:"y",y:"x"}[G]],re=N._length||j.length,Q=new Array(re),q=0;q<re;q++)Q[q]=me+q*pe}if(E.rangebreaks)for(q=0;q<re;q++)Q[q]=E.maskBreaks(Q[q]);return Q},E.isValidRange=function(N){return Array.isArray(N)&&N.length===2&&u(E.r2l(N[0]))&&u(E.r2l(N[1]))},E.isPtWithinRange=function(N,G){var Y=E.c2l(N[U],null,G),j=E.r2l(E.range[0]),Q=E.r2l(E.range[1]);return j<Q?j<=Y&&Y<=Q:Q<=Y&&Y<=j},E._emptyCategories=function(){E._categories=[],E._categoriesMap={}},E.clearCalc=function(){var N=E._matchGroup;if(N){var G=null,Y=null;for(var j in N){var Q=O[S.id2name(j)];if(Q._categories){G=Q._categories,Y=Q._categoriesMap;break}}G&&Y?(E._categories=G,E._categoriesMap=Y):E._emptyCategories()}else E._emptyCategories();if(E._initialCategories)for(var q=0;q<E._initialCategories.length;q++)B(E._initialCategories[q])},E.sortByInitialCategories=function(){var N=[];if(E._emptyCategories(),E._initialCategories)for(var G=0;G<E._initialCategories.length;G++)B(E._initialCategories[G]);N=N.concat(E._traceIndices);var Y=E._matchGroup;for(var j in Y)if(I!==j){var Q=O[S.id2name(j)];Q._categories=E._categories,Q._categoriesMap=E._categoriesMap,N=N.concat(Q._traceIndices)}return N};var L=O._d3locale;E.type==="date"&&(E._dateFormat=L?L.timeFormat:a,E._extraFormat=O._extraFormat),E._separators=O.separators,E._numFormat=L?L.numberFormat:l,delete E._minDtick,delete E._forceTick0}},{"../../constants/numerical":224,"../../lib":244,"./axis_ids":295,"./constants":298,"@plotly/d3":11,"d3-time-format":14,"fast-isnumeric":17}],311:[function(r,i,o){i.exports=function(a){var s=["showexponent","showtickprefix","showticksuffix"],l=s.filter(function(c){return a[c]!==void 0}),u=function(c){return a[c]===a[l[0]]};if(l.every(u)||l.length===1)return a[l[0]]}},{}],312:[function(r,i,o){var n=r("../../lib"),a=r("../../components/color").contrast,s=r("./layout_attributes"),l=r("./show_dflt"),u=r("../array_container_defaults");i.exports=function(v,f,m,_,g){g||(g={});var p=l(v),d=m("showticklabels");if(d){var b=g.font||{},y=f.color,x=f.ticklabelposition||"",w=x.indexOf("inside")!==-1?a(g.bgColor):y&&y!==s.color.dflt?y:b.color;if(n.coerceFont(m,"tickfont",{family:b.family,size:b.size,color:w}),!g.noTicklabelstep&&_!=="multicategory"&&_!=="log"&&m("ticklabelstep"),g.noAng||m("tickangle"),_!=="category"){var C=m("tickformat");u(v,f,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:c}),f.tickformatstops.length||delete f.tickformatstops,!g.noExp&&!C&&_!=="date"&&(m("showexponent",p),m("exponentformat"),m("minexponent"),m("separatethousands"))}}};function c(h,v){function f(_,g){return n.coerce(h,v,s.tickformatstops,_,g)}var m=f("enabled");m&&(f("dtickrange"),f("value"))}},{"../../components/color":103,"../../lib":244,"../array_container_defaults":286,"./layout_attributes":304,"./show_dflt":311}],313:[function(r,i,o){var n=r("../../lib"),a=r("./layout_attributes");i.exports=function(l,u,c,h){var v=h.isMinor,f=v?l.minor||{}:l,m=v?u.minor:u,_=v?a.minor:a,g=v?"minor.":"",p=n.coerce2(f,m,_,"ticklen",v?(u.ticklen||5)*.6:void 0),d=n.coerce2(f,m,_,"tickwidth",v?u.tickwidth||1:void 0),b=n.coerce2(f,m,_,"tickcolor",(v?u.tickcolor:void 0)||m.color),y=c(g+"ticks",!v&&h.outerTicks||p||d||b?"outside":"");y||(delete m.ticklen,delete m.tickwidth,delete m.tickcolor)}},{"../../lib":244,"./layout_attributes":304}],314:[function(r,i,o){var n=r("./clean_ticks"),a=r("../../lib").isArrayOrTypedArray;i.exports=function(l,u,c,h,v){v||(v={});var f=v.isMinor,m=f?l.minor||{}:l,_=f?u.minor:u,g=f?"minor.":"";function p(T){var M=m[T];return M!==void 0?M:(_._template||{})[T]}var d=p("tick0"),b=p("dtick"),y=p("tickvals"),x=a(y)?"array":b?"linear":"auto",w=c(g+"tickmode",x);if(w==="auto")c(g+"nticks");else if(w==="linear"){var C=_.dtick=n.dtick(b,h);_.tick0=n.tick0(d,h,u.calendar,C)}else if(h!=="multicategory"){var S=c(g+"tickvals");S===void 0?_.tickmode="auto":f||c("ticktext")}}},{"../../lib":244,"./clean_ticks":297}],315:[function(r,i,o){var n=r("@plotly/d3"),a=r("../../registry"),s=r("../../lib"),l=r("../../components/drawing"),u=r("./axes");i.exports=function(h,v,f,m){var _=h._fullLayout;if(v.length===0){u.redrawComponents(h);return}function g(M){var D=M.xaxis,k=M.yaxis;_._defs.select("#"+M.clipId+"> rect").call(l.setTranslate,0,0).call(l.setScale,1,1),M.plot.call(l.setTranslate,D._offset,k._offset).call(l.setScale,1,1);var R=M.plot.selectAll(".scatterlayer .trace");R.selectAll(".point").call(l.setPointGroupScale,1,1),R.selectAll(".textpoint").call(l.setTextPointsScale,1,1),R.call(l.hideOutsideRangePoints,M)}function p(M,D){var k=M.plotinfo,R=k.xaxis,P=k.yaxis,E=R._length,O=P._length,I=!!M.xr1,U=!!M.yr1,V=[];if(I){var Z=s.simpleMap(M.xr0,R.r2l),z=s.simpleMap(M.xr1,R.r2l),H=Z[1]-Z[0],B=z[1]-z[0];V[0]=(Z[0]*(1-D)+D*z[0]-Z[0])/(Z[1]-Z[0])*E,V[2]=E*(1-D+D*B/H),R.range[0]=R.l2r(Z[0]*(1-D)+D*z[0]),R.range[1]=R.l2r(Z[1]*(1-D)+D*z[1])}else V[0]=0,V[2]=E;if(U){var W=s.simpleMap(M.yr0,P.r2l),F=s.simpleMap(M.yr1,P.r2l),K=W[1]-W[0],fe=F[1]-F[0];V[1]=(W[1]*(1-D)+D*F[1]-W[1])/(W[0]-W[1])*O,V[3]=O*(1-D+D*fe/K),P.range[0]=R.l2r(W[0]*(1-D)+D*F[0]),P.range[1]=P.l2r(W[1]*(1-D)+D*F[1])}else V[1]=0,V[3]=O;u.drawOne(h,R,{skipTitle:!0}),u.drawOne(h,P,{skipTitle:!0}),u.redrawComponents(h,[R._id,P._id]);var se=I?E/V[2]:1,ee=U?O/V[3]:1,ie=I?V[0]:0,J=U?V[1]:0,te=I?V[0]/V[2]*E:0,L=U?V[1]/V[3]*O:0,N=R._offset-te,G=P._offset-L;k.clipRect.call(l.setTranslate,ie,J).call(l.setScale,1/se,1/ee),k.plot.call(l.setTranslate,N,G).call(l.setScale,se,ee),l.setPointGroupScale(k.zoomScalePts,1/se,1/ee),l.setTextPointsScale(k.zoomScaleTxt,1/se,1/ee)}var d;m&&(d=m());function b(){for(var M={},D=0;D<v.length;D++){var k=v[D],R=k.plotinfo.xaxis,P=k.plotinfo.yaxis;k.xr1&&(M[R._name+".range"]=k.xr1.slice()),k.yr1&&(M[P._name+".range"]=k.yr1.slice())}return d&&d(),a.call("relayout",h,M).then(function(){for(var E=0;E<v.length;E++)g(v[E].plotinfo)})}function y(){for(var M={},D=0;D<v.length;D++){var k=v[D],R=k.plotinfo.xaxis,P=k.plotinfo.yaxis;k.xr0&&(M[R._name+".range"]=k.xr0.slice()),k.yr0&&(M[P._name+".range"]=k.yr0.slice())}return a.call("relayout",h,M).then(function(){for(var E=0;E<v.length;E++)g(v[E].plotinfo)})}var x,w,C,S=n.ease(f.easing);h._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(C),C=null,y()});function T(){w=Date.now();for(var M=Math.min(1,(w-x)/f.duration),D=S(M),k=0;k<v.length;k++)p(v[k],D);w-x>f.duration?(b(),C=window.cancelAnimationFrame(T)):C=window.requestAnimationFrame(T)}return x=Date.now(),C=window.requestAnimationFrame(T),Promise.resolve()}},{"../../components/drawing":125,"../../lib":244,"../../registry":327,"./axes":291,"@plotly/d3":11}],316:[function(r,i,o){var n=r("../../registry").traceIs,a=r("./axis_autotype");i.exports=function(v,f,m,_){m("autotypenumbers",_.autotypenumbersDflt);var g=m("type",(_.splomStash||{}).type);g==="-"&&(s(f,_.data),f.type==="-"?f.type="linear":v.type=f.type)};function s(h,v){if(h.type==="-"){var f=h._id,m=f.charAt(0),_;f.indexOf("scene")!==-1&&(f=m);var g=l(v,f,m);if(g){if(g.type==="histogram"&&m==={v:"y",h:"x"}[g.orientation||"v"]){h.type="linear";return}var p=m+"calendar",d=g[p],b={noMultiCategory:!n(g,"cartesian")||n(g,"noMultiCategory")};if(g.type==="box"&&g._hasPreCompStats&&m==={h:"x",v:"y"}[g.orientation||"v"]&&(b.noMultiCategory=!0),b.autotypenumbers=h.autotypenumbers,c(g,m)){var y=u(g),x=[];for(_=0;_<v.length;_++){var w=v[_];!n(w,"box-violin")||(w[m+"axis"]||m)!==f||(w[y]!==void 0?x.push(w[y][0]):w.name!==void 0?x.push(w.name):x.push("text"),w[p]!==d&&(d=void 0))}h.type=a(x,d,b)}else if(g.type==="splom"){var C=g.dimensions,S=C[g._axesDim[f]];S.visible&&(h.type=a(S.values,d,b))}else h.type=a(g[m]||[g[m+"0"]],d,b)}}}function l(h,v,f){for(var m=0;m<h.length;m++){var _=h[m];if(_.type==="splom"&&_._length>0&&(_["_"+f+"axes"]||{})[v])return _;if((_[f+"axis"]||f)===v){if(c(_,f))return _;if((_[f]||[]).length||_[f+"0"])return _}}}function u(h){return{v:"x",h:"y"}[h.orientation||"v"]}function c(h,v){var f=u(h),m=n(h,"box-violin"),_=n(h._fullInput||{},"candlestick");return m&&!_&&v===f&&h[f]===void 0&&h[f+"0"]===void 0}},{"../../registry":327,"./axis_autotype":292}],317:[function(r,i,o){var n=r("../registry"),a=r("../lib");o.manageCommandObserver=function(v,f,m,_){var g={},p=!0;f&&f._commandObserver&&(g=f._commandObserver),g.cache||(g.cache={}),g.lookupTable={};var d=o.hasSimpleAPICommandBindings(v,m,g.lookupTable);if(f&&f._commandObserver){if(d)return g;if(f._commandObserver.remove)return f._commandObserver.remove(),f._commandObserver=null,g}if(d){s(v,d,g.cache),g.check=function(){if(p){var w=s(v,d,g.cache);return w.changed&&_&&g.lookupTable[w.value]!==void 0&&(g.disable(),Promise.resolve(_({value:w.value,type:d.type,prop:d.prop,traces:d.traces,index:g.lookupTable[w.value]})).then(g.enable,g.enable)),w.changed}};for(var b=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],y=0;y<b.length;y++)v._internalOn(b[y],g.check);g.remove=function(){for(var x=0;x<b.length;x++)v._removeInternalListener(b[x],g.check)}}else a.log("Unable to automatically bind plot updates to API command"),g.lookupTable={},g.remove=function(){};return g.disable=function(){p=!1},g.enable=function(){p=!0},f&&(f._commandObserver=g),g},o.hasSimpleAPICommandBindings=function(v,f,m){var _,g=f.length,p;for(_=0;_<g;_++){var d,b=f[_],y=b.method,x=b.args;if(Array.isArray(x)||(x=[]),!y)return!1;var w=o.computeAPICommandBindings(v,y,x);if(w.length!==1)return!1;if(!p)p=w[0],Array.isArray(p.traces)&&p.traces.sort();else{if(d=w[0],d.type!==p.type||d.prop!==p.prop)return!1;if(Array.isArray(p.traces))if(Array.isArray(d.traces)){d.traces.sort();for(var C=0;C<p.traces.length;C++)if(p.traces[C]!==d.traces[C])return!1}else return!1;else if(d.prop!==p.prop)return!1}d=w[0];var S=d.value;if(Array.isArray(S))if(S.length===1)S=S[0];else return!1;m&&(m[S]=_)}return p};function s(v,f,m){var _,g,p,d=!1;if(f.type==="data")_=v._fullData[f.traces!==null?f.traces[0]:0];else if(f.type==="layout")_=v._fullLayout;else return!1;return g=a.nestedProperty(_,f.prop).get(),p=m[f.type]=m[f.type]||{},p.hasOwnProperty(f.prop)&&p[f.prop]!==g&&(d=!0),p[f.prop]=g,{changed:d,value:g}}o.executeAPICommand=function(v,f,m){if(f==="skip")return Promise.resolve();var _=n.apiMethodRegistry[f],g=[v];Array.isArray(m)||(m=[]);for(var p=0;p<m.length;p++)g.push(m[p]);return _.apply(null,g).catch(function(d){return a.warn("API call to Plotly."+f+" rejected.",d),Promise.reject(d)})},o.computeAPICommandBindings=function(v,f,m){var _;switch(Array.isArray(m)||(m=[]),f){case"restyle":_=c(v,m);break;case"relayout":_=u(v,m);break;case"update":_=c(v,[m[0],m[2]]).concat(u(v,[m[1]]));break;case"animate":_=l(v,m);break;default:_=[]}return _};function l(v,f){return Array.isArray(f[0])&&f[0].length===1&&["string","number"].indexOf(typeof f[0][0])!==-1?[{type:"layout",prop:"_currentFrame",value:f[0][0].toString()}]:[]}function u(v,f){var m=[],_=f[0],g={};if(typeof _=="string")g[_]=f[1];else if(a.isPlainObject(_))g=_;else return m;return h(g,function(p,d,b){m.push({type:"layout",prop:p,value:b})},"",0),m}function c(v,f){var m,_,g,p,d=[];if(_=f[0],g=f[1],m=f[2],p={},typeof _=="string")p[_]=g;else if(a.isPlainObject(_))p=_,m===void 0&&(m=g);else return d;return m===void 0&&(m=null),h(p,function(b,y,x){var w,C;if(Array.isArray(x)){C=x.slice();var S=Math.min(C.length,v.data.length);m&&(S=Math.min(S,m.length)),w=[];for(var T=0;T<S;T++)w[T]=m?m[T]:T}else C=x,w=m?m.slice():null;if(w===null)Array.isArray(C)&&(C=C[0]);else if(Array.isArray(w)){if(!Array.isArray(C)){var M=C;C=[];for(var D=0;D<w.length;D++)C[D]=M}C.length=Math.min(w.length,C.length)}d.push({type:"data",prop:b,traces:w,value:C})},"",0),d}function h(v,f,m,_){Object.keys(v).forEach(function(g){var p=v[g];if(g[0]!=="_"){var d=m+(_>0?".":"")+g;a.isPlainObject(p)?h(p,f,d,_+1):f(d,g,p)}})}},{"../lib":244,"../registry":327}],318:[function(r,i,o){var n=r("../lib/extend").extendFlat;o.attributes=function(a,s){a=a||{},s=s||{};var l={valType:"info_array",editType:a.editType,items:[{valType:"number",min:0,max:1,editType:a.editType},{valType:"number",min:0,max:1,editType:a.editType}],dflt:[0,1]};a.name&&a.name+"",a.trace,s.description&&""+s.description;var u={x:n({},l,{}),y:n({},l,{}),editType:a.editType};return a.noGridCell||(u.row={valType:"integer",min:0,dflt:0,editType:a.editType},u.column={valType:"integer",min:0,dflt:0,editType:a.editType}),u},o.defaults=function(a,s,l,u){var c=u&&u.x||[0,1],h=u&&u.y||[0,1],v=s.grid;if(v){var f=l("domain.column");f!==void 0&&(f<v.columns?c=v._domains.x[f]:delete a.domain.column);var m=l("domain.row");m!==void 0&&(m<v.rows?h=v._domains.y[m]:delete a.domain.row)}var _=l("domain.x",c),g=l("domain.y",h);_[0]<_[1]||(a.domain.x=c.slice()),g[0]<g[1]||(a.domain.y=h.slice())}},{"../lib/extend":238}],319:[function(r,i,o){i.exports=function(n){var a=n.editType,s=n.colorEditType;s===void 0&&(s=a);var l={family:{valType:"string",noBlank:!0,strict:!0,editType:a},size:{valType:"number",min:1,editType:a},color:{valType:"color",editType:s},editType:a};return n.autoSize&&(l.size.dflt="auto"),n.autoColor&&(l.color.dflt="auto"),n.arrayOk&&(l.family.arrayOk=!0,l.size.arrayOk=!0,l.color.arrayOk=!0),l}},{}],320:[function(r,i,o){i.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},{}],321:[function(r,i,o){var n=r("../registry"),a=r("./cartesian/constants").SUBPLOT_PATTERN;o.getSubplotCalcData=function(s,l,u){var c=n.subplotsRegistry[l];if(!c)return[];for(var h=c.attr,v=[],f=0;f<s.length;f++){var m=s[f],_=m[0].trace;_[h]===u&&v.push(m)}return v},o.getModuleCalcData=function(s,l){var u=[],c=[],h;if(typeof l=="string"?h=n.getModule(l).plot:typeof l=="function"?h=l:h=l.plot,!h)return[u,s];for(var v=0;v<s.length;v++){var f=s[v],m=f[0].trace;m.visible!==!0||m._length===0||(m._module.plot===h?u.push(f):c.push(f))}return[u,c]},o.getSubplotData=function(l,u,c){if(!n.subplotsRegistry[u])return[];var h=n.subplotsRegistry[u].attr,v=[],f,m,_;if(u==="gl2d"){var g=c.match(a);m="x"+g[1],_="y"+g[2]}for(var p=0;p<l.length;p++)f=l[p],u==="gl2d"&&n.traceIs(f,"gl2d")?f[h[0]]===m&&f[h[1]]===_&&v.push(f):f[h]===c&&v.push(f);return v}},{"../registry":327,"./cartesian/constants":298}],322:[function(r,i,o){function n(s,l){var u=[0,0,0,0],c,h;for(c=0;c<4;++c)for(h=0;h<4;++h)u[h]+=s[4*c+h]*l[c];return u}function a(s,l){var u=n(s.projection,n(s.view,n(s.model,[l[0],l[1],l[2],1])));return u}i.exports=a},{}],323:[function(r,i,o){var n=r("./font_attributes"),a=r("./animation_attributes"),s=r("../components/color/attributes"),l=r("../components/shapes/draw_newshape/attributes"),u=r("../components/selections/draw_newselection/attributes"),c=r("./pad_attributes"),h=r("../lib/extend").extendFlat,v=n({editType:"calc"});v.family.dflt='"Open Sans", verdana, arial, sans-serif',v.size.dflt=12,v.color.dflt=s.defaultLine,i.exports={font:v,title:{text:{valType:"string",editType:"layoutstyle"},font:n({editType:"layoutstyle"}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:h(c({editType:"layoutstyle"}),{}),editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:s.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:s.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:s.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:l.newshape,activeshape:l.activeshape,newselection:u.newselection,activeselection:u.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:h({},a.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:n({editType:"layoutstyle"})}}},{"../components/color/attributes":102,"../components/selections/draw_newselection/attributes":187,"../components/shapes/draw_newshape/attributes":199,"../lib/extend":238,"./animation_attributes":285,"./font_attributes":319,"./pad_attributes":324}],324:[function(r,i,o){i.exports=function(n){var a=n.editType;return{t:{valType:"number",dflt:0,editType:a},r:{valType:"number",dflt:0,editType:a},b:{valType:"number",dflt:0,editType:a},l:{valType:"number",dflt:0,editType:a},editType:a}}},{}],325:[function(r,i,o){var n=r("@plotly/d3"),a=r("d3-time-format").timeFormatLocale,s=r("d3-format").formatLocale,l=r("fast-isnumeric"),u=r("../registry"),c=r("../plot_api/plot_schema"),h=r("../plot_api/plot_template"),v=r("../lib"),f=r("../components/color"),m=r("../constants/numerical").BADNUM,_=r("./cartesian/axis_ids"),g=r("../components/shapes/handle_outline").clearOutline,p=r("./animation_attributes"),d=r("./frame_attributes"),b=r("../plots/get_data").getModuleCalcData,y=v.relinkPrivateKeys,x=v._,w=i.exports={};v.extendFlat(w,u),w.attributes=r("./attributes"),w.attributes.type.values=w.allTypes,w.fontAttrs=r("./font_attributes"),w.layoutAttributes=r("./layout_attributes"),w.fontWeight="normal";var C=w.transformsRegistry,S=r("./command");w.executeAPICommand=S.executeAPICommand,w.computeAPICommandBindings=S.computeAPICommandBindings,w.manageCommandObserver=S.manageCommandObserver,w.hasSimpleAPICommandBindings=S.hasSimpleAPICommandBindings,w.redrawText=function(L){return L=v.getGraphDiv(L),new Promise(function(N){setTimeout(function(){L._fullLayout&&(u.getComponentMethod("annotations","draw")(L),u.getComponentMethod("legend","draw")(L),u.getComponentMethod("colorbar","draw")(L),N(w.previousPromises(L)))},300)})},w.resize=function(L){L=v.getGraphDiv(L);var N,G=new Promise(function(Y,j){(!L||v.isHidden(L))&&j(new Error("Resize must be passed a displayed plot div element.")),L._redrawTimer&&clearTimeout(L._redrawTimer),L._resolveResize&&(N=L._resolveResize),L._resolveResize=Y,L._redrawTimer=setTimeout(function(){if(!L.layout||L.layout.width&&L.layout.height||v.isHidden(L)){Y(L);return}delete L.layout.width,delete L.layout.height;var Q=L.changed;L.autoplay=!0,u.call("relayout",L,{autosize:!0}).then(function(){L.changed=Q,L._resolveResize===Y&&(delete L._resolveResize,Y(L))})},100)});return N&&N(G),G},w.previousPromises=function(L){if((L._promises||[]).length)return Promise.all(L._promises).then(function(){L._promises=[]})},w.addLinks=function(L){if(!(!L._context.showLink&&!L._context.showSources)){var N=L._fullLayout,G=v.ensureSingle(N._paper,"text","js-plot-link-container",function(ue){ue.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:f.defaultLine,"pointer-events":"all"}).each(function(){var de=n.select(this);de.append("tspan").classed("js-link-to-tool",!0),de.append("tspan").classed("js-link-spacer",!0),de.append("tspan").classed("js-sourcelinks",!0)})}),Y=G.node(),j={y:N._paper.attr("height")-9};document.body.contains(Y)&&Y.getComputedTextLength()>=N.width-20?(j["text-anchor"]="start",j.x=5):(j["text-anchor"]="end",j.x=N._paper.attr("width")-7),G.attr(j);var Q=G.select(".js-link-to-tool"),q=G.select(".js-link-spacer"),re=G.select(".js-sourcelinks");L._context.showSources&&L._context.showSources(L),L._context.showLink&&T(L,Q),q.text(Q.text()&&re.text()?" - ":"")}};function T(L,N){N.text("");var G=N.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(L._context.linkText+" "+String.fromCharCode(187));if(L._context.sendData)G.on("click",function(){w.sendDataToCloud(L)});else{var Y=window.location.pathname.split("/"),j=window.location.search;G.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+Y[2].split(".")[0]+"/"+Y[1]+j})}}w.sendDataToCloud=function(L){var N=(window.PLOTLYENV||{}).BASE_URL||L._context.plotlyServerURL;if(N){L.emit("plotly_beforeexport");var G=n.select(L).append("div").attr("id","hiddenform").style("display","none"),Y=G.append("form").attr({action:N+"/external",method:"post",target:"_blank"}),j=Y.append("input").attr({type:"text",name:"data"});return j.node().value=w.graphJson(L,!1,"keepdata"),Y.node().submit(),G.remove(),L.emit("plotly_afterexport"),!1}};var M=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],D=["year","month","dayMonth","dayMonthYear"];w.supplyDefaults=function(L,N){var G=N&&N.skipUpdateCalc,Y=L._fullLayout||{};if(Y._skipDefaults){delete Y._skipDefaults;return}var j=L._fullLayout={},Q=L.layout||{},q=L._fullData||[],re=L._fullData=[],ue=L.data||[],de=L.calcdata||[],me=L._context||{},pe;L._transitionData||w.createTransitionData(L),j._dfltTitle={plot:x(L,"Click to enter Plot title"),x:x(L,"Click to enter X axis title"),y:x(L,"Click to enter Y axis title"),colorbar:x(L,"Click to enter Colorscale title"),annotation:x(L,"new text")},j._traceWord=x(L,"trace");var ge=P(L,M);if(j._mapboxAccessToken=me.mapboxAccessToken,Y._initialAutoSizeIsDone){var Te=Y.width,He=Y.height;w.supplyLayoutGlobalDefaults(Q,j,ge),Q.width||(j.width=Te),Q.height||(j.height=He),w.sanitizeMargins(j)}else{w.supplyLayoutGlobalDefaults(Q,j,ge);var Oe=!Q.width||!Q.height,tt=j.autosize,Le=me.autosizable,De=Oe&&(tt||Le);De?w.plotAutoSize(L,Q,j):Oe&&w.sanitizeMargins(j),!tt&&Oe&&(Q.width=j.width,Q.height=j.height)}j._d3locale=E(ge,j.separators),j._extraFormat=P(L,D),j._initialAutoSizeIsDone=!0,j._dataLength=ue.length,j._modules=[],j._visibleModules=[],j._basePlotModules=[];var Se=j._subplots=R(),ze=j._splomAxes={x:{},y:{}},Ke=j._splomSubplots={};j._splomGridDflt={},j._scatterStackOpts={},j._firstScatter={},j._alignmentOpts={},j._colorAxes={},j._requestRangeslider={},j._traceUids=k(q,ue),j._globalTransforms=(L._context||{}).globalTransforms,w.supplyDataDefaults(ue,re,Q,j);var _t=Object.keys(ze.x),Qe=Object.keys(ze.y);if(_t.length>1&&Qe.length>1){for(u.getComponentMethod("grid","sizeDefaults")(Q,j),pe=0;pe<_t.length;pe++)v.pushUnique(Se.xaxis,_t[pe]);for(pe=0;pe<Qe.length;pe++)v.pushUnique(Se.yaxis,Qe[pe]);for(var et in Ke)v.pushUnique(Se.cartesian,et)}if(j._has=w._hasPlotType.bind(j),q.length===re.length)for(pe=0;pe<re.length;pe++)y(re[pe],q[pe]);w.supplyLayoutModuleDefaults(Q,j,re,L._transitionData);var rt=j._visibleModules,ft=[];for(pe=0;pe<rt.length;pe++){var bt=rt[pe].crossTraceDefaults;bt&&v.pushUnique(ft,bt)}for(pe=0;pe<ft.length;pe++)ft[pe](re,j);j._hasOnlyLargeSploms=j._basePlotModules.length===1&&j._basePlotModules[0].name==="splom"&&_t.length>15&&Qe.length>15&&j.shapes.length===0&&j.images.length===0,w.linkSubplots(re,j,q,Y),w.cleanPlot(re,j,q,Y);var Ft=!!(Y._has&&Y._has("gl2d")),ct=!!(j._has&&j._has("gl2d")),nt=!!(Y._has&&Y._has("cartesian")),at=!!(j._has&&j._has("cartesian")),It=nt||Ft,zt=at||ct;It&&!zt?Y._bgLayer.remove():zt&&!It&&(j._shouldCreateBgLayer=!0),Y._zoomlayer&&!L._dragging&&g({_fullLayout:Y}),O(re,j),y(j,Y),u.getComponentMethod("colorscale","crossTraceDefaults")(re,j),j._preGUI||(j._preGUI={}),j._tracePreGUI||(j._tracePreGUI={});var be=j._tracePreGUI,Me={},Ue;for(Ue in be)Me[Ue]="old";for(pe=0;pe<re.length;pe++)Ue=re[pe]._fullInput.uid,Me[Ue]||(be[Ue]={}),Me[Ue]="new";for(Ue in Me)Me[Ue]==="old"&&delete be[Ue];z(j),u.getComponentMethod("rangeslider","makeData")(j),!G&&de.length===re.length&&w.supplyDefaultsUpdateCalc(de,re)},w.supplyDefaultsUpdateCalc=function(L,N){for(var G=0;G<N.length;G++){var Y=N[G],j=(L[G]||[])[0];if(j&&j.trace){var Q=j.trace;if(Q._hasCalcTransform){var q=Q._arrayAttrs,re,ue,de;for(re=0;re<q.length;re++)ue=q[re],de=v.nestedProperty(Q,ue).get().slice(),v.nestedProperty(Y,ue).set(de)}j.trace=Y}}};function k(L,N){var G=N.length,Y=[],j,Q;for(j=0;j<L.length;j++){var q=L[j]._fullInput;q!==Q&&Y.push(q),Q=q}var re=Y.length,ue=new Array(G),de={};function me(Te,He){ue[He]=Te,de[Te]=1}function pe(Te,He){if(Te&&typeof Te=="string"&&!de[Te])return me(Te,He),!0}for(j=0;j<G;j++){var ge=N[j].uid;typeof ge=="number"&&(ge=String(ge)),!pe(ge,j)&&(j<re&&pe(Y[j].uid,j)||me(v.randstr(de),j))}return ue}function R(){var L=u.collectableSubplotTypes,N={},G,Y;if(!L){L=[];var j=u.subplotsRegistry;for(var Q in j){var q=j[Q],re=q.attr;if(re&&(L.push(Q),Array.isArray(re)))for(Y=0;Y<re.length;Y++)v.pushUnique(L,re[Y])}}for(G=0;G<L.length;G++)N[L[G]]=[];return N}function P(L,N){var G=L._context.locale;G||(G="en-US");var Y=!1,j={};function Q(pe){for(var ge=!0,Te=0;Te<N.length;Te++){var He=N[Te];j[He]||(pe[He]?j[He]=pe[He]:ge=!1)}ge&&(Y=!0)}for(var q=0;q<2;q++){for(var re=L._context.locales,ue=0;ue<2;ue++){var de=(re[G]||{}).format;if(de&&(Q(de),Y))break;re=u.localeRegistry}var me=G.split("-")[0];if(Y||me===G)break;G=me}return Y||Q(u.localeRegistry.en.format),j}function E(L,N){return L.decimal=N.charAt(0),L.thousands=N.charAt(1),{numberFormat:function(G){try{G=s(L).format(v.adjustFormat(G))}catch{return v.warnBadFormat(G),v.noFormat}return G},timeFormat:a(L).utcFormat}}function O(L,N){var G,Y=[];N.meta&&(G=N._meta={meta:N.meta,layout:{meta:N.meta}});for(var j=0;j<L.length;j++){var Q=L[j];Q.meta?Y[Q.index]=Q._meta={meta:Q.meta}:N.meta&&(Q._meta={meta:N.meta}),N.meta&&(Q._meta.layout={meta:N.meta})}Y.length&&(G||(G=N._meta={}),G.data=Y)}w.createTransitionData=function(L){L._transitionData||(L._transitionData={}),L._transitionData._frames||(L._transitionData._frames=[]),L._transitionData._frameHash||(L._transitionData._frameHash={}),L._transitionData._counter||(L._transitionData._counter=0),L._transitionData._interruptCallbacks||(L._transitionData._interruptCallbacks=[])},w._hasPlotType=function(L){var N,G=this._basePlotModules||[];for(N=0;N<G.length;N++)if(G[N].name===L)return!0;var Y=this._modules||[];for(N=0;N<Y.length;N++){var j=Y[N].name;if(j===L)return!0;var Q=u.modules[j];if(Q&&Q.categories[L])return!0}return!1},w.cleanPlot=function(L,N,G,Y){var j,Q,q=Y._basePlotModules||[];for(j=0;j<q.length;j++){var re=q[j];re.clean&&re.clean(L,N,G,Y)}var ue=Y._has&&Y._has("gl"),de=N._has&&N._has("gl");ue&&!de&&Y._glcontainer!==void 0&&(Y._glcontainer.selectAll(".gl-canvas").remove(),Y._glcontainer.selectAll(".no-webgl").remove(),Y._glcanvas=null);var me=!!Y._infolayer;e:for(j=0;j<G.length;j++){var pe=G[j],ge=pe.uid;for(Q=0;Q<L.length;Q++){var Te=L[Q];if(ge===Te.uid)continue e}me&&Y._infolayer.select(".cb"+ge).remove()}},w.linkSubplots=function(L,N,G,Y){var j,Q,q=Y._plots||{},re=N._plots={},ue=N._subplots,de={_fullData:L,_fullLayout:N},me=ue.cartesian.concat(ue.gl2d||[]);for(j=0;j<me.length;j++){var pe=me[j],ge=q[pe],Te=_.getFromId(de,pe,"x"),He=_.getFromId(de,pe,"y"),Oe;for(ge?Oe=re[pe]=ge:(Oe=re[pe]={},Oe.id=pe),Te._counterAxes.push(He._id),He._counterAxes.push(Te._id),Te._subplotsWith.push(pe),He._subplotsWith.push(pe),Oe.xaxis=Te,Oe.yaxis=He,Oe._hasClipOnAxisFalse=!1,Q=0;Q<L.length;Q++){var tt=L[Q];if(tt.xaxis===Oe.xaxis._id&&tt.yaxis===Oe.yaxis._id&&tt.cliponaxis===!1){Oe._hasClipOnAxisFalse=!0;break}}}var Le=_.list(de,null,!0),De;for(j=0;j<Le.length;j++){De=Le[j];var Se=null;De.overlaying&&(Se=_.getFromId(de,De.overlaying),Se&&Se.overlaying&&(De.overlaying=!1,Se=null)),De._mainAxis=Se||De,Se&&(De.domain=Se.domain.slice()),De._anchorAxis=De.anchor==="free"?null:_.getFromId(de,De.anchor)}for(j=0;j<Le.length;j++)if(De=Le[j],De._counterAxes.sort(_.idSort),De._subplotsWith.sort(v.subplotSort),De._mainSubplot=I(De,N),De._counterAxes.length&&(De.spikemode&&De.spikemode.indexOf("across")!==-1||De.automargin&&De.mirror&&De.anchor!=="free"||u.getComponentMethod("rangeslider","isVisible")(De))){var ze=1,Ke=0;for(Q=0;Q<De._counterAxes.length;Q++){var _t=_.getFromId(de,De._counterAxes[Q]);ze=Math.min(ze,_t.domain[0]),Ke=Math.max(Ke,_t.domain[1])}ze<Ke&&(De._counterDomainMin=ze,De._counterDomainMax=Ke)}};function I(L,N){var G={_fullLayout:N},Y=L._id.charAt(0)==="x",j=L._mainAxis._anchorAxis,Q="",q="",re="";if(j&&(re=j._mainAxis._id,Q=Y?L._id+re:re+L._id),!Q||!N._plots[Q]){Q="";for(var ue=L._counterAxes,de=0;de<ue.length;de++){var me=ue[de],pe=Y?L._id+me:me+L._id;q||(q=pe);var ge=_.getFromId(G,me);if(re&&ge.overlaying===re){Q=pe;break}}}return Q||q}w.clearExpandedTraceDefaultColors=function(L){var N,G,Y;function j(q,re,ue,de){G[de]=re,G.length=de+1,q.valType==="color"&&q.dflt===void 0&&N.push(G.join("."))}for(G=[],N=L._module._colorAttrs,N||(L._module._colorAttrs=N=[],c.crawl(L._module.attributes,j)),Y=0;Y<N.length;Y++){var Q=v.nestedProperty(L,"_input."+N[Y]);Q.get()||v.nestedProperty(L,N[Y]).set(null)}},w.supplyDataDefaults=function(L,N,G,Y){var j=Y._modules,Q=Y._visibleModules,q=Y._basePlotModules,re=0,ue=0,de,me,pe;Y._transformModules=[];function ge(Qe){N.push(Qe);var et=Qe._module;et&&(v.pushUnique(j,et),Qe.visible===!0&&v.pushUnique(Q,et),v.pushUnique(q,Qe._module.basePlotModule),re++,Qe._input.visible!==!1&&ue++)}var Te={},He=[],Oe=(G.template||{}).data||{},tt=h.traceTemplater(Oe);for(de=0;de<L.length;de++){if(pe=L[de],me=tt.newTrace(pe),me.uid=Y._traceUids[de],w.supplyTraceDefaults(pe,me,ue,Y,de),me.index=de,me._input=pe,me._expandedIndex=re,me.transforms&&me.transforms.length)for(var Le=pe.visible!==!1&&me.visible===!1,De=V(me,N,G,Y),Se=0;Se<De.length;Se++){var ze=De[Se],Ke={_template:me._template,type:me.type,uid:me.uid+Se};Le&&ze.visible===!1&&delete ze.visible,w.supplyTraceDefaults(ze,Ke,re,Y,de),y(Ke,ze),Ke.index=de,Ke._input=pe,Ke._fullInput=me,Ke._expandedIndex=re,Ke._expandedInput=ze,ge(Ke)}else me._fullInput=me,me._expandedInput=me,ge(me);u.traceIs(me,"carpetAxis")&&(Te[me.carpet]=me),u.traceIs(me,"carpetDependent")&&He.push(de)}for(de=0;de<He.length;de++)if(me=N[He[de]],!!me.visible){var _t=Te[me.carpet];if(me._carpet=_t,!_t||!_t.visible){me.visible=!1;continue}me.xaxis=_t.xaxis,me.yaxis=_t.yaxis}},w.supplyAnimationDefaults=function(L){L=L||{};var N,G={};function Y(j,Q){return v.coerce(L||{},G,p,j,Q)}if(Y("mode"),Y("direction"),Y("fromcurrent"),Array.isArray(L.frame))for(G.frame=[],N=0;N<L.frame.length;N++)G.frame[N]=w.supplyAnimationFrameDefaults(L.frame[N]||{});else G.frame=w.supplyAnimationFrameDefaults(L.frame||{});if(Array.isArray(L.transition))for(G.transition=[],N=0;N<L.transition.length;N++)G.transition[N]=w.supplyAnimationTransitionDefaults(L.transition[N]||{});else G.transition=w.supplyAnimationTransitionDefaults(L.transition||{});return G},w.supplyAnimationFrameDefaults=function(L){var N={};function G(Y,j){return v.coerce(L||{},N,p.frame,Y,j)}return G("duration"),G("redraw"),N},w.supplyAnimationTransitionDefaults=function(L){var N={};function G(Y,j){return v.coerce(L||{},N,p.transition,Y,j)}return G("duration"),G("easing"),N},w.supplyFrameDefaults=function(L){var N={};function G(Y,j){return v.coerce(L,N,d,Y,j)}return G("group"),G("name"),G("traces"),G("baseframe"),G("data"),G("layout"),N},w.supplyTraceDefaults=function(L,N,G,Y,j){var Q=Y.colorway||f.defaults,q=Q[G%Q.length],re;function ue(De,Se){return v.coerce(L,N,w.attributes,De,Se)}var de=ue("visible");ue("type"),ue("name",Y._traceWord+" "+j),ue("uirevision",Y.uirevision);var me=w.getModule(N);if(N._module=me,me){var pe=me.basePlotModule,ge=pe.attr,Te=pe.attributes;if(ge&&Te){var He=Y._subplots,Oe="";if(de||pe.name!=="gl2d"){if(Array.isArray(ge))for(re=0;re<ge.length;re++){var tt=ge[re],Le=v.coerce(L,N,Te,tt);He[tt]&&v.pushUnique(He[tt],Le),Oe+=Le}else Oe=v.coerce(L,N,Te,ge);He[pe.name]&&v.pushUnique(He[pe.name],Oe)}}}return de&&(ue("customdata"),ue("ids"),ue("meta"),u.traceIs(N,"showLegend")?(v.coerce(L,N,me.attributes.showlegend?me.attributes:w.attributes,"showlegend"),ue("legendgroup"),ue("legendgrouptitle.text"),ue("legendrank"),N._dfltShowLegend=!0):N._dfltShowLegend=!1,me&&me.supplyDefaults(L,N,q,Y),u.traceIs(N,"noOpacity")||ue("opacity"),u.traceIs(N,"notLegendIsolatable")&&(N.visible=!!N.visible),u.traceIs(N,"noHover")||(N.hovertemplate||v.coerceHoverinfo(L,N,Y),N.type!=="parcats"&&u.getComponentMethod("fx","supplyDefaults")(L,N,q,Y)),me&&me.selectPoints&&ue("selectedpoints"),w.supplyTransformDefaults(L,N,Y)),N};function U(L){var N=L.transforms;if(Array.isArray(N)&&N.length)for(var G=0;G<N.length;G++){var Y=N[G],j=Y._module||C[Y.type];if(j&&j.makesData)return!0}return!1}w.hasMakesDataTransform=U,w.supplyTransformDefaults=function(L,N,G){if(N._length||U(L)){var Y=G._globalTransforms||[],j=G._transformModules||[];if(!(!Array.isArray(L.transforms)&&Y.length===0))for(var Q=L.transforms||[],q=Y.concat(Q),re=N.transforms=[],ue=0;ue<q.length;ue++){var de=q[ue],me=de.type,pe=C[me],ge,Te=!(de._module&&de._module===pe),He=pe&&typeof pe.transform=="function";pe||v.warn("Unrecognized transform type "+me+"."),pe&&pe.supplyDefaults&&(Te||He)?(ge=pe.supplyDefaults(de,N,G,L),ge.type=me,ge._module=pe,v.pushUnique(j,pe)):ge=v.extendFlat({},de),re.push(ge)}}};function V(L,N,G,Y){for(var j=L.transforms,Q=[L],q=0;q<j.length;q++){var re=j[q],ue=C[re.type];ue&&ue.transform&&(Q=ue.transform(Q,{transform:re,fullTrace:L,fullData:N,layout:G,fullLayout:Y,transformIndex:q}))}return Q}w.supplyLayoutGlobalDefaults=function(L,N,G){function Y(de,me){return v.coerce(L,N,w.layoutAttributes,de,me)}var j=L.template;v.isPlainObject(j)&&(N.template=j,N._template=j.layout,N._dataTemplate=j.data),Y("autotypenumbers");var Q=v.coerceFont(Y,"font"),q=Q.size;v.coerceFont(Y,"title.font",v.extendFlat({},Q,{size:Math.round(q*1.4)})),Y("title.text",N._dfltTitle.plot),Y("title.xref"),Y("title.yref"),Y("title.x"),Y("title.y"),Y("title.xanchor"),Y("title.yanchor"),Y("title.pad.t"),Y("title.pad.r"),Y("title.pad.b"),Y("title.pad.l");var re=Y("uniformtext.mode");re&&Y("uniformtext.minsize"),Y("autosize",!(L.width&&L.height)),Y("width"),Y("height"),Y("margin.l"),Y("margin.r"),Y("margin.t"),Y("margin.b"),Y("margin.pad"),Y("margin.autoexpand"),L.width&&L.height&&w.sanitizeMargins(N),u.getComponentMethod("grid","sizeDefaults")(L,N),Y("paper_bgcolor"),Y("separators",G.decimal+G.thousands),Y("hidesources"),Y("colorway"),Y("datarevision");var ue=Y("uirevision");Y("editrevision",ue),Y("selectionrevision",ue),u.getComponentMethod("modebar","supplyLayoutDefaults")(L,N),u.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(L,N,Y),u.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(L,N,Y),Y("meta"),v.isPlainObject(L.transition)&&(Y("transition.duration"),Y("transition.easing"),Y("transition.ordering")),u.getComponentMethod("calendars","handleDefaults")(L,N,"calendar"),u.getComponentMethod("fx","supplyLayoutGlobalDefaults")(L,N,Y)};function Z(L){return typeof L=="string"&&L.substr(L.length-2)==="px"&&parseFloat(L)}w.plotAutoSize=function(N,G,Y){var j=N._context||{},Q=j.frameMargins,q,re,ue=v.isPlotDiv(N);if(ue&&N.emit("plotly_autosize"),j.fillFrame)q=window.innerWidth,re=window.innerHeight,document.body.style.overflow="hidden";else{var de=ue?window.getComputedStyle(N):{};if(q=Z(de.width)||Z(de.maxWidth)||Y.width,re=Z(de.height)||Z(de.maxHeight)||Y.height,l(Q)&&Q>0){var me=1-2*Q;q=Math.round(me*q),re=Math.round(me*re)}}var pe=w.layoutAttributes.width.min,ge=w.layoutAttributes.height.min;q<pe&&(q=pe),re<ge&&(re=ge);var Te=!G.width&&Math.abs(Y.width-q)>1,He=!G.height&&Math.abs(Y.height-re)>1;(He||Te)&&(Te&&(Y.width=q),He&&(Y.height=re)),N._initialAutoSize||(N._initialAutoSize={width:q,height:re}),w.sanitizeMargins(Y)},w.supplyLayoutModuleDefaults=function(L,N,G,Y){var j=u.componentsRegistry,Q=N._basePlotModules,q,re,ue,de=u.subplotsRegistry.cartesian;for(q in j)ue=j[q],ue.includeBasePlot&&ue.includeBasePlot(L,N);Q.length||Q.push(de),N._has("cartesian")&&(u.getComponentMethod("grid","contentDefaults")(L,N),de.finalizeSubplots(L,N));for(var me in N._subplots)N._subplots[me].sort(v.subplotSort);for(re=0;re<Q.length;re++)ue=Q[re],ue.supplyLayoutDefaults&&ue.supplyLayoutDefaults(L,N,G);var pe=N._modules;for(re=0;re<pe.length;re++)ue=pe[re],ue.supplyLayoutDefaults&&ue.supplyLayoutDefaults(L,N,G);var ge=N._transformModules;for(re=0;re<ge.length;re++)ue=ge[re],ue.supplyLayoutDefaults&&ue.supplyLayoutDefaults(L,N,G,Y);for(q in j)ue=j[q],ue.supplyLayoutDefaults&&ue.supplyLayoutDefaults(L,N,G)},w.purge=function(L){var N=L._fullLayout||{};N._glcontainer!==void 0&&(N._glcontainer.selectAll(".gl-canvas").remove(),N._glcontainer.remove(),N._glcanvas=null),N._modeBar&&N._modeBar.destroy(),L._transitionData&&(L._transitionData._interruptCallbacks&&(L._transitionData._interruptCallbacks.length=0),L._transitionData._animationRaf&&window.cancelAnimationFrame(L._transitionData._animationRaf)),v.clearThrottle(),v.clearResponsive(L),delete L.data,delete L.layout,delete L._fullData,delete L._fullLayout,delete L.calcdata,delete L.empty,delete L.fid,delete L.undoqueue,delete L.undonum,delete L.autoplay,delete L.changed,delete L._promises,delete L._redrawTimer,delete L._hmlumcount,delete L._hmpixcount,delete L._transitionData,delete L._transitioning,delete L._initialAutoSize,delete L._transitioningWithDuration,delete L._dragging,delete L._dragged,delete L._dragdata,delete L._hoverdata,delete L._snapshotInProgress,delete L._editing,delete L._mouseDownTime,delete L._legendMouseDownTime,L.removeAllListeners&&L.removeAllListeners()},w.style=function(L){var N=L._fullLayout._visibleModules,G=[],Y;for(Y=0;Y<N.length;Y++){var j=N[Y];j.style&&v.pushUnique(G,j.style)}for(Y=0;Y<G.length;Y++)G[Y](L)},w.sanitizeMargins=function(L){if(!(!L||!L.margin)){var N=L.width,G=L.height,Y=L.margin,j=N-(Y.l+Y.r),Q=G-(Y.t+Y.b),q;j<0&&(q=(N-1)/(Y.l+Y.r),Y.l=Math.floor(q*Y.l),Y.r=Math.floor(q*Y.r)),Q<0&&(q=(G-1)/(Y.t+Y.b),Y.t=Math.floor(q*Y.t),Y.b=Math.floor(q*Y.b))}},w.clearAutoMarginIds=function(L){L._fullLayout._pushmarginIds={}},w.allowAutoMargin=function(L,N){L._fullLayout._pushmarginIds[N]=1};function z(L){var N=L.margin;if(!L._size){var G=L._size={l:Math.round(N.l),r:Math.round(N.r),t:Math.round(N.t),b:Math.round(N.b),p:Math.round(N.pad)};G.w=Math.round(L.width)-G.l-G.r,G.h=Math.round(L.height)-G.t-G.b}L._pushmargin||(L._pushmargin={}),L._pushmarginIds||(L._pushmarginIds={})}var H=2,B=2,W=64,F=64;w.autoMargin=function(L,N,G){var Y=L._fullLayout,j=Y.width,Q=Y.height,q=Y.margin,re=v.constrain(j-q.l-q.r,H,W),ue=v.constrain(Q-q.t-q.b,B,F),de=Math.max(0,j-re),me=Math.max(0,Q-ue),pe=Y._pushmargin,ge=Y._pushmarginIds;if(q.autoexpand!==!1){if(!G)delete pe[N],delete ge[N];else{var Te=G.pad;if(Te===void 0&&(Te=Math.min(12,q.l,q.r,q.t,q.b)),de){var He=(G.l+G.r)/de;He>1&&(G.l/=He,G.r/=He)}if(me){var Oe=(G.t+G.b)/me;Oe>1&&(G.t/=Oe,G.b/=Oe)}var tt=G.xl!==void 0?G.xl:G.x,Le=G.xr!==void 0?G.xr:G.x,De=G.yt!==void 0?G.yt:G.y,Se=G.yb!==void 0?G.yb:G.y;pe[N]={l:{val:tt,size:G.l+Te},r:{val:Le,size:G.r+Te},b:{val:Se,size:G.b+Te},t:{val:De,size:G.t+Te}},ge[N]=1}if(!Y._replotting)return w.doAutoMargin(L)}},w.doAutoMargin=function(L){var N=L._fullLayout,G=N.width,Y=N.height;N._size||(N._size={}),z(N);var j=N._size,Q=N.margin,q=v.extendFlat({},j),re=Q.l,ue=Q.r,de=Q.t,me=Q.b,pe=N._pushmargin,ge=N._pushmarginIds;if(N.margin.autoexpand!==!1){for(var Te in pe)ge[Te]||delete pe[Te];pe.base={l:{val:0,size:re},r:{val:1,size:ue},t:{val:1,size:de},b:{val:0,size:me}};for(var He in pe){var Oe=pe[He].l||{},tt=pe[He].b||{},Le=Oe.val,De=Oe.size,Se=tt.val,ze=tt.size;for(var Ke in pe){if(l(De)&&pe[Ke].r){var _t=pe[Ke].r.val,Qe=pe[Ke].r.size;if(_t>Le){var et=(De*_t+(Qe-G)*Le)/(_t-Le),rt=(Qe*(1-Le)+(De-G)*(1-_t))/(_t-Le);et+rt>re+ue&&(re=et,ue=rt)}}if(l(ze)&&pe[Ke].t){var ft=pe[Ke].t.val,bt=pe[Ke].t.size;if(ft>Se){var Ft=(ze*ft+(bt-Y)*Se)/(ft-Se),ct=(bt*(1-Se)+(ze-Y)*(1-ft))/(ft-Se);Ft+ct>me+de&&(me=Ft,de=ct)}}}}}var nt=v.constrain(G-Q.l-Q.r,H,W),at=v.constrain(Y-Q.t-Q.b,B,F),It=Math.max(0,G-nt),zt=Math.max(0,Y-at);if(It){var be=(re+ue)/It;be>1&&(re/=be,ue/=be)}if(zt){var Me=(me+de)/zt;Me>1&&(me/=Me,de/=Me)}if(j.l=Math.round(re),j.r=Math.round(ue),j.t=Math.round(de),j.b=Math.round(me),j.p=Math.round(Q.pad),j.w=Math.round(G)-j.l-j.r,j.h=Math.round(Y)-j.t-j.b,!N._replotting&&w.didMarginChange(q,j)){"_redrawFromAutoMarginCount"in N?N._redrawFromAutoMarginCount++:N._redrawFromAutoMarginCount=1;var Ue=3*(1+Object.keys(ge).length);if(N._redrawFromAutoMarginCount<Ue)return u.call("_doPlot",L);N._size=q,v.warn("Too many auto-margin redraws.")}K(L)};function K(L){var N=_.list(L,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(G){for(var Y=0;Y<N.length;Y++){var j=N[Y][G];j&&j()}})}var fe=["l","r","t","b","p","w","h"];w.didMarginChange=function(L,N){for(var G=0;G<fe.length;G++){var Y=fe[G],j=L[Y],Q=N[Y];if(!l(j)||Math.abs(Q-j)>1)return!0}return!1},w.graphJson=function(L,N,G,Y,j,Q){(j&&N&&!L._fullData||j&&!N&&!L._fullLayout)&&w.supplyDefaults(L);var q=j?L._fullData:L.data,re=j?L._fullLayout:L.layout,ue=(L._transitionData||{})._frames;function de(ge,Te){if(typeof ge=="function")return Te?"_function_":null;if(v.isPlainObject(ge)){var He={},Oe;return Object.keys(ge).sort().forEach(function(tt){if(["_","["].indexOf(tt.charAt(0))===-1){if(typeof ge[tt]=="function"){Te&&(He[tt]="_function");return}if(G==="keepdata"){if(tt.substr(tt.length-3)==="src")return}else if(G==="keepstream"){if(Oe=ge[tt+"src"],typeof Oe=="string"&&Oe.indexOf(":")>0&&!v.isPlainObject(ge.stream))return}else if(G!=="keepall"&&(Oe=ge[tt+"src"],typeof Oe=="string"&&Oe.indexOf(":")>0))return;He[tt]=de(ge[tt],Te)}}),He}return Array.isArray(ge)?ge.map(function(tt){return de(tt,Te)}):v.isTypedArray(ge)?v.simpleMap(ge,v.identity):v.isJSDate(ge)?v.ms2DateTimeLocal(+ge):ge}var me={data:(q||[]).map(function(ge){var Te=de(ge);return N&&delete Te.fit,Te})};if(!N&&(me.layout=de(re),j)){var pe=re._size;me.layout.computed={margin:{b:pe.b,l:pe.l,r:pe.r,t:pe.t}}}return ue&&(me.frames=de(ue)),Q&&(me.config=de(L._context,!0)),Y==="object"?me:JSON.stringify(me)},w.modifyFrames=function(L,N){var G,Y,j,Q=L._transitionData._frames,q=L._transitionData._frameHash;for(G=0;G<N.length;G++)switch(Y=N[G],Y.type){case"replace":j=Y.value;var re=(Q[Y.index]||{}).name,ue=j.name;Q[Y.index]=q[ue]=j,ue!==re&&(delete q[re],q[ue]=j);break;case"insert":j=Y.value,q[j.name]=j,Q.splice(Y.index,0,j);break;case"delete":j=Q[Y.index],delete q[j.name],Q.splice(Y.index,1);break}return Promise.resolve()},w.computeFrame=function(L,N){var G=L._transitionData._frameHash,Y,j,Q,q;if(!N)throw new Error("computeFrame must be given a string frame name");var re=G[N.toString()];if(!re)return!1;for(var ue=[re],de=[re.name];re.baseframe&&(re=G[re.baseframe.toString()])&&de.indexOf(re.name)===-1;)ue.push(re),de.push(re.name);for(var me={};re=ue.pop();)if(re.layout&&(me.layout=w.extendLayout(me.layout,re.layout)),re.data){if(me.data||(me.data=[]),j=re.traces,!j)for(j=[],Y=0;Y<re.data.length;Y++)j[Y]=Y;for(me.traces||(me.traces=[]),Y=0;Y<re.data.length;Y++)Q=j[Y],Q!=null&&(q=me.traces.indexOf(Q),q===-1&&(q=me.data.length,me.traces[q]=Q),me.data[q]=w.extendTrace(me.data[q],re.data[Y]))}return me},w.recomputeFrameHash=function(L){for(var N=L._transitionData._frameHash={},G=L._transitionData._frames,Y=0;Y<G.length;Y++){var j=G[Y];j&&j.name&&(N[j.name]=j)}},w.extendObjectWithContainers=function(L,N,G){var Y,j,Q,q,re,ue,de,me,pe=v.extendDeepNoArrays({},N||{}),ge=v.expandObjectPaths(pe),Te={};if(G&&G.length)for(Q=0;Q<G.length;Q++)Y=v.nestedProperty(ge,G[Q]),j=Y.get(),j===void 0?v.nestedProperty(Te,G[Q]).set(null):(Y.set(null),v.nestedProperty(Te,G[Q]).set(j));if(L=v.extendDeepNoArrays(L||{},ge),G&&G.length){for(Q=0;Q<G.length;Q++)if(re=v.nestedProperty(Te,G[Q]),de=re.get(),!!de){for(ue=v.nestedProperty(L,G[Q]),me=ue.get(),Array.isArray(me)||(me=[],ue.set(me)),q=0;q<de.length;q++){var He=de[q];He===null?me[q]=null:me[q]=w.extendObjectWithContainers(me[q],He)}ue.set(me)}}return L},w.dataArrayContainers=["transforms","dimensions"],w.layoutArrayContainers=u.layoutArrayContainers,w.extendTrace=function(L,N){return w.extendObjectWithContainers(L,N,w.dataArrayContainers)},w.extendLayout=function(L,N){return w.extendObjectWithContainers(L,N,w.layoutArrayContainers)},w.transition=function(L,N,G,Y,j,Q){var q={redraw:j.redraw},re={},ue=[];return q.prepareFn=function(){for(var de=Array.isArray(N)?N.length:0,me=Y.slice(0,de),pe=0;pe<me.length;pe++){var ge=me[pe],Te=L._fullData[ge],He=Te._module;if(He){if(He.animatable){var Oe=He.basePlotModule.name;re[Oe]||(re[Oe]=[]),re[Oe].push(ge)}L.data[me[pe]]=w.extendTrace(L.data[me[pe]],N[pe])}}var tt=v.expandObjectPaths(v.extendDeepNoArrays({},G)),Le=/^[xy]axis[0-9]*$/;for(var De in tt)Le.test(De)&&delete tt[De].range;w.extendLayout(L.layout,tt),delete L.calcdata,w.supplyDefaults(L),w.doCalcdata(L);var Se=v.expandObjectPaths(G);if(Se){var ze=L._fullLayout._plots;for(var Ke in ze){var _t=ze[Ke],Qe=_t.xaxis,et=_t.yaxis,rt=Qe.range.slice(),ft=et.range.slice(),bt=null,Ft=null,ct=null,nt=null;Array.isArray(Se[Qe._name+".range"])?bt=Se[Qe._name+".range"].slice():Array.isArray((Se[Qe._name]||{}).range)&&(bt=Se[Qe._name].range.slice()),Array.isArray(Se[et._name+".range"])?Ft=Se[et._name+".range"].slice():Array.isArray((Se[et._name]||{}).range)&&(Ft=Se[et._name].range.slice()),rt&&bt&&(Qe.r2l(rt[0])!==Qe.r2l(bt[0])||Qe.r2l(rt[1])!==Qe.r2l(bt[1]))&&(ct={xr0:rt,xr1:bt}),ft&&Ft&&(et.r2l(ft[0])!==et.r2l(Ft[0])||et.r2l(ft[1])!==et.r2l(Ft[1]))&&(nt={yr0:ft,yr1:Ft}),(ct||nt)&&ue.push(v.extendFlat({plotinfo:_t},ct,nt))}}return Promise.resolve()},q.runFn=function(de){var me,pe=L._fullLayout._basePlotModules,ge=ue.length,Te;if(G)for(Te=0;Te<pe.length;Te++)pe[Te].transitionAxes&&pe[Te].transitionAxes(L,ue,Q,de);ge?(me=v.extendFlat({},Q),me.duration=0,delete re.cartesian):me=Q;for(var He in re){var Oe=re[He],tt=L._fullData[Oe[0]]._module;tt.basePlotModule.plot(L,Oe,me,de)}},se(L,Q,q)},w.transitionFromReact=function(L,N,G,Y){var j=L._fullLayout,Q=j.transition,q={},re=[];return q.prepareFn=function(){var ue=j._plots;q.redraw=!1,N.anim==="some"&&(q.redraw=!0),G.anim==="some"&&(q.redraw=!0);for(var de in ue){var me=ue[de],pe=me.xaxis,ge=me.yaxis,Te=Y[pe._name].range.slice(),He=Y[ge._name].range.slice(),Oe=pe.range.slice(),tt=ge.range.slice();pe.setScale(),ge.setScale();var Le=null,De=null;(pe.r2l(Te[0])!==pe.r2l(Oe[0])||pe.r2l(Te[1])!==pe.r2l(Oe[1]))&&(Le={xr0:Te,xr1:Oe}),(ge.r2l(He[0])!==ge.r2l(tt[0])||ge.r2l(He[1])!==ge.r2l(tt[1]))&&(De={yr0:He,yr1:tt}),(Le||De)&&re.push(v.extendFlat({plotinfo:me},Le,De))}return Promise.resolve()},q.runFn=function(ue){for(var de=L._fullData,me=L._fullLayout,pe=me._basePlotModules,ge,Te,He,Oe=[],tt=0;tt<de.length;tt++)Oe.push(tt);function Le(){if(L._fullLayout)for(var Se=0;Se<pe.length;Se++)pe[Se].transitionAxes&&pe[Se].transitionAxes(L,re,ge,ue)}function De(){if(L._fullLayout)for(var Se=0;Se<pe.length;Se++)pe[Se].plot(L,He,Te,ue)}re.length&&N.anim?Q.ordering==="traces first"?(ge=v.extendFlat({},Q,{duration:0}),He=Oe,Te=Q,setTimeout(Le,Q.duration),De()):(ge=Q,He=null,Te=v.extendFlat({},Q,{duration:0}),setTimeout(De,ge.duration),Le()):re.length?(ge=Q,Le()):N.anim&&(He=Oe,Te=Q,De())},se(L,Q,q)};function se(L,N,G){var Y=!1;function j(pe){var ge=Promise.resolve();if(!pe)return ge;for(;pe.length;)ge=ge.then(pe.shift());return ge}function Q(pe){if(pe)for(;pe.length;)pe.shift()}function q(){return L.emit("plotly_transitioning",[]),new Promise(function(pe){L._transitioning=!0,N.duration>0&&(L._transitioningWithDuration=!0),L._transitionData._interruptCallbacks.push(function(){Y=!0}),G.redraw&&L._transitionData._interruptCallbacks.push(function(){return u.call("redraw",L)}),L._transitionData._interruptCallbacks.push(function(){L.emit("plotly_transitioninterrupted",[])});var ge=0,Te=0;function He(){return ge++,function(){Te++,!Y&&Te===ge&&re(pe)}}G.runFn(He),setTimeout(He())})}function re(pe){if(L._transitionData)return Q(L._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(G.redraw)return u.call("redraw",L)}).then(function(){L._transitioning=!1,L._transitioningWithDuration=!1,L.emit("plotly_transitioned",[])}).then(pe)}function ue(){if(L._transitionData)return L._transitioning=!1,j(L._transitionData._interruptCallbacks)}var de=[w.previousPromises,ue,G.prepareFn,w.rehover,w.reselect,q],me=v.syncOrAsync(de,L);return(!me||!me.then)&&(me=Promise.resolve()),me.then(function(){return L})}w.doCalcdata=function(L,N){var G=_.list(L),Y=L._fullData,j=L._fullLayout,Q,q,re,ue,de=new Array(Y.length),me=(L.calcdata||[]).slice();for(L.calcdata=de,j._numBoxes=0,j._numViolins=0,j._violinScaleGroupStats={},L._hmpixcount=0,L._hmlumcount=0,j._piecolormap={},j._sunburstcolormap={},j._treemapcolormap={},j._iciclecolormap={},j._funnelareacolormap={},re=0;re<Y.length;re++)if(Array.isArray(N)&&N.indexOf(re)===-1){de[re]=me[re];continue}for(re=0;re<Y.length;re++)Q=Y[re],Q._arrayAttrs=c.findArrayAttributes(Q),Q._extremes={};var pe=j._subplots.polar||[];for(re=0;re<pe.length;re++)G.push(j[pe[re]].radialaxis,j[pe[re]].angularaxis);for(var ge in j._colorAxes){var Te=j[ge];Te.cauto!==!1&&(delete Te.cmin,delete Te.cmax)}var He=!1;function Oe(De){if(Q=Y[De],q=Q._module,Q.visible===!0&&Q.transforms){if(q&&q.calc){var Se=q.calc(L,Q);Se[0]&&Se[0].t&&Se[0].t._scene&&delete Se[0].t._scene.dirty}for(ue=0;ue<Q.transforms.length;ue++){var ze=Q.transforms[ue];q=C[ze.type],q&&q.calcTransform&&(Q._hasCalcTransform=!0,He=!0,q.calcTransform(L,Q,ze))}}}function tt(De,Se){if(Q=Y[De],q=Q._module,!!q.isContainer===Se){var ze=[];if(Q.visible===!0&&Q._length!==0){delete Q._indexToPoints;var Ke=Q.transforms||[];for(ue=Ke.length-1;ue>=0;ue--)if(Ke[ue].enabled){Q._indexToPoints=Ke[ue]._indexToPoints;break}q&&q.calc&&(ze=q.calc(L,Q))}(!Array.isArray(ze)||!ze[0])&&(ze=[{x:m,y:m}]),ze[0].t||(ze[0].t={}),ze[0].trace=Q,de[De]=ze}}for(J(G,Y,j),re=0;re<Y.length;re++)tt(re,!0);for(re=0;re<Y.length;re++)Oe(re);for(He&&J(G,Y,j),re=0;re<Y.length;re++)tt(re,!0);for(re=0;re<Y.length;re++)tt(re,!1);te(L);var Le=ie(G,L);if(Le.length){for(j._numBoxes=0,j._numViolins=0,re=0;re<Le.length;re++)tt(Le[re],!0);for(re=0;re<Le.length;re++)tt(Le[re],!1);te(L)}u.getComponentMethod("fx","calc")(L),u.getComponentMethod("errorbars","calc")(L)};var ee=/(total|sum|min|max|mean|median) (ascending|descending)/;function ie(L,N){var G=[],Y,j,Q,q,re;function ue(It,zt,be){var Me=zt._id.charAt(0);if(It==="histogram2dcontour"){var Ue=zt._counterAxes[0],ce=_.getFromId(N,Ue),Ce=Me==="x"||Ue==="x"&&ce.type==="category",Ae=Me==="y"||Ue==="y"&&ce.type==="category";return function(ke,xe){return ke===0||xe===0||Ce&&ke===be[xe].length-1||Ae&&xe===be.length-1?-1:(Me==="y"?xe:ke)-1}}else return function(ke,xe){return Me==="y"?xe:ke}}var de={min:function(It){return v.aggNums(Math.min,null,It)},max:function(It){return v.aggNums(Math.max,null,It)},sum:function(It){return v.aggNums(function(zt,be){return zt+be},null,It)},total:function(It){return v.aggNums(function(zt,be){return zt+be},null,It)},mean:function(It){return v.mean(It)},median:function(It){return v.median(It)}};for(Y=0;Y<L.length;Y++){var me=L[Y];if(me.type==="category"){var pe=me.categoryorder.match(ee);if(pe){var ge=pe[1],Te=pe[2],He=me._id.charAt(0),Oe=He==="x",tt=[];for(j=0;j<me._categories.length;j++)tt.push([me._categories[j],[]]);for(j=0;j<me._traceIndices.length;j++){var Le=me._traceIndices[j],De=N._fullData[Le];if(De.visible===!0){var Se=De.type;u.traceIs(De,"histogram")&&(delete De._xautoBinFinished,delete De._yautoBinFinished);var ze=Se==="splom",Ke=Se==="scattergl",_t=N.calcdata[Le];for(Q=0;Q<_t.length;Q++){var Qe=_t[Q],et,rt;if(ze){var ft=De._axesDim[me._id];if(!Oe){var bt=De._diag[ft][0];bt&&(me=N._fullLayout[_.id2name(bt)])}var Ft=Qe.trace.dimensions[ft].values;for(q=0;q<Ft.length;q++)for(et=me._categoriesMap[Ft[q]],re=0;re<Qe.trace.dimensions.length;re++)if(re!==ft){var ct=Qe.trace.dimensions[re];tt[et][1].push(ct.values[q])}}else if(Ke){for(q=0;q<Qe.t.x.length;q++)Oe?(et=Qe.t.x[q],rt=Qe.t.y[q]):(et=Qe.t.y[q],rt=Qe.t.x[q]),tt[et][1].push(rt);Qe.t&&Qe.t._scene&&delete Qe.t._scene.dirty}else if(Qe.hasOwnProperty("z")){rt=Qe.z;var nt=ue(De.type,me,rt);for(q=0;q<rt.length;q++)for(re=0;re<rt[q].length;re++)et=nt(re,q),et+1&&tt[et][1].push(rt[q][re])}else for(et=Qe.p,et===void 0&&(et=Qe[He]),rt=Qe.s,rt===void 0&&(rt=Qe.v),rt===void 0&&(rt=Oe?Qe.y:Qe.x),Array.isArray(rt)||(rt===void 0?rt=[]:rt=[rt]),q=0;q<rt.length;q++)tt[et][1].push(rt[q])}}}me._categoriesValue=tt;var at=[];for(j=0;j<tt.length;j++)at.push([tt[j][0],de[ge](tt[j][1])]);at.sort(function(It,zt){return It[1]-zt[1]}),me._categoriesAggregatedValue=at,me._initialCategories=at.map(function(It){return It[0]}),Te==="descending"&&me._initialCategories.reverse(),G=G.concat(me.sortByInitialCategories())}}}return G}function J(L,N,G){var Y={};function j(ue){ue.clearCalc(),ue.type==="multicategory"&&ue.setupMultiCategory(N),Y[ue._id]=1}v.simpleMap(L,j);for(var Q=G._axisMatchGroups||[],q=0;q<Q.length;q++)for(var re in Q[q])Y[re]||j(G[_.id2name(re)])}function te(L){var N=L._fullLayout,G=N._visibleModules,Y={},j,Q,q;for(Q=0;Q<G.length;Q++){var re=G[Q],ue=re.crossTraceCalc;if(ue){var de=re.basePlotModule.name;Y[de]?v.pushUnique(Y[de],ue):Y[de]=[ue]}}for(q in Y){var me=Y[q],pe=N._subplots[q];if(Array.isArray(pe))for(j=0;j<pe.length;j++){var ge=pe[j],Te=q==="cartesian"?N._plots[ge]:N[ge];for(Q=0;Q<me.length;Q++)me[Q](L,Te,ge)}else for(Q=0;Q<me.length;Q++)me[Q](L)}}w.rehover=function(L){L._fullLayout._rehover&&L._fullLayout._rehover()},w.redrag=function(L){L._fullLayout._redrag&&L._fullLayout._redrag()},w.reselect=function(L){var N=L._fullLayout,G=(L.layout||{}).selections,Y=N._previousSelections;N._previousSelections=G;var j=N._reselect||JSON.stringify(G)!==JSON.stringify(Y);u.getComponentMethod("selections","reselect")(L,j)},w.generalUpdatePerTraceModule=function(L,N,G,Y){var j=N.traceHash,Q={},q;for(q=0;q<G.length;q++){var re=G[q],ue=re[0].trace;ue.visible&&(Q[ue.type]=Q[ue.type]||[],Q[ue.type].push(re))}for(var de in j)if(!Q[de]){var me=j[de][0],pe=me[0].trace;pe.visible=!1,Q[de]=[me]}for(var ge in Q){var Te=Q[ge],He=Te[0][0].trace._module;He.plot(L,N,v.filterVisible(Te),Y)}N.traceHash=Q},w.plotBasePlot=function(L,N,G,Y,j){var Q=u.getModule(L),q=b(N.calcdata,Q)[0];Q.plot(N,q,Y,j)},w.cleanBasePlot=function(L,N,G,Y,j){var Q=j._has&&j._has(L),q=G._has&&G._has(L);Q&&!q&&j["_"+L+"layer"].selectAll("g.trace").remove()}},{"../components/color":103,"../components/shapes/handle_outline":204,"../constants/numerical":224,"../lib":244,"../plot_api/plot_schema":279,"../plot_api/plot_template":280,"../plots/get_data":321,"../registry":327,"./animation_attributes":285,"./attributes":287,"./cartesian/axis_ids":295,"./command":317,"./font_attributes":319,"./frame_attributes":320,"./layout_attributes":323,"@plotly/d3":11,"d3-format":13,"d3-time-format":14,"fast-isnumeric":17}],326:[function(r,i,o){var n=r("../constants/docs");n.FORMAT_LINK,n.DATE_FORMAT_LINK;function a(s){var l=s.description?" "+s.description:"",u=s.keys||[];if(u.length>0){for(var c=[],h=0;h<u.length;h++)c[h]="`"+u[h]+"`";l=l+"Finally, the template string has access to ",u.length===1?l="variable "+c[0]:l="variables "+c.slice(0,-1).join(", ")+" and "+c.slice(-1)+"."}return l}o.hovertemplateAttrs=function(s,l){s=s||{},l=l||{},a(l);var u={valType:"string",dflt:"",editType:s.editType||"none"};return s.arrayOk!==!1&&(u.arrayOk=!0),u},o.texttemplateAttrs=function(s,l){s=s||{},l=l||{},a(l);var u={valType:"string",dflt:"",editType:s.editType||"calc"};return s.arrayOk!==!1&&(u.arrayOk=!0),u}},{"../constants/docs":221}],327:[function(r,i,o){var n=r("./lib/loggers"),a=r("./lib/noop"),s=r("./lib/push_unique"),l=r("./lib/is_plain_object"),u=r("./lib/dom").addStyleRule,c=r("./lib/extend"),h=r("./plots/attributes"),v=r("./plots/layout_attributes"),f=c.extendFlat,m=c.extendDeepAll;o.modules={},o.allCategories={},o.allTypes=[],o.subplotsRegistry={},o.transformsRegistry={},o.componentsRegistry={},o.layoutArrayContainers=[],o.layoutArrayRegexes=[],o.traceLayoutAttributes={},o.localeRegistry={},o.apiMethodRegistry={},o.collectableSubplotTypes=null,o.register=function(M){if(o.collectableSubplotTypes=null,M)M&&!Array.isArray(M)&&(M=[M]);else throw new Error("No argument passed to Plotly.register.");for(var D=0;D<M.length;D++){var k=M[D];if(!k)throw new Error("Invalid module was attempted to be registered!");switch(k.moduleType){case"trace":_(k);break;case"transform":d(k);break;case"component":p(k);break;case"locale":b(k);break;case"apiMethod":var R=k.name;o.apiMethodRegistry[R]=k.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},o.getModule=function(T){var M=o.modules[S(T)];return M?M._module:!1},o.traceIs=function(T,M){if(T=S(T),T==="various")return!1;var D=o.modules[T];return D||(T&&n.log("Unrecognized trace type "+T+"."),D=o.modules[h.type.dflt]),!!D.categories[M]},o.getTransformIndices=function(T,M){for(var D=[],k=T.transforms||[],R=0;R<k.length;R++)k[R].type===M&&D.push(R);return D},o.hasTransform=function(T,M){for(var D=T.transforms||[],k=0;k<D.length;k++)if(D[k].type===M)return!0;return!1},o.getComponentMethod=function(T,M){var D=o.componentsRegistry[T];return D&&D[M]||a},o.call=function(){var T=arguments[0],M=[].slice.call(arguments,1);return o.apiMethodRegistry[T].apply(null,M)};function _(T){var M=T.name,D=T.categories,k=T.meta;if(o.modules[M]){n.log("Type "+M+" already registered");return}o.subplotsRegistry[T.basePlotModule.name]||g(T.basePlotModule);for(var R={},P=0;P<D.length;P++)R[D[P]]=!0,o.allCategories[D[P]]=!0;o.modules[M]={_module:T,categories:R},k&&Object.keys(k).length&&(o.modules[M].meta=k),o.allTypes.push(M);for(var E in o.componentsRegistry)x(E,M);T.layoutAttributes&&f(o.traceLayoutAttributes,T.layoutAttributes);var O=T.basePlotModule,I=O.name;if(I==="mapbox"){var U=O.constants.styleRules;for(var V in U)u(".js-plotly-plot .plotly .mapboxgl-"+V,U[V])}(I==="geo"||I==="mapbox")&&window.PlotlyGeoAssets===void 0&&(window.PlotlyGeoAssets={topojson:{}})}function g(T){var M=T.name;if(o.subplotsRegistry[M]){n.log("Plot type "+M+" already registered.");return}y(T),o.subplotsRegistry[M]=T;for(var D in o.componentsRegistry)C(D,T.name)}function p(T){if(typeof T.name!="string")throw new Error("Component module *name* must be a string.");var M=T.name;o.componentsRegistry[M]=T,T.layoutAttributes&&(T.layoutAttributes._isLinkedToArray&&s(o.layoutArrayContainers,M),y(T));for(var D in o.modules)x(M,D);for(var k in o.subplotsRegistry)C(M,k);for(var R in o.transformsRegistry)w(M,R);T.schema&&T.schema.layout&&m(v,T.schema.layout)}function d(T){if(typeof T.name!="string")throw new Error("Transform module *name* must be a string.");var M="Transform module "+T.name,D=typeof T.transform=="function",k=typeof T.calcTransform=="function";if(!D&&!k)throw new Error(M+" is missing a *transform* or *calcTransform* method.");D&&k&&n.log([M+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),l(T.attributes)||n.log(M+" registered without an *attributes* object."),typeof T.supplyDefaults!="function"&&n.log(M+" registered without a *supplyDefaults* method."),o.transformsRegistry[T.name]=T;for(var R in o.componentsRegistry)w(R,T.name)}function b(T){var M=T.name,D=M.split("-")[0],k=T.dictionary,R=T.format,P=k&&Object.keys(k).length,E=R&&Object.keys(R).length,O=o.localeRegistry,I=O[M];if(I||(O[M]=I={}),D!==M){var U=O[D];U||(O[D]=U={}),P&&U.dictionary===I.dictionary&&(U.dictionary=k),E&&U.format===I.format&&(U.format=R)}P&&(I.dictionary=k),E&&(I.format=R)}function y(T){if(T.layoutAttributes){var M=T.layoutAttributes._arrayAttrRegexps;if(M)for(var D=0;D<M.length;D++)s(o.layoutArrayRegexes,M[D])}}function x(T,M){var D=o.componentsRegistry[T].schema;if(!(!D||!D.traces)){var k=D.traces[M];k&&m(o.modules[M]._module.attributes,k)}}function w(T,M){var D=o.componentsRegistry[T].schema;if(!(!D||!D.transforms)){var k=D.transforms[M];k&&m(o.transformsRegistry[M].attributes,k)}}function C(T,M){var D=o.componentsRegistry[T].schema;if(!(!D||!D.subplots)){var k=o.subplotsRegistry[M],R=k.layoutAttributes,P=k.attr==="subplot"?k.name:k.attr;Array.isArray(P)&&(P=P[0]);var E=D.subplots[P];R&&E&&m(R,E)}}function S(T){return typeof T=="object"&&(T=T.type),T}},{"./lib/dom":236,"./lib/extend":238,"./lib/is_plain_object":245,"./lib/loggers":248,"./lib/noop":253,"./lib/push_unique":258,"./plots/attributes":287,"./plots/layout_attributes":323}],328:[function(r,i,o){var n=r("../registry"),a=r("../lib"),s=a.extendFlat,l=a.extendDeep;function u(h){var v;switch(h){case"themes__thumb":v={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":v={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:v={}}return v}function c(h){var v=["xaxis","yaxis","zaxis"];return v.indexOf(h.slice(0,5))>-1}i.exports=function(v,f){var m,_=v.data,g=v.layout,p=l([],_),d=l({},g,u(f.tileClass)),b=v._context||{};if(f.width&&(d.width=f.width),f.height&&(d.height=f.height),f.tileClass==="thumbnail"||f.tileClass==="themes__thumb"){d.annotations=[];var y=Object.keys(d);for(m=0;m<y.length;m++)c(y[m])&&(d[y[m]].title={text:""});for(m=0;m<p.length;m++){var x=p[m];x.showscale=!1,x.marker&&(x.marker.showscale=!1),n.traceIs(x,"pie-like")&&(x.textposition="none")}}if(Array.isArray(f.annotations))for(m=0;m<f.annotations.length;m++)d.annotations.push(f.annotations[m]);var w=Object.keys(d).filter(function(D){return D.match(/^scene\d*$/)});if(w.length){var C={};for(f.tileClass==="thumbnail"&&(C={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),m=0;m<w.length;m++){var S=d[w[m]];S.xaxis||(S.xaxis={}),S.yaxis||(S.yaxis={}),S.zaxis||(S.zaxis={}),s(S.xaxis,C),s(S.yaxis,C),s(S.zaxis,C),S._scene=null}}var T=document.createElement("div");f.tileClass&&(T.className=f.tileClass);var M={gd:T,td:T,layout:d,data:p,config:{staticPlot:f.staticPlot===void 0?!0:f.staticPlot,plotGlPixelRatio:f.plotGlPixelRatio===void 0?2:f.plotGlPixelRatio,displaylogo:f.displaylogo||!1,showLink:f.showLink||!1,showTips:f.showTips||!1,mapboxAccessToken:b.mapboxAccessToken}};return f.setBackground!=="transparent"&&(M.config.setBackground=f.setBackground||"opaque"),M.gd.defaultLayout=u(f.tileClass),M}},{"../lib":244,"../registry":327}],329:[function(r,i,o){var n=r("../lib"),a=r("../plot_api/to_image"),s=r("./filesaver"),l=r("./helpers");function u(c,h){var v;return n.isPlainObject(c)||(v=n.getGraphDiv(c)),h=h||{},h.format=h.format||"png",h.width=h.width||null,h.height=h.height||null,h.imageDataOnly=!0,new Promise(function(f,m){v&&v._snapshotInProgress&&m(new Error("Snapshotting already in progress.")),n.isIE()&&h.format!=="svg"&&m(new Error(l.MSG_IE_BAD_FORMAT)),v&&(v._snapshotInProgress=!0);var _=a(c,h),g=h.filename||c.fn||"newplot";g+="."+h.format.replace("-","."),_.then(function(p){return v&&(v._snapshotInProgress=!1),s(p,g,h.format)}).then(function(p){f(p)}).catch(function(p){v&&(v._snapshotInProgress=!1),m(p)})})}i.exports=u},{"../lib":244,"../plot_api/to_image":283,"./filesaver":330,"./helpers":331}],330:[function(r,i,o){var n=r("../lib"),a=r("./helpers");function s(l,u,c){var h=document.createElement("a"),v="download"in h,f=new Promise(function(m,_){var g,p;if(n.isIE())return g=a.createBlob(l,"svg"),window.navigator.msSaveBlob(g,u),g=null,m(u);if(v)return g=a.createBlob(l,c),p=a.createObjectURL(g),h.href=p,h.download=u,document.body.appendChild(h),h.click(),document.body.removeChild(h),a.revokeObjectURL(p),g=null,m(u);if(n.isSafari()){var d=c==="svg"?",":";base64,";return a.octetStream(d+encodeURIComponent(l)),m(u)}_(new Error("download error"))});return f}i.exports=s},{"../lib":244,"./helpers":331}],331:[function(r,i,o){var n=r("../registry");o.getDelay=function(l){return l._has&&(l._has("gl3d")||l._has("gl2d")||l._has("mapbox"))?500:0},o.getRedrawFunc=function(l){return function(){n.getComponentMethod("colorbar","draw")(l)}},o.encodeSVG=function(l){return"data:image/svg+xml,"+encodeURIComponent(l)},o.encodeJSON=function(l){return"data:application/json,"+encodeURIComponent(l)};var a=window.URL||window.webkitURL;o.createObjectURL=function(l){return a.createObjectURL(l)},o.revokeObjectURL=function(l){return a.revokeObjectURL(l)},o.createBlob=function(l,u){if(u==="svg")return new window.Blob([l],{type:"image/svg+xml;charset=utf-8"});if(u==="full-json")return new window.Blob([l],{type:"application/json;charset=utf-8"});var c=s(window.atob(l));return new window.Blob([c],{type:"image/"+u})},o.octetStream=function(l){document.location.href="data:application/octet-stream"+l};function s(l){for(var u=l.length,c=new ArrayBuffer(u),h=new Uint8Array(c),v=0;v<u;v++)h[v]=l.charCodeAt(v);return c}o.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,o.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},{"../registry":327}],332:[function(r,i,o){var n=r("./helpers"),a={getDelay:n.getDelay,getRedrawFunc:n.getRedrawFunc,clone:r("./cloneplot"),toSVG:r("./tosvg"),svgToImg:r("./svgtoimg"),toImage:r("./toimage"),downloadImage:r("./download")};i.exports=a},{"./cloneplot":328,"./download":329,"./helpers":331,"./svgtoimg":333,"./toimage":334,"./tosvg":335}],333:[function(r,i,o){var n=r("../lib"),a=r("events").EventEmitter,s=r("./helpers");function l(u){var c=u.emitter||new a,h=new Promise(function(v,f){var m=window.Image,_=u.svg,g=u.format||"png";if(n.isIE()&&g!=="svg"){var p=new Error(s.MSG_IE_BAD_FORMAT);return f(p),u.promise?h:c.emit("error",p)}var d=u.canvas,b=u.scale||1,y=u.width||300,x=u.height||150,w=b*y,C=b*x,S=d.getContext("2d",{willReadFrequently:!0}),T=new m,M,D;g==="svg"||n.isSafari()?D=s.encodeSVG(_):(M=s.createBlob(_,"svg"),D=s.createObjectURL(M)),d.width=w,d.height=C,T.onload=function(){var k;switch(M=null,s.revokeObjectURL(D),g!=="svg"&&S.drawImage(T,0,0,w,C),g){case"jpeg":k=d.toDataURL("image/jpeg");break;case"png":k=d.toDataURL("image/png");break;case"webp":k=d.toDataURL("image/webp");break;case"svg":k=D;break;default:var R="Image format is not jpeg, png, svg or webp.";if(f(new Error(R)),!u.promise)return c.emit("error",R)}v(k),u.promise||c.emit("success",k)},T.onerror=function(k){if(M=null,s.revokeObjectURL(D),f(k),!u.promise)return c.emit("error",k)},T.src=D});return u.promise?h:c}i.exports=l},{"../lib":244,"./helpers":331,events:12}],334:[function(r,i,o){var n=r("events").EventEmitter,a=r("../registry"),s=r("../lib"),l=r("./helpers"),u=r("./cloneplot"),c=r("./tosvg"),h=r("./svgtoimg");function v(f,m){var _=new n,g=u(f,{format:"png"}),p=g.gd;p.style.position="absolute",p.style.left="-5000px",document.body.appendChild(p);function d(){var y=l.getDelay(p._fullLayout);setTimeout(function(){var x=c(p),w=document.createElement("canvas");w.id=s.randstr(),_=h({format:m.format,width:p._fullLayout.width,height:p._fullLayout.height,canvas:w,emitter:_,svg:x}),_.clean=function(){p&&document.body.removeChild(p)}},y)}var b=l.getRedrawFunc(p);return a.call("_doPlot",p,g.data,g.layout,g.config).then(b).then(d).catch(function(y){_.emit("error",y)}),_}i.exports=v},{"../lib":244,"../registry":327,"./cloneplot":328,"./helpers":331,"./svgtoimg":333,"./tosvg":335,events:12}],335:[function(r,i,o){var n=r("@plotly/d3"),a=r("../lib"),s=r("../components/drawing"),l=r("../components/color"),u=r("../constants/xmlns_namespaces"),c=/"/g,h="TOBESTRIPPED",v=new RegExp('("'+h+")|("+h+'")',"g");function f(_){var g=n.select("body").append("div").style({display:"none"}).html(""),p=_.replace(/(&[^;]*;)/gi,function(d){return d==="&lt;"?"&#60;":d==="&rt;"?"&#62;":d.indexOf("<")!==-1||d.indexOf(">")!==-1?"":g.html(d).text()});return g.remove(),p}function m(_){return _.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")}i.exports=function(g,p,d){var b=g._fullLayout,y=b._paper,x=b._toppaper,w=b.width,C=b.height,S;y.insert("rect",":first-child").call(s.setRect,0,0,w,C).call(l.fill,b.paper_bgcolor);var T=b._basePlotModules||[];for(S=0;S<T.length;S++){var M=T[S];M.toSVG&&M.toSVG(g)}if(x){var D=x.node().childNodes,k=Array.prototype.slice.call(D);for(S=0;S<k.length;S++){var R=k[S];R.childNodes.length&&y.node().appendChild(R)}}b._draggers&&b._draggers.remove(),y.node().style.background="",y.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var E=n.select(this);if(this.style.visibility==="hidden"||this.style.display==="none"){E.remove();return}else E.style({visibility:null,display:null});var O=this.style.fontFamily;O&&O.indexOf('"')!==-1&&E.style("font-family",O.replace(c,h))}),y.selectAll(".gradient_filled,.pattern_filled").each(function(){var E=n.select(this),O=this.style.fill;O&&O.indexOf("url(")!==-1&&E.style("fill",O.replace(c,h));var I=this.style.stroke;I&&I.indexOf("url(")!==-1&&E.style("stroke",I.replace(c,h))}),(p==="pdf"||p==="eps")&&y.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),y.node().setAttributeNS(u.xmlns,"xmlns",u.svg),y.node().setAttributeNS(u.xmlns,"xmlns:xlink",u.xlink),p==="svg"&&d&&(y.attr("width",d*w),y.attr("height",d*C),y.attr("viewBox","0 0 "+w+" "+C));var P=new window.XMLSerializer().serializeToString(y.node());return P=f(P),P=m(P),P=P.replace(v,"'"),a.isIE()&&(P=P.replace(/"/gi,"'"),P=P.replace(/(\('#)([^']*)('\))/gi,'("#$2")'),P=P.replace(/(\\')/gi,'"')),P}},{"../components/color":103,"../components/drawing":125,"../constants/xmlns_namespaces":225,"../lib":244,"@plotly/d3":11}],336:[function(r,i,o){var n=r("../../lib");i.exports=function(s,l){for(var u=0;u<s.length;u++)s[u].i=u;n.mergeArray(l.text,s,"tx"),n.mergeArray(l.hovertext,s,"htx");var c=l.marker;if(c){n.mergeArray(c.opacity,s,"mo",!0),n.mergeArray(c.color,s,"mc");var h=c.line;h&&(n.mergeArray(h.color,s,"mlc"),n.mergeArrayCastPositive(h.width,s,"mlw"))}}},{"../../lib":244}],337:[function(r,i,o){var n=r("../scatter/attributes"),a=r("../../plots/cartesian/axis_format_attributes").axisHoverFormat,s=r("../../plots/template_attributes").hovertemplateAttrs,l=r("../../plots/template_attributes").texttemplateAttrs,u=r("../../components/colorscale/attributes"),c=r("../../plots/font_attributes"),h=r("./constants"),v=r("../../components/drawing/attributes").pattern,f=r("../../lib/extend").extendFlat,m=c({editType:"calc",arrayOk:!0,colorEditType:"style"}),_=n.marker,g=_.line,p=f({},g.width,{dflt:0}),d=f({width:p,editType:"calc"},u("marker.line")),b=f({line:d,editType:"calc"},u("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:v});i.exports={x:n.x,x0:n.x0,dx:n.dx,y:n.y,y0:n.y0,dy:n.dy,xperiod:n.xperiod,yperiod:n.yperiod,xperiod0:n.xperiod0,yperiod0:n.yperiod0,xperiodalignment:n.xperiodalignment,yperiodalignment:n.yperiodalignment,xhoverformat:a("x"),yhoverformat:a("y"),text:n.text,texttemplate:l({editType:"plot"},{keys:h.eventDataKeys}),hovertext:n.hovertext,hovertemplate:s({},{keys:h.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:f({},m,{}),insidetextfont:f({},m,{}),outsidetextfont:f({},m,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:f({},n.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:b,offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},selected:{marker:{opacity:n.selected.marker.opacity,color:n.selected.marker.color,editType:"style"},textfont:n.selected.textfont,editType:"style"},unselected:{marker:{opacity:n.unselected.marker.opacity,color:n.unselected.marker.color,editType:"style"},textfont:n.unselected.textfont,editType:"style"},_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},{"../../components/colorscale/attributes":110,"../../components/drawing/attributes":124,"../../lib/extend":238,"../../plots/cartesian/axis_format_attributes":294,"../../plots/font_attributes":319,"../../plots/template_attributes":326,"../scatter/attributes":367,"./constants":339}],338:[function(r,i,o){var n=r("../../plots/cartesian/axes"),a=r("../../plots/cartesian/align_period"),s=r("../../components/colorscale/helpers").hasColorscale,l=r("../../components/colorscale/calc"),u=r("./arrays_to_calcdata"),c=r("../scatter/calc_selection");i.exports=function(v,f){var m=n.getFromId(v,f.xaxis||"x"),_=n.getFromId(v,f.yaxis||"y"),g,p,d,b,y,x,w={msUTC:!!(f.base||f.base===0)};f.orientation==="h"?(g=m.makeCalcdata(f,"x",w),d=_.makeCalcdata(f,"y"),b=a(f,_,"y",d),y=!!f.yperiodalignment,x="y"):(g=_.makeCalcdata(f,"y",w),d=m.makeCalcdata(f,"x"),b=a(f,m,"x",d),y=!!f.xperiodalignment,x="x"),p=b.vals;for(var C=Math.min(p.length,g.length),S=new Array(C),T=0;T<C;T++)S[T]={p:p[T],s:g[T]},y&&(S[T].orig_p=d[T],S[T][x+"End"]=b.ends[T],S[T][x+"Start"]=b.starts[T]),f.ids&&(S[T].id=String(f.ids[T]));return s(f,"marker")&&l(v,f,{vals:f.marker.color,containerStr:"marker",cLetter:"c"}),s(f,"marker.line")&&l(v,f,{vals:f.marker.line.color,containerStr:"marker.line",cLetter:"c"}),u(S,f),c(S,f),S}},{"../../components/colorscale/calc":111,"../../components/colorscale/helpers":114,"../../plots/cartesian/align_period":288,"../../plots/cartesian/axes":291,"../scatter/calc_selection":369,"./arrays_to_calcdata":336}],339:[function(r,i,o){i.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},{}],340:[function(r,i,o){var n=r("fast-isnumeric"),a=r("../../lib").isArrayOrTypedArray,s=r("../../constants/numerical").BADNUM,l=r("../../registry"),u=r("../../plots/cartesian/axes"),c=r("../../plots/cartesian/constraints").getAxisGroup,h=r("./sieve.js");function v(P,E){for(var O=E.xaxis,I=E.yaxis,U=P._fullLayout,V=P._fullData,Z=P.calcdata,z=[],H=[],B=0;B<V.length;B++){var W=V[B];if(W.visible===!0&&l.traceIs(W,"bar")&&W.xaxis===O._id&&W.yaxis===I._id&&(W.orientation==="h"?z.push(Z[B]):H.push(Z[B]),W._computePh))for(var F=P.calcdata[B],K=0;K<F.length;K++)typeof F[K].ph0=="function"&&(F[K].ph0=F[K].ph0()),typeof F[K].ph1=="function"&&(F[K].ph1=F[K].ph1())}var fe={xCat:O.type==="category"||O.type==="multicategory",yCat:I.type==="category"||I.type==="multicategory",mode:U.barmode,norm:U.barnorm,gap:U.bargap,groupgap:U.bargroupgap};f(P,O,I,H,fe),f(P,I,O,z,fe)}function f(P,E,O,I,U){if(I.length){var V,Z,z,H,B;switch(m(O,I),U.mode){case"overlay":_(E,O,I,U);break;case"group":for(V=[],Z=[],z=0;z<I.length;z++)H=I[z],B=H[0].trace,B.offset===void 0?Z.push(H):V.push(H);Z.length&&g(P,E,O,Z,U),V.length&&_(E,O,V,U);break;case"stack":case"relative":for(V=[],Z=[],z=0;z<I.length;z++)H=I[z],B=H[0].trace,B.base===void 0?Z.push(H):V.push(H);Z.length&&p(P,E,O,Z,U),V.length&&_(E,O,V,U);break}k(I,E)}}function m(P,E){var O,I;for(O=0;O<E.length;O++){var U=E[O],V=U[0].trace,Z=V.type==="funnel"?V._base:V.base,z,H=V.orientation==="h"?V.xcalendar:V.ycalendar,B=P.type==="category"||P.type==="multicategory"?function(){return null}:P.d2c;if(a(Z)){for(I=0;I<Math.min(Z.length,U.length);I++)z=B(Z[I],0,H),n(z)?(U[I].b=+z,U[I].hasB=1):U[I].b=0;for(;I<U.length;I++)U[I].b=0}else{z=B(Z,0,H);var W=n(z);for(z=W?z:0,I=0;I<U.length;I++)U[I].b=z,W&&(U[I].hasB=1)}}}function _(P,E,O,I){for(var U=0;U<O.length;U++){var V=O[U],Z=new h([V],{posAxis:P,sepNegVal:!1,overlapNoMerge:!I.norm});d(P,Z,I),I.norm?(T(Z),D(E,Z,I)):C(E,Z)}}function g(P,E,O,I,U){var V=new h(I,{posAxis:E,sepNegVal:!1,overlapNoMerge:!U.norm});b(P,E,V,U),M(V,E),U.norm?(T(V),D(O,V,U)):C(O,V)}function p(P,E,O,I,U){var V=new h(I,{posAxis:E,sepNegVal:U.mode==="relative",overlapNoMerge:!(U.norm||U.mode==="stack"||U.mode==="relative")});d(E,V,U),S(O,V,U);for(var Z=0;Z<I.length;Z++)for(var z=I[Z],H=0;H<z.length;H++){var B=z[H];if(B.s!==s){var W=B.b+B.s===V.get(B.p,B.s);W&&(B._outmost=!0)}}U.norm&&D(O,V,U)}function d(P,E,O){for(var I=E.minDiff,U=E.traces,V=I*(1-O.gap),Z=V,z=Z*(1-(O.groupgap||0)),H=-z/2,B=0;B<U.length;B++){var W=U[B],F=W[0].t;F.barwidth=z,F.poffset=H,F.bargroupwidth=V,F.bardelta=I}E.binWidth=U[0][0].t.barwidth/100,y(E),x(P,E),w(P,E)}function b(P,E,O,I){for(var U=P._fullLayout,V=O.positions,Z=O.distinctPositions,z=O.minDiff,H=O.traces,B=H.length,W=V.length!==Z.length,F=z*(1-I.gap),K=c(U,E._id)+H[0][0].trace.orientation,fe=U._alignmentOpts[K]||{},se=0;se<B;se++){var ee=H[se],ie=ee[0].trace,J=fe[ie.alignmentgroup]||{},te=Object.keys(J.offsetGroups||{}).length,L;te?L=F/te:L=W?F/B:F;var N=L*(1-(I.groupgap||0)),G;te?G=((2*ie._offsetIndex+1-te)*L-N)/2:G=W?((2*se+1-B)*L-N)/2:-N/2;var Y=ee[0].t;Y.barwidth=N,Y.poffset=G,Y.bargroupwidth=F,Y.bardelta=z}O.binWidth=H[0][0].t.barwidth/100,y(O),x(E,O),w(E,O,W)}function y(P){var E=P.traces,O,I;for(O=0;O<E.length;O++){var U=E[O],V=U[0],Z=V.trace,z=V.t,H=Z._offset||Z.offset,B=z.poffset,W;if(a(H)){for(W=Array.prototype.slice.call(H,0,U.length),I=0;I<W.length;I++)n(W[I])||(W[I]=B);for(I=W.length;I<U.length;I++)W.push(B);z.poffset=W}else H!==void 0&&(z.poffset=H);var F=Z._width||Z.width,K=z.barwidth;if(a(F)){var fe=Array.prototype.slice.call(F,0,U.length);for(I=0;I<fe.length;I++)n(fe[I])||(fe[I]=K);for(I=fe.length;I<U.length;I++)fe.push(K);if(z.barwidth=fe,H===void 0){for(W=[],I=0;I<U.length;I++)W.push(B+(K-fe[I])/2);z.poffset=W}}else F!==void 0&&(z.barwidth=F,H===void 0&&(z.poffset=B+(K-F)/2))}}function x(P,E){for(var O=E.traces,I=R(P),U=0;U<O.length;U++)for(var V=O[U],Z=V[0].t,z=Z.poffset,H=Array.isArray(z),B=Z.barwidth,W=Array.isArray(B),F=0;F<V.length;F++){var K=V[F],fe=K.w=W?B[F]:B;K[I]=K.p+(H?z[F]:z)+fe/2}}function w(P,E,O){var I=E.traces,U=E.minDiff,V=U/2;u.minDtick(P,E.minDiff,E.distinctPositions[0],O);for(var Z=0;Z<I.length;Z++){var z=I[Z],H=z[0],B=H.trace,W=[],F,K,fe,se;for(se=0;se<z.length;se++)F=z[se],K=F.p-V,fe=F.p+V,W.push(K,fe);if(B.width||B.offset){var ee=H.t,ie=ee.poffset,J=ee.barwidth,te=Array.isArray(ie),L=Array.isArray(J);for(se=0;se<z.length;se++){F=z[se];var N=te?ie[se]:ie,G=L?J[se]:J;K=F.p+N,fe=K+G,W.push(K,fe)}}B._extremes[P._id]=u.findExtremes(P,W,{padded:!1})}}function C(P,E){for(var O=E.traces,I=R(P),U=0;U<O.length;U++){for(var V=O[U],Z=V[0].trace,z=[],H=!1,B=0;B<V.length;B++){var W=V[B],F=W.b,K=F+W.s;W[I]=K,z.push(K),W.hasB&&z.push(F),(!W.hasB||!W.b)&&(H=!0)}Z._extremes[P._id]=u.findExtremes(P,z,{tozero:H,padded:!0})}}function S(P,E,O){var I=R(P),U=E.traces,V,Z,z,H,B,W;for(H=0;H<U.length;H++)if(V=U[H],Z=V[0].trace,Z.type==="funnel")for(B=0;B<V.length;B++)W=V[B],W.s!==s&&E.put(W.p,-.5*W.s);for(H=0;H<U.length;H++){V=U[H],Z=V[0].trace,z=Z.type==="funnel";var F=[];for(B=0;B<V.length;B++)if(W=V[B],W.s!==s){var K;z?K=W.s:K=W.s+W.b;var fe=E.put(W.p,K),se=fe+K;W.b=fe,W[I]=se,O.norm||(F.push(se),W.hasB&&F.push(fe))}O.norm||(Z._extremes[P._id]=u.findExtremes(P,F,{tozero:!0,padded:!0}))}}function T(P){for(var E=P.traces,O=0;O<E.length;O++)for(var I=E[O],U=0;U<I.length;U++){var V=I[U];V.s!==s&&P.put(V.p,V.b+V.s)}}function M(P,E){for(var O=P.traces,I=0;I<O.length;I++){var U=O[I],V=U[0].trace;if(V.base===void 0)for(var Z=new h([U],{posAxis:E,sepNegVal:!0,overlapNoMerge:!0}),z=0;z<U.length;z++){var H=U[z];if(H.p!==s){var B=Z.put(H.p,H.b+H.s);B&&(H.b=B)}}}}function D(P,E,O){var I=E.traces,U=R(P),V=O.norm==="fraction"?1:100,Z=V/1e9,z=P.l2c(P.c2l(0)),H=O.mode==="stack"?V:z;function B(G){return n(P.c2l(G))&&(G<z-Z||G>H+Z||!n(z))}for(var W=0;W<I.length;W++){for(var F=I[W],K=F[0].trace,fe=[],se=!1,ee=!1,ie=0;ie<F.length;ie++){var J=F[ie];if(J.s!==s){var te=Math.abs(V/E.get(J.p,J.s));J.b*=te,J.s*=te;var L=J.b,N=L+J.s;J[U]=N,fe.push(N),ee=ee||B(N),J.hasB&&(fe.push(L),ee=ee||B(L)),(!J.hasB||!J.b)&&(se=!0)}}K._extremes[P._id]=u.findExtremes(P,fe,{tozero:se,padded:ee})}}function k(P,E){var O=R(E),I={},U,V,Z,z=1/0,H=-1/0;for(U=0;U<P.length;U++)for(Z=P[U],V=0;V<Z.length;V++){var B=Z[V].p;n(B)&&(z=Math.min(z,B),H=Math.max(H,B))}var W=1e4/(H-z),F=I.round=function(te){return String(Math.round(W*(te-z)))};for(U=0;U<P.length;U++){Z=P[U],Z[0].t.extents=I;var K=Z[0].t.poffset,fe=Array.isArray(K);for(V=0;V<Z.length;V++){var se=Z[V],ee=se[O]-se.w/2;if(n(ee)){var ie=se[O]+se.w/2,J=F(se.p);I[J]?I[J]=[Math.min(ee,I[J][0]),Math.max(ie,I[J][1])]:I[J]=[ee,ie]}se.p0=se.p+(fe?K[V]:K),se.p1=se.p0+se.w,se.s0=se.b,se.s1=se.s0+se.s}}}function R(P){return P._id.charAt(0)}i.exports={crossTraceCalc:v,setGroupPositions:f}},{"../../constants/numerical":224,"../../lib":244,"../../plots/cartesian/axes":291,"../../plots/cartesian/constraints":299,"../../registry":327,"./sieve.js":350,"fast-isnumeric":17}],341:[function(r,i,o){var n=r("../../lib"),a=r("../../components/color"),s=r("../../registry"),l=r("../scatter/xy_defaults"),u=r("../scatter/period_defaults"),c=r("./style_defaults"),h=r("../../plots/cartesian/constraints").getAxisGroup,v=r("./attributes"),f=n.coerceFont;function m(d,b,y,x){function w(D,k){return n.coerce(d,b,v,D,k)}var C=l(d,b,x,w);if(!C){b.visible=!1;return}u(d,b,x,w),w("xhoverformat"),w("yhoverformat"),w("orientation",b.x&&!b.y?"h":"v"),w("base"),w("offset"),w("width"),w("text"),w("hovertext"),w("hovertemplate");var S=w("textposition");p(d,b,x,w,S,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),c(d,b,w,y,x);var T=(b.marker.line||{}).color,M=s.getComponentMethod("errorbars","supplyDefaults");M(d,b,T||a.defaultLine,{axis:"y"}),M(d,b,T||a.defaultLine,{axis:"x",inherit:"y"}),n.coerceSelectionMarkerOpacity(b,w)}function _(d,b,y,x){var w=b.orientation,C=b[{v:"x",h:"y"}[w]+"axis"],S=h(y,C)+w,T=y._alignmentOpts||{},M=x("alignmentgroup"),D=T[S];D||(D=T[S]={});var k=D[M];k?k.traces.push(b):k=D[M]={traces:[b],alignmentIndex:Object.keys(D).length,offsetGroups:{}};var R=x("offsetgroup"),P=k.offsetGroups,E=P[R];R&&(E||(E=P[R]={offsetIndex:Object.keys(P).length}),b._offsetIndex=E.offsetIndex)}function g(d,b){var y,x;function w(S){return n.coerce(x._input,x,v,S)}if(b.barmode==="group")for(var C=0;C<d.length;C++)x=d[C],x.type==="bar"&&(y=x._input,_(y,x,b,w))}function p(d,b,y,x,w,C){C=C||{};var S=C.moduleHasSelected!==!1,T=C.moduleHasUnselected!==!1,M=C.moduleHasConstrain!==!1,D=C.moduleHasCliponaxis!==!1,k=C.moduleHasTextangle!==!1,R=C.moduleHasInsideanchor!==!1,P=!!C.hasPathbar,E=Array.isArray(w)||w==="auto",O=E||w==="inside",I=E||w==="outside";if(O||I){var U=f(x,"textfont",y.font),V=n.extendFlat({},U),Z=d.textfont&&d.textfont.color,z=!Z;if(z&&delete V.color,f(x,"insidetextfont",V),P){var H=n.extendFlat({},U);z&&delete H.color,f(x,"pathbar.textfont",H)}I&&f(x,"outsidetextfont",U),S&&x("selected.textfont.color"),T&&x("unselected.textfont.color"),M&&x("constraintext"),D&&x("cliponaxis"),k&&x("textangle"),x("texttemplate")}O&&R&&x("insidetextanchor")}i.exports={supplyDefaults:m,crossTraceDefaults:g,handleGroupingDefaults:_,handleText:p}},{"../../components/color":103,"../../lib":244,"../../plots/cartesian/constraints":299,"../../registry":327,"../scatter/period_defaults":387,"../scatter/xy_defaults":394,"./attributes":337,"./style_defaults":352}],342:[function(r,i,o){i.exports=function(a,s,l){return a.x="xVal"in s?s.xVal:s.x,a.y="yVal"in s?s.yVal:s.y,s.xa&&(a.xaxis=s.xa),s.ya&&(a.yaxis=s.ya),l.orientation==="h"?(a.label=a.y,a.value=a.x):(a.label=a.x,a.value=a.y),a}},{}],343:[function(r,i,o){var n=r("fast-isnumeric"),a=r("tinycolor2"),s=r("../../lib").isArrayOrTypedArray;o.coerceString=function(l,u,c){if(typeof u=="string"){if(u||!l.noBlank)return u}else if((typeof u=="number"||u===!0)&&!l.strict)return String(u);return c!==void 0?c:l.dflt},o.coerceNumber=function(l,u,c){if(n(u)){u=+u;var h=l.min,v=l.max,f=h!==void 0&&u<h||v!==void 0&&u>v;if(!f)return u}return c!==void 0?c:l.dflt},o.coerceColor=function(l,u,c){return a(u).isValid()?u:c!==void 0?c:l.dflt},o.coerceEnumerated=function(l,u,c){return l.coerceNumber&&(u=+u),l.values.indexOf(u)!==-1?u:c!==void 0?c:l.dflt},o.getValue=function(l,u){var c;return Array.isArray(l)?u<l.length&&(c=l[u]):c=l,c},o.getLineWidth=function(l,u){var c=0<u.mlw?u.mlw:s(l.marker.line.width)?0:l.marker.line.width;return c}},{"../../lib":244,"fast-isnumeric":17,tinycolor2:68}],344:[function(r,i,o){var n=r("../../components/fx"),a=r("../../registry"),s=r("../../components/color"),l=r("../../lib").fillText,u=r("./helpers").getLineWidth,c=r("../../plots/cartesian/axes").hoverLabelText,h=r("../../constants/numerical").BADNUM;function v(_,g,p,d,b){var y=f(_,g,p,d,b);if(y){var x=y.cd,w=x[0].trace,C=x[y.index];return y.color=m(w,C),a.getComponentMethod("errorbars","hoverInfo")(C,w,y),[y]}}function f(_,g,p,d,b){var y=_.cd,x=y[0].trace,w=y[0].t,C=d==="closest",S=x.type==="waterfall",T=_.maxHoverDistance,M=_.maxSpikeDistance,D,k,R,P,E,O,I;x.orientation==="h"?(D=p,k=g,R="y",P="x",E=ie,O=fe):(D=g,k=p,R="x",P="y",O=ie,E=fe);var U=x[R+"period"],V=C||U;function Z(ue){return H(ue,-1)}function z(ue){return H(ue,1)}function H(ue,de){var me=ue.w;return ue[R]+de*me/2}function B(ue){return ue[R+"End"]-ue[R+"Start"]}var W=C?Z:U?function(ue){return ue.p-B(ue)/2}:function(ue){return Math.min(Z(ue),ue.p-w.bardelta/2)},F=C?z:U?function(ue){return ue.p+B(ue)/2}:function(ue){return Math.max(z(ue),ue.p+w.bardelta/2)};function K(ue,de,me){return b.finiteRange&&(me=0),n.inbox(ue-D,de-D,me+Math.min(1,Math.abs(de-ue)/I)-1)}function fe(ue){return K(W(ue),F(ue),T)}function se(ue){return K(Z(ue),z(ue),M)}function ee(ue){var de=ue[P];if(S){var me=Math.abs(ue.rawS)||0;k>0?de+=me:k<0&&(de-=me)}return de}function ie(ue){var de=k,me=ue.b,pe=ee(ue);return n.inbox(me-de,pe-de,T+(pe-de)/(pe-me)-1)}function J(ue){var de=k,me=ue.b,pe=ee(ue);return n.inbox(me-de,pe-de,M+(pe-de)/(pe-me)-1)}var te=_[R+"a"],L=_[P+"a"];I=Math.abs(te.r2c(te.range[1])-te.r2c(te.range[0]));function N(ue){return(E(ue)+O(ue))/2}var G=n.getDistanceFunction(d,E,O,N);if(n.getClosest(y,G,_),_.index!==!1&&y[_.index].p!==h){V||(W=function(ue){return Math.min(Z(ue),ue.p-w.bargroupwidth/2)},F=function(ue){return Math.max(z(ue),ue.p+w.bargroupwidth/2)});var Y=_.index,j=y[Y],Q=x.base?j.b+j.s:j.s;_[P+"0"]=_[P+"1"]=L.c2p(j[P],!0),_[P+"LabelVal"]=Q;var q=w.extents[w.extents.round(j.p)];_[R+"0"]=te.c2p(C?W(j):q[0],!0),_[R+"1"]=te.c2p(C?F(j):q[1],!0);var re=j.orig_p!==void 0;return _[R+"LabelVal"]=re?j.orig_p:j.p,_.labelLabel=c(te,_[R+"LabelVal"],x[R+"hoverformat"]),_.valueLabel=c(L,_[P+"LabelVal"],x[P+"hoverformat"]),_.baseLabel=c(L,j.b,x[P+"hoverformat"]),_.spikeDistance=(J(j)+se(j))/2,_[R+"Spike"]=te.c2p(j.p,!0),l(j,x,_),_.hovertemplate=x.hovertemplate,_}}function m(_,g){var p=g.mcc||_.marker.color,d=g.mlcc||_.marker.line.color,b=u(_,g);if(s.opacity(p))return p;if(s.opacity(d)&&b)return d}i.exports={hoverPoints:v,hoverOnBars:f,getTraceColor:m}},{"../../components/color":103,"../../components/fx":143,"../../constants/numerical":224,"../../lib":244,"../../plots/cartesian/axes":291,"../../registry":327,"./helpers":343}],345:[function(r,i,o){i.exports={attributes:r("./attributes"),layoutAttributes:r("./layout_attributes"),supplyDefaults:r("./defaults").supplyDefaults,crossTraceDefaults:r("./defaults").crossTraceDefaults,supplyLayoutDefaults:r("./layout_defaults"),calc:r("./calc"),crossTraceCalc:r("./cross_trace_calc").crossTraceCalc,colorbar:r("../scatter/marker_colorbar"),arraysToCalcdata:r("./arrays_to_calcdata"),plot:r("./plot").plot,style:r("./style").style,styleOnSelect:r("./style").styleOnSelect,hoverPoints:r("./hover").hoverPoints,eventData:r("./event_data"),selectPoints:r("./select"),moduleType:"trace",name:"bar",basePlotModule:r("../../plots/cartesian"),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}},{"../../plots/cartesian":303,"../scatter/marker_colorbar":385,"./arrays_to_calcdata":336,"./attributes":337,"./calc":338,"./cross_trace_calc":340,"./defaults":341,"./event_data":342,"./hover":344,"./layout_attributes":346,"./layout_defaults":347,"./plot":348,"./select":349,"./style":351}],346:[function(r,i,o){i.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},{}],347:[function(r,i,o){var n=r("../../registry"),a=r("../../plots/cartesian/axes"),s=r("../../lib"),l=r("./layout_attributes");i.exports=function(u,c,h){function v(w,C){return s.coerce(u,c,l,w,C)}for(var f=!1,m=!1,_=!1,g={},p=v("barmode"),d=0;d<h.length;d++){var b=h[d];if(n.traceIs(b,"bar")&&b.visible)f=!0;else continue;if(p==="group"){var y=b.xaxis+b.yaxis;g[y]&&(_=!0),g[y]=!0}if(b.visible&&b.type==="histogram"){var x=a.getFromId({_fullLayout:c},b[b.orientation==="v"?"xaxis":"yaxis"]);x.type!=="category"&&(m=!0)}}if(!f){delete c.barmode;return}p!=="overlay"&&v("barnorm"),v("bargap",m&&!_?0:.2),v("bargroupgap")}},{"../../lib":244,"../../plots/cartesian/axes":291,"../../registry":327,"./layout_attributes":346}],348:[function(r,i,o){var n=r("@plotly/d3"),a=r("fast-isnumeric"),s=r("../../lib"),l=r("../../lib/svg_text_utils"),u=r("../../components/color"),c=r("../../components/drawing"),h=r("../../registry"),v=r("../../plots/cartesian/axes").tickText,f=r("./uniform_text"),m=f.recordMinTextSize,_=f.clearMinTextSize,g=r("./style"),p=r("./helpers"),d=r("./constants"),b=r("./attributes"),y=b.text,x=b.textposition,w=r("../../components/fx/helpers").appendArrayPointValue,C=d.TEXTPAD;function S(W){return W.id}function T(W){if(W.ids)return S}function M(W,F){return W<F?1:-1}function D(W,F,K,fe){var se=[],ee=[],ie=fe?F:K,J=fe?K:F;return se[0]=ie.c2p(W.s0,!0),ee[0]=J.c2p(W.p0,!0),se[1]=ie.c2p(W.s1,!0),ee[1]=J.c2p(W.p1,!0),fe?[se,ee]:[ee,se]}function k(W,F,K,fe){if(!F.uniformtext.mode&&R(K)){var se;return fe&&(se=fe()),W.transition().duration(K.duration).ease(K.easing).each("end",function(){se&&se()}).each("interrupt",function(){se&&se()})}else return W}function R(W){return W&&W.duration>0}function P(W,F,K,fe,se,ee){var ie=F.xaxis,J=F.yaxis,te=W._fullLayout;se||(se={mode:te.barmode,norm:te.barmode,gap:te.bargap,groupgap:te.bargroupgap},_("bar",te));var L=s.makeTraceGroups(fe,K,"trace bars").each(function(N){var G=n.select(this),Y=N[0].trace,j=Y.type==="waterfall",Q=Y.type==="funnel",q=Y.type==="bar",re=q||Q,ue=0;j&&Y.connector.visible&&Y.connector.mode==="between"&&(ue=Y.connector.line.width/2);var de=Y.orientation==="h",me=R(se),pe=s.ensureSingle(G,"g","points"),ge=T(Y),Te=pe.selectAll("g.point").data(s.identity,ge);Te.enter().append("g").classed("point",!0),Te.exit().remove(),Te.each(function(Oe,tt){var Le=n.select(this),De=D(Oe,ie,J,de),Se=De[0][0],ze=De[0][1],Ke=De[1][0],_t=De[1][1],Qe=(de?ze-Se:_t-Ke)===0;Qe&&re&&p.getLineWidth(Y,Oe)&&(Qe=!1),Qe||(Qe=!a(Se)||!a(ze)||!a(Ke)||!a(_t)),Oe.isBlank=Qe,Qe&&(de?ze=Se:_t=Ke),ue&&!Qe&&(de?(Se-=M(Se,ze)*ue,ze+=M(Se,ze)*ue):(Ke-=M(Ke,_t)*ue,_t+=M(Ke,_t)*ue));var et,rt;if(Y.type==="waterfall"){if(!Qe){var ft=Y[Oe.dir].marker;et=ft.line.width,rt=ft.color}}else et=p.getLineWidth(Y,Oe),rt=Oe.mc||Y.marker.color;function bt(zt){var be=n.round(et/2%1,2);return se.gap===0&&se.groupgap===0?n.round(Math.round(zt)-be,2):zt}function Ft(zt,be,Me){return Me&&zt===be?zt:Math.abs(zt-be)>=2?bt(zt):zt>be?Math.ceil(zt):Math.floor(zt)}if(!W._context.staticPlot){var ct=u.opacity(rt),nt=ct<1||et>.01?bt:Ft;Se=nt(Se,ze,de),ze=nt(ze,Se,de),Ke=nt(Ke,_t,!de),_t=nt(_t,Ke,!de)}var at=k(s.ensureSingle(Le,"path"),te,se,ee);if(at.style("vector-effect","non-scaling-stroke").attr("d",isNaN((ze-Se)*(_t-Ke))||Qe&&W._context.staticPlot?"M0,0Z":"M"+Se+","+Ke+"V"+_t+"H"+ze+"V"+Ke+"Z").call(c.setClipUrl,F.layerClipId,W),!te.uniformtext.mode&&me){var It=c.makePointStyleFns(Y);c.singlePointStyle(Oe,at,Y,It,W)}E(W,F,Le,N,tt,Se,ze,Ke,_t,se,ee),F.layerClipId&&c.hideOutsideRangePoint(Oe,Le.select("text"),ie,J,Y.xcalendar,Y.ycalendar)});var He=Y.cliponaxis===!1;c.setClipUrl(G,He?null:F.layerClipId,W)});h.getComponentMethod("errorbars","plot")(W,L,F,se)}function E(W,F,K,fe,se,ee,ie,J,te,L,N){var G=F.xaxis,Y=F.yaxis,j=W._fullLayout,Q;function q(zt,be,Me){var Ue=s.ensureSingle(zt,"text").text(be).attr({class:"bartext bartext-"+Q,"text-anchor":"middle","data-notex":1}).call(c.font,Me).call(l.convertToTspans,W);return Ue}var re=fe[0].trace,ue=re.orientation==="h",de=Z(j,fe,se,G,Y);Q=z(re,se);var me=L.mode==="stack"||L.mode==="relative",pe=fe[se],ge=!me||pe._outmost;if(!de||Q==="none"||(pe.isBlank||ee===ie||J===te)&&(Q==="auto"||Q==="inside")){K.select("text").remove();return}var Te=j.font,He=g.getBarColor(fe[se],re),Oe=g.getInsideTextFont(re,se,Te,He),tt=g.getOutsideTextFont(re,se,Te),Le=K.datum();ue?G.type==="log"&&Le.s0<=0&&(G.range[0]<G.range[1]?ee=0:ee=G._length):Y.type==="log"&&Le.s0<=0&&(Y.range[0]<Y.range[1]?J=Y._length:J=0);var De=Math.abs(ie-ee)-2*C,Se=Math.abs(te-J)-2*C,ze,Ke,_t,Qe,et;if(Q==="outside"&&!ge&&!pe.hasB&&(Q="inside"),Q==="auto")if(ge){Q="inside",et=s.ensureUniformFontSize(W,Oe),ze=q(K,de,et),Ke=c.bBox(ze.node()),_t=Ke.width,Qe=Ke.height;var rt=_t>0&&Qe>0,ft=_t<=De&&Qe<=Se,bt=_t<=Se&&Qe<=De,Ft=ue?De>=_t*(Se/Qe):Se>=Qe*(De/_t);rt&&(ft||bt||Ft)?Q="inside":(Q="outside",ze.remove(),ze=null)}else Q="inside";if(!ze){et=s.ensureUniformFontSize(W,Q==="outside"?tt:Oe),ze=q(K,de,et);var ct=ze.attr("transform");if(ze.attr("transform",""),Ke=c.bBox(ze.node()),_t=Ke.width,Qe=Ke.height,ze.attr("transform",ct),_t<=0||Qe<=0){ze.remove();return}}var nt=re.textangle,at,It;Q==="outside"?(It=re.constraintext==="both"||re.constraintext==="outside",at=V(ee,ie,J,te,Ke,{isHorizontal:ue,constrained:It,angle:nt})):(It=re.constraintext==="both"||re.constraintext==="inside",at=U(ee,ie,J,te,Ke,{isHorizontal:ue,constrained:It,angle:nt,anchor:re.insidetextanchor})),at.fontSize=et.size,m(re.type==="histogram"?"bar":re.type,at,j),pe.transform=at,k(ze,j,L,N).attr("transform",s.getTextTransform(at))}function O(W){return W==="auto"?0:W}function I(W,F){var K=Math.PI/180*F,fe=Math.abs(Math.sin(K)),se=Math.abs(Math.cos(K));return{x:W.width*se+W.height*fe,y:W.width*fe+W.height*se}}function U(W,F,K,fe,se,ee){var ie=!!ee.isHorizontal,J=!!ee.constrained,te=ee.angle||0,L=ee.anchor||"end",N=L==="end",G=L==="start",Y=ee.leftToRight||0,j=(Y+1)/2,Q=1-j,q=se.width,re=se.height,ue=Math.abs(F-W),de=Math.abs(fe-K),me=ue>2*C&&de>2*C?C:0;ue-=2*me,de-=2*me;var pe=O(te);te==="auto"&&!(q<=ue&&re<=de)&&(q>ue||re>de)&&(!(q>de||re>ue)||q<re!=ue<de)&&(pe+=90);var ge=I(se,pe),Te=1;J&&(Te=Math.min(1,ue/ge.x,de/ge.y));var He=se.left*Q+se.right*j,Oe=(se.top+se.bottom)/2,tt=(W+C)*Q+(F-C)*j,Le=(K+fe)/2,De=0,Se=0;if(G||N){var ze=(ie?ge.x:ge.y)/2,Ke=ie?M(W,F):M(K,fe);ie?G?(tt=W+Ke*me,De=-Ke*ze):(tt=F-Ke*me,De=Ke*ze):G?(Le=K+Ke*me,Se=-Ke*ze):(Le=fe-Ke*me,Se=Ke*ze)}return{textX:He,textY:Oe,targetX:tt,targetY:Le,anchorX:De,anchorY:Se,scale:Te,rotate:pe}}function V(W,F,K,fe,se,ee){var ie=!!ee.isHorizontal,J=!!ee.constrained,te=ee.angle||0,L=se.width,N=se.height,G=Math.abs(F-W),Y=Math.abs(fe-K),j;ie?j=Y>2*C?C:0:j=G>2*C?C:0;var Q=1;J&&(Q=ie?Math.min(1,Y/N):Math.min(1,G/L));var q=O(te),re=I(se,q),ue=(ie?re.x:re.y)/2,de=(se.left+se.right)/2,me=(se.top+se.bottom)/2,pe=(W+F)/2,ge=(K+fe)/2,Te=0,He=0,Oe=ie?M(F,W):M(K,fe);return ie?(pe=F-Oe*j,Te=Oe*ue):(ge=fe+Oe*j,He=-Oe*ue),{textX:de,textY:me,targetX:pe,targetY:ge,anchorX:Te,anchorY:He,scale:Q,rotate:q}}function Z(W,F,K,fe,se){var ee=F[0].trace,ie=ee.texttemplate,J;return ie?J=H(W,F,K,fe,se):ee.textinfo?J=B(F,K,fe,se):J=p.getValue(ee.text,K),p.coerceString(y,J)}function z(W,F){var K=p.getValue(W.textposition,F);return p.coerceEnumerated(x,K)}function H(W,F,K,fe,se){var ee=F[0].trace,ie=s.castOption(ee,K,"texttemplate");if(!ie)return"";var J=ee.type==="histogram",te=ee.type==="waterfall",L=ee.type==="funnel",N=ee.orientation==="h",G,Y,j,Q;N?(G="y",Y=se,j="x",Q=fe):(G="x",Y=fe,j="y",Q=se);function q(Te){return v(Y,Y.c2l(Te),!0).text}function re(Te){return v(Q,Q.c2l(Te),!0).text}var ue=F[K],de={};de.label=ue.p,de.labelLabel=de[G+"Label"]=q(ue.p);var me=s.castOption(ee,ue.i,"text");(me===0||me)&&(de.text=me),de.value=ue.s,de.valueLabel=de[j+"Label"]=re(ue.s);var pe={};w(pe,ee,ue.i),(J||pe.x===void 0)&&(pe.x=N?de.value:de.label),(J||pe.y===void 0)&&(pe.y=N?de.label:de.value),(J||pe.xLabel===void 0)&&(pe.xLabel=N?de.valueLabel:de.labelLabel),(J||pe.yLabel===void 0)&&(pe.yLabel=N?de.labelLabel:de.valueLabel),te&&(de.delta=+ue.rawS||ue.s,de.deltaLabel=re(de.delta),de.final=ue.v,de.finalLabel=re(de.final),de.initial=de.final-de.delta,de.initialLabel=re(de.initial)),L&&(de.value=ue.s,de.valueLabel=re(de.value),de.percentInitial=ue.begR,de.percentInitialLabel=s.formatPercent(ue.begR),de.percentPrevious=ue.difR,de.percentPreviousLabel=s.formatPercent(ue.difR),de.percentTotal=ue.sumR,de.percenTotalLabel=s.formatPercent(ue.sumR));var ge=s.castOption(ee,ue.i,"customdata");return ge&&(de.customdata=ge),s.texttemplateString(ie,de,W._d3locale,pe,de,ee._meta||{})}function B(W,F,K,fe){var se=W[0].trace,ee=se.orientation==="h",ie=se.type==="waterfall",J=se.type==="funnel";function te(ge){var Te=ee?fe:K;return v(Te,ge,!0).text}function L(ge){var Te=ee?K:fe;return v(Te,+ge,!0).text}var N=se.textinfo,G=W[F],Y=N.split("+"),j=[],Q,q=function(ge){return Y.indexOf(ge)!==-1};if(q("label")&&j.push(te(W[F].p)),q("text")&&(Q=s.castOption(se,G.i,"text"),(Q===0||Q)&&j.push(Q)),ie){var re=+G.rawS||G.s,ue=G.v,de=ue-re;q("initial")&&j.push(L(de)),q("delta")&&j.push(L(re)),q("final")&&j.push(L(ue))}if(J){q("value")&&j.push(L(G.s));var me=0;q("percent initial")&&me++,q("percent previous")&&me++,q("percent total")&&me++;var pe=me>1;q("percent initial")&&(Q=s.formatPercent(G.begR),pe&&(Q+=" of initial"),j.push(Q)),q("percent previous")&&(Q=s.formatPercent(G.difR),pe&&(Q+=" of previous"),j.push(Q)),q("percent total")&&(Q=s.formatPercent(G.sumR),pe&&(Q+=" of total"),j.push(Q))}return j.join("<br>")}i.exports={plot:P,toMoveInsideBar:U}},{"../../components/color":103,"../../components/drawing":125,"../../components/fx/helpers":139,"../../lib":244,"../../lib/svg_text_utils":267,"../../plots/cartesian/axes":291,"../../registry":327,"./attributes":337,"./constants":339,"./helpers":343,"./style":351,"./uniform_text":353,"@plotly/d3":11,"fast-isnumeric":17}],349:[function(r,i,o){i.exports=function(s,l){var u=s.cd,c=s.xaxis,h=s.yaxis,v=u[0].trace,f=v.type==="funnel",m=v.orientation==="h",_=[],g;if(l===!1)for(g=0;g<u.length;g++)u[g].selected=0;else for(g=0;g<u.length;g++){var p=u[g],d="ct"in p?p.ct:n(p,c,h,m,f);l.contains(d,!1,g,s)?(_.push({pointNumber:g,x:c.c2d(p.x),y:h.c2d(p.y)}),p.selected=1):p.selected=0}return _};function n(a,s,l,u,c){var h=s.c2p(u?a.s0:a.p0,!0),v=s.c2p(u?a.s1:a.p1,!0),f=l.c2p(u?a.p0:a.s0,!0),m=l.c2p(u?a.p1:a.s1,!0);return c?[(h+v)/2,(f+m)/2]:u?[v,(f+m)/2]:[(h+v)/2,m]}},{}],350:[function(r,i,o){i.exports=s;var n=r("../../lib").distinctVals,a=r("../../constants/numerical").BADNUM;function s(l,u){this.traces=l,this.sepNegVal=u.sepNegVal,this.overlapNoMerge=u.overlapNoMerge;for(var c=1/0,h=[],v=0;v<l.length;v++){for(var f=l[v],m=0;m<f.length;m++){var _=f[m];_.p!==a&&h.push(_.p)}f[0]&&f[0].width1&&(c=Math.min(f[0].width1,c))}this.positions=h;var g=n(h);this.distinctPositions=g.vals,g.vals.length===1&&c!==1/0?this.minDiff=c:this.minDiff=Math.min(g.minDiff,c);var p=(u.posAxis||{}).type;(p==="category"||p==="multicategory")&&(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}s.prototype.put=function(u,c){var h=this.getLabel(u,c),v=this.bins[h]||0;return this.bins[h]=v+c,v},s.prototype.get=function(u,c){var h=this.getLabel(u,c);return this.bins[h]||0},s.prototype.getLabel=function(u,c){var h=c<0&&this.sepNegVal?"v":"^",v=this.overlapNoMerge?u:Math.round(u/this.binWidth);return h+v}},{"../../constants/numerical":224,"../../lib":244}],351:[function(r,i,o){var n=r("@plotly/d3"),a=r("../../components/color"),s=r("../../components/drawing"),l=r("../../lib"),u=r("../../registry"),c=r("./uniform_text").resizeText,h=r("./attributes"),v=h.textfont,f=h.insidetextfont,m=h.outsidetextfont,_=r("./helpers");function g(k){var R=n.select(k).selectAll("g.barlayer").selectAll("g.trace");c(k,R,"bar");var P=R.size(),E=k._fullLayout;R.style("opacity",function(O){return O[0].trace.opacity}).each(function(O){(E.barmode==="stack"&&P>1||E.bargap===0&&E.bargroupgap===0&&!O[0].trace.marker.line.width)&&n.select(this).attr("shape-rendering","crispEdges")}),R.selectAll("g.points").each(function(O){var I=n.select(this),U=O[0].trace;p(I,U,k)}),u.getComponentMethod("errorbars","style")(R)}function p(k,R,P){s.pointStyle(k.selectAll("path"),R,P),d(k,R,P)}function d(k,R,P){k.selectAll("text").each(function(E){var O=n.select(this),I=l.ensureUniformFontSize(P,w(O,E,R,P));s.font(O,I)})}function b(k,R,P){var E=R[0].trace;E.selectedpoints?y(P,E,k):(p(P,E,k),u.getComponentMethod("errorbars","style")(P))}function y(k,R,P){s.selectedPointStyle(k.selectAll("path"),R),x(k.selectAll("text"),R,P)}function x(k,R,P){k.each(function(E){var O=n.select(this),I;if(E.selected){I=l.ensureUniformFontSize(P,w(O,E,R,P));var U=R.selected.textfont&&R.selected.textfont.color;U&&(I.color=U),s.font(O,I)}else s.selectedTextStyle(O,R)})}function w(k,R,P,E){var O=E._fullLayout.font,I=P.textfont;if(k.classed("bartext-inside")){var U=D(R,P);I=S(P,R.i,O,U)}else k.classed("bartext-outside")&&(I=T(P,R.i,O));return I}function C(k,R,P){return M(v,k.textfont,R,P)}function S(k,R,P,E){var O=C(k,R,P),I=k._input.textfont===void 0||k._input.textfont.color===void 0||Array.isArray(k.textfont.color)&&k.textfont.color[R]===void 0;return I&&(O={color:a.contrast(E),family:O.family,size:O.size}),M(f,k.insidetextfont,R,O)}function T(k,R,P){var E=C(k,R,P);return M(m,k.outsidetextfont,R,E)}function M(k,R,P,E){R=R||{};var O=_.getValue(R.family,P),I=_.getValue(R.size,P),U=_.getValue(R.color,P);return{family:_.coerceString(k.family,O,E.family),size:_.coerceNumber(k.size,I,E.size),color:_.coerceColor(k.color,U,E.color)}}function D(k,R){return R.type==="waterfall"?R[k.dir].marker.color:k.mcc||k.mc||R.marker.color}i.exports={style:g,styleTextPoints:d,styleOnSelect:b,getInsideTextFont:S,getOutsideTextFont:T,getBarColor:D,resizeText:c}},{"../../components/color":103,"../../components/drawing":125,"../../lib":244,"../../registry":327,"./attributes":337,"./helpers":343,"./uniform_text":353,"@plotly/d3":11}],352:[function(r,i,o){var n=r("../../components/color"),a=r("../../components/colorscale/helpers").hasColorscale,s=r("../../components/colorscale/defaults"),l=r("../../lib").coercePattern;i.exports=function(c,h,v,f,m){var _=v("marker.color",f),g=a(c,"marker");g&&s(c,h,m,v,{prefix:"marker.",cLetter:"c"}),v("marker.line.color",n.defaultLine),a(c,"marker.line")&&s(c,h,m,v,{prefix:"marker.line.",cLetter:"c"}),v("marker.line.width"),v("marker.opacity"),l(v,"marker.pattern",_,g),v("selected.marker.color"),v("unselected.marker.color")}},{"../../components/color":103,"../../components/colorscale/defaults":113,"../../components/colorscale/helpers":114,"../../lib":244}],353:[function(r,i,o){var n=r("@plotly/d3"),a=r("../../lib");function s(h,v,f){var m=h._fullLayout,_=m["_"+f+"Text_minsize"];if(_){var g=m.uniformtext.mode==="hide",p;switch(f){case"funnelarea":case"pie":case"sunburst":p="g.slice";break;case"treemap":case"icicle":p="g.slice, g.pathbar";break;default:p="g.points > g.point"}v.selectAll(p).each(function(d){var b=d.transform;if(b){b.scale=g&&b.hide?0:_/b.fontSize;var y=n.select(this).select("text");y.attr("transform",a.getTextTransform(b))}})}}function l(h,v,f){if(f.uniformtext.mode){var m=c(h),_=f.uniformtext.minsize,g=v.scale*v.fontSize;v.hide=g<_,f[m]=f[m]||1/0,v.hide||(f[m]=Math.min(f[m],Math.max(g,_)))}}function u(h,v){var f=c(h);v[f]=void 0}function c(h){return"_"+h+"Text_minsize"}i.exports={recordMinTextSize:l,clearMinTextSize:u,resizeText:s}},{"../../lib":244,"@plotly/d3":11}],354:[function(r,i,o){var n=r("../../plots/attributes"),a=r("../../plots/domain").attributes,s=r("../../plots/font_attributes"),l=r("../../components/color/attributes"),u=r("../../plots/template_attributes").hovertemplateAttrs,c=r("../../plots/template_attributes").texttemplateAttrs,h=r("../../lib/extend").extendFlat,v=s({editType:"plot",arrayOk:!0,colorEditType:"plot"});i.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:l.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:h({},n.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:u({},{keys:["label","color","value","percent","text"]}),texttemplate:c({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:h({},v,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:h({},v,{}),outsidetextfont:h({},v,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:h({},v,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:a({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"number",min:-360,max:360,dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"},_deprecated:{title:{valType:"string",dflt:"",editType:"calc"},titlefont:h({},v,{}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc"}}}},{"../../components/color/attributes":102,"../../lib/extend":238,"../../plots/attributes":287,"../../plots/domain":318,"../../plots/font_attributes":319,"../../plots/template_attributes":326}],355:[function(r,i,o){var n=r("../../plots/plots");o.name="pie",o.plot=function(a,s,l,u){n.plotBasePlot(o.name,a,s,l,u)},o.clean=function(a,s,l,u){n.cleanBasePlot(o.name,a,s,l,u)}},{"../../plots/plots":325}],356:[function(r,i,o){var n=r("fast-isnumeric"),a=r("tinycolor2"),s=r("../../components/color"),l={};function u(f,m){var _=[],g=f._fullLayout,p=g.hiddenlabels||[],d=m.labels,b=m.marker.colors||[],y=m.values,x=m._length,w=m._hasValues&&x,C,S;if(m.dlabel)for(d=new Array(x),C=0;C<x;C++)d[C]=String(m.label0+C*m.dlabel);var T={},M=c(g["_"+m.type+"colormap"]),D=0,k=!1;for(C=0;C<x;C++){var R,P,E;if(w){if(R=y[C],!n(R))continue;R=+R}else R=1;P=d[C],(P===void 0||P==="")&&(P=C),P=String(P);var O=T[P];O===void 0?(T[P]=_.length,E=p.indexOf(P)!==-1,E||(D+=R),_.push({v:R,label:P,color:M(b[C],P),i:C,pts:[C],hidden:E})):(k=!0,S=_[O],S.v+=R,S.pts.push(C),S.hidden||(D+=R),S.color===!1&&b[C]&&(S.color=M(b[C],P)))}_=_.filter(function(U){return U.v>=0});var I=m.type==="funnelarea"?k:m.sort;return I&&_.sort(function(U,V){return V.v-U.v}),_[0]&&(_[0].vTotal=D),_}function c(f){return function(_,g){return!_||(_=a(_),!_.isValid())?!1:(_=s.addOpacity(_,_.getAlpha()),f[g]||(f[g]=_),_)}}function h(f,m){var _=(m||{}).type;_||(_="pie");var g=f._fullLayout,p=f.calcdata,d=g[_+"colorway"],b=g["_"+_+"colormap"];g["extend"+_+"colors"]&&(d=v(d,l));for(var y=0,x=0;x<p.length;x++){var w=p[x],C=w[0].trace.type;if(C===_)for(var S=0;S<w.length;S++){var T=w[S];T.color===!1&&(b[T.label]?T.color=b[T.label]:(b[T.label]=T.color=d[y%d.length],y++))}}}function v(f,m){var _,g=JSON.stringify(f),p=m[g];if(!p){for(p=f.slice(),_=0;_<f.length;_++)p.push(a(f[_]).lighten(20).toHexString());for(_=0;_<f.length;_++)p.push(a(f[_]).darken(20).toHexString());m[g]=p}return p}i.exports={calc:u,crossTraceCalc:h,makePullColorFn:c,generateExtendedColors:v}},{"../../components/color":103,"fast-isnumeric":17,tinycolor2:68}],357:[function(r,i,o){var n=r("fast-isnumeric"),a=r("../../lib"),s=r("./attributes"),l=r("../../plots/domain").defaults,u=r("../bar/defaults").handleText;function c(v,f){var m=Array.isArray(v),_=a.isArrayOrTypedArray(f),g=Math.min(m?v.length:1/0,_?f.length:1/0);if(isFinite(g)||(g=0),g&&_){for(var p,d=0;d<g;d++){var b=f[d];if(n(b)&&b>0){p=!0;break}}p||(g=0)}return{hasLabels:m,hasValues:_,len:g}}function h(v,f,m,_){function g(E,O){return a.coerce(v,f,s,E,O)}var p=g("labels"),d=g("values"),b=c(p,d),y=b.len;if(f._hasLabels=b.hasLabels,f._hasValues=b.hasValues,!f._hasLabels&&f._hasValues&&(g("label0"),g("dlabel")),!y){f.visible=!1;return}f._length=y;var x=g("marker.line.width");x&&g("marker.line.color"),g("marker.colors"),g("scalegroup");var w=g("text"),C=g("texttemplate"),S;if(C||(S=g("textinfo",Array.isArray(w)?"text+percent":"percent")),g("hovertext"),g("hovertemplate"),C||S&&S!=="none"){var T=g("textposition");u(v,f,_,g,T,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1});var M=Array.isArray(T)||T==="auto",D=M||T==="outside";D&&g("automargin"),(T==="inside"||T==="auto"||Array.isArray(T))&&g("insidetextorientation")}l(f,_,g);var k=g("hole"),R=g("title.text");if(R){var P=g("title.position",k?"middle center":"top center");!k&&P==="middle center"&&(f.title.position="top center"),a.coerceFont(g,"title.font",_.font)}g("sort"),g("direction"),g("rotation"),g("pull")}i.exports={handleLabelsAndValues:c,supplyDefaults:h}},{"../../lib":244,"../../plots/domain":318,"../bar/defaults":341,"./attributes":354,"fast-isnumeric":17}],358:[function(r,i,o){var n=r("../../components/fx/helpers").appendArrayMultiPointValues;i.exports=function(s,l){var u={curveNumber:l.index,pointNumbers:s.pts,data:l._input,fullData:l,label:s.label,color:s.color,value:s.v,percent:s.percent,text:s.text,bbox:s.bbox,v:s.v};return s.pts.length===1&&(u.pointNumber=u.i=s.pts[0]),n(u,l,s.pts),l.type==="funnelarea"&&(delete u.v,delete u.i),u}},{"../../components/fx/helpers":139}],359:[function(r,i,o){var n=r("../../lib");function a(s){return s.indexOf("e")!==-1?s.replace(/[.]?0+e/,"e"):s.indexOf(".")!==-1?s.replace(/[.]?0+$/,""):s}o.formatPiePercent=function(l,u){var c=a((l*100).toPrecision(3));return n.numSeparate(c,u)+"%"},o.formatPieValue=function(l,u){var c=a(l.toPrecision(10));return n.numSeparate(c,u)},o.getFirstFilled=function(l,u){if(Array.isArray(l))for(var c=0;c<u.length;c++){var h=l[u[c]];if(h||h===0||h==="")return h}},o.castOption=function(l,u){if(Array.isArray(l))return o.getFirstFilled(l,u);if(l)return l},o.getRotationAngle=function(s){return(s==="auto"?0:s)*Math.PI/180}},{"../../lib":244}],360:[function(r,i,o){i.exports={attributes:r("./attributes"),supplyDefaults:r("./defaults").supplyDefaults,supplyLayoutDefaults:r("./layout_defaults"),layoutAttributes:r("./layout_attributes"),calc:r("./calc").calc,crossTraceCalc:r("./calc").crossTraceCalc,plot:r("./plot").plot,style:r("./style"),styleOne:r("./style_one"),moduleType:"trace",name:"pie",basePlotModule:r("./base_plot"),categories:["pie-like","pie","showLegend"],meta:{}}},{"./attributes":354,"./base_plot":355,"./calc":356,"./defaults":357,"./layout_attributes":361,"./layout_defaults":362,"./plot":363,"./style":364,"./style_one":365}],361:[function(r,i,o){i.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},{}],362:[function(r,i,o){var n=r("../../lib"),a=r("./layout_attributes");i.exports=function(l,u){function c(h,v){return n.coerce(l,u,a,h,v)}c("hiddenlabels"),c("piecolorway",u.colorway),c("extendpiecolors")}},{"../../lib":244,"./layout_attributes":361}],363:[function(r,i,o){var n=r("@plotly/d3"),a=r("../../plots/plots"),s=r("../../components/fx"),l=r("../../components/color"),u=r("../../components/drawing"),c=r("../../lib"),h=c.strScale,v=c.strTranslate,f=r("../../lib/svg_text_utils"),m=r("../bar/uniform_text"),_=m.recordMinTextSize,g=m.clearMinTextSize,p=r("../bar/constants").TEXTPAD,d=r("./helpers"),b=r("./event_data"),y=r("../../lib").isValidTextValue;function x(te,L){var N=te._fullLayout,G=N._size;g("pie",N),M(L,te),K(L,G);var Y=c.makeTraceGroups(N._pielayer,L,"trace").each(function(j){var Q=n.select(this),q=j[0],re=q.trace;se(j),Q.attr("stroke-linejoin","round"),Q.each(function(){var ue=n.select(this).selectAll("g.slice").data(j);ue.enter().append("g").classed("slice",!0),ue.exit().remove();var de=[[[],[]],[[],[]]],me=!1;ue.each(function(De,Se){if(De.hidden){n.select(this).selectAll("path,g").remove();return}De.pointNumber=De.i,De.curveNumber=re.index,de[De.pxmid[1]<0?0:1][De.pxmid[0]<0?0:1].push(De);var ze=q.cx,Ke=q.cy,_t=n.select(this),Qe=_t.selectAll("path.surface").data([De]);if(Qe.enter().append("path").classed("surface",!0).style({"pointer-events":"all"}),_t.call(C,te,j),re.pull){var et=+d.castOption(re.pull,De.pts)||0;et>0&&(ze+=et*De.pxmid[0],Ke+=et*De.pxmid[1])}De.cxFinal=ze,De.cyFinal=Ke;function rt(It,zt,be,Me){var Ue=Me*(zt[0]-It[0]),ce=Me*(zt[1]-It[1]);return"a"+Me*q.r+","+Me*q.r+" 0 "+De.largeArc+(be?" 1 ":" 0 ")+Ue+","+ce}var ft=re.hole;if(De.v===q.vTotal){var bt="M"+(ze+De.px0[0])+","+(Ke+De.px0[1])+rt(De.px0,De.pxmid,!0,1)+rt(De.pxmid,De.px0,!0,1)+"Z";ft?Qe.attr("d","M"+(ze+ft*De.px0[0])+","+(Ke+ft*De.px0[1])+rt(De.px0,De.pxmid,!1,ft)+rt(De.pxmid,De.px0,!1,ft)+"Z"+bt):Qe.attr("d",bt)}else{var Ft=rt(De.px0,De.px1,!0,1);if(ft){var ct=1-ft;Qe.attr("d","M"+(ze+ft*De.px1[0])+","+(Ke+ft*De.px1[1])+rt(De.px1,De.px0,!1,ft)+"l"+ct*De.px0[0]+","+ct*De.px0[1]+Ft+"Z")}else Qe.attr("d","M"+ze+","+Ke+"l"+De.px0[0]+","+De.px0[1]+Ft+"Z")}ie(te,De,q);var nt=d.castOption(re.textposition,De.pts),at=_t.selectAll("g.slicetext").data(De.text&&nt!=="none"?[0]:[]);at.enter().append("g").classed("slicetext",!0),at.exit().remove(),at.each(function(){var It=c.ensureSingle(n.select(this),"text","",function(ke){ke.attr("data-notex",1)}),zt=c.ensureUniformFontSize(te,nt==="outside"?S(re,De,N.font):T(re,De,N.font));It.text(De.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(u.font,zt).call(f.convertToTspans,te);var be=u.bBox(It.node()),Me;if(nt==="outside")Me=V(be,De);else if(Me=D(be,De,q),nt==="auto"&&Me.scale<1){var Ue=c.ensureUniformFontSize(te,re.outsidetextfont);It.call(u.font,Ue),be=u.bBox(It.node()),Me=V(be,De)}var ce=Me.textPosAngle,Ce=ce===void 0?De.pxmid:ee(q.r,ce);if(Me.targetX=ze+Ce[0]*Me.rCenter+(Me.x||0),Me.targetY=Ke+Ce[1]*Me.rCenter+(Me.y||0),J(Me,be),Me.outside){var Ae=Me.targetY;De.yLabelMin=Ae-be.height/2,De.yLabelMid=Ae,De.yLabelMax=Ae+be.height/2,De.labelExtraX=0,De.labelExtraY=0,me=!0}Me.fontSize=zt.size,_(re.type,Me,N),j[Se].transform=Me,It.attr("transform",c.getTextTransform(Me))})});var pe=n.select(this).selectAll("g.titletext").data(re.title.text?[0]:[]);if(pe.enter().append("g").classed("titletext",!0),pe.exit().remove(),pe.each(function(){var De=c.ensureSingle(n.select(this),"text","",function(Ke){Ke.attr("data-notex",1)}),Se=re.title.text;re._meta&&(Se=c.templateString(Se,re._meta)),De.text(Se).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(u.font,re.title.font).call(f.convertToTspans,te);var ze;re.title.position==="middle center"?ze=Z(q):ze=z(q,G),De.attr("transform",v(ze.x,ze.y)+h(Math.min(1,ze.scale))+v(ze.tx,ze.ty))}),me&&F(de,re),w(ue,re),me&&re.automargin){var ge=u.bBox(Q.node()),Te=re.domain,He=G.w*(Te.x[1]-Te.x[0]),Oe=G.h*(Te.y[1]-Te.y[0]),tt=(.5*He-q.r)/G.w,Le=(.5*Oe-q.r)/G.h;a.autoMargin(te,"pie."+re.uid+".automargin",{xl:Te.x[0]-tt,xr:Te.x[1]+tt,yb:Te.y[0]-Le,yt:Te.y[1]+Le,l:Math.max(q.cx-q.r-ge.left,0),r:Math.max(ge.right-(q.cx+q.r),0),b:Math.max(ge.bottom-(q.cy+q.r),0),t:Math.max(q.cy-q.r-ge.top,0),pad:5})}})});setTimeout(function(){Y.selectAll("tspan").each(function(){var j=n.select(this);j.attr("dy")&&j.attr("dy",j.attr("dy"))})},0)}function w(te,L){te.each(function(N){var G=n.select(this);if(!N.labelExtraX&&!N.labelExtraY){G.select("path.textline").remove();return}var Y=G.select("g.slicetext text");N.transform.targetX+=N.labelExtraX,N.transform.targetY+=N.labelExtraY,Y.attr("transform",c.getTextTransform(N.transform));var j=N.cxFinal+N.pxmid[0],Q=N.cyFinal+N.pxmid[1],q="M"+j+","+Q,re=(N.yLabelMax-N.yLabelMin)*(N.pxmid[0]<0?-1:1)/4;if(N.labelExtraX){var ue=N.labelExtraX*N.pxmid[1]/N.pxmid[0],de=N.yLabelMid+N.labelExtraY-(N.cyFinal+N.pxmid[1]);Math.abs(ue)>Math.abs(de)?q+="l"+de*N.pxmid[0]/N.pxmid[1]+","+de+"H"+(j+N.labelExtraX+re):q+="l"+N.labelExtraX+","+ue+"v"+(de-ue)+"h"+re}else q+="V"+(N.yLabelMid+N.labelExtraY)+"h"+re;c.ensureSingle(G,"path","textline").call(l.stroke,L.outsidetextfont.color).attr({"stroke-width":Math.min(2,L.outsidetextfont.size/8),d:q,fill:"none"})})}function C(te,L,N){var G=N[0],Y=G.cx,j=G.cy,Q=G.trace,q=Q.type==="funnelarea";"_hasHoverLabel"in Q||(Q._hasHoverLabel=!1),"_hasHoverEvent"in Q||(Q._hasHoverEvent=!1),te.on("mouseover",function(re){var ue=L._fullLayout,de=L._fullData[Q.index];if(!(L._dragging||ue.hovermode===!1)){var me=de.hoverinfo;if(Array.isArray(me)&&(me=s.castHoverinfo({hoverinfo:[d.castOption(me,re.pts)],_module:Q._module},ue,0)),me==="all"&&(me="label+text+value+percent+name"),de.hovertemplate||me!=="none"&&me!=="skip"&&me){var pe=re.rInscribed||0,ge=Y+re.pxmid[0]*(1-pe),Te=j+re.pxmid[1]*(1-pe),He=ue.separators,Oe=[];if(me&&me.indexOf("label")!==-1&&Oe.push(re.label),re.text=d.castOption(de.hovertext||de.text,re.pts),me&&me.indexOf("text")!==-1){var tt=re.text;c.isValidTextValue(tt)&&Oe.push(tt)}re.value=re.v,re.valueLabel=d.formatPieValue(re.v,He),me&&me.indexOf("value")!==-1&&Oe.push(re.valueLabel),re.percent=re.v/G.vTotal,re.percentLabel=d.formatPiePercent(re.percent,He),me&&me.indexOf("percent")!==-1&&Oe.push(re.percentLabel);var Le=de.hoverlabel,De=Le.font,Se=[];s.loneHover({trace:Q,x0:ge-pe*G.r,x1:ge+pe*G.r,y:Te,_x0:q?Y+re.TL[0]:ge-pe*G.r,_x1:q?Y+re.TR[0]:ge+pe*G.r,_y0:q?j+re.TL[1]:Te-pe*G.r,_y1:q?j+re.BL[1]:Te+pe*G.r,text:Oe.join("<br>"),name:de.hovertemplate||me.indexOf("name")!==-1?de.name:void 0,idealAlign:re.pxmid[0]<0?"left":"right",color:d.castOption(Le.bgcolor,re.pts)||re.color,borderColor:d.castOption(Le.bordercolor,re.pts),fontFamily:d.castOption(De.family,re.pts),fontSize:d.castOption(De.size,re.pts),fontColor:d.castOption(De.color,re.pts),nameLength:d.castOption(Le.namelength,re.pts),textAlign:d.castOption(Le.align,re.pts),hovertemplate:d.castOption(de.hovertemplate,re.pts),hovertemplateLabels:re,eventData:[b(re,de)]},{container:ue._hoverlayer.node(),outerContainer:ue._paper.node(),gd:L,inOut_bbox:Se}),re.bbox=Se[0],Q._hasHoverLabel=!0}Q._hasHoverEvent=!0,L.emit("plotly_hover",{points:[b(re,de)],event:n.event})}}),te.on("mouseout",function(re){var ue=L._fullLayout,de=L._fullData[Q.index],me=n.select(this).datum();Q._hasHoverEvent&&(re.originalEvent=n.event,L.emit("plotly_unhover",{points:[b(me,de)],event:n.event}),Q._hasHoverEvent=!1),Q._hasHoverLabel&&(s.loneUnhover(ue._hoverlayer.node()),Q._hasHoverLabel=!1)}),te.on("click",function(re){var ue=L._fullLayout,de=L._fullData[Q.index];L._dragging||ue.hovermode===!1||(L._hoverdata=[b(re,de)],s.click(L,n.event))})}function S(te,L,N){var G=d.castOption(te.outsidetextfont.color,L.pts)||d.castOption(te.textfont.color,L.pts)||N.color,Y=d.castOption(te.outsidetextfont.family,L.pts)||d.castOption(te.textfont.family,L.pts)||N.family,j=d.castOption(te.outsidetextfont.size,L.pts)||d.castOption(te.textfont.size,L.pts)||N.size;return{color:G,family:Y,size:j}}function T(te,L,N){var G=d.castOption(te.insidetextfont.color,L.pts);!G&&te._input.textfont&&(G=d.castOption(te._input.textfont.color,L.pts));var Y=d.castOption(te.insidetextfont.family,L.pts)||d.castOption(te.textfont.family,L.pts)||N.family,j=d.castOption(te.insidetextfont.size,L.pts)||d.castOption(te.textfont.size,L.pts)||N.size;return{color:G||l.contrast(L.color),family:Y,size:j}}function M(te,L){for(var N,G,Y=0;Y<te.length;Y++)if(N=te[Y][0],G=N.trace,G.title.text){var j=G.title.text;G._meta&&(j=c.templateString(j,G._meta));var Q=u.tester.append("text").attr("data-notex",1).text(j).call(u.font,G.title.font).call(f.convertToTspans,L),q=u.bBox(Q.node(),!0);N.titleBox={width:q.width,height:q.height},Q.remove()}}function D(te,L,N){var G=N.r||L.rpx1,Y=L.rInscribed,j=L.startangle===L.stopangle;if(j)return{rCenter:1-Y,scale:0,rotate:0,textPosAngle:0};var Q=L.ring,q=Q===1&&Math.abs(L.startangle-L.stopangle)===Math.PI*2,re=L.halfangle,ue=L.midangle,de=N.trace.insidetextorientation,me=de==="horizontal",pe=de==="tangential",ge=de==="radial",Te=de==="auto",He=[],Oe;if(!Te){var tt=function(Qe,et){if(k(L,Qe)){var rt=Math.abs(Qe-L.startangle),ft=Math.abs(Qe-L.stopangle),bt=rt<ft?rt:ft;et==="tan"?Oe=P(te,G,Q,bt,0):Oe=R(te,G,Q,bt,Math.PI/2),Oe.textPosAngle=Qe,He.push(Oe)}},Le;if(me||pe){for(Le=4;Le>=-4;Le-=2)tt(Math.PI*Le,"tan");for(Le=4;Le>=-4;Le-=2)tt(Math.PI*(Le+1),"tan")}if(me||ge){for(Le=4;Le>=-4;Le-=2)tt(Math.PI*(Le+1.5),"rad");for(Le=4;Le>=-4;Le-=2)tt(Math.PI*(Le+.5),"rad")}}if(q||Te||me){var De=Math.sqrt(te.width*te.width+te.height*te.height);if(Oe={scale:Y*G*2/De,rCenter:1-Y,rotate:0},Oe.textPosAngle=(L.startangle+L.stopangle)/2,Oe.scale>=1)return Oe;He.push(Oe)}(Te||ge)&&(Oe=R(te,G,Q,re,ue),Oe.textPosAngle=(L.startangle+L.stopangle)/2,He.push(Oe)),(Te||pe)&&(Oe=P(te,G,Q,re,ue),Oe.textPosAngle=(L.startangle+L.stopangle)/2,He.push(Oe));for(var Se=0,ze=0,Ke=0;Ke<He.length;Ke++){var _t=He[Ke].scale;if(ze<_t&&(ze=_t,Se=Ke),!Te&&ze>=1)break}return He[Se]}function k(te,L){var N=te.startangle,G=te.stopangle;return N>L&&L>G||N<L&&L<G}function R(te,L,N,G,Y){L=Math.max(0,L-2*p);var j=te.width/te.height,Q=I(j,G,L,N);return{scale:Q*2/te.height,rCenter:E(j,Q/L),rotate:O(Y)}}function P(te,L,N,G,Y){L=Math.max(0,L-2*p);var j=te.height/te.width,Q=I(j,G,L,N);return{scale:Q*2/te.width,rCenter:E(j,Q/L),rotate:O(Y+Math.PI/2)}}function E(te,L){return Math.cos(L)-te*L}function O(te){return(180/Math.PI*te+720)%180-90}function I(te,L,N,G){var Y=te+1/(2*Math.tan(L));return N*Math.min(1/(Math.sqrt(Y*Y+.5)+Y),G/(Math.sqrt(te*te+G/2)+te))}function U(te,L){return te.v===L.vTotal&&!L.trace.hole?1:Math.min(1/(1+1/Math.sin(te.halfangle)),te.ring/2)}function V(te,L){var N=L.pxmid[0],G=L.pxmid[1],Y=te.width/2,j=te.height/2;return N<0&&(Y*=-1),G<0&&(j*=-1),{scale:1,rCenter:1,rotate:0,x:Y+Math.abs(j)*(Y>0?1:-1)/2,y:j/(1+N*N/(G*G)),outside:!0}}function Z(te){var L=Math.sqrt(te.titleBox.width*te.titleBox.width+te.titleBox.height*te.titleBox.height);return{x:te.cx,y:te.cy,scale:te.trace.hole*te.r*2/L,tx:0,ty:-te.titleBox.height/2+te.trace.title.font.size}}function z(te,L){var N=1,G=1,Y,j=te.trace,Q={x:te.cx,y:te.cy},q={tx:0,ty:0};q.ty+=j.title.font.size,Y=W(j),j.title.position.indexOf("top")!==-1?(Q.y-=(1+Y)*te.r,q.ty-=te.titleBox.height):j.title.position.indexOf("bottom")!==-1&&(Q.y+=(1+Y)*te.r);var re=H(te.r,te.trace.aspectratio),ue=L.w*(j.domain.x[1]-j.domain.x[0])/2;return j.title.position.indexOf("left")!==-1?(ue=ue+re,Q.x-=(1+Y)*re,q.tx+=te.titleBox.width/2):j.title.position.indexOf("center")!==-1?ue*=2:j.title.position.indexOf("right")!==-1&&(ue=ue+re,Q.x+=(1+Y)*re,q.tx-=te.titleBox.width/2),N=ue/te.titleBox.width,G=B(te,L)/te.titleBox.height,{x:Q.x,y:Q.y,scale:Math.min(N,G),tx:q.tx,ty:q.ty}}function H(te,L){return te/(L===void 0?1:L)}function B(te,L){var N=te.trace,G=L.h*(N.domain.y[1]-N.domain.y[0]);return Math.min(te.titleBox.height,G/2)}function W(te){var L=te.pull;if(!L)return 0;var N;if(Array.isArray(L))for(L=0,N=0;N<te.pull.length;N++)te.pull[N]>L&&(L=te.pull[N]);return L}function F(te,L){var N,G,Y,j,Q,q,re,ue,de,me,pe,ge,Te;function He(De,Se){return De.pxmid[1]-Se.pxmid[1]}function Oe(De,Se){return Se.pxmid[1]-De.pxmid[1]}function tt(De,Se){Se||(Se={});var ze=Se.labelExtraY+(G?Se.yLabelMax:Se.yLabelMin),Ke=G?De.yLabelMin:De.yLabelMax,_t=G?De.yLabelMax:De.yLabelMin,Qe=De.cyFinal+Q(De.px0[1],De.px1[1]),et=ze-Ke,rt,ft,bt,Ft,ct,nt;if(et*re>0&&(De.labelExtraY=et),!!Array.isArray(L.pull))for(ft=0;ft<me.length;ft++)bt=me[ft],!(bt===De||(d.castOption(L.pull,De.pts)||0)>=(d.castOption(L.pull,bt.pts)||0))&&((De.pxmid[1]-bt.pxmid[1])*re>0?(Ft=bt.cyFinal+Q(bt.px0[1],bt.px1[1]),et=Ft-Ke-De.labelExtraY,et*re>0&&(De.labelExtraY+=et)):(_t+De.labelExtraY-Qe)*re>0&&(rt=3*q*Math.abs(ft-me.indexOf(De)),ct=bt.cxFinal+j(bt.px0[0],bt.px1[0]),nt=ct+rt-(De.cxFinal+De.pxmid[0])-De.labelExtraX,nt*q>0&&(De.labelExtraX+=nt)))}for(G=0;G<2;G++)for(Y=G?He:Oe,Q=G?Math.max:Math.min,re=G?1:-1,N=0;N<2;N++){for(j=N?Math.max:Math.min,q=N?1:-1,ue=te[G][N],ue.sort(Y),de=te[1-G][N],me=de.concat(ue),ge=[],pe=0;pe<ue.length;pe++)ue[pe].yLabelMid!==void 0&&ge.push(ue[pe]);for(Te=!1,pe=0;G&&pe<de.length;pe++)if(de[pe].yLabelMid!==void 0){Te=de[pe];break}for(pe=0;pe<ge.length;pe++){var Le=pe&&ge[pe-1];Te&&!pe&&(Le=Te),tt(ge[pe],Le)}}}function K(te,L){for(var N=[],G=0;G<te.length;G++){var Y=te[G][0],j=Y.trace,Q=j.domain,q=L.w*(Q.x[1]-Q.x[0]),re=L.h*(Q.y[1]-Q.y[0]);j.title.text&&j.title.position!=="middle center"&&(re-=B(Y,L));var ue=q/2,de=re/2;j.type==="funnelarea"&&!j.scalegroup&&(de/=j.aspectratio),Y.r=Math.min(ue,de)/(1+W(j)),Y.cx=L.l+L.w*(j.domain.x[1]+j.domain.x[0])/2,Y.cy=L.t+L.h*(1-j.domain.y[0])-re/2,j.title.text&&j.title.position.indexOf("bottom")!==-1&&(Y.cy-=B(Y,L)),j.scalegroup&&N.indexOf(j.scalegroup)===-1&&N.push(j.scalegroup)}fe(te,N)}function fe(te,L){for(var N,G,Y,j=0;j<L.length;j++){var Q=1/0,q=L[j];for(G=0;G<te.length;G++)if(N=te[G][0],Y=N.trace,Y.scalegroup===q){var re;if(Y.type==="pie")re=N.r*N.r;else if(Y.type==="funnelarea"){var ue,de;Y.aspectratio>1?(ue=N.r,de=ue/Y.aspectratio):(de=N.r,ue=de*Y.aspectratio),ue*=(1+Y.baseratio)/2,re=ue*de}Q=Math.min(Q,re/N.vTotal)}for(G=0;G<te.length;G++)if(N=te[G][0],Y=N.trace,Y.scalegroup===q){var me=Q*N.vTotal;Y.type==="funnelarea"&&(me/=(1+Y.baseratio)/2,me/=Y.aspectratio),N.r=Math.sqrt(me)}}}function se(te){var L=te[0],N=L.r,G=L.trace,Y=d.getRotationAngle(G.rotation),j=2*Math.PI/L.vTotal,Q="px0",q="px1",re,ue,de;if(G.direction==="counterclockwise"){for(re=0;re<te.length&&te[re].hidden;re++);if(re===te.length)return;Y+=j*te[re].v,j*=-1,Q="px1",q="px0"}for(de=ee(N,Y),re=0;re<te.length;re++)ue=te[re],!ue.hidden&&(ue[Q]=de,ue.startangle=Y,Y+=j*ue.v/2,ue.pxmid=ee(N,Y),ue.midangle=Y,Y+=j*ue.v/2,de=ee(N,Y),ue.stopangle=Y,ue[q]=de,ue.largeArc=ue.v>L.vTotal/2?1:0,ue.halfangle=Math.PI*Math.min(ue.v/L.vTotal,.5),ue.ring=1-G.hole,ue.rInscribed=U(ue,L))}function ee(te,L){return[te*Math.sin(L),-te*Math.cos(L)]}function ie(te,L,N){var G=te._fullLayout,Y=N.trace,j=Y.texttemplate,Q=Y.textinfo;if(!j&&Q&&Q!=="none"){var q=Q.split("+"),re=function(Se){return q.indexOf(Se)!==-1},ue=re("label"),de=re("text"),me=re("value"),pe=re("percent"),ge=G.separators,Te;if(Te=ue?[L.label]:[],de){var He=d.getFirstFilled(Y.text,L.pts);y(He)&&Te.push(He)}me&&Te.push(d.formatPieValue(L.v,ge)),pe&&Te.push(d.formatPiePercent(L.v/N.vTotal,ge)),L.text=Te.join("<br>")}function Oe(Se){return{label:Se.label,value:Se.v,valueLabel:d.formatPieValue(Se.v,G.separators),percent:Se.v/N.vTotal,percentLabel:d.formatPiePercent(Se.v/N.vTotal,G.separators),color:Se.color,text:Se.text,customdata:c.castOption(Y,Se.i,"customdata")}}if(j){var tt=c.castOption(Y,L.i,"texttemplate");if(!tt)L.text="";else{var Le=Oe(L),De=d.getFirstFilled(Y.text,L.pts);(y(De)||De==="")&&(Le.text=De),L.text=c.texttemplateString(tt,Le,te._fullLayout._d3locale,Le,Y._meta||{})}}}function J(te,L){var N=te.rotate*Math.PI/180,G=Math.cos(N),Y=Math.sin(N),j=(L.left+L.right)/2,Q=(L.top+L.bottom)/2;te.textX=j*G-Q*Y,te.textY=j*Y+Q*G,te.noCenter=!0}i.exports={plot:x,formatSliceLabel:ie,transformInsideText:D,determineInsideTextFont:T,positionTitleOutside:z,prerenderTitles:M,layoutAreas:K,attachFxHandlers:C,computeTransform:J}},{"../../components/color":103,"../../components/drawing":125,"../../components/fx":143,"../../lib":244,"../../lib/svg_text_utils":267,"../../plots/plots":325,"../bar/constants":339,"../bar/uniform_text":353,"./event_data":358,"./helpers":359,"@plotly/d3":11}],364:[function(r,i,o){var n=r("@plotly/d3"),a=r("./style_one"),s=r("../bar/uniform_text").resizeText;i.exports=function(u){var c=u._fullLayout._pielayer.selectAll(".trace");s(u,c,"pie"),c.each(function(h){var v=h[0],f=v.trace,m=n.select(this);m.style({opacity:f.opacity}),m.selectAll("path.surface").each(function(_){n.select(this).call(a,_,f)})})}},{"../bar/uniform_text":353,"./style_one":365,"@plotly/d3":11}],365:[function(r,i,o){var n=r("../../components/color"),a=r("./helpers").castOption;i.exports=function(l,u,c){var h=c.marker.line,v=a(h.color,u.pts)||n.defaultLine,f=a(h.width,u.pts)||0;l.style("stroke-width",f).call(n.fill,u.color).call(n.stroke,v)}},{"../../components/color":103,"./helpers":359}],366:[function(r,i,o){var n=r("../../lib");i.exports=function(s,l){for(var u=0;u<s.length;u++)s[u].i=u;n.mergeArray(l.text,s,"tx"),n.mergeArray(l.texttemplate,s,"txt"),n.mergeArray(l.hovertext,s,"htx"),n.mergeArray(l.customdata,s,"data"),n.mergeArray(l.textposition,s,"tp"),l.textfont&&(n.mergeArrayCastPositive(l.textfont.size,s,"ts"),n.mergeArray(l.textfont.color,s,"tc"),n.mergeArray(l.textfont.family,s,"tf"));var c=l.marker;if(c){n.mergeArrayCastPositive(c.size,s,"ms"),n.mergeArrayCastPositive(c.opacity,s,"mo"),n.mergeArray(c.symbol,s,"mx"),n.mergeArray(c.color,s,"mc");var h=c.line;c.line&&(n.mergeArray(h.color,s,"mlc"),n.mergeArrayCastPositive(h.width,s,"mlw"));var v=c.gradient;v&&v.type!=="none"&&(n.mergeArray(v.type,s,"mgt"),n.mergeArray(v.color,s,"mgc"))}}},{"../../lib":244}],367:[function(r,i,o){var n=r("../../plots/cartesian/axis_format_attributes").axisHoverFormat,a=r("../../plots/template_attributes").texttemplateAttrs,s=r("../../plots/template_attributes").hovertemplateAttrs,l=r("../../components/colorscale/attributes"),u=r("../../plots/font_attributes"),c=r("../../components/drawing/attributes").dash,h=r("../../components/drawing/attributes").pattern,v=r("../../components/drawing"),f=r("./constants"),m=r("../../lib/extend").extendFlat;function _(d){return{valType:"any",dflt:0,editType:"calc"}}function g(d){return{valType:"any",editType:"calc"}}function p(d){return{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"}}i.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:_(),yperiod:_(),xperiod0:g(),yperiod0:g(),xperiodalignment:p(),yperiodalignment:p(),xhoverformat:n("x"),yhoverformat:n("y"),stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:a({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:s({},{keys:f.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:m({},c,{editType:"style"}),simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:{valType:"color",editType:"style",anim:!0},fillpattern:h,marker:m({symbol:{valType:"enumerated",values:v.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:m({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},l("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},l("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:u({editType:"calc",colorEditType:"style",arrayOk:!0})}},{"../../components/colorscale/attributes":110,"../../components/drawing":125,"../../components/drawing/attributes":124,"../../lib/extend":238,"../../plots/cartesian/axis_format_attributes":294,"../../plots/font_attributes":319,"../../plots/template_attributes":326,"./constants":371}],368:[function(r,i,o){var n=r("fast-isnumeric"),a=r("../../lib"),s=r("../../plots/cartesian/axes"),l=r("../../plots/cartesian/align_period"),u=r("../../constants/numerical").BADNUM,c=r("./subtypes"),h=r("./colorscale_calc"),v=r("./arrays_to_calcdata"),f=r("./calc_selection");function m(y,x){var w=y._fullLayout,C=s.getFromId(y,x.xaxis||"x"),S=s.getFromId(y,x.yaxis||"y"),T=C.makeCalcdata(x,"x"),M=S.makeCalcdata(x,"y"),D=l(x,C,"x",T),k=l(x,S,"y",M),R=D.vals,P=k.vals,E=x._length,O=new Array(E),I=x.ids,U=b(x,w,C,S),V=!1,Z,z,H,B,W,F;p(w,x);var K="x",fe="y",se;if(U)a.pushUnique(U.traceIndices,x._expandedIndex),Z=U.orientation==="v",Z?(fe="s",se="x"):(K="s",se="y"),W=U.stackgaps==="interpolate";else{var ee=g(x,E);_(y,x,C,S,R,P,ee)}var ie=!!x.xperiodalignment,J=!!x.yperiodalignment;for(z=0;z<E;z++){var te=O[z]={},L=n(R[z]),N=n(P[z]);L&&N?(te[K]=R[z],te[fe]=P[z],ie&&(te.orig_x=T[z],te.xEnd=D.ends[z],te.xStart=D.starts[z]),J&&(te.orig_y=M[z],te.yEnd=k.ends[z],te.yStart=k.starts[z])):U&&(Z?L:N)?(te[se]=Z?R[z]:P[z],te.gap=!0,W?(te.s=u,V=!0):te.s=0):te[K]=te[fe]=u,I&&(te.id=String(I[z]))}if(v(O,x),h(y,x),f(O,x),U){for(z=0;z<O.length;)O[z][se]===u?O.splice(z,1):z++;if(a.sort(O,function(Q,q){return Q[se]-q[se]||Q.i-q.i}),V){for(z=0;z<O.length-1&&O[z].gap;)z++;for(F=O[z].s,F||(F=O[z].s=0),H=0;H<z;H++)O[H].s=F;for(B=O.length-1;B>z&&O[B].gap;)B--;for(F=O[B].s,H=O.length-1;H>B;H--)O[H].s=F;for(;z<B;)if(z++,O[z].gap){for(H=z+1;O[H].gap;)H++;for(var G=O[z-1][se],Y=O[z-1].s,j=(O[H].s-Y)/(O[H][se]-G);z<H;)O[z].s=Y+(O[z][se]-G)*j,z++}}}return O}function _(y,x,w,C,S,T,M){var D=x._length,k=y._fullLayout,R=w._id,P=C._id,E=k._firstScatter[d(x)]===x.uid,O=(b(x,k,w,C)||{}).orientation,I=x.fill;w._minDtick=0,C._minDtick=0;var U={padded:!0},V={padded:!0};M&&(U.ppad=V.ppad=M);var Z=D<2||S[0]!==S[D-1]||T[0]!==T[D-1];Z&&(I==="tozerox"||I==="tonextx"&&(E||O==="h"))?U.tozero=!0:!(x.error_y||{}).visible&&(I==="tonexty"||I==="tozeroy"||!c.hasMarkers(x)&&!c.hasText(x))&&(U.padded=!1,U.ppad=0),Z&&(I==="tozeroy"||I==="tonexty"&&(E||O==="v"))?V.tozero=!0:(I==="tonextx"||I==="tozerox")&&(V.padded=!1),R&&(x._extremes[R]=s.findExtremes(w,S,U)),P&&(x._extremes[P]=s.findExtremes(C,T,V))}function g(y,x){if(c.hasMarkers(y)){var w=y.marker,C=1.6*(y.marker.sizeref||1),S;if(y.marker.sizemode==="area"?S=function(R){return Math.max(Math.sqrt((R||0)/C),3)}:S=function(R){return Math.max((R||0)/C,3)},a.isArrayOrTypedArray(w.size)){var T={type:"linear"};s.setConvert(T);for(var M=T.makeCalcdata(y.marker,"size"),D=new Array(x),k=0;k<x;k++)D[k]=S(M[k]);return D}else return S(w.size)}}function p(y,x){var w=d(x),C=y._firstScatter;C[w]||(C[w]=x.uid)}function d(y){var x=y.stackgroup;return y.xaxis+y.yaxis+y.type+(x?"-"+x:"")}function b(y,x,w,C){var S=y.stackgroup;if(S){var T=x._scatterStackOpts[w._id+C._id][S],M=T.orientation==="v"?C:w;if(M.type==="linear"||M.type==="log")return T}}i.exports={calc:m,calcMarkerSize:g,calcAxisExpansion:_,setFirstScatter:p,getStackOpts:b}},{"../../constants/numerical":224,"../../lib":244,"../../plots/cartesian/align_period":288,"../../plots/cartesian/axes":291,"./arrays_to_calcdata":366,"./calc_selection":369,"./colorscale_calc":370,"./subtypes":392,"fast-isnumeric":17}],369:[function(r,i,o){var n=r("../../lib");i.exports=function(s,l){n.isArrayOrTypedArray(l.selectedpoints)&&n.tagSelected(s,l)}},{"../../lib":244}],370:[function(r,i,o){var n=r("../../components/colorscale/helpers").hasColorscale,a=r("../../components/colorscale/calc"),s=r("./subtypes");i.exports=function(u,c){s.hasLines(c)&&n(c,"line")&&a(u,c,{vals:c.line.color,containerStr:"line",cLetter:"c"}),s.hasMarkers(c)&&(n(c,"marker")&&a(u,c,{vals:c.marker.color,containerStr:"marker",cLetter:"c"}),n(c,"marker.line")&&a(u,c,{vals:c.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},{"../../components/colorscale/calc":111,"../../components/colorscale/helpers":114,"./subtypes":392}],371:[function(r,i,o){i.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},{}],372:[function(r,i,o){var n=r("./calc");i.exports=function(u,c){var h=c.xaxis,v=c.yaxis,f=h._id+v._id,m=u._fullLayout._scatterStackOpts[f];if(m){var _=u.calcdata,g,p,d,b,y,x,w,C,S,T,M,D,k,R,P;for(var E in m){T=m[E];var O=T.traceIndices;if(O.length){for(M=T.stackgaps==="interpolate",D=T.groupnorm,T.orientation==="v"?(k="x",R="y"):(k="y",R="x"),P=new Array(O.length),g=0;g<P.length;g++)P[g]=!1;x=_[O[0]];var I=new Array(x.length);for(g=0;g<x.length;g++)I[g]=x[g][k];for(g=1;g<O.length;g++){for(y=_[O[g]],p=d=0;p<y.length;p++){for(w=y[p][k];w>I[d]&&d<I.length;d++)a(y,p,I[d],g,P,M,k),p++;if(w!==I[d]){for(b=0;b<g;b++)a(_[O[b]],d,w,b,P,M,k);I.splice(d,0,w)}d++}for(;d<I.length;d++)a(y,p,I[d],g,P,M,k),p++}var U=I.length;for(p=0;p<x.length;p++){for(C=x[p][R]=x[p].s,g=1;g<O.length;g++)y=_[O[g]],y[0].trace._rawLength=y[0].trace._length,y[0].trace._length=U,C+=y[p].s,y[p][R]=C;if(D)for(S=(D==="fraction"?C:C/100)||1,g=0;g<O.length;g++){var V=_[O[g]][p];V[R]/=S,V.sNorm=V.s/S}}for(g=0;g<O.length;g++){y=_[O[g]];var Z=y[0].trace,z=n.calcMarkerSize(Z,Z._rawLength),H=Array.isArray(z);if(z&&P[g]||H){var B=z;for(z=new Array(U),p=0;p<U;p++)z[p]=y[p].gap?0:H?B[y[p].i]:B}var W=new Array(U),F=new Array(U);for(p=0;p<U;p++)W[p]=y[p].x,F[p]=y[p].y;n.calcAxisExpansion(u,Z,h,v,W,F,z),y[0].t.orientation=T.orientation}}}}};function a(l,u,c,h,v,f,m){v[h]=!0;var _={i:null,gap:!0,s:0};if(_[m]=c,l.splice(u,0,_),u&&c===l[u-1][m]){var g=l[u-1];_.s=g.s,_.i=g.i,_.gap=g.gap}else f&&(_.s=s(l,u,c,m));u||(l[0].t=l[1].t,l[0].trace=l[1].trace,delete l[1].t,delete l[1].trace)}function s(l,u,c,h){var v=l[u-1],f=l[u+1];return f?v?v.s+(f.s-v.s)*(c-v[h])/(f[h]-v[h]):f.s:v.s}},{"./calc":368}],373:[function(r,i,o){i.exports=function(a){for(var s=0;s<a.length;s++){var l=a[s];if(l.type==="scatter"){var u=l.fill;if(!(u==="none"||u==="toself")&&(l.opacity=void 0,u==="tonexty"||u==="tonextx"))for(var c=s-1;c>=0;c--){var h=a[c];if(h.type==="scatter"&&h.xaxis===l.xaxis&&h.yaxis===l.yaxis){h.opacity=void 0;break}}}}}},{}],374:[function(r,i,o){var n=r("../../lib"),a=r("../../registry"),s=r("./attributes"),l=r("./constants"),u=r("./subtypes"),c=r("./xy_defaults"),h=r("./period_defaults"),v=r("./stack_defaults"),f=r("./marker_defaults"),m=r("./line_defaults"),_=r("./line_shape_defaults"),g=r("./text_defaults"),p=r("./fillcolor_defaults"),d=r("../../lib").coercePattern;i.exports=function(y,x,w,C){function S(O,I){return n.coerce(y,x,s,O,I)}var T=c(y,x,C,S);if(T||(x.visible=!1),!!x.visible){h(y,x,C,S),S("xhoverformat"),S("yhoverformat");var M=v(y,x,C,S),D=!M&&T<l.PTS_LINESONLY?"lines+markers":"lines";S("text"),S("hovertext"),S("mode",D),u.hasLines(x)&&(m(y,x,w,C,S),_(y,x,S),S("connectgaps"),S("line.simplify")),u.hasMarkers(x)&&f(y,x,w,C,S,{gradient:!0}),u.hasText(x)&&(S("texttemplate"),g(y,x,C,S));var k=[];(u.hasMarkers(x)||u.hasText(x))&&(S("cliponaxis"),S("marker.maxdisplayed"),k.push("points")),S("fill",M?M.fillDflt:"none"),x.fill!=="none"&&(p(y,x,w,S),u.hasLines(x)||_(y,x,S),d(S,"fillpattern",x.fillcolor,!1));var R=(x.line||{}).color,P=(x.marker||{}).color;(x.fill==="tonext"||x.fill==="toself")&&k.push("fills"),S("hoveron",k.join("+")||"points"),x.hoveron!=="fills"&&S("hovertemplate");var E=a.getComponentMethod("errorbars","supplyDefaults");E(y,x,R||P||w,{axis:"y"}),E(y,x,R||P||w,{axis:"x",inherit:"y"}),n.coerceSelectionMarkerOpacity(x,S)}}},{"../../lib":244,"../../registry":327,"./attributes":367,"./constants":371,"./fillcolor_defaults":375,"./line_defaults":380,"./line_shape_defaults":382,"./marker_defaults":386,"./period_defaults":387,"./stack_defaults":390,"./subtypes":392,"./text_defaults":393,"./xy_defaults":394}],375:[function(r,i,o){var n=r("../../components/color"),a=r("../../lib").isArrayOrTypedArray;i.exports=function(l,u,c,h){var v=!1;if(u.marker){var f=u.marker.color,m=(u.marker.line||{}).color;f&&!a(f)?v=f:m&&!a(m)&&(v=m)}h("fillcolor",n.addOpacity((u.line||{}).color||v||c,.5))}},{"../../components/color":103,"../../lib":244}],376:[function(r,i,o){var n=r("../../plots/cartesian/axes");i.exports=function(s,l,u){var c={},h={_fullLayout:u},v=n.getFromTrace(h,l,"x"),f=n.getFromTrace(h,l,"y");return c.xLabel=n.tickText(v,v.c2l(s.x),!0).text,c.yLabel=n.tickText(f,f.c2l(s.y),!0).text,c}},{"../../plots/cartesian/axes":291}],377:[function(r,i,o){var n=r("../../components/color"),a=r("./subtypes");i.exports=function(l,u){var c,h;if(l.mode==="lines")return c=l.line.color,c&&n.opacity(c)?c:l.fillcolor;if(l.mode==="none")return l.fill?l.fillcolor:"";var v=u.mcc||(l.marker||{}).color,f=u.mlcc||((l.marker||{}).line||{}).color;return h=v&&n.opacity(v)?v:f&&n.opacity(f)&&(u.mlw||((l.marker||{}).line||{}).width)?f:"",h?n.opacity(h)<.3?n.addOpacity(h,.3):h:(c=(l.line||{}).color,c&&n.opacity(c)&&a.hasLines(l)&&l.line.width?c:l.fillcolor)}},{"../../components/color":103,"./subtypes":392}],378:[function(r,i,o){var n=r("../../lib"),a=r("../../components/fx"),s=r("../../registry"),l=r("./get_trace_color"),u=r("../../components/color"),c=n.fillText;i.exports=function(v,f,m,_){var g=v.cd,p=g[0].trace,d=v.xa,b=v.ya,y=d.c2p(f),x=b.c2p(m),w=[y,x],C=p.hoveron||"",S=p.mode.indexOf("markers")!==-1?3:.5,T=!!p.xperiodalignment,M=!!p.yperiodalignment;if(C.indexOf("points")!==-1){var D=function(ue){if(T){var de=d.c2p(ue.xStart),me=d.c2p(ue.xEnd);return y>=Math.min(de,me)&&y<=Math.max(de,me)?0:1/0}var pe=Math.max(3,ue.mrc||0),ge=1-1/pe,Te=Math.abs(d.c2p(ue.x)-y);return Te<pe?ge*Te/pe:Te-pe+ge},k=function(ue){if(M){var de=b.c2p(ue.yStart),me=b.c2p(ue.yEnd);return x>=Math.min(de,me)&&x<=Math.max(de,me)?0:1/0}var pe=Math.max(3,ue.mrc||0),ge=1-1/pe,Te=Math.abs(b.c2p(ue.y)-x);return Te<pe?ge*Te/pe:Te-pe+ge},R=function(ue){var de=Math.max(S,ue.mrc||0),me=d.c2p(ue.x)-y,pe=b.c2p(ue.y)-x;return Math.max(Math.sqrt(me*me+pe*pe)-de,1-S/de)},P=a.getDistanceFunction(_,D,k,R);if(a.getClosest(g,P,v),v.index!==!1){var E=g[v.index],O=d.c2p(E.x,!0),I=b.c2p(E.y,!0),U=E.mrc||1;v.index=E.i;var V=g[0].t.orientation,Z=V&&(E.sNorm||E.s),z=V==="h"?Z:E.orig_x!==void 0?E.orig_x:E.x,H=V==="v"?Z:E.orig_y!==void 0?E.orig_y:E.y;return n.extendFlat(v,{color:l(p,E),x0:O-U,x1:O+U,xLabelVal:z,y0:I-U,y1:I+U,yLabelVal:H,spikeDistance:R(E),hovertemplate:p.hovertemplate}),c(E,p,v),s.getComponentMethod("errorbars","hoverInfo")(E,p,v),[v]}}if(C.indexOf("fills")!==-1&&p._polygons){var B=p._polygons,W=[],F=!1,K=1/0,fe=-1/0,se=1/0,ee=-1/0,ie,J,te,L,N,G,Y,j,Q;for(ie=0;ie<B.length;ie++)te=B[ie],te.contains(w)&&(F=!F,W.push(te),se=Math.min(se,te.ymin),ee=Math.max(ee,te.ymax));if(F){se=Math.max(se,0),ee=Math.min(ee,b._length);var q=(se+ee)/2;for(ie=0;ie<W.length;ie++)for(L=W[ie].pts,J=1;J<L.length;J++)j=L[J-1][1],Q=L[J][1],j>q!=Q>=q&&(G=L[J-1][0],Y=L[J][0],Q-j&&(N=G+(Y-G)*(q-j)/(Q-j),K=Math.min(K,N),fe=Math.max(fe,N)));K=Math.max(K,0),fe=Math.min(fe,d._length);var re=u.defaultLine;return u.opacity(p.fillcolor)?re=p.fillcolor:u.opacity((p.line||{}).color)&&(re=p.line.color),n.extendFlat(v,{distance:v.maxHoverDistance,x0:K,x1:fe,y0:q,y1:q,color:re,hovertemplate:!1}),delete v.index,p.text&&!Array.isArray(p.text)?v.text=String(p.text):v.text=p.name,[v]}}}},{"../../components/color":103,"../../components/fx":143,"../../lib":244,"../../registry":327,"./get_trace_color":377}],379:[function(r,i,o){var n=r("./subtypes");i.exports={hasLines:n.hasLines,hasMarkers:n.hasMarkers,hasText:n.hasText,isBubble:n.isBubble,attributes:r("./attributes"),supplyDefaults:r("./defaults"),crossTraceDefaults:r("./cross_trace_defaults"),calc:r("./calc").calc,crossTraceCalc:r("./cross_trace_calc"),arraysToCalcdata:r("./arrays_to_calcdata"),plot:r("./plot"),colorbar:r("./marker_colorbar"),formatLabels:r("./format_labels"),style:r("./style").style,styleOnSelect:r("./style").styleOnSelect,hoverPoints:r("./hover"),selectPoints:r("./select"),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:r("../../plots/cartesian"),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},{"../../plots/cartesian":303,"./arrays_to_calcdata":366,"./attributes":367,"./calc":368,"./cross_trace_calc":372,"./cross_trace_defaults":373,"./defaults":374,"./format_labels":376,"./hover":378,"./marker_colorbar":385,"./plot":388,"./select":389,"./style":391,"./subtypes":392}],380:[function(r,i,o){var n=r("../../lib").isArrayOrTypedArray,a=r("../../components/colorscale/helpers").hasColorscale,s=r("../../components/colorscale/defaults");i.exports=function(u,c,h,v,f,m){var _=(u.marker||{}).color;if(f("line.color",h),a(u,"line"))s(u,c,v,f,{prefix:"line.",cLetter:"c"});else{var g=(n(_)?!1:_)||h;f("line.color",g)}f("line.width"),(m||{}).noDash||f("line.dash")}},{"../../components/colorscale/defaults":113,"../../components/colorscale/helpers":114,"../../lib":244}],381:[function(r,i,o){var n=r("../../constants/numerical"),a=n.BADNUM,s=n.LOG_CLIP,l=s+.5,u=s-.5,c=r("../../lib"),h=c.segmentsIntersect,v=c.constrain,f=r("./constants");i.exports=function(_,g){var p=g.xaxis,d=g.yaxis,b=p.type==="log",y=d.type==="log",x=p._length,w=d._length,C=g.connectGaps,S=g.baseTolerance,T=g.shape,M=T==="linear",D=g.fill&&g.fill!=="none",k=[],R=f.minTolerance,P=_.length,E=new Array(P),O=0,I,U,V,Z,z,H,B,W,F,K,fe,se,ee,ie,J,te;function L(ct){var nt=_[ct];if(!nt)return!1;var at=g.linearized?p.l2p(nt.x):p.c2p(nt.x),It=g.linearized?d.l2p(nt.y):d.c2p(nt.y);if(at===a){if(b&&(at=p.c2p(nt.x,!0)),at===a)return!1;y&&It===a&&(at*=Math.abs(p._m*w*(p._m>0?l:u)/(d._m*x*(d._m>0?l:u)))),at*=1e3}if(It===a){if(y&&(It=d.c2p(nt.y,!0)),It===a)return!1;It*=1e3}return[at,It]}function N(ct,nt,at,It){var zt=at-ct,be=It-nt,Me=.5-ct,Ue=.5-nt,ce=zt*zt+be*be,Ce=zt*Me+be*Ue;if(Ce>0&&Ce<ce){var Ae=Me*be-Ue*zt;if(Ae*Ae<ce)return!0}}var G,Y;function j(ct,nt){var at=ct[0]/x,It=ct[1]/w,zt=Math.max(0,-at,at-1,-It,It-1);return zt&&G!==void 0&&N(at,It,G,Y)&&(zt=0),zt&&nt&&N(at,It,nt[0]/x,nt[1]/w)&&(zt=0),(1+f.toleranceGrowth*zt)*S}function Q(ct,nt){var at=ct[0]-nt[0],It=ct[1]-nt[1];return Math.sqrt(at*at+It*It)}var q=f.maxScreensAway,re=-x*q,ue=x*(1+q),de=-w*q,me=w*(1+q),pe=[[re,de,ue,de],[ue,de,ue,me],[ue,me,re,me],[re,me,re,de]],ge,Te,He,Oe,tt,Le;function De(ct,nt){for(var at=[],It=0,zt=0;zt<4;zt++){var be=pe[zt],Me=h(ct[0],ct[1],nt[0],nt[1],be[0],be[1],be[2],be[3]);Me&&(!It||Math.abs(Me.x-at[0][0])>1||Math.abs(Me.y-at[0][1])>1)&&(Me=[Me.x,Me.y],It&&Q(Me,ct)<Q(at[0],ct)?at.unshift(Me):at.push(Me),It++)}return at}function Se(ct){if(ct[0]<re||ct[0]>ue||ct[1]<de||ct[1]>me)return[v(ct[0],re,ue),v(ct[1],de,me)]}function ze(ct,nt){if(ct[0]===nt[0]&&(ct[0]===re||ct[0]===ue)||ct[1]===nt[1]&&(ct[1]===de||ct[1]===me))return!0}function Ke(ct,nt){var at=[],It=Se(ct),zt=Se(nt);return It&&zt&&ze(It,zt)||(It&&at.push(It),zt&&at.push(zt)),at}function _t(ct,nt,at){return function(It,zt){var be=Se(It),Me=Se(zt),Ue=[];if(be&&Me&&ze(be,Me))return Ue;be&&Ue.push(be),Me&&Ue.push(Me);var ce=2*c.constrain((It[ct]+zt[ct])/2,nt,at)-((be||It)[ct]+(Me||zt)[ct]);if(ce){var Ce;be&&Me?Ce=ce>0==be[ct]>Me[ct]?be:Me:Ce=be||Me,Ce[ct]+=ce}return Ue}}var Qe;T==="linear"||T==="spline"?Qe=De:T==="hv"||T==="vh"?Qe=Ke:T==="hvh"?Qe=_t(0,re,ue):T==="vhv"&&(Qe=_t(1,de,me));function et(ct,nt){var at=nt[0]-ct[0],It=(nt[1]-ct[1])/at,zt=(ct[1]*nt[0]-nt[1]*ct[0])/at;return zt>0?[It>0?re:ue,me]:[It>0?ue:re,de]}function rt(ct){var nt=ct[0],at=ct[1],It=nt===E[O-1][0],zt=at===E[O-1][1];if(!(It&&zt))if(O>1){var be=nt===E[O-2][0],Me=at===E[O-2][1];It&&(nt===re||nt===ue)&&be?Me?O--:E[O-1]=ct:zt&&(at===de||at===me)&&Me?be?O--:E[O-1]=ct:E[O++]=ct}else E[O++]=ct}function ft(ct){E[O-1][0]!==ct[0]&&E[O-1][1]!==ct[1]&&rt([He,Oe]),rt(ct),tt=null,He=Oe=0}function bt(ct){if(G=ct[0]/x,Y=ct[1]/w,ge=ct[0]<re?re:ct[0]>ue?ue:0,Te=ct[1]<de?de:ct[1]>me?me:0,ge||Te){if(!O)E[O++]=[ge||ct[0],Te||ct[1]];else if(tt){var nt=Qe(tt,ct);nt.length>1&&(ft(nt[0]),E[O++]=nt[1])}else Le=Qe(E[O-1],ct)[0],E[O++]=Le;var at=E[O-1];ge&&Te&&(at[0]!==ge||at[1]!==Te)?(tt&&(He!==ge&&Oe!==Te?rt(He&&Oe?et(tt,ct):[He||ge,Oe||Te]):He&&Oe&&rt([He,Oe])),rt([ge,Te])):He-ge&&Oe-Te&&rt([ge||He,Te||Oe]),tt=ct,He=ge,Oe=Te}else tt&&ft(Qe(tt,ct)[0]),E[O++]=ct}for(I=0;I<P;I++)if(U=L(I),!!U){for(O=0,tt=null,bt(U),I++;I<P;I++){if(Z=L(I),!Z){if(C)continue;break}if(!M||!g.simplify){bt(Z);continue}var Ft=L(I+1);if(K=Q(Z,U),!(!(D&&(O===0||O===P-1))&&K<j(Z,Ft)*R)){for(W=[(Z[0]-U[0])/K,(Z[1]-U[1])/K],z=U,fe=K,se=ie=J=0,B=!1,V=Z,I++;I<_.length;I++){if(H=Ft,Ft=L(I+1),!H){if(C)continue;break}if(F=[H[0]-U[0],H[1]-U[1]],te=F[0]*W[1]-F[1]*W[0],ie=Math.min(ie,te),J=Math.max(J,te),J-ie>j(H,Ft))break;V=H,ee=F[0]*W[0]+F[1]*W[1],ee>fe?(fe=ee,Z=H,B=!1):ee<se&&(se=ee,z=H,B=!0)}if(B?(bt(Z),V!==z&&bt(z)):(z!==U&&bt(z),V!==Z&&bt(Z)),bt(V),I>=_.length||!H)break;bt(H),U=H}}tt&&rt([He||tt[0],Oe||tt[1]]),k.push(E.slice(0,O))}return k}},{"../../constants/numerical":224,"../../lib":244,"./constants":371}],382:[function(r,i,o){i.exports=function(a,s,l){var u=l("line.shape");u==="spline"&&l("line.smoothing")}},{}],383:[function(r,i,o){var n={tonextx:1,tonexty:1,tonext:1};i.exports=function(s,l,u){var c,h,v,f,m,_={},g=!1,p=-1,d=0,b=-1;for(h=0;h<u.length;h++)c=u[h][0].trace,v=c.stackgroup||"",v?v in _?m=_[v]:(m=_[v]=d,d++):c.fill in n&&b>=0?m=b:(m=b=d,d++),m<p&&(g=!0),c._groupIndex=p=m;var y=u.slice();g&&y.sort(function(w,C){var S=w[0].trace,T=C[0].trace;return S._groupIndex-T._groupIndex||S.index-T.index});var x={};for(h=0;h<y.length;h++)c=y[h][0].trace,v=c.stackgroup||"",c.visible===!0?(c._nexttrace=null,c.fill in n&&(f=x[v],c._prevtrace=f||null,f&&(f._nexttrace=c)),c._ownfill=c.fill&&(c.fill.substr(0,6)==="tozero"||c.fill==="toself"||c.fill.substr(0,2)==="to"&&!c._prevtrace),x[v]=c):c._prevtrace=c._nexttrace=c._ownfill=null;return y}},{}],384:[function(r,i,o){var n=r("fast-isnumeric");i.exports=function(s,l){l||(l=2);var u=s.marker,c=u.sizeref||1,h=u.sizemin||0,v=u.sizemode==="area"?function(f){return Math.sqrt(f/c)}:function(f){return f/c};return function(f){var m=v(f/l);return n(m)&&m>0?Math.max(m,h):0}}},{"fast-isnumeric":17}],385:[function(r,i,o){i.exports={container:"marker",min:"cmin",max:"cmax"}},{}],386:[function(r,i,o){var n=r("../../components/color"),a=r("../../components/colorscale/helpers").hasColorscale,s=r("../../components/colorscale/defaults"),l=r("./subtypes");i.exports=function(c,h,v,f,m,_){var g=l.isBubble(c),p=(c.line||{}).color,d;if(_=_||{},p&&(v=p),m("marker.symbol"),m("marker.opacity",g?.7:1),m("marker.size"),m("marker.color",v),a(c,"marker")&&s(c,h,f,m,{prefix:"marker.",cLetter:"c"}),_.noSelect||(m("selected.marker.color"),m("unselected.marker.color"),m("selected.marker.size"),m("unselected.marker.size")),_.noLine||(p&&!Array.isArray(p)&&h.marker.color!==p?d=p:g?d=n.background:d=n.defaultLine,m("marker.line.color",d),a(c,"marker.line")&&s(c,h,f,m,{prefix:"marker.line.",cLetter:"c"}),m("marker.line.width",g?1:0)),g&&(m("marker.sizeref"),m("marker.sizemin"),m("marker.sizemode")),_.gradient){var b=m("marker.gradient.type");b!=="none"&&m("marker.gradient.color")}}},{"../../components/color":103,"../../components/colorscale/defaults":113,"../../components/colorscale/helpers":114,"./subtypes":392}],387:[function(r,i,o){var n=r("../../lib").dateTick0,a=r("../../constants/numerical"),s=a.ONEWEEK;function l(u,c){return u%s===0?n(c,1):n(c,0)}i.exports=function(c,h,v,f,m){if(m||(m={x:!0,y:!0}),m.x){var _=f("xperiod");_&&(f("xperiod0",l(_,h.xcalendar)),f("xperiodalignment"))}if(m.y){var g=f("yperiod");g&&(f("yperiod0",l(g,h.ycalendar)),f("yperiodalignment"))}}},{"../../constants/numerical":224,"../../lib":244}],388:[function(r,i,o){var n=r("@plotly/d3"),a=r("../../registry"),s=r("../../lib"),l=s.ensureSingle,u=s.identity,c=r("../../components/drawing"),h=r("./subtypes"),v=r("./line_points"),f=r("./link_traces"),m=r("../../lib/polygon").tester;i.exports=function(b,y,x,w,C,S){var T,M,D=!C,k=!!C&&C.duration>0,R=f(b,y,x);if(T=w.selectAll("g.trace").data(R,function(E){return E[0].trace.uid}),T.enter().append("g").attr("class",function(E){return"trace scatter trace"+E[0].trace.uid}).style("stroke-miterlimit",2),T.order(),_(b,T,y),k){S&&(M=S());var P=n.transition().duration(C.duration).ease(C.easing).each("end",function(){M&&M()}).each("interrupt",function(){M&&M()});P.each(function(){w.selectAll("g.trace").each(function(E,O){g(b,O,y,E,R,this,C)})})}else T.each(function(E,O){g(b,O,y,E,R,this,C)});D&&T.exit().remove(),w.selectAll("path:not([d])").remove()};function _(d,b,y){b.each(function(x){var w=l(n.select(this),"g","fills");c.setClipUrl(w,y.layerClipId,d);var C=x[0].trace,S=[];C._ownfill&&S.push("_ownFill"),C._nexttrace&&S.push("_nextFill");var T=w.selectAll("g").data(S,u);T.enter().append("g"),T.exit().each(function(M){C[M]=null}).remove(),T.order().each(function(M){C[M]=l(n.select(this),"path","js-fill")})})}function g(d,b,y,x,w,C,S){var T;p(d,b,y,x,w);var M=!!S&&S.duration>0;function D(De){return M?De.transition():De}var k=y.xaxis,R=y.yaxis,P=x[0].trace,E=P.line,O=n.select(C),I=l(O,"g","errorbars"),U=l(O,"g","lines"),V=l(O,"g","points"),Z=l(O,"g","text");if(a.getComponentMethod("errorbars","plot")(d,I,y,S),P.visible!==!0)return;D(O).style("opacity",P.opacity);var z,H,B=P.fill.charAt(P.fill.length-1);B!=="x"&&B!=="y"&&(B=""),x[0][y.isRangePlot?"nodeRangePlot3":"node3"]=O;var W="",F=[],K=P._prevtrace;K&&(W=K._prevRevpath||"",H=K._nextFill,F=K._polygons);var fe,se,ee="",ie="",J,te,L,N,G,Y,j,Q=[],q=s.noop;if(z=P._ownFill,h.hasLines(P)||P.fill!=="none"){for(H&&H.datum(x),["hv","vh","hvh","vhv"].indexOf(E.shape)!==-1?(J=c.steps(E.shape),te=c.steps(E.shape.split("").reverse().join(""))):E.shape==="spline"?J=te=function(De){var Se=De[De.length-1];return De.length>1&&De[0][0]===Se[0]&&De[0][1]===Se[1]?c.smoothclosed(De.slice(1),E.smoothing):c.smoothopen(De,E.smoothing)}:J=te=function(De){return"M"+De.join("L")},L=function(De){return te(De.reverse())},Q=v(x,{xaxis:k,yaxis:R,connectGaps:P.connectgaps,baseTolerance:Math.max(E.width||1,3)/4,shape:E.shape,simplify:E.simplify,fill:P.fill}),j=P._polygons=new Array(Q.length),T=0;T<Q.length;T++)P._polygons[T]=m(Q[T]);Q.length&&(N=Q[0][0],G=Q[Q.length-1],Y=G[G.length-1]),q=function(De){return function(Se){if(fe=J(Se),se=L(Se),ee?B?(ee+="L"+fe.substr(1),ie=se+("L"+ie.substr(1))):(ee+="Z"+fe,ie=se+"Z"+ie):(ee=fe,ie=se),h.hasLines(P)&&Se.length>1){var ze=n.select(this);if(ze.datum(x),De)D(ze.style("opacity",0).attr("d",fe).call(c.lineGroupStyle)).style("opacity",1);else{var Ke=D(ze);Ke.attr("d",fe),c.singleLineStyle(x,Ke)}}}}}var re=U.selectAll(".js-line").data(Q);D(re.exit()).style("opacity",0).remove(),re.each(q(!1)),re.enter().append("path").classed("js-line",!0).style("vector-effect","non-scaling-stroke").call(c.lineGroupStyle).each(q(!0)),c.setClipUrl(re,y.layerClipId,d);function ue(De){D(De).attr("d","M0,0Z")}Q.length?(z?(z.datum(x),N&&Y&&(B?(B==="y"?N[1]=Y[1]=R.c2p(0,!0):B==="x"&&(N[0]=Y[0]=k.c2p(0,!0)),D(z).attr("d","M"+Y+"L"+N+"L"+ee.substr(1)).call(c.singleFillStyle,d)):D(z).attr("d",ee+"Z").call(c.singleFillStyle,d))):H&&(P.fill.substr(0,6)==="tonext"&&ee&&W?(P.fill==="tonext"?D(H).attr("d",ee+"Z"+W+"Z").call(c.singleFillStyle,d):D(H).attr("d",ee+"L"+W.substr(1)+"Z").call(c.singleFillStyle,d),P._polygons=P._polygons.concat(F)):(ue(H),P._polygons=null)),P._prevRevpath=ie,P._prevPolygons=j):(z?ue(z):H&&ue(H),P._polygons=P._prevRevpath=P._prevPolygons=null);function de(De){return De.filter(function(Se){return!Se.gap&&Se.vis})}function me(De){return De.filter(function(Se){return Se.vis})}function pe(De){return De.filter(function(Se){return!Se.gap})}function ge(De){return De.id}function Te(De){if(De.ids)return ge}function He(){return!1}function Oe(De,Se,ze){var Ke,_t,Qe,et=ze[0].trace,rt=h.hasMarkers(et),ft=h.hasText(et),bt=Te(et),Ft=He,ct=He;if(rt||ft){var nt=u,at=et.stackgroup,It=at&&d._fullLayout._scatterStackOpts[k._id+R._id][at].stackgaps==="infer zero";et.marker.maxdisplayed||et._needsCull?nt=It?me:de:at&&!It&&(nt=pe),rt&&(Ft=nt),ft&&(ct=nt)}_t=De.selectAll("path.point"),Ke=_t.data(Ft,bt);var zt=Ke.enter().append("path").classed("point",!0);M&&zt.call(c.pointStyle,et,d).call(c.translatePoints,k,R).style("opacity",0).transition().style("opacity",1),Ke.order();var be;rt&&(be=c.makePointStyleFns(et)),Ke.each(function(Me){var Ue=n.select(this),ce=D(Ue);Qe=c.translatePoint(Me,ce,k,R),Qe?(c.singlePointStyle(Me,ce,et,be,d),y.layerClipId&&c.hideOutsideRangePoint(Me,ce,k,R,et.xcalendar,et.ycalendar),et.customdata&&Ue.classed("plotly-customdata",Me.data!==null&&Me.data!==void 0)):ce.remove()}),M?Ke.exit().transition().style("opacity",0).remove():Ke.exit().remove(),_t=Se.selectAll("g"),Ke=_t.data(ct,bt),Ke.enter().append("g").classed("textpoint",!0).append("text"),Ke.order(),Ke.each(function(Me){var Ue=n.select(this),ce=D(Ue.select("text"));Qe=c.translatePoint(Me,ce,k,R),Qe?y.layerClipId&&c.hideOutsideRangePoint(Me,Ue,k,R,et.xcalendar,et.ycalendar):Ue.remove()}),Ke.selectAll("text").call(c.textPointStyle,et,d).each(function(Me){var Ue=k.c2p(Me.x),ce=R.c2p(Me.y);n.select(this).selectAll("tspan.line").each(function(){D(n.select(this)).attr({x:Ue,y:ce})})}),Ke.exit().remove()}V.datum(x),Z.datum(x),Oe(V,Z,x);var tt=P.cliponaxis===!1,Le=tt?null:y.layerClipId;c.setClipUrl(V,Le,d),c.setClipUrl(Z,Le,d)}function p(d,b,y,x,w){var C=y.xaxis,S=y.yaxis,T=n.extent(s.simpleMap(C.range,C.r2c)),M=n.extent(s.simpleMap(S.range,S.r2c)),D=x[0].trace;if(h.hasMarkers(D)){var k=D.marker.maxdisplayed;if(k!==0){var R=x.filter(function(I){return I.x>=T[0]&&I.x<=T[1]&&I.y>=M[0]&&I.y<=M[1]}),P=Math.ceil(R.length/k),E=0;w.forEach(function(I,U){var V=I[0].trace;h.hasMarkers(V)&&V.marker.maxdisplayed>0&&U<b&&E++});var O=Math.round(E*P/3+Math.floor(E/3)*P/7.1);x.forEach(function(I){delete I.vis}),R.forEach(function(I,U){Math.round((U+O)%P)===0&&(I.vis=!0)})}}}},{"../../components/drawing":125,"../../lib":244,"../../lib/polygon":256,"../../registry":327,"./line_points":381,"./link_traces":383,"./subtypes":392,"@plotly/d3":11}],389:[function(r,i,o){var n=r("./subtypes");i.exports=function(s,l){var u=s.cd,c=s.xaxis,h=s.yaxis,v=[],f=u[0].trace,m,_,g,p,d=!n.hasMarkers(f)&&!n.hasText(f);if(d)return[];if(l===!1)for(m=0;m<u.length;m++)u[m].selected=0;else for(m=0;m<u.length;m++)_=u[m],g=c.c2p(_.x),p=h.c2p(_.y),_.i!==null&&l.contains([g,p],!1,m,s)?(v.push({pointNumber:_.i,x:c.c2d(_.x),y:h.c2d(_.y)}),_.selected=1):_.selected=0;return v}},{"./subtypes":392}],390:[function(r,i,o){var n=["orientation","groupnorm","stackgaps"];i.exports=function(s,l,u,c){var h=u._scatterStackOpts,v=c("stackgroup");if(v){var f=l.xaxis+l.yaxis,m=h[f];m||(m=h[f]={});var _=m[v],g=!1;_?_.traces.push(l):(_=m[v]={traceIndices:[],traces:[l]},g=!0);for(var p={orientation:l.x&&!l.y?"h":"v"},d=0;d<n.length;d++){var b=n[d],y=b+"Found";if(!_[y]){var x=s[b]!==void 0,w=b==="orientation";if((x||g)&&(_[b]=c(b,p[b]),w&&(_.fillDflt=_[b]==="h"?"tonextx":"tonexty"),x&&(_[y]=!0,!g&&(delete _.traces[0][b],w))))for(var C=0;C<_.traces.length-1;C++){var S=_.traces[C];S._input.fill!==S.fill&&(S.fill=_.fillDflt)}}}return _}}},{}],391:[function(r,i,o){var n=r("@plotly/d3"),a=r("../../components/drawing"),s=r("../../registry");function l(v){var f=n.select(v).selectAll("g.trace.scatter");f.style("opacity",function(m){return m[0].trace.opacity}),f.selectAll("g.points").each(function(m){var _=n.select(this),g=m.trace||m[0].trace;u(_,g,v)}),f.selectAll("g.text").each(function(m){var _=n.select(this),g=m.trace||m[0].trace;c(_,g,v)}),f.selectAll("g.trace path.js-line").call(a.lineGroupStyle),f.selectAll("g.trace path.js-fill").call(a.fillGroupStyle,v),s.getComponentMethod("errorbars","style")(f)}function u(v,f,m){a.pointStyle(v.selectAll("path.point"),f,m)}function c(v,f,m){a.textPointStyle(v.selectAll("text"),f,m)}function h(v,f,m){var _=f[0].trace;_.selectedpoints?(a.selectedPointStyle(m.selectAll("path.point"),_),a.selectedTextStyle(m.selectAll("text"),_)):(u(m,_,v),c(m,_,v))}i.exports={style:l,stylePoints:u,styleText:c,styleOnSelect:h}},{"../../components/drawing":125,"../../registry":327,"@plotly/d3":11}],392:[function(r,i,o){var n=r("../../lib");i.exports={hasLines:function(a){return a.visible&&a.mode&&a.mode.indexOf("lines")!==-1},hasMarkers:function(a){return a.visible&&(a.mode&&a.mode.indexOf("markers")!==-1||a.type==="splom")},hasText:function(a){return a.visible&&a.mode&&a.mode.indexOf("text")!==-1},isBubble:function(a){return n.isPlainObject(a.marker)&&n.isArrayOrTypedArray(a.marker.size)}}},{"../../lib":244}],393:[function(r,i,o){var n=r("../../lib");i.exports=function(a,s,l,u,c){c=c||{},u("textposition"),n.coerceFont(u,"textfont",l.font),c.noSelect||(u("selected.textfont.color"),u("unselected.textfont.color"))}},{"../../lib":244}],394:[function(r,i,o){var n=r("../../lib"),a=r("../../registry");i.exports=function(l,u,c,h){var v=h("x"),f=h("y"),m,_=a.getComponentMethod("calendars","handleTraceDefaults");if(_(l,u,["x","y"],c),v){var g=n.minRowLength(v);f?m=Math.min(g,n.minRowLength(f)):(m=g,h("y0"),h("dy"))}else{if(!f)return 0;m=n.minRowLength(f),h("x0"),h("dx")}return u._length=m,m}},{"../../lib":244,"../../registry":327}],395:[function(r,i,o){var n=r("../plots/cartesian/axes"),a=r("../lib"),s=r("../plot_api/plot_schema"),l=r("./helpers").pointsAccessorFunction,u=r("../constants/numerical").BADNUM;o.moduleType="transform",o.name="aggregate";var c=o.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},h=c.aggregations;o.supplyDefaults=function(p,d){var b={},y;function x(I,U){return a.coerce(p,b,c,I,U)}var w=x("enabled");if(!w)return b;var C=s.findArrayAttributes(d),S={};for(y=0;y<C.length;y++)S[C[y]]=1;var T=x("groups");if(!Array.isArray(T)){if(!S[T])return b.enabled=!1,b;S[T]=0}var M=p.aggregations||[],D=b.aggregations=new Array(M.length),k;function R(I,U){return a.coerce(M[y],k,h,I,U)}for(y=0;y<M.length;y++){k={_index:y};var P=R("target"),E=R("func"),O=R("enabled");O&&P&&(S[P]||E==="count"&&S[P]===void 0)?(E==="stddev"&&R("funcmode"),S[P]=0,D[y]=k):D[y]={enabled:!1,_index:y}}for(y=0;y<C.length;y++)S[C[y]]&&D.push({target:C[y],func:h.func.dflt,enabled:!0,_index:-1});return b},o.calcTransform=function(p,d,b){if(b.enabled){var y=b.groups,x=a.getTargetArray(d,{target:y});if(x){var w,C,S,T,M={},D={},k=[],R=l(d.transforms,b),P=x.length;for(d._length&&(P=Math.min(P,d._length)),w=0;w<P;w++)C=x[w],S=M[C],S===void 0?(M[C]=k.length,T=[w],k.push(T),D[M[C]]=R(w)):(k[S].push(w),D[M[C]]=(D[M[C]]||[]).concat(R(w)));b._indexToPoints=D;var E=b.aggregations;for(w=0;w<E.length;w++)v(p,d,k,E[w]);typeof y=="string"&&v(p,d,k,{target:y,func:"first",enabled:!0}),d._length=k.length}}};function v(p,d,b,y){if(y.enabled){for(var x=y.target,w=a.nestedProperty(d,x),C=w.get(),S=n.getDataConversions(p,d,x,C),T=f(y,S),M=new Array(b.length),D=0;D<b.length;D++)M[D]=T(C,b[D]);w.set(M),y.func==="count"&&a.pushUnique(d._arrayAttrs,x)}}function f(p,d){var b=p.func,y=d.d2c,x=d.c2d;switch(b){case"count":return m;case"first":return _;case"last":return g;case"sum":return function(w,C){for(var S=0,T=0;T<C.length;T++){var M=y(w[C[T]]);M!==u&&(S+=M)}return x(S)};case"avg":return function(w,C){for(var S=0,T=0,M=0;M<C.length;M++){var D=y(w[C[M]]);D!==u&&(S+=D,T++)}return T?x(S/T):u};case"min":return function(w,C){for(var S=1/0,T=0;T<C.length;T++){var M=y(w[C[T]]);M!==u&&(S=Math.min(S,M))}return S===1/0?u:x(S)};case"max":return function(w,C){for(var S=-1/0,T=0;T<C.length;T++){var M=y(w[C[T]]);M!==u&&(S=Math.max(S,M))}return S===-1/0?u:x(S)};case"range":return function(w,C){for(var S=1/0,T=-1/0,M=0;M<C.length;M++){var D=y(w[C[M]]);D!==u&&(S=Math.min(S,D),T=Math.max(T,D))}return T===-1/0||S===1/0?u:x(T-S)};case"change":return function(w,C){var S=y(w[C[0]]),T=y(w[C[C.length-1]]);return S===u||T===u?u:x(T-S)};case"median":return function(w,C){for(var S=[],T=0;T<C.length;T++){var M=y(w[C[T]]);M!==u&&S.push(M)}if(!S.length)return u;S.sort(a.sorterAsc);var D=(S.length-1)/2;return x((S[Math.floor(D)]+S[Math.ceil(D)])/2)};case"mode":return function(w,C){for(var S={},T=0,M=u,D=0;D<C.length;D++){var k=y(w[C[D]]);if(k!==u){var R=S[k]=(S[k]||0)+1;R>T&&(T=R,M=k)}}return T?x(M):u};case"rms":return function(w,C){for(var S=0,T=0,M=0;M<C.length;M++){var D=y(w[C[M]]);D!==u&&(S+=D*D,T++)}return T?x(Math.sqrt(S/T)):u};case"stddev":return function(w,C){var S=0,T=0,M=1,D=u,k;for(k=0;k<C.length&&D===u;k++)D=y(w[C[k]]);if(D===u)return u;for(;k<C.length;k++){var R=y(w[C[k]]);if(R!==u){var P=R-D;S+=P,T+=P*P,M++}}var E=p.funcmode==="sample"?M-1:M;return E?Math.sqrt((T-S*S/M)/E):0}}}function m(p,d){return d.length}function _(p,d){return p[d[0]]}function g(p,d){return p[d[d.length-1]]}},{"../constants/numerical":224,"../lib":244,"../plot_api/plot_schema":279,"../plots/cartesian/axes":291,"./helpers":398}],396:[function(r,i,o){var n=r("../lib"),a=r("../registry"),s=r("../plots/cartesian/axes"),l=r("./helpers").pointsAccessorFunction,u=r("../constants/filter_ops"),c=u.COMPARISON_OPS,h=u.INTERVAL_OPS,v=u.SET_OPS;o.moduleType="transform",o.name="filter",o.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(c).concat(h).concat(v),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"},o.supplyDefaults=function(m){var _={};function g(y,x){return n.coerce(m,_,o.attributes,y,x)}var p=g("enabled");if(p){var d=g("target");if(n.isArrayOrTypedArray(d)&&d.length===0)return _.enabled=!1,_;g("preservegaps"),g("operation"),g("value");var b=a.getComponentMethod("calendars","handleDefaults");b(m,_,"valuecalendar",null),b(m,_,"targetcalendar",null)}return _},o.calcTransform=function(m,_,g){if(!g.enabled)return;var p=n.getTargetArray(_,g);if(!p)return;var d=g.target,b=p.length;_._length&&(b=Math.min(b,_._length));var y=g.targetcalendar,x=_._arrayAttrs,w=g.preservegaps;if(typeof d=="string"){var C=n.nestedProperty(_,d+"calendar").get();C&&(y=C)}var S=s.getDataToCoordFunc(m,_,d,p),T=f(g,S,y),M={},D={},k=0;function R(V,Z){for(var z=0;z<x.length;z++){var H=n.nestedProperty(_,x[z]);V(H,Z)}}var P,E;w?(P=function(V){M[V.astr]=n.extendDeep([],V.get()),V.set(new Array(b))},E=function(V,Z){var z=M[V.astr][Z];V.get()[Z]=z}):(P=function(V){M[V.astr]=n.extendDeep([],V.get()),V.set([])},E=function(V,Z){var z=M[V.astr][Z];V.get().push(z)}),R(P);for(var O=l(_.transforms,g),I=0;I<b;I++){var U=T(p[I]);U?(R(E,I),D[k++]=O(I)):w&&k++}g._indexToPoints=D,_._length=k};function f(m,_,g){var p=m.operation,d=m.value,b=Array.isArray(d);function y(S){return S.indexOf(p)!==-1}var x=function(S){return _(S,0,m.valuecalendar)},w=function(S){return _(S,0,g)},C;switch(y(c)?C=x(b?d[0]:d):y(h)?C=b?[x(d[0]),x(d[1])]:[x(d),x(d)]:y(v)&&(C=b?d.map(x):[x(d)]),p){case"=":return function(S){return w(S)===C};case"!=":return function(S){return w(S)!==C};case"<":return function(S){return w(S)<C};case"<=":return function(S){return w(S)<=C};case">":return function(S){return w(S)>C};case">=":return function(S){return w(S)>=C};case"[]":return function(S){var T=w(S);return T>=C[0]&&T<=C[1]};case"()":return function(S){var T=w(S);return T>C[0]&&T<C[1]};case"[)":return function(S){var T=w(S);return T>=C[0]&&T<C[1]};case"(]":return function(S){var T=w(S);return T>C[0]&&T<=C[1]};case"][":return function(S){var T=w(S);return T<=C[0]||T>=C[1]};case")(":return function(S){var T=w(S);return T<C[0]||T>C[1]};case"](":return function(S){var T=w(S);return T<=C[0]||T>C[1]};case")[":return function(S){var T=w(S);return T<C[0]||T>=C[1]};case"{}":return function(S){return C.indexOf(w(S))!==-1};case"}{":return function(S){return C.indexOf(w(S))===-1}}}},{"../constants/filter_ops":222,"../lib":244,"../plots/cartesian/axes":291,"../registry":327,"./helpers":398}],397:[function(r,i,o){var n=r("../lib"),a=r("../plot_api/plot_schema"),s=r("../plots/plots"),l=r("./helpers").pointsAccessorFunction;o.moduleType="transform",o.name="groupby",o.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"},o.supplyDefaults=function(c,h,v){var f,m={};function _(x,w){return n.coerce(c,m,o.attributes,x,w)}var g=_("enabled");if(!g)return m;_("groups"),_("nameformat",v._dataLength>1?"%{group} (%{trace})":"%{group}");var p=c.styles,d=m.styles=[];if(p)for(f=0;f<p.length;f++){var b=d[f]={};n.coerce(p[f],d[f],o.attributes.styles,"target");var y=n.coerce(p[f],d[f],o.attributes.styles,"value");n.isPlainObject(y)?b.value=n.extendDeep({},y):y&&delete b.value}return m},o.transform=function(c,h){var v,f,m,_=[];for(f=0;f<c.length;f++)for(v=u(c[f],h),m=0;m<v.length;m++)_.push(v[m]);return _};function u(c,h){var v,f,m,_,g,p,d,b,y,x,w=h.transform,C=h.transformIndex,S=c.transforms[C].groups,T=l(c.transforms,w);if(!n.isArrayOrTypedArray(S)||S.length===0)return[c];var M=n.filterUnique(S),D=new Array(M.length),k=S.length,R=a.findArrayAttributes(c),P=w.styles||[],E={};for(v=0;v<P.length;v++)E[P[v].target]=P[v].value;w.styles&&(x=n.keyedContainer(w,"styles","target","value.name"));var O={},I={};for(v=0;v<M.length;v++){p=M[v],O[p]=v,I[p]=0,d=D[v]=n.extendDeepNoArrays({},c),d._group=p,d.transforms[C]._indexToPoints={};var U=null;for(x&&(U=x.get(p)),U||U===""?d.name=U:d.name=n.templateString(w.nameformat,{trace:c.name,group:p}),b=d.transforms,d.transforms=[],f=0;f<b.length;f++)d.transforms[f]=n.extendDeepNoArrays({},b[f]);for(f=0;f<R.length;f++)n.nestedProperty(d,R[f]).set([])}for(m=0;m<R.length;m++){for(_=R[m],f=0,y=[];f<M.length;f++)y[f]=n.nestedProperty(D[f],_).get();for(g=n.nestedProperty(c,_).get(),f=0;f<k;f++)y[O[S[f]]].push(g[f])}for(f=0;f<k;f++){d=D[O[S[f]]];var V=d.transforms[C]._indexToPoints;V[I[S[f]]]=T(f),I[S[f]]++}for(v=0;v<M.length;v++)p=M[v],d=D[v],s.clearExpandedTraceDefaultColors(d),d=n.extendDeepNoArrays(d,E[p]||{});return D}},{"../lib":244,"../plot_api/plot_schema":279,"../plots/plots":325,"./helpers":398}],398:[function(r,i,o){o.pointsAccessorFunction=function(n,a){for(var s,l,u=0;u<n.length&&(s=n[u],s!==a);u++)!s._indexToPoints||s.enabled===!1||(l=s._indexToPoints);var c=l?function(h){return l[h]}:function(h){return[h]};return c}},{}],399:[function(r,i,o){var n=r("../lib"),a=r("../plots/cartesian/axes"),s=r("./helpers").pointsAccessorFunction,l=r("../constants/numerical").BADNUM;o.moduleType="transform",o.name="sort",o.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"},o.supplyDefaults=function(h){var v={};function f(_,g){return n.coerce(h,v,o.attributes,_,g)}var m=f("enabled");return m&&(f("target"),f("order")),v},o.calcTransform=function(h,v,f){if(f.enabled){var m=n.getTargetArray(v,f);if(m){var _=f.target,g=m.length;v._length&&(g=Math.min(g,v._length));var p=v._arrayAttrs,d=a.getDataToCoordFunc(h,v,_,m),b=u(f,m,d,g),y=s(v.transforms,f),x={},w,C;for(w=0;w<p.length;w++){var S=n.nestedProperty(v,p[w]),T=S.get(),M=new Array(g);for(C=0;C<g;C++)M[C]=T[b[C]];S.set(M)}for(C=0;C<g;C++)x[C]=y(b[C]);f._indexToPoints=x,v._length=g}}};function u(h,v,f,m){var _=new Array(m),g=new Array(m),p;for(p=0;p<m;p++)_[p]={v:v[p],i:p};for(_.sort(c(h,f)),p=0;p<m;p++)g[p]=_[p].i;return g}function c(h,v){switch(h.order){case"ascending":return function(f,m){var _=v(f.v),g=v(m.v);return _===l?1:g===l?-1:_-g};case"descending":return function(f,m){var _=v(f.v),g=v(m.v);return _===l?1:g===l?-1:g-_}}}},{"../constants/numerical":224,"../lib":244,"../plots/cartesian/axes":291,"./helpers":398}],400:[function(r,i,o){o.version="2.14.0"},{}]},{},[8])(8)})})(l4);var qU=l4.exports;const eW=cl(qU);var u4={};(function(e){function t(x){return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},t(x)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=y;var r=a(ot),i=o(co);function o(x){return x&&x.__esModule?x:{default:x}}function n(x){if(typeof WeakMap!="function")return null;var w=new WeakMap,C=new WeakMap;return(n=function(T){return T?C:w})(x)}function a(x,w){if(!w&&x&&x.__esModule)return x;if(x===null||t(x)!=="object"&&typeof x!="function")return{default:x};var C=n(w);if(C&&C.has(x))return C.get(x);var S={},T=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var M in x)if(M!=="default"&&Object.prototype.hasOwnProperty.call(x,M)){var D=T?Object.getOwnPropertyDescriptor(x,M):null;D&&(D.get||D.set)?Object.defineProperty(S,M,D):S[M]=x[M]}return S.default=x,C&&C.set(x,S),S}function s(x,w){if(!(x instanceof w))throw new TypeError("Cannot call a class as a function")}function l(x,w){for(var C=0;C<w.length;C++){var S=w[C];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(x,S.key,S)}}function u(x,w,C){return w&&l(x.prototype,w),C&&l(x,C),Object.defineProperty(x,"prototype",{writable:!1}),x}function c(x,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function");x.prototype=Object.create(w&&w.prototype,{constructor:{value:x,writable:!0,configurable:!0}}),Object.defineProperty(x,"prototype",{writable:!1}),w&&h(x,w)}function h(x,w){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(S,T){return S.__proto__=T,S},h(x,w)}function v(x){var w=_();return function(){var S=g(x),T;if(w){var M=g(this).constructor;T=Reflect.construct(S,arguments,M)}else T=S.apply(this,arguments);return f(this,T)}}function f(x,w){if(w&&(t(w)==="object"||typeof w=="function"))return w;if(w!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return m(x)}function m(x){if(x===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x}function _(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function g(x){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(C){return C.__proto__||Object.getPrototypeOf(C)},g(x)}var p=["AfterExport","AfterPlot","Animated","AnimatingFrame","AnimationInterrupted","AutoSize","BeforeExport","BeforeHover","ButtonClicked","Click","ClickAnnotation","Deselect","DoubleClick","Framework","Hover","LegendClick","LegendDoubleClick","Relayout","Relayouting","Restyle","Redraw","Selected","Selecting","SliderChange","SliderEnd","SliderStart","SunburstClick","Transitioning","TransitionInterrupted","Unhover","WebGlContextLost"],d=["plotly_restyle","plotly_redraw","plotly_relayout","plotly_relayouting","plotly_doubleclick","plotly_animated","plotly_sunburstclick"],b=typeof window<"u";function y(x){var w=function(C){c(T,C);var S=v(T);function T(M){var D;return s(this,T),D=S.call(this,M),D.p=Promise.resolve(),D.resizeHandler=null,D.handlers={},D.syncWindowResize=D.syncWindowResize.bind(m(D)),D.syncEventHandlers=D.syncEventHandlers.bind(m(D)),D.attachUpdateEvents=D.attachUpdateEvents.bind(m(D)),D.getRef=D.getRef.bind(m(D)),D.handleUpdate=D.handleUpdate.bind(m(D)),D.figureCallback=D.figureCallback.bind(m(D)),D.updatePlotly=D.updatePlotly.bind(m(D)),D}return u(T,[{key:"updatePlotly",value:function(D,k,R){var P=this;this.p=this.p.then(function(){if(!P.unmounting){if(!P.el)throw new Error("Missing element reference");return x.react(P.el,{data:P.props.data,layout:P.props.layout,config:P.props.config,frames:P.props.frames})}}).then(function(){P.unmounting||(P.syncWindowResize(D),P.syncEventHandlers(),P.figureCallback(k),R&&P.attachUpdateEvents())}).catch(function(E){P.props.onError&&P.props.onError(E)})}},{key:"componentDidMount",value:function(){this.unmounting=!1,this.updatePlotly(!0,this.props.onInitialized,!0)}},{key:"componentDidUpdate",value:function(D){this.unmounting=!1;var k=D.frames&&D.frames.length?D.frames.length:0,R=this.props.frames&&this.props.frames.length?this.props.frames.length:0,P=!(D.layout===this.props.layout&&D.data===this.props.data&&D.config===this.props.config&&R===k),E=D.revision!==void 0,O=D.revision!==this.props.revision;!P&&(!E||E&&!O)||this.updatePlotly(!1,this.props.onUpdate,!1)}},{key:"componentWillUnmount",value:function(){this.unmounting=!0,this.figureCallback(this.props.onPurge),this.resizeHandler&&b&&(window.removeEventListener("resize",this.resizeHandler),this.resizeHandler=null),this.removeUpdateEvents(),x.purge(this.el)}},{key:"attachUpdateEvents",value:function(){var D=this;!this.el||!this.el.removeListener||d.forEach(function(k){D.el.on(k,D.handleUpdate)})}},{key:"removeUpdateEvents",value:function(){var D=this;!this.el||!this.el.removeListener||d.forEach(function(k){D.el.removeListener(k,D.handleUpdate)})}},{key:"handleUpdate",value:function(){this.figureCallback(this.props.onUpdate)}},{key:"figureCallback",value:function(D){if(typeof D=="function"){var k=this.el,R=k.data,P=k.layout,E=this.el._transitionData?this.el._transitionData._frames:null,O={data:R,layout:P,frames:E};D(O,this.el)}}},{key:"syncWindowResize",value:function(D){var k=this;b&&(this.props.useResizeHandler&&!this.resizeHandler?(this.resizeHandler=function(){return x.Plots.resize(k.el)},window.addEventListener("resize",this.resizeHandler),D&&this.resizeHandler()):!this.props.useResizeHandler&&this.resizeHandler&&(window.removeEventListener("resize",this.resizeHandler),this.resizeHandler=null))}},{key:"getRef",value:function(D){this.el=D,this.props.debug&&b&&(window.gd=this.el)}},{key:"syncEventHandlers",value:function(){var D=this;p.forEach(function(k){var R=D.props["on"+k],P=D.handlers[k],E=!!P;R&&!E?D.addEventHandler(k,R):!R&&E?D.removeEventHandler(k):R&&E&&R!==P&&(D.removeEventHandler(k),D.addEventHandler(k,R))})}},{key:"addEventHandler",value:function(D,k){this.handlers[D]=k,this.el.on(this.getPlotlyEventName(D),this.handlers[D])}},{key:"removeEventHandler",value:function(D){this.el.removeListener(this.getPlotlyEventName(D),this.handlers[D]),delete this.handlers[D]}},{key:"getPlotlyEventName",value:function(D){return"plotly_"+D.toLowerCase()}},{key:"render",value:function(){return r.default.createElement("div",{id:this.props.divId,style:this.props.style,ref:this.getRef,className:this.props.className})}}]),T}(r.Component);return w.propTypes={data:i.default.arrayOf(i.default.object),config:i.default.object,layout:i.default.object,frames:i.default.arrayOf(i.default.object),revision:i.default.number,onInitialized:i.default.func,onPurge:i.default.func,onError:i.default.func,onUpdate:i.default.func,debug:i.default.bool,style:i.default.object,className:i.default.string,useResizeHandler:i.default.bool,divId:i.default.string},p.forEach(function(C){w.propTypes["on"+C]=i.default.func}),w.defaultProps={debug:!1,useResizeHandler:!1,data:[],style:{position:"relative",display:"inline-block"}},w}})(u4);const tW=cl(u4),rW=tW(eW);let nW=e=>{const t=an(o=>o.plot),r=an(o=>o.settings);let i=()=>{t.plot_running&&EF()};return QU(()=>{i()},e.refreshRate),Je.jsx(rW,{data:t.data,layout:{...t.layout,...r.plot_palette},config:{...t.config,response:!0},datarevision:e.datarevision})};const iW=Xr.div`
    display: grid;
    grid-template-columns: auto auto auto;
    grid-column-gap: 1em;
    justify-content: start;
    grid-auto-rows: minmax(1em, auto);
    align-items: center;
`;let aW=e=>{let t=()=>{e.handle_remove(e.name)},r=()=>{e.handle_edit(e.regID)};return e.preview_only?Je.jsxs(iW,{children:[Je.jsx(Gn,{description:e.description,ID:e.ID,name:e.name,label:e.name}),Je.jsx(hI,{color:Hr.icons_color,onClick:r}),Je.jsx(rv,{color:Hr.icons_color,onClick:t})]}):e.value?Je.jsx(Gn,{description:e.description,value:e.value,placeholder:e.placeholder,ID:e.ID,name:e.name,label:e.name}):Je.jsx(Gn,{description:e.description,value:e.value,placeholder:e.placeholder,ID:e.ID,name:e.name,label:e.name})};function L3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,i)}return r}function D3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L3(Object(r),!0).forEach(function(i){Za(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L3(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function di(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var P3=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),h0=function(){return Math.random().toString(36).substring(7).split("").join(".")},of={INIT:"@@redux/INIT"+h0(),REPLACE:"@@redux/REPLACE"+h0(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+h0()}};function oW(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Cf(e,t,r){var i;if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(di(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(di(1));return r(Cf)(e,t)}if(typeof e!="function")throw new Error(di(2));var o=e,n=t,a=[],s=a,l=!1;function u(){s===a&&(s=a.slice())}function c(){if(l)throw new Error(di(3));return n}function h(_){if(typeof _!="function")throw new Error(di(4));if(l)throw new Error(di(5));var g=!0;return u(),s.push(_),function(){if(g){if(l)throw new Error(di(6));g=!1,u();var d=s.indexOf(_);s.splice(d,1),a=null}}}function v(_){if(!oW(_))throw new Error(di(7));if(typeof _.type>"u")throw new Error(di(8));if(l)throw new Error(di(9));try{l=!0,n=o(n,_)}finally{l=!1}for(var g=a=s,p=0;p<g.length;p++){var d=g[p];d()}return _}function f(_){if(typeof _!="function")throw new Error(di(10));o=_,v({type:of.REPLACE})}function m(){var _,g=h;return _={subscribe:function(d){if(typeof d!="object"||d===null)throw new Error(di(11));function b(){d.next&&d.next(c())}b();var y=g(b);return{unsubscribe:y}}},_[P3]=function(){return this},_}return v({type:of.INIT}),i={dispatch:v,subscribe:h,getState:c,replaceReducer:f},i[P3]=m,i}var sW=Cf;function lW(e){Object.keys(e).forEach(function(t){var r=e[t],i=r(void 0,{type:of.INIT});if(typeof i>"u")throw new Error(di(12));if(typeof r(void 0,{type:of.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(di(13))})}function c4(e){for(var t=Object.keys(e),r={},i=0;i<t.length;i++){var o=t[i];typeof e[o]=="function"&&(r[o]=e[o])}var n=Object.keys(r),a;try{lW(r)}catch(s){a=s}return function(l,u){if(l===void 0&&(l={}),a)throw a;for(var c=!1,h={},v=0;v<n.length;v++){var f=n[v],m=r[f],_=l[f],g=m(_,u);if(typeof g>"u")throw u&&u.type,new Error(di(14));h[f]=g,c=c||g!==_}return c=c||n.length!==Object.keys(l).length,c?h:l}}function R3(e,t){return function(){return t(e.apply(this,arguments))}}function uW(e,t){if(typeof e=="function")return R3(e,t);if(typeof e!="object"||e===null)throw new Error(di(16));var r={};for(var i in e){var o=e[i];typeof o=="function"&&(r[i]=R3(o,t))}return r}function f4(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.length===0?function(i){return i}:t.length===1?t[0]:t.reduce(function(i,o){return function(){return i(o.apply(void 0,arguments))}})}function d4(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(i){return function(){var o=i.apply(void 0,arguments),n=function(){throw new Error(di(15))},a={getState:o.getState,dispatch:function(){return n.apply(void 0,arguments)}},s=t.map(function(l){return l(a)});return n=f4.apply(void 0,s)(o.dispatch),D3(D3({},o),{},{dispatch:n})}}}const cW=Object.freeze(Object.defineProperty({__proto__:null,__DO_NOT_USE__ActionTypes:of,applyMiddleware:d4,bindActionCreators:uW,combineReducers:c4,compose:f4,createStore:Cf,legacy_createStore:sW},Symbol.toStringTag,{value:"Module"}));function h4(e){var t=function(i){var o=i.dispatch,n=i.getState;return function(a){return function(s){return typeof s=="function"?s(o,n,e):a(s)}}};return t}var p4=h4();p4.withExtraArgument=h4;const fW=p4,dW=RS(cW);var O3=dW.compose,hW=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?O3:O3.apply(null,arguments)},K_="persist:",v4="persist/FLUSH",X_="persist/REHYDRATE",m4="persist/PAUSE",g4="persist/PERSIST",y4="persist/PURGE",_4="persist/REGISTER",pW=-1;function th(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?th=function(r){return typeof r}:th=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},th(e)}function I3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,i)}return r}function vW(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I3(r,!0).forEach(function(i){mW(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I3(r).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function mW(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gW(e,t,r,i){i.debug;var o=vW({},r);return e&&th(e)==="object"&&Object.keys(e).forEach(function(n){n!=="_persist"&&t[n]===r[n]&&(o[n]=e[n])}),o}function yW(e){var t=e.blacklist||null,r=e.whitelist||null,i=e.transforms||[],o=e.throttle||0,n="".concat(e.keyPrefix!==void 0?e.keyPrefix:K_).concat(e.key),a=e.storage,s;e.serialize===!1?s=function(x){return x}:typeof e.serialize=="function"?s=e.serialize:s=_W;var l=e.writeFailHandler||null,u={},c={},h=[],v=null,f=null,m=function(x){Object.keys(x).forEach(function(w){p(w)&&u[w]!==x[w]&&h.indexOf(w)===-1&&h.push(w)}),Object.keys(u).forEach(function(w){x[w]===void 0&&p(w)&&h.indexOf(w)===-1&&u[w]!==void 0&&h.push(w)}),v===null&&(v=setInterval(_,o)),u=x};function _(){if(h.length===0){v&&clearInterval(v),v=null;return}var y=h.shift(),x=i.reduce(function(w,C){return C.in(w,y,u)},u[y]);if(x!==void 0)try{c[y]=s(x)}catch(w){console.error("redux-persist/createPersistoid: error serializing state",w)}else delete c[y];h.length===0&&g()}function g(){Object.keys(c).forEach(function(y){u[y]===void 0&&delete c[y]}),f=a.setItem(n,s(c)).catch(d)}function p(y){return!(r&&r.indexOf(y)===-1&&y!=="_persist"||t&&t.indexOf(y)!==-1)}function d(y){l&&l(y)}var b=function(){for(;h.length!==0;)_();return f||Promise.resolve()};return{update:m,flush:b}}function _W(e){return JSON.stringify(e)}function bW(e){var t=e.transforms||[],r="".concat(e.keyPrefix!==void 0?e.keyPrefix:K_).concat(e.key),i=e.storage;e.debug;var o;return e.deserialize===!1?o=function(a){return a}:typeof e.deserialize=="function"?o=e.deserialize:o=wW,i.getItem(r).then(function(n){if(n)try{var a={},s=o(n);return Object.keys(s).forEach(function(l){a[l]=t.reduceRight(function(u,c){return c.out(u,l,s)},o(s[l]))}),a}catch(l){throw l}else return})}function wW(e){return JSON.parse(e)}function xW(e){var t=e.storage,r="".concat(e.keyPrefix!==void 0?e.keyPrefix:K_).concat(e.key);return t.removeItem(r,SW)}function SW(e){}function N3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,i)}return r}function mo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N3(r,!0).forEach(function(i){CW(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N3(r).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function CW(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TW(e,t){if(e==null)return{};var r=AW(e,t),i,o;if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}function AW(e,t){if(e==null)return{};var r={},i=Object.keys(e),o,n;for(n=0;n<i.length;n++)o=i[n],!(t.indexOf(o)>=0)&&(r[o]=e[o]);return r}var kW=5e3;function MW(e,t){var r=e.version!==void 0?e.version:pW;e.debug;var i=e.stateReconciler===void 0?gW:e.stateReconciler,o=e.getStoredState||bW,n=e.timeout!==void 0?e.timeout:kW,a=null,s=!1,l=!0,u=function(h){return h._persist.rehydrated&&a&&!l&&a.update(h),h};return function(c,h){var v=c||{},f=v._persist,m=TW(v,["_persist"]),_=m;if(h.type===g4){var g=!1,p=function(S,T){g||(h.rehydrate(e.key,S,T),g=!0)};if(n&&setTimeout(function(){!g&&p(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(e.key,'"')))},n),l=!1,a||(a=yW(e)),f)return mo({},t(_,h),{_persist:f});if(typeof h.rehydrate!="function"||typeof h.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return h.register(e.key),o(e).then(function(C){var S=e.migrate||function(T,M){return Promise.resolve(T)};S(C,r).then(function(T){p(T)},function(T){p(void 0,T)})},function(C){p(void 0,C)}),mo({},t(_,h),{_persist:{version:r,rehydrated:!1}})}else{if(h.type===y4)return s=!0,h.result(xW(e)),mo({},t(_,h),{_persist:f});if(h.type===v4)return h.result(a&&a.flush()),mo({},t(_,h),{_persist:f});if(h.type===m4)l=!0;else if(h.type===X_){if(s)return mo({},_,{_persist:mo({},f,{rehydrated:!0})});if(h.key===e.key){var d=t(_,h),b=h.payload,y=i!==!1&&b!==void 0?i(b,c,d,e):d,x=mo({},y,{_persist:mo({},f,{rehydrated:!0})});return u(x)}}}if(!f)return t(c,h);var w=t(_,h);return w===_?c:u(mo({},w,{_persist:f}))}}function F3(e){return DW(e)||LW(e)||EW()}function EW(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function LW(e){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")return Array.from(e)}function DW(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}function $3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,i)}return r}function qg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$3(r,!0).forEach(function(i){PW(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$3(r).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function PW(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var b4={registry:[],bootstrapped:!1},RW=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:b4,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case _4:return qg({},t,{registry:[].concat(F3(t.registry),[r.key])});case X_:var i=t.registry.indexOf(r.key),o=F3(t.registry);return o.splice(i,1),qg({},t,{registry:o,bootstrapped:o.length===0});default:return t}};function OW(e,t,r){var i=r||!1,o=Cf(RW,b4,t&&t.enhancer?t.enhancer:void 0),n=function(u){o.dispatch({type:_4,key:u})},a=function(u,c,h){var v={type:X_,payload:c,err:h,key:u};e.dispatch(v),o.dispatch(v),i&&s.getState().bootstrapped&&(i(),i=!1)},s=qg({},o,{purge:function(){var u=[];return e.dispatch({type:y4,result:function(h){u.push(h)}}),Promise.all(u)},flush:function(){var u=[];return e.dispatch({type:v4,result:function(h){u.push(h)}}),Promise.all(u)},pause:function(){e.dispatch({type:m4})},persist:function(){e.dispatch({type:g4,register:n,rehydrate:a})}});return t&&t.manualPersist||s.persist(),s}var Z_={},J_={};J_.__esModule=!0;J_.default=FW;function rh(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?rh=function(r){return typeof r}:rh=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},rh(e)}function p0(){}var IW={getItem:p0,setItem:p0,removeItem:p0};function NW(e){if((typeof self>"u"?"undefined":rh(self))!=="object"||!(e in self))return!1;try{var t=self[e],r="redux-persist ".concat(e," test");t.setItem(r,"test"),t.getItem(r),t.removeItem(r)}catch{return!1}return!0}function FW(e){var t="".concat(e,"Storage");return NW(t)?self[t]:IW}Z_.__esModule=!0;Z_.default=HW;var $W=zW(J_);function zW(e){return e&&e.__esModule?e:{default:e}}function HW(e){var t=(0,$W.default)(e);return{getItem:function(i){return new Promise(function(o,n){o(t.getItem(i))})},setItem:function(i,o){return new Promise(function(n,a){n(t.setItem(i,o))})},removeItem:function(i){return new Promise(function(o,n){o(t.removeItem(i))})}}}var w4=void 0,BW=jW(Z_);function jW(e){return e&&e.__esModule?e:{default:e}}var UW=(0,BW.default)("local");w4=UW;var WW=VW;function VW(e){return e}let GW=[];const YW={data:GW,plot_running:!1,datarevision:0,parameters:{memory_depth:1024},layout:{margin:{l:25,r:25,b:25,t:25},showlegend:!1,width:1024,height:330,paper_bgcolor:"rgba(0,0,0,0)",plot_bgcolor:"#444",font:{color:"#FFFFFF"},xaxis:{showline:!0,showgrid:!0,tickcolor:"#FFFFFF",linecolor:"#FFFFFF",gridcolor:"#777777"},yaxis:{automargin:!0,showline:!0,showgrid:!0,tickcolor:"#FFFFFF",linecolor:"#FFFFFF",gridcolor:"#777777"}},configs:{responsive:!0,displaylogo:!1}};let KW=function(e=YW,t){switch(t.type){case RA:return{...e,data:t.payload,datarevision:e.datarevision+1};case EA:return{...e,plot_running:t.payload.value};case LA:return{...e,plot_running:t.payload.value};case DA:return{...e,plot_running:t.payload.value,data:e.data.map(r=>({...r,visible:!1})),datarevision:e.datarevision+1};case MA:return{...e,data:e.data.filter(r=>{if(r.spec.number in t.payload.channel){let i=r;return i.visible=t.payload.channel[r.spec.number],i}else return r}),datarevision:e.datarevision+1};case PA:return{...e,data:e.data.map(r=>{let i=r;for(let o of t.payload)parseInt(i.spec.number)===o.channel&&(i.y=o.data);return i}),datarevision:e.datarevision+1};default:return e}};function Ha(e){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];throw Error("[Immer] minified error nr: "+e+(r.length?" "+r.map(function(o){return"'"+o+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function _u(e){return!!e&&!!e[sa]}function ul(e){return!!e&&(function(t){if(!t||typeof t!="object")return!1;var r=Object.getPrototypeOf(t);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===rV}(e)||Array.isArray(e)||!!e[G3]||!!e.constructor[G3]||Q_(e)||q_(e))}function sf(e,t,r){r===void 0&&(r=!1),Fu(e)===0?(r?Object.keys:ib)(e).forEach(function(i){r&&typeof i=="symbol"||t(i,e[i],e)}):e.forEach(function(i,o){return t(o,i,e)})}function Fu(e){var t=e[sa];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:Q_(e)?2:q_(e)?3:0}function ey(e,t){return Fu(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function XW(e,t){return Fu(e)===2?e.get(t):e[t]}function x4(e,t,r){var i=Fu(e);i===2?e.set(t,r):i===3?(e.delete(t),e.add(r)):e[t]=r}function ZW(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function Q_(e){return eV&&e instanceof Map}function q_(e){return tV&&e instanceof Set}function Hs(e){return e.o||e.t}function eb(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=nV(e);delete t[sa];for(var r=ib(t),i=0;i<r.length;i++){var o=r[i],n=t[o];n.writable===!1&&(n.writable=!0,n.configurable=!0),(n.get||n.set)&&(t[o]={configurable:!0,writable:!0,enumerable:n.enumerable,value:e[o]})}return Object.create(Object.getPrototypeOf(e),t)}function tb(e,t){return t===void 0&&(t=!1),rb(e)||_u(e)||!ul(e)||(Fu(e)>1&&(e.set=e.add=e.clear=e.delete=JW),Object.freeze(e),t&&sf(e,function(r,i){return tb(i,!0)},!0)),e}function JW(){Ha(2)}function rb(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function uo(e){var t=iV[e];return t||Ha(18,e),t}function z3(){return lf}function v0(e,t){t&&(uo("Patches"),e.u=[],e.s=[],e.v=t)}function Kh(e){ty(e),e.p.forEach(QW),e.p=null}function ty(e){e===lf&&(lf=e.l)}function H3(e){return lf={p:[],l:lf,h:e,m:!0,_:0}}function QW(e){var t=e[sa];t.i===0||t.i===1?t.j():t.O=!0}function m0(e,t){t._=t.p.length;var r=t.p[0],i=e!==void 0&&e!==r;return t.h.g||uo("ES5").S(t,e,i),i?(r[sa].P&&(Kh(t),Ha(4)),ul(e)&&(e=Xh(t,e),t.l||Zh(t,e)),t.u&&uo("Patches").M(r[sa].t,e,t.u,t.s)):e=Xh(t,r,[]),Kh(t),t.u&&t.v(t.u,t.s),e!==S4?e:void 0}function Xh(e,t,r){if(rb(t))return t;var i=t[sa];if(!i)return sf(t,function(n,a){return B3(e,i,t,n,a,r)},!0),t;if(i.A!==e)return t;if(!i.P)return Zh(e,i.t,!0),i.t;if(!i.I){i.I=!0,i.A._--;var o=i.i===4||i.i===5?i.o=eb(i.k):i.o;sf(i.i===3?new Set(o):o,function(n,a){return B3(e,i,o,n,a,r)}),Zh(e,o,!1),r&&e.u&&uo("Patches").R(i,r,e.u,e.s)}return i.o}function B3(e,t,r,i,o,n){if(_u(o)){var a=Xh(e,o,n&&t&&t.i!==3&&!ey(t.D,i)?n.concat(i):void 0);if(x4(r,i,a),!_u(a))return;e.m=!1}if(ul(o)&&!rb(o)){if(!e.h.F&&e._<1)return;Xh(e,o),t&&t.A.l||Zh(e,o)}}function Zh(e,t,r){r===void 0&&(r=!1),e.h.F&&e.m&&tb(t,r)}function g0(e,t){var r=e[sa];return(r?Hs(r):e)[t]}function j3(e,t){if(t in e)for(var r=Object.getPrototypeOf(e);r;){var i=Object.getOwnPropertyDescriptor(r,t);if(i)return i;r=Object.getPrototypeOf(r)}}function ry(e){e.P||(e.P=!0,e.l&&ry(e.l))}function y0(e){e.o||(e.o=eb(e.t))}function ny(e,t,r){var i=Q_(t)?uo("MapSet").N(t,r):q_(t)?uo("MapSet").T(t,r):e.g?function(o,n){var a=Array.isArray(o),s={i:a?1:0,A:n?n.A:z3(),P:!1,I:!1,D:{},l:n,t:o,k:null,o:null,j:null,C:!1},l=s,u=iy;a&&(l=[s],u=pc);var c=Proxy.revocable(l,u),h=c.revoke,v=c.proxy;return s.k=v,s.j=h,v}(t,r):uo("ES5").J(t,r);return(r?r.A:z3()).p.push(i),i}function qW(e){return _u(e)||Ha(22,e),function t(r){if(!ul(r))return r;var i,o=r[sa],n=Fu(r);if(o){if(!o.P&&(o.i<4||!uo("ES5").K(o)))return o.t;o.I=!0,i=U3(r,n),o.I=!1}else i=U3(r,n);return sf(i,function(a,s){o&&XW(o.t,a)===s||x4(i,a,t(s))}),n===3?new Set(i):i}(e)}function U3(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return eb(e)}var W3,lf,nb=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",eV=typeof Map<"u",tV=typeof Set<"u",V3=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",S4=nb?Symbol.for("immer-nothing"):((W3={})["immer-nothing"]=!0,W3),G3=nb?Symbol.for("immer-draftable"):"__$immer_draftable",sa=nb?Symbol.for("immer-state"):"__$immer_state",rV=""+Object.prototype.constructor,ib=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,nV=Object.getOwnPropertyDescriptors||function(e){var t={};return ib(e).forEach(function(r){t[r]=Object.getOwnPropertyDescriptor(e,r)}),t},iV={},iy={get:function(e,t){if(t===sa)return e;var r=Hs(e);if(!ey(r,t))return function(o,n,a){var s,l=j3(n,a);return l?"value"in l?l.value:(s=l.get)===null||s===void 0?void 0:s.call(o.k):void 0}(e,r,t);var i=r[t];return e.I||!ul(i)?i:i===g0(e.t,t)?(y0(e),e.o[t]=ny(e.A.h,i,e)):i},has:function(e,t){return t in Hs(e)},ownKeys:function(e){return Reflect.ownKeys(Hs(e))},set:function(e,t,r){var i=j3(Hs(e),t);if(i!=null&&i.set)return i.set.call(e.k,r),!0;if(!e.P){var o=g0(Hs(e),t),n=o==null?void 0:o[sa];if(n&&n.t===r)return e.o[t]=r,e.D[t]=!1,!0;if(ZW(r,o)&&(r!==void 0||ey(e.t,t)))return!0;y0(e),ry(e)}return e.o[t]===r&&typeof r!="number"&&(r!==void 0||t in e.o)||(e.o[t]=r,e.D[t]=!0,!0)},deleteProperty:function(e,t){return g0(e.t,t)!==void 0||t in e.t?(e.D[t]=!1,y0(e),ry(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var r=Hs(e),i=Reflect.getOwnPropertyDescriptor(r,t);return i&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:i.enumerable,value:r[t]}},defineProperty:function(){Ha(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Ha(12)}},pc={};sf(iy,function(e,t){pc[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),pc.deleteProperty=function(e,t){return pc.set.call(this,e,t,void 0)},pc.set=function(e,t,r){return iy.set.call(this,e[0],t,r,e[0])};var aV=function(){function e(r){var i=this;this.g=V3,this.F=!0,this.produce=function(o,n,a){if(typeof o=="function"&&typeof n!="function"){var s=n;n=o;var l=i;return function(_){var g=this;_===void 0&&(_=s);for(var p=arguments.length,d=Array(p>1?p-1:0),b=1;b<p;b++)d[b-1]=arguments[b];return l.produce(_,function(y){var x;return(x=n).call.apply(x,[g,y].concat(d))})}}var u;if(typeof n!="function"&&Ha(6),a!==void 0&&typeof a!="function"&&Ha(7),ul(o)){var c=H3(i),h=ny(i,o,void 0),v=!0;try{u=n(h),v=!1}finally{v?Kh(c):ty(c)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(_){return v0(c,a),m0(_,c)},function(_){throw Kh(c),_}):(v0(c,a),m0(u,c))}if(!o||typeof o!="object"){if((u=n(o))===void 0&&(u=o),u===S4&&(u=void 0),i.F&&tb(u,!0),a){var f=[],m=[];uo("Patches").M(o,u,f,m),a(f,m)}return u}Ha(21,o)},this.produceWithPatches=function(o,n){if(typeof o=="function")return function(u){for(var c=arguments.length,h=Array(c>1?c-1:0),v=1;v<c;v++)h[v-1]=arguments[v];return i.produceWithPatches(u,function(f){return o.apply(void 0,[f].concat(h))})};var a,s,l=i.produce(o,n,function(u,c){a=u,s=c});return typeof Promise<"u"&&l instanceof Promise?l.then(function(u){return[u,a,s]}):[l,a,s]},typeof(r==null?void 0:r.useProxies)=="boolean"&&this.setUseProxies(r.useProxies),typeof(r==null?void 0:r.autoFreeze)=="boolean"&&this.setAutoFreeze(r.autoFreeze)}var t=e.prototype;return t.createDraft=function(r){ul(r)||Ha(8),_u(r)&&(r=qW(r));var i=H3(this),o=ny(this,r,void 0);return o[sa].C=!0,ty(i),o},t.finishDraft=function(r,i){var o=r&&r[sa],n=o.A;return v0(n,i),m0(void 0,n)},t.setAutoFreeze=function(r){this.F=r},t.setUseProxies=function(r){r&&!V3&&Ha(20),this.g=r},t.applyPatches=function(r,i){var o;for(o=i.length-1;o>=0;o--){var n=i[o];if(n.path.length===0&&n.op==="replace"){r=n.value;break}}o>-1&&(i=i.slice(o+1));var a=uo("Patches").$;return _u(r)?a(r,i):this.produce(r,function(s){return a(s,i)})},e}(),la=new aV,oV=la.produce;la.produceWithPatches.bind(la);var sV=la.setAutoFreeze.bind(la);la.setUseProxies.bind(la);la.applyPatches.bind(la);la.createDraft.bind(la);la.finishDraft.bind(la);const ay=oV;let lV=function(e={},t){switch(t.type){case CI:return ay(e,r=>{r[t.payload.peripheral]=t.payload.value});case TI:return ay(e,r=>{t.payload.peripheral in r||(r[t.payload.peripheral]={}),r[t.payload.peripheral][t.payload.name]=t.payload.value});default:return e}};const uV={default_tab:"Plot",refreshRate:125,edit_application_mode:!1,edit_application_name:"",default_ch_group:"",current_peripheral:null,current_view_requires_sidebar:!0,selected_program:null,selected_application:null,selected_script:null,selected_bitstream:null,selected_user:null,refresh_user_view:!1,logged:!1,server_url:"https://uscope_0.local/uscope/",auth_config:null,user_role:null,sampling_period:0,plot_palette:{colorway:Hr.plot_palette}};let cV=function(e=uV,t){switch(t.type){case IA:return{...e,[t.payload.name]:t.payload.value};default:return e}},fV=function(e=null,t){switch(t.type){case HA:return e=t.payload,e;case BA:return{...e,...t.payload.payload};case WA:return Object.keys(e).filter(r=>r!==t.payload).reduce((r,i)=>(r[i]=e[i],r),{});case jA:return Object.keys(e).map(r=>(e[t.parent].registers=e[t.parent].registers.map(i=>i.ID===t.register_id?t.payload:i),[])),e;case UA:return e[t.parent_periph].registers=e[t.parent_periph].registers.map(r=>(r.register_name===t.parent_reg&&(r.fields=r.fields.map(i=>i.name===t.field_id?t.payload:i)),r)),e;case VA:return Object.keys(e).map(r=>(e[t.payload.periph].registers=e[t.payload.periph].registers.filter(i=>i.ID!==t.payload.reg),[])),e;case GA:return e[t.payload.periph].registers=e[t.payload.periph].registers.map(r=>(r.register_name===t.payload.reg&&(r.fields=r.fields.filter(i=>i.name!==t.payload.field)),r)),e;default:return e}},dV=function(e=[],t){switch(t.type){case NA:return{...e,[t.payload.id]:t.payload};case FA:return Object.keys(e).filter(r=>r!==t.payload.id.toString()).reduce((r,i)=>(r[i]=e[i],r),{});case $A:return e=t.payload,e;default:return e}},hV=function(e=null,t){switch(t.type){case zA:return e={...e,...t.payload},e;default:return e}},pV=function(e=[],t){switch(t.type){case OA:return ay(e,r=>{let i=r[t.payload.app].parameters.filter(o=>o.parameter_id===t.payload.name)[0];i.value=t.payload.value});case YA:return e=t.payload,e;case XA:return Object.keys(e).filter(r=>r!==t.payload).reduce((r,i)=>(r[i]=e[i],r),{});case KA:return{...e,...t.payload};default:return e}},vV=function(e=[],t){switch(t.type){case ZA:return{...e,[t.payload.id]:t.payload};case JA:return Object.keys(e).filter(r=>r!==t.payload.id.toString()).reduce((r,i)=>(r[i]=e[i],r),{});case QA:return e=t.payload,e;default:return e}},mV=function(e=[],t){switch(t.type){case qA:return{...e,[t.payload.id]:t.payload};case ek:return Object.keys(e).filter(r=>r!==t.payload.id.toString()).reduce((r,i)=>(r[i]=e[i],r),{});case tk:return e=t.payload,e;default:return e}};const gV=c4({bitstreams:mV,settings:cV,plot:KW,registerValues:lV,peripherals:fV,applications:pV,programs:vV,scripts:dV,scriptsWorkspace:hV});sV(!1);const yV={},_V={key:"root",storage:w4,stateReconciler:WW,whitelist:["scripts","peripherals","applications","programs","bitstreams"]},bV=MW(_V,gV),wV=e=>e.type==="FETCH_DATA"&&e.data?{...e,data:"<<DATA_BLOB>>"}:e,xV=hW({actionSanitizer:wV,stateSanitizer:e=>e.data?{...e,data:"<<DATA_BLOB>>"}:e});let SV=[fW];const bu=Cf(bV,yV,xV(d4(...SV))),CV=OW(bu);let TV=e=>{const t=an(n=>n.applications),r=an(n=>n.settings);let i=t[r.application].parameters;ot.useEffect(()=>{for(let n of i){let a=n;a.name=n.parameter_id,qx(bu,a)}},[]);let o=n=>{n.preventDefault();for(let a of n.target)a.value!==""&&qx(bu,a).then()};return Je.jsx("form",{onSubmit:o,children:Je.jsxs(nv,{children:[i.map((n,a)=>n.visible?Je.jsx(aW,{name:n.parameter_id,placeholder:n.value,description:n.description},a):null),Je.jsx(xs,{children:" Submit "})]})})};const AV=Xr.div`
    display: flex;
    flex-wrap: wrap;
    justify-items: center;
    gap: 1em;
`;let kV=e=>{const t=an(a=>a.applications),r=an(a=>a.settings),i=t[r.application].macro;let o=t[r.application].parameters,n=a=>{let s=a.target.name,l=gk(bu,s,o,"");l!==null&&Qn.bulk_register_write({payload:l}).then()};return Je.jsx(AV,{children:i.map(a=>Je.jsx("div",{style:{margin:"0.5rem"},children:Je.jsx(xs,{className:"macro_action_buttons",name:a.trigger,onClick:n,children:a.name},a.name)},a.name))})},MV=e=>{const t=ot.useRef(null);return ot.useEffect(()=>{t.current=iF()},[]),Je.jsx("div",{id:"xterm",style:{height:"25vh",width:"100%"}})};var C4={exports:{}},Tf={},Jh={exports:{}};Jh.exports;(function(e,t){var r=200,i="__lodash_hash_undefined__",o=1,n=2,a=9007199254740991,s="[object Arguments]",l="[object Array]",u="[object AsyncFunction]",c="[object Boolean]",h="[object Date]",v="[object Error]",f="[object Function]",m="[object GeneratorFunction]",_="[object Map]",g="[object Number]",p="[object Null]",d="[object Object]",b="[object Promise]",y="[object Proxy]",x="[object RegExp]",w="[object Set]",C="[object String]",S="[object Symbol]",T="[object Undefined]",M="[object WeakMap]",D="[object ArrayBuffer]",k="[object DataView]",R="[object Float32Array]",P="[object Float64Array]",E="[object Int8Array]",O="[object Int16Array]",I="[object Int32Array]",U="[object Uint8Array]",V="[object Uint8ClampedArray]",Z="[object Uint16Array]",z="[object Uint32Array]",H=/[\\^$.*+?()[\]{}|]/g,B=/^\[object .+?Constructor\]$/,W=/^(?:0|[1-9]\d*)$/,F={};F[R]=F[P]=F[E]=F[O]=F[I]=F[U]=F[V]=F[Z]=F[z]=!0,F[s]=F[l]=F[D]=F[c]=F[k]=F[h]=F[v]=F[f]=F[_]=F[g]=F[d]=F[x]=F[w]=F[C]=F[M]=!1;var K=typeof Ba=="object"&&Ba&&Ba.Object===Object&&Ba,fe=typeof self=="object"&&self&&self.Object===Object&&self,se=K||fe||Function("return this")(),ee=t&&!t.nodeType&&t,ie=ee&&!0&&e&&!e.nodeType&&e,J=ie&&ie.exports===ee,te=J&&K.process,L=function(){try{return te&&te.binding&&te.binding("util")}catch{}}(),N=L&&L.isTypedArray;function G(qe,xt){for(var Zt=-1,nr=qe==null?0:qe.length,Or=0,br=[];++Zt<nr;){var Cr=qe[Zt];xt(Cr,Zt,qe)&&(br[Or++]=Cr)}return br}function Y(qe,xt){for(var Zt=-1,nr=xt.length,Or=qe.length;++Zt<nr;)qe[Or+Zt]=xt[Zt];return qe}function j(qe,xt){for(var Zt=-1,nr=qe==null?0:qe.length;++Zt<nr;)if(xt(qe[Zt],Zt,qe))return!0;return!1}function Q(qe,xt){for(var Zt=-1,nr=Array(qe);++Zt<qe;)nr[Zt]=xt(Zt);return nr}function q(qe){return function(xt){return qe(xt)}}function re(qe,xt){return qe.has(xt)}function ue(qe,xt){return qe==null?void 0:qe[xt]}function de(qe){var xt=-1,Zt=Array(qe.size);return qe.forEach(function(nr,Or){Zt[++xt]=[Or,nr]}),Zt}function me(qe,xt){return function(Zt){return qe(xt(Zt))}}function pe(qe){var xt=-1,Zt=Array(qe.size);return qe.forEach(function(nr){Zt[++xt]=nr}),Zt}var ge=Array.prototype,Te=Function.prototype,He=Object.prototype,Oe=se["__core-js_shared__"],tt=Te.toString,Le=He.hasOwnProperty,De=function(){var qe=/[^.]+$/.exec(Oe&&Oe.keys&&Oe.keys.IE_PROTO||"");return qe?"Symbol(src)_1."+qe:""}(),Se=He.toString,ze=RegExp("^"+tt.call(Le).replace(H,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ke=J?se.Buffer:void 0,_t=se.Symbol,Qe=se.Uint8Array,et=He.propertyIsEnumerable,rt=ge.splice,ft=_t?_t.toStringTag:void 0,bt=Object.getOwnPropertySymbols,Ft=Ke?Ke.isBuffer:void 0,ct=me(Object.keys,Object),nt=Xt(se,"DataView"),at=Xt(se,"Map"),It=Xt(se,"Promise"),zt=Xt(se,"Set"),be=Xt(se,"WeakMap"),Me=Xt(Object,"create"),Ue=Mt(nt),ce=Mt(at),Ce=Mt(It),Ae=Mt(zt),ke=Mt(be),xe=_t?_t.prototype:void 0,ye=xe?xe.valueOf:void 0;function Ee(qe){var xt=-1,Zt=qe==null?0:qe.length;for(this.clear();++xt<Zt;){var nr=qe[xt];this.set(nr[0],nr[1])}}function $e(){this.__data__=Me?Me(null):{},this.size=0}function Ie(qe){var xt=this.has(qe)&&delete this.__data__[qe];return this.size-=xt?1:0,xt}function Be(qe){var xt=this.__data__;if(Me){var Zt=xt[qe];return Zt===i?void 0:Zt}return Le.call(xt,qe)?xt[qe]:void 0}function st(qe){var xt=this.__data__;return Me?xt[qe]!==void 0:Le.call(xt,qe)}function gt(qe,xt){var Zt=this.__data__;return this.size+=this.has(qe)?0:1,Zt[qe]=Me&&xt===void 0?i:xt,this}Ee.prototype.clear=$e,Ee.prototype.delete=Ie,Ee.prototype.get=Be,Ee.prototype.has=st,Ee.prototype.set=gt;function wt(qe){var xt=-1,Zt=qe==null?0:qe.length;for(this.clear();++xt<Zt;){var nr=qe[xt];this.set(nr[0],nr[1])}}function Wt(){this.__data__=[],this.size=0}function Yt(qe){var xt=this.__data__,Zt=je(xt,qe);if(Zt<0)return!1;var nr=xt.length-1;return Zt==nr?xt.pop():rt.call(xt,Zt,1),--this.size,!0}function qt(qe){var xt=this.__data__,Zt=je(xt,qe);return Zt<0?void 0:xt[Zt][1]}function Bt(qe){return je(this.__data__,qe)>-1}function Ut(qe,xt){var Zt=this.__data__,nr=je(Zt,qe);return nr<0?(++this.size,Zt.push([qe,xt])):Zt[nr][1]=xt,this}wt.prototype.clear=Wt,wt.prototype.delete=Yt,wt.prototype.get=qt,wt.prototype.has=Bt,wt.prototype.set=Ut;function Nt(qe){var xt=-1,Zt=qe==null?0:qe.length;for(this.clear();++xt<Zt;){var nr=qe[xt];this.set(nr[0],nr[1])}}function dt(){this.size=0,this.__data__={hash:new Ee,map:new(at||wt),string:new Ee}}function Vt(qe){var xt=Kt(this,qe).delete(qe);return this.size-=xt?1:0,xt}function Gt(qe){return Kt(this,qe).get(qe)}function rr(qe){return Kt(this,qe).has(qe)}function Jt(qe,xt){var Zt=Kt(this,qe),nr=Zt.size;return Zt.set(qe,xt),this.size+=Zt.size==nr?0:1,this}Nt.prototype.clear=dt,Nt.prototype.delete=Vt,Nt.prototype.get=Gt,Nt.prototype.has=rr,Nt.prototype.set=Jt;function Dt(qe){var xt=-1,Zt=qe==null?0:qe.length;for(this.__data__=new Nt;++xt<Zt;)this.add(qe[xt])}function er(qe){return this.__data__.set(qe,i),this}function tr(qe){return this.__data__.has(qe)}Dt.prototype.add=Dt.prototype.push=er,Dt.prototype.has=tr;function he(qe){var xt=this.__data__=new wt(qe);this.size=xt.size}function le(){this.__data__=new wt,this.size=0}function Ne(qe){var xt=this.__data__,Zt=xt.delete(qe);return this.size=xt.size,Zt}function Fe(qe){return this.__data__.get(qe)}function We(qe){return this.__data__.has(qe)}function Ze(qe,xt){var Zt=this.__data__;if(Zt instanceof wt){var nr=Zt.__data__;if(!at||nr.length<r-1)return nr.push([qe,xt]),this.size=++Zt.size,this;Zt=this.__data__=new Nt(nr)}return Zt.set(qe,xt),this.size=Zt.size,this}he.prototype.clear=le,he.prototype.delete=Ne,he.prototype.get=Fe,he.prototype.has=We,he.prototype.set=Ze;function Ve(qe,xt){var Zt=kr(qe),nr=!Zt&&Lr(qe),Or=!Zt&&!nr&&un(qe),br=!Zt&&!nr&&!Or&&vn(qe),Cr=Zt||nr||Or||br,Ur=Cr?Q(qe.length,String):[],cn=Ur.length;for(var $r in qe)(xt||Le.call(qe,$r))&&!(Cr&&($r=="length"||Or&&($r=="offset"||$r=="parent")||br&&($r=="buffer"||$r=="byteLength"||$r=="byteOffset")||cr($r,cn)))&&Ur.push($r);return Ur}function je(qe,xt){for(var Zt=qe.length;Zt--;)if(Rt(qe[Zt][0],xt))return Zt;return-1}function ut(qe,xt,Zt){var nr=xt(qe);return kr(qe)?nr:Y(nr,Zt(qe))}function St(qe){return qe==null?qe===void 0?T:p:ft&&ft in Object(qe)?$t(qe):_r(qe)}function Pt(qe){return Sr(qe)&&St(qe)==s}function lt(qe,xt,Zt,nr,Or){return qe===xt?!0:qe==null||xt==null||!Sr(qe)&&!Sr(xt)?qe!==qe&&xt!==xt:yt(qe,xt,Zt,nr,lt,Or)}function yt(qe,xt,Zt,nr,Or,br){var Cr=kr(qe),Ur=kr(xt),cn=Cr?l:ir(qe),$r=Ur?l:ir(xt);cn=cn==s?d:cn,$r=$r==s?d:$r;var Wr=cn==d,Vr=$r==d,Zr=cn==$r;if(Zr&&un(qe)){if(!un(xt))return!1;Cr=!0,Wr=!1}if(Zr&&!Wr)return br||(br=new he),Cr||vn(qe)?Et(qe,xt,Zt,nr,Or,br):jt(qe,xt,cn,Zt,nr,Or,br);if(!(Zt&o)){var Ln=Wr&&Le.call(qe,"__wrapped__"),rn=Vr&&Le.call(xt,"__wrapped__");if(Ln||rn){var mn=Ln?qe.value():qe,Un=rn?xt.value():xt;return br||(br=new he),Or(mn,Un,Zt,nr,br)}}return Zr?(br||(br=new he),Lt(qe,xt,Zt,nr,Or,br)):!1}function Ot(qe){if(!bn(qe)||vr(qe))return!1;var xt=zr(qe)?ze:B;return xt.test(Mt(qe))}function At(qe){return Sr(qe)&&sn(qe.length)&&!!F[St(qe)]}function mt(qe){if(!mr(qe))return ct(qe);var xt=[];for(var Zt in Object(qe))Le.call(qe,Zt)&&Zt!="constructor"&&xt.push(Zt);return xt}function Et(qe,xt,Zt,nr,Or,br){var Cr=Zt&o,Ur=qe.length,cn=xt.length;if(Ur!=cn&&!(Cr&&cn>Ur))return!1;var $r=br.get(qe);if($r&&br.get(xt))return $r==xt;var Wr=-1,Vr=!0,Zr=Zt&n?new Dt:void 0;for(br.set(qe,xt),br.set(xt,qe);++Wr<Ur;){var Ln=qe[Wr],rn=xt[Wr];if(nr)var mn=Cr?nr(rn,Ln,Wr,xt,qe,br):nr(Ln,rn,Wr,qe,xt,br);if(mn!==void 0){if(mn)continue;Vr=!1;break}if(Zr){if(!j(xt,function(Un,yi){if(!re(Zr,yi)&&(Ln===Un||Or(Ln,Un,Zt,nr,br)))return Zr.push(yi)})){Vr=!1;break}}else if(!(Ln===rn||Or(Ln,rn,Zt,nr,br))){Vr=!1;break}}return br.delete(qe),br.delete(xt),Vr}function jt(qe,xt,Zt,nr,Or,br,Cr){switch(Zt){case k:if(qe.byteLength!=xt.byteLength||qe.byteOffset!=xt.byteOffset)return!1;qe=qe.buffer,xt=xt.buffer;case D:return!(qe.byteLength!=xt.byteLength||!br(new Qe(qe),new Qe(xt)));case c:case h:case g:return Rt(+qe,+xt);case v:return qe.name==xt.name&&qe.message==xt.message;case x:case C:return qe==xt+"";case _:var Ur=de;case w:var cn=nr&o;if(Ur||(Ur=pe),qe.size!=xt.size&&!cn)return!1;var $r=Cr.get(qe);if($r)return $r==xt;nr|=n,Cr.set(qe,xt);var Wr=Et(Ur(qe),Ur(xt),nr,Or,br,Cr);return Cr.delete(qe),Wr;case S:if(ye)return ye.call(qe)==ye.call(xt)}return!1}function Lt(qe,xt,Zt,nr,Or,br){var Cr=Zt&o,Ur=Ht(qe),cn=Ur.length,$r=Ht(xt),Wr=$r.length;if(cn!=Wr&&!Cr)return!1;for(var Vr=cn;Vr--;){var Zr=Ur[Vr];if(!(Cr?Zr in xt:Le.call(xt,Zr)))return!1}var Ln=br.get(qe);if(Ln&&br.get(xt))return Ln==xt;var rn=!0;br.set(qe,xt),br.set(xt,qe);for(var mn=Cr;++Vr<cn;){Zr=Ur[Vr];var Un=qe[Zr],yi=xt[Zr];if(nr)var Cs=Cr?nr(yi,Un,Zr,xt,qe,br):nr(Un,yi,Zr,qe,xt,br);if(!(Cs===void 0?Un===yi||Or(Un,yi,Zt,nr,br):Cs)){rn=!1;break}mn||(mn=Zr=="constructor")}if(rn&&!mn){var Ts=qe.constructor,Ga=xt.constructor;Ts!=Ga&&"constructor"in qe&&"constructor"in xt&&!(typeof Ts=="function"&&Ts instanceof Ts&&typeof Ga=="function"&&Ga instanceof Ga)&&(rn=!1)}return br.delete(qe),br.delete(xt),rn}function Ht(qe){return ut(qe,Mn,ar)}function Kt(qe,xt){var Zt=qe.__data__;return dr(xt)?Zt[typeof xt=="string"?"string":"hash"]:Zt.map}function Xt(qe,xt){var Zt=ue(qe,xt);return Ot(Zt)?Zt:void 0}function $t(qe){var xt=Le.call(qe,ft),Zt=qe[ft];try{qe[ft]=void 0;var nr=!0}catch{}var Or=Se.call(qe);return nr&&(xt?qe[ft]=Zt:delete qe[ft]),Or}var ar=bt?function(qe){return qe==null?[]:(qe=Object(qe),G(bt(qe),function(xt){return et.call(qe,xt)}))}:En,ir=St;(nt&&ir(new nt(new ArrayBuffer(1)))!=k||at&&ir(new at)!=_||It&&ir(It.resolve())!=b||zt&&ir(new zt)!=w||be&&ir(new be)!=M)&&(ir=function(qe){var xt=St(qe),Zt=xt==d?qe.constructor:void 0,nr=Zt?Mt(Zt):"";if(nr)switch(nr){case Ue:return k;case ce:return _;case Ce:return b;case Ae:return w;case ke:return M}return xt});function cr(qe,xt){return xt=xt??a,!!xt&&(typeof qe=="number"||W.test(qe))&&qe>-1&&qe%1==0&&qe<xt}function dr(qe){var xt=typeof qe;return xt=="string"||xt=="number"||xt=="symbol"||xt=="boolean"?qe!=="__proto__":qe===null}function vr(qe){return!!De&&De in qe}function mr(qe){var xt=qe&&qe.constructor,Zt=typeof xt=="function"&&xt.prototype||He;return qe===Zt}function _r(qe){return Se.call(qe)}function Mt(qe){if(qe!=null){try{return tt.call(qe)}catch{}try{return qe+""}catch{}}return""}function Rt(qe,xt){return qe===xt||qe!==qe&&xt!==xt}var Lr=Pt(function(){return arguments}())?Pt:function(qe){return Sr(qe)&&Le.call(qe,"callee")&&!et.call(qe,"callee")},kr=Array.isArray;function jr(qe){return qe!=null&&sn(qe.length)&&!zr(qe)}var un=Ft||Kn;function on(qe,xt){return lt(qe,xt)}function zr(qe){if(!bn(qe))return!1;var xt=St(qe);return xt==f||xt==m||xt==u||xt==y}function sn(qe){return typeof qe=="number"&&qe>-1&&qe%1==0&&qe<=a}function bn(qe){var xt=typeof qe;return qe!=null&&(xt=="object"||xt=="function")}function Sr(qe){return qe!=null&&typeof qe=="object"}var vn=N?q(N):At;function Mn(qe){return jr(qe)?Ve(qe):mt(qe)}function En(){return[]}function Kn(){return!1}e.exports=on})(Jh,Jh.exports);var ab=Jh.exports;function T4(e){var t,r,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=T4(e[t]))&&(i&&(i+=" "),i+=r);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}function Y3(){for(var e,t,r=0,i="";r<arguments.length;)(e=arguments[r++])&&(t=T4(e))&&(i&&(i+=" "),i+=t);return i}const EV=Object.freeze(Object.defineProperty({__proto__:null,clsx:Y3,default:Y3},Symbol.toStringTag,{value:"Module"})),gv=RS(EV);var tn={},LV=function(t,r,i){return t===r?!0:t.className===r.className&&i(t.style,r.style)&&t.width===r.width&&t.autoSize===r.autoSize&&t.cols===r.cols&&t.draggableCancel===r.draggableCancel&&t.draggableHandle===r.draggableHandle&&i(t.verticalCompact,r.verticalCompact)&&i(t.compactType,r.compactType)&&i(t.layout,r.layout)&&i(t.margin,r.margin)&&i(t.containerPadding,r.containerPadding)&&t.rowHeight===r.rowHeight&&t.maxRows===r.maxRows&&t.isBounded===r.isBounded&&t.isDraggable===r.isDraggable&&t.isResizable===r.isResizable&&t.allowOverlap===r.allowOverlap&&t.preventCollision===r.preventCollision&&t.useCSSTransforms===r.useCSSTransforms&&t.transformScale===r.transformScale&&t.isDroppable===r.isDroppable&&i(t.resizeHandles,r.resizeHandles)&&i(t.resizeHandle,r.resizeHandle)&&t.onLayoutChange===r.onLayoutChange&&t.onDragStart===r.onDragStart&&t.onDrag===r.onDrag&&t.onDragStop===r.onDragStop&&t.onResizeStart===r.onResizeStart&&t.onResize===r.onResize&&t.onResizeStop===r.onResizeStop&&t.onDrop===r.onDrop&&i(t.droppingItem,r.droppingItem)&&i(t.innerRef,r.innerRef)};Object.defineProperty(tn,"__esModule",{value:!0});tn.bottom=ob;tn.childrenEqual=OV;tn.cloneLayout=k4;tn.cloneLayoutItem=Js;tn.collides=yv;tn.compact=E4;tn.compactItem=L4;tn.compactType=UV;tn.correctBounds=D4;tn.fastPositionEqual=NV;tn.fastRGLPropsEqual=void 0;tn.getAllCollisions=P4;tn.getFirstCollision=Ql;tn.getLayoutItem=sb;tn.getStatics=lb;tn.modifyLayout=M4;tn.moveElement=ly;tn.moveElementAwayFromCollision=uy;tn.noop=void 0;tn.perc=$V;tn.setTopLeft=HV;tn.setTransform=zV;tn.sortLayoutItems=ub;tn.sortLayoutItemsByColRow=O4;tn.sortLayoutItemsByRowCol=R4;tn.synchronizeLayoutWithChildren=BV;tn.validateLayout=jV;tn.withLayoutItem=RV;var DV=A4(ab),oy=A4(ot);function A4(e){return e&&e.__esModule?e:{default:e}}function K3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,i)}return r}function X3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K3(Object(r),!0).forEach(function(i){PV(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K3(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function PV(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ob(e){for(var t=0,r,i=0,o=e.length;i<o;i++)r=e[i].y+e[i].h,r>t&&(t=r);return t}function k4(e){for(var t=Array(e.length),r=0,i=e.length;r<i;r++)t[r]=Js(e[r]);return t}function M4(e,t){for(var r=Array(e.length),i=0,o=e.length;i<o;i++)t.i===e[i].i?r[i]=t:r[i]=e[i];return r}function RV(e,t,r){var i=sb(e,t);return i?(i=r(Js(i)),e=M4(e,i),[e,i]):[e,null]}function Js(e){return{w:e.w,h:e.h,x:e.x,y:e.y,i:e.i,minW:e.minW,maxW:e.maxW,minH:e.minH,maxH:e.maxH,moved:!!e.moved,static:!!e.static,isDraggable:e.isDraggable,isResizable:e.isResizable,resizeHandles:e.resizeHandles,isBounded:e.isBounded}}function OV(e,t){return(0,DV.default)(oy.default.Children.map(e,function(r){return r==null?void 0:r.key}),oy.default.Children.map(t,function(r){return r==null?void 0:r.key}))}var IV=LV;tn.fastRGLPropsEqual=IV;function NV(e,t){return e.left===t.left&&e.top===t.top&&e.width===t.width&&e.height===t.height}function yv(e,t){return!(e.i===t.i||e.x+e.w<=t.x||e.x>=t.x+t.w||e.y+e.h<=t.y||e.y>=t.y+t.h)}function E4(e,t,r){for(var i=lb(e),o=ub(e,t),n=Array(e.length),a=0,s=o.length;a<s;a++){var l=Js(o[a]);l.static||(l=L4(i,l,t,r,o),i.push(l)),n[e.indexOf(o[a])]=l,l.moved=!1}return n}var FV={x:"w",y:"h"};function sy(e,t,r,i){var o=FV[i];t[i]+=1;for(var n=e.map(function(l){return l.i}).indexOf(t.i),a=n+1;a<e.length;a++){var s=e[a];if(!s.static){if(s.y>t.y+t.h)break;yv(t,s)&&sy(e,s,r+t[o],i)}}t[i]=r}function L4(e,t,r,i,o){var n=r==="vertical",a=r==="horizontal";if(n)for(t.y=Math.min(ob(e),t.y);t.y>0&&!Ql(e,t);)t.y--;else if(a)for(;t.x>0&&!Ql(e,t);)t.x--;for(var s;s=Ql(e,t);)a?sy(o,t,s.x+s.w,"x"):sy(o,t,s.y+s.h,"y"),a&&t.x+t.w>i&&(t.x=i-t.w,t.y++);return t.y=Math.max(t.y,0),t.x=Math.max(t.x,0),t}function D4(e,t){for(var r=lb(e),i=0,o=e.length;i<o;i++){var n=e[i];if(n.x+n.w>t.cols&&(n.x=t.cols-n.w),n.x<0&&(n.x=0,n.w=t.cols),!n.static)r.push(n);else for(;Ql(r,n);)n.y++}return e}function sb(e,t){for(var r=0,i=e.length;r<i;r++)if(e[r].i===t)return e[r]}function Ql(e,t){for(var r=0,i=e.length;r<i;r++)if(yv(e[r],t))return e[r]}function P4(e,t){return e.filter(function(r){return yv(r,t)})}function lb(e){return e.filter(function(t){return t.static})}function ly(e,t,r,i,o,n,a,s,l){if(t.static&&t.isDraggable!==!0||t.y===i&&t.x===r)return e;"Moving element ".concat(t.i," to [").concat(String(r),",").concat(String(i),"] from [").concat(t.x,",").concat(t.y,"]");var u=t.x,c=t.y;typeof r=="number"&&(t.x=r),typeof i=="number"&&(t.y=i),t.moved=!0;var h=ub(e,a),v=a==="vertical"&&typeof i=="number"?c>=i:a==="horizontal"&&typeof r=="number"?u>=r:!1;v&&(h=h.reverse());var f=P4(h,t),m=f.length>0;if(m&&l)return k4(e);if(m&&n)return"Collision prevented on ".concat(t.i,", reverting."),t.x=u,t.y=c,t.moved=!1,e;for(var _=0,g=f.length;_<g;_++){var p=f[_];"Resolving collision between ".concat(t.i," at [").concat(t.x,",").concat(t.y,"] and ").concat(p.i," at [").concat(p.x,",").concat(p.y,"]"),!p.moved&&(p.static?e=uy(e,p,t,o,a):e=uy(e,t,p,o,a))}return e}function uy(e,t,r,i,o,n){var a=o==="horizontal",s=o!=="horizontal",l=t.static;if(i){i=!1;var u={x:a?Math.max(t.x-r.w,0):r.x,y:s?Math.max(t.y-r.h,0):r.y,w:r.w,h:r.h,i:"-1"};if(!Ql(e,u))return"Doing reverse collision on ".concat(r.i," up to [").concat(u.x,",").concat(u.y,"]."),ly(e,r,a?u.x:void 0,s?u.y:void 0,i,l,o)}return ly(e,r,a?r.x+1:void 0,s?r.y+1:void 0,i,l,o)}function $V(e){return e*100+"%"}function zV(e){var t=e.top,r=e.left,i=e.width,o=e.height,n="translate(".concat(r,"px,").concat(t,"px)");return{transform:n,WebkitTransform:n,MozTransform:n,msTransform:n,OTransform:n,width:"".concat(i,"px"),height:"".concat(o,"px"),position:"absolute"}}function HV(e){var t=e.top,r=e.left,i=e.width,o=e.height;return{top:"".concat(t,"px"),left:"".concat(r,"px"),width:"".concat(i,"px"),height:"".concat(o,"px"),position:"absolute"}}function ub(e,t){return t==="horizontal"?O4(e):t==="vertical"?R4(e):e}function R4(e){return e.slice(0).sort(function(t,r){return t.y>r.y||t.y===r.y&&t.x>r.x?1:t.y===r.y&&t.x===r.x?0:-1})}function O4(e){return e.slice(0).sort(function(t,r){return t.x>r.x||t.x===r.x&&t.y>r.y?1:-1})}function BV(e,t,r,i,o){e=e||[];var n=[];oy.default.Children.forEach(t,function(s){if((s==null?void 0:s.key)!=null){var l=sb(e,String(s.key));if(l)n.push(Js(l));else{var u=s.props["data-grid"]||s.props._grid;u?n.push(Js(X3(X3({},u),{},{i:s.key}))):n.push(Js({w:1,h:1,x:0,y:ob(n),i:String(s.key)}))}}});var a=D4(n,{cols:r});return o?a:E4(a,i,r)}function jV(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Layout",r=["x","y","w","h"];if(!Array.isArray(e))throw new Error(t+" must be an array!");for(var i=0,o=e.length;i<o;i++)for(var n=e[i],a=0;a<r.length;a++)if(typeof n[r[a]]!="number")throw new Error("ReactGridLayout: "+t+"["+i+"]."+r[a]+" must be a number!")}function UV(e){var t=e||{},r=t.verticalCompact,i=t.compactType;return r===!1?null:i}var WV=function(){};tn.noop=WV;var Oo={};Object.defineProperty(Oo,"__esModule",{value:!0});Oo.calcGridColWidth=_v;Oo.calcGridItemPosition=VV;Oo.calcGridItemWHPx=cy;Oo.calcWH=YV;Oo.calcXY=GV;Oo.clamp=uf;function _v(e){var t=e.margin,r=e.containerPadding,i=e.containerWidth,o=e.cols;return(i-t[0]*(o-1)-r[0]*2)/o}function cy(e,t,r){return Number.isFinite(e)?Math.round(t*e+Math.max(0,e-1)*r):e}function VV(e,t,r,i,o,n){var a=e.margin,s=e.containerPadding,l=e.rowHeight,u=_v(e),c={};return n&&n.resizing?(c.width=Math.round(n.resizing.width),c.height=Math.round(n.resizing.height)):(c.width=cy(i,u,a[0]),c.height=cy(o,l,a[1])),n&&n.dragging?(c.top=Math.round(n.dragging.top),c.left=Math.round(n.dragging.left)):(c.top=Math.round((l+a[1])*r+s[1]),c.left=Math.round((u+a[0])*t+s[0])),c}function GV(e,t,r,i,o){var n=e.margin,a=e.cols,s=e.rowHeight,l=e.maxRows,u=_v(e),c=Math.round((r-n[0])/(u+n[0])),h=Math.round((t-n[1])/(s+n[1]));return c=uf(c,0,a-i),h=uf(h,0,l-o),{x:c,y:h}}function YV(e,t,r,i,o){var n=e.margin,a=e.maxRows,s=e.cols,l=e.rowHeight,u=_v(e),c=Math.round((t+n[0])/(u+n[0])),h=Math.round((r+n[1])/(l+n[1]));return c=uf(c,0,s-i),h=uf(h,0,a-o),{w:c,h}}function uf(e,t,r){return Math.max(Math.min(e,r),t)}var bv={},wv={exports:{}},I4={},$n={},ho={};Object.defineProperty(ho,"__esModule",{value:!0});ho.dontSetMe=QV;ho.findInArray=KV;ho.int=JV;ho.isFunction=XV;ho.isNum=ZV;function KV(e,t){for(var r=0,i=e.length;r<i;r++)if(t.apply(t,[e[r],r,e]))return e[r]}function XV(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Function]"}function ZV(e){return typeof e=="number"&&!isNaN(e)}function JV(e){return parseInt(e,10)}function QV(e,t,r){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(r," - do not set this, set it on the child."))}var vl={};Object.defineProperty(vl,"__esModule",{value:!0});vl.browserPrefixToKey=F4;vl.browserPrefixToStyle=qV;vl.default=void 0;vl.getPrefix=N4;var _0=["Moz","Webkit","O","ms"];function N4(){var e,t,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";var i=(e=window.document)===null||e===void 0||(t=e.documentElement)===null||t===void 0?void 0:t.style;if(!i||r in i)return"";for(var o=0;o<_0.length;o++)if(F4(r,_0[o])in i)return _0[o];return""}function F4(e,t){return t?"".concat(t).concat(eG(e)):e}function qV(e,t){return t?"-".concat(t.toLowerCase(),"-").concat(e):e}function eG(e){for(var t="",r=!0,i=0;i<e.length;i++)r?(t+=e[i].toUpperCase(),r=!1):e[i]==="-"?r=!0:t+=e[i];return t}var tG=N4();vl.default=tG;function fy(e){return fy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fy(e)}Object.defineProperty($n,"__esModule",{value:!0});$n.addClassName=j4;$n.addEvent=iG;$n.addUserSelectStyles=vG;$n.createCSSTransform=fG;$n.createSVGTransform=dG;$n.getTouch=hG;$n.getTouchIdentifier=pG;$n.getTranslation=cb;$n.innerHeight=lG;$n.innerWidth=uG;$n.matchesSelector=B4;$n.matchesSelectorAndParentsTo=nG;$n.offsetXYFromParent=cG;$n.outerHeight=oG;$n.outerWidth=sG;$n.removeClassName=U4;$n.removeEvent=aG;$n.removeUserSelectStyles=mG;var aa=ho,Z3=rG(vl);function $4(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return($4=function(o){return o?r:t})(e)}function rG(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||fy(e)!=="object"&&typeof e!="function")return{default:e};var r=$4(t);if(r&&r.has(e))return r.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if(n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)){var a=o?Object.getOwnPropertyDescriptor(e,n):null;a&&(a.get||a.set)?Object.defineProperty(i,n,a):i[n]=e[n]}return i.default=e,r&&r.set(e,i),i}function J3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,i)}return r}function z4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J3(Object(r),!0).forEach(function(i){H4(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J3(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function H4(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Td="";function B4(e,t){return Td||(Td=(0,aa.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(r){return(0,aa.isFunction)(e[r])})),(0,aa.isFunction)(e[Td])?e[Td](t):!1}function nG(e,t,r){var i=e;do{if(B4(i,t))return!0;if(i===r)return!1;i=i.parentNode}while(i);return!1}function iG(e,t,r,i){if(e){var o=z4({capture:!0},i);e.addEventListener?e.addEventListener(t,r,o):e.attachEvent?e.attachEvent("on"+t,r):e["on"+t]=r}}function aG(e,t,r,i){if(e){var o=z4({capture:!0},i);e.removeEventListener?e.removeEventListener(t,r,o):e.detachEvent?e.detachEvent("on"+t,r):e["on"+t]=null}}function oG(e){var t=e.clientHeight,r=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,aa.int)(r.borderTopWidth),t+=(0,aa.int)(r.borderBottomWidth),t}function sG(e){var t=e.clientWidth,r=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,aa.int)(r.borderLeftWidth),t+=(0,aa.int)(r.borderRightWidth),t}function lG(e){var t=e.clientHeight,r=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,aa.int)(r.paddingTop),t-=(0,aa.int)(r.paddingBottom),t}function uG(e){var t=e.clientWidth,r=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,aa.int)(r.paddingLeft),t-=(0,aa.int)(r.paddingRight),t}function cG(e,t,r){var i=t===t.ownerDocument.body,o=i?{left:0,top:0}:t.getBoundingClientRect(),n=(e.clientX+t.scrollLeft-o.left)/r,a=(e.clientY+t.scrollTop-o.top)/r;return{x:n,y:a}}function fG(e,t){var r=cb(e,t,"px");return H4({},(0,Z3.browserPrefixToKey)("transform",Z3.default),r)}function dG(e,t){var r=cb(e,t,"");return r}function cb(e,t,r){var i=e.x,o=e.y,n="translate(".concat(i).concat(r,",").concat(o).concat(r,")");if(t){var a="".concat(typeof t.x=="string"?t.x:t.x+r),s="".concat(typeof t.y=="string"?t.y:t.y+r);n="translate(".concat(a,", ").concat(s,")")+n}return n}function hG(e,t){return e.targetTouches&&(0,aa.findInArray)(e.targetTouches,function(r){return t===r.identifier})||e.changedTouches&&(0,aa.findInArray)(e.changedTouches,function(r){return t===r.identifier})}function pG(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier}function vG(e){if(e){var t=e.getElementById("react-draggable-style-el");t||(t=e.createElement("style"),t.type="text/css",t.id="react-draggable-style-el",t.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,t.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,e.getElementsByTagName("head")[0].appendChild(t)),e.body&&j4(e.body,"react-draggable-transparent-selection")}}function mG(e){if(e)try{if(e.body&&U4(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{var t=(e.defaultView||window).getSelection();t&&t.type!=="Caret"&&t.removeAllRanges()}}catch{}}function j4(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(e.className+=" ".concat(t))}function U4(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")}var po={};Object.defineProperty(po,"__esModule",{value:!0});po.canDragX=_G;po.canDragY=bG;po.createCoreData=xG;po.createDraggableData=SG;po.getBoundPosition=gG;po.getControlPosition=wG;po.snapToGrid=yG;var ea=ho,Bl=$n;function gG(e,t,r){if(!e.props.bounds)return[t,r];var i=e.props.bounds;i=typeof i=="string"?i:CG(i);var o=fb(e);if(typeof i=="string"){var n=o.ownerDocument,a=n.defaultView,s;if(i==="parent"?s=o.parentNode:s=n.querySelector(i),!(s instanceof a.HTMLElement))throw new Error('Bounds selector "'+i+'" could not find an element.');var l=s,u=a.getComputedStyle(o),c=a.getComputedStyle(l);i={left:-o.offsetLeft+(0,ea.int)(c.paddingLeft)+(0,ea.int)(u.marginLeft),top:-o.offsetTop+(0,ea.int)(c.paddingTop)+(0,ea.int)(u.marginTop),right:(0,Bl.innerWidth)(l)-(0,Bl.outerWidth)(o)-o.offsetLeft+(0,ea.int)(c.paddingRight)-(0,ea.int)(u.marginRight),bottom:(0,Bl.innerHeight)(l)-(0,Bl.outerHeight)(o)-o.offsetTop+(0,ea.int)(c.paddingBottom)-(0,ea.int)(u.marginBottom)}}return(0,ea.isNum)(i.right)&&(t=Math.min(t,i.right)),(0,ea.isNum)(i.bottom)&&(r=Math.min(r,i.bottom)),(0,ea.isNum)(i.left)&&(t=Math.max(t,i.left)),(0,ea.isNum)(i.top)&&(r=Math.max(r,i.top)),[t,r]}function yG(e,t,r){var i=Math.round(t/e[0])*e[0],o=Math.round(r/e[1])*e[1];return[i,o]}function _G(e){return e.props.axis==="both"||e.props.axis==="x"}function bG(e){return e.props.axis==="both"||e.props.axis==="y"}function wG(e,t,r){var i=typeof t=="number"?(0,Bl.getTouch)(e,t):null;if(typeof t=="number"&&!i)return null;var o=fb(r),n=r.props.offsetParent||o.offsetParent||o.ownerDocument.body;return(0,Bl.offsetXYFromParent)(i||e,n,r.props.scale)}function xG(e,t,r){var i=e.state,o=!(0,ea.isNum)(i.lastX),n=fb(e);return o?{node:n,deltaX:0,deltaY:0,lastX:t,lastY:r,x:t,y:r}:{node:n,deltaX:t-i.lastX,deltaY:r-i.lastY,lastX:i.lastX,lastY:i.lastY,x:t,y:r}}function SG(e,t){var r=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/r,y:e.state.y+t.deltaY/r,deltaX:t.deltaX/r,deltaY:t.deltaY/r,lastX:e.state.x,lastY:e.state.y}}function CG(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}function fb(e){var t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}var xv={},Sv={};Object.defineProperty(Sv,"__esModule",{value:!0});Sv.default=TG;function TG(){}function Qh(e){return Qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qh(e)}Object.defineProperty(xv,"__esModule",{value:!0});xv.default=void 0;var b0=kG(ot),qi=db(co),AG=db(Cu),Ci=$n,Bo=po,w0=ho,ac=db(Sv);function db(e){return e&&e.__esModule?e:{default:e}}function W4(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(W4=function(o){return o?r:t})(e)}function kG(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||Qh(e)!=="object"&&typeof e!="function")return{default:e};var r=W4(t);if(r&&r.has(e))return r.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if(n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)){var a=o?Object.getOwnPropertyDescriptor(e,n):null;a&&(a.get||a.set)?Object.defineProperty(i,n,a):i[n]=e[n]}return i.default=e,r&&r.set(e,i),i}function Q3(e,t){return DG(e)||LG(e,t)||EG(e,t)||MG()}function MG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EG(e,t){if(e){if(typeof e=="string")return q3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return q3(e,t)}}function q3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}function LG(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var i=[],o=!0,n=!1,a,s;try{for(r=r.call(e);!(o=(a=r.next()).done)&&(i.push(a.value),!(t&&i.length===t));o=!0);}catch(l){n=!0,s=l}finally{try{!o&&r.return!=null&&r.return()}finally{if(n)throw s}}return i}}function DG(e){if(Array.isArray(e))return e}function PG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eS(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function RG(e,t,r){return t&&eS(e.prototype,t),r&&eS(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function OG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dy(e,t)}function dy(e,t){return dy=Object.setPrototypeOf||function(i,o){return i.__proto__=o,i},dy(e,t)}function IG(e){var t=FG();return function(){var i=qh(e),o;if(t){var n=qh(this).constructor;o=Reflect.construct(i,arguments,n)}else o=i.apply(this,arguments);return NG(this,o)}}function NG(e,t){if(t&&(Qh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ai(e)}function Ai(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FG(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function qh(e){return qh=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},qh(e)}function ya(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ra={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},jo=Ra.mouse,Cv=function(e){OG(r,e);var t=IG(r);function r(){var i;PG(this,r);for(var o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];return i=t.call.apply(t,[this].concat(n)),ya(Ai(i),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),ya(Ai(i),"mounted",!1),ya(Ai(i),"handleDragStart",function(s){if(i.props.onMouseDown(s),!i.props.allowAnyClick&&typeof s.button=="number"&&s.button!==0)return!1;var l=i.findDOMNode();if(!l||!l.ownerDocument||!l.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var u=l.ownerDocument;if(!(i.props.disabled||!(s.target instanceof u.defaultView.Node)||i.props.handle&&!(0,Ci.matchesSelectorAndParentsTo)(s.target,i.props.handle,l)||i.props.cancel&&(0,Ci.matchesSelectorAndParentsTo)(s.target,i.props.cancel,l))){s.type==="touchstart"&&s.preventDefault();var c=(0,Ci.getTouchIdentifier)(s);i.setState({touchIdentifier:c});var h=(0,Bo.getControlPosition)(s,c,Ai(i));if(h!=null){var v=h.x,f=h.y,m=(0,Bo.createCoreData)(Ai(i),v,f);(0,ac.default)("DraggableCore: handleDragStart: %j",m),(0,ac.default)("calling",i.props.onStart);var _=i.props.onStart(s,m);_===!1||i.mounted===!1||(i.props.enableUserSelectHack&&(0,Ci.addUserSelectStyles)(u),i.setState({dragging:!0,lastX:v,lastY:f}),(0,Ci.addEvent)(u,jo.move,i.handleDrag),(0,Ci.addEvent)(u,jo.stop,i.handleDragStop))}}}),ya(Ai(i),"handleDrag",function(s){var l=(0,Bo.getControlPosition)(s,i.state.touchIdentifier,Ai(i));if(l!=null){var u=l.x,c=l.y;if(Array.isArray(i.props.grid)){var h=u-i.state.lastX,v=c-i.state.lastY,f=(0,Bo.snapToGrid)(i.props.grid,h,v),m=Q3(f,2);if(h=m[0],v=m[1],!h&&!v)return;u=i.state.lastX+h,c=i.state.lastY+v}var _=(0,Bo.createCoreData)(Ai(i),u,c);(0,ac.default)("DraggableCore: handleDrag: %j",_);var g=i.props.onDrag(s,_);if(g===!1||i.mounted===!1){try{i.handleDragStop(new MouseEvent("mouseup"))}catch{var p=document.createEvent("MouseEvents");p.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),i.handleDragStop(p)}return}i.setState({lastX:u,lastY:c})}}),ya(Ai(i),"handleDragStop",function(s){if(i.state.dragging){var l=(0,Bo.getControlPosition)(s,i.state.touchIdentifier,Ai(i));if(l!=null){var u=l.x,c=l.y;if(Array.isArray(i.props.grid)){var h=u-i.state.lastX||0,v=c-i.state.lastY||0,f=(0,Bo.snapToGrid)(i.props.grid,h,v),m=Q3(f,2);h=m[0],v=m[1],u=i.state.lastX+h,c=i.state.lastY+v}var _=(0,Bo.createCoreData)(Ai(i),u,c),g=i.props.onStop(s,_);if(g===!1||i.mounted===!1)return!1;var p=i.findDOMNode();p&&i.props.enableUserSelectHack&&(0,Ci.removeUserSelectStyles)(p.ownerDocument),(0,ac.default)("DraggableCore: handleDragStop: %j",_),i.setState({dragging:!1,lastX:NaN,lastY:NaN}),p&&((0,ac.default)("DraggableCore: Removing handlers"),(0,Ci.removeEvent)(p.ownerDocument,jo.move,i.handleDrag),(0,Ci.removeEvent)(p.ownerDocument,jo.stop,i.handleDragStop))}}}),ya(Ai(i),"onMouseDown",function(s){return jo=Ra.mouse,i.handleDragStart(s)}),ya(Ai(i),"onMouseUp",function(s){return jo=Ra.mouse,i.handleDragStop(s)}),ya(Ai(i),"onTouchStart",function(s){return jo=Ra.touch,i.handleDragStart(s)}),ya(Ai(i),"onTouchEnd",function(s){return jo=Ra.touch,i.handleDragStop(s)}),i}return RG(r,[{key:"componentDidMount",value:function(){this.mounted=!0;var o=this.findDOMNode();o&&(0,Ci.addEvent)(o,Ra.touch.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var o=this.findDOMNode();if(o){var n=o.ownerDocument;(0,Ci.removeEvent)(n,Ra.mouse.move,this.handleDrag),(0,Ci.removeEvent)(n,Ra.touch.move,this.handleDrag),(0,Ci.removeEvent)(n,Ra.mouse.stop,this.handleDragStop),(0,Ci.removeEvent)(n,Ra.touch.stop,this.handleDragStop),(0,Ci.removeEvent)(o,Ra.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,Ci.removeUserSelectStyles)(n)}}},{key:"findDOMNode",value:function(){var o,n,a;return(o=this.props)!==null&&o!==void 0&&o.nodeRef?(n=this.props)===null||n===void 0||(a=n.nodeRef)===null||a===void 0?void 0:a.current:AG.default.findDOMNode(this)}},{key:"render",value:function(){return b0.cloneElement(b0.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),r}(b0.Component);xv.default=Cv;ya(Cv,"displayName","DraggableCore");ya(Cv,"propTypes",{allowAnyClick:qi.default.bool,disabled:qi.default.bool,enableUserSelectHack:qi.default.bool,offsetParent:function(t,r){if(t[r]&&t[r].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:qi.default.arrayOf(qi.default.number),handle:qi.default.string,cancel:qi.default.string,nodeRef:qi.default.object,onStart:qi.default.func,onDrag:qi.default.func,onStop:qi.default.func,onMouseDown:qi.default.func,scale:qi.default.number,className:w0.dontSetMe,style:w0.dontSetMe,transform:w0.dontSetMe});ya(Cv,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(e){function t(H){return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},t(H)}Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"DraggableCore",{enumerable:!0,get:function(){return u.default}}),e.default=void 0;var r=m(ot),i=v(co),o=v(Cu),n=v(gv),a=$n,s=po,l=ho,u=v(xv),c=v(Sv),h=["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"];function v(H){return H&&H.__esModule?H:{default:H}}function f(H){if(typeof WeakMap!="function")return null;var B=new WeakMap,W=new WeakMap;return(f=function(K){return K?W:B})(H)}function m(H,B){if(!B&&H&&H.__esModule)return H;if(H===null||t(H)!=="object"&&typeof H!="function")return{default:H};var W=f(B);if(W&&W.has(H))return W.get(H);var F={},K=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var fe in H)if(fe!=="default"&&Object.prototype.hasOwnProperty.call(H,fe)){var se=K?Object.getOwnPropertyDescriptor(H,fe):null;se&&(se.get||se.set)?Object.defineProperty(F,fe,se):F[fe]=H[fe]}return F.default=H,W&&W.set(H,F),F}function _(){return _=Object.assign||function(H){for(var B=1;B<arguments.length;B++){var W=arguments[B];for(var F in W)Object.prototype.hasOwnProperty.call(W,F)&&(H[F]=W[F])}return H},_.apply(this,arguments)}function g(H,B){if(H==null)return{};var W=p(H,B),F,K;if(Object.getOwnPropertySymbols){var fe=Object.getOwnPropertySymbols(H);for(K=0;K<fe.length;K++)F=fe[K],!(B.indexOf(F)>=0)&&Object.prototype.propertyIsEnumerable.call(H,F)&&(W[F]=H[F])}return W}function p(H,B){if(H==null)return{};var W={},F=Object.keys(H),K,fe;for(fe=0;fe<F.length;fe++)K=F[fe],!(B.indexOf(K)>=0)&&(W[K]=H[K]);return W}function d(H,B){var W=Object.keys(H);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(H);B&&(F=F.filter(function(K){return Object.getOwnPropertyDescriptor(H,K).enumerable})),W.push.apply(W,F)}return W}function b(H){for(var B=1;B<arguments.length;B++){var W=arguments[B]!=null?arguments[B]:{};B%2?d(Object(W),!0).forEach(function(F){Z(H,F,W[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(H,Object.getOwnPropertyDescriptors(W)):d(Object(W)).forEach(function(F){Object.defineProperty(H,F,Object.getOwnPropertyDescriptor(W,F))})}return H}function y(H,B){return T(H)||S(H,B)||w(H,B)||x()}function x(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w(H,B){if(H){if(typeof H=="string")return C(H,B);var W=Object.prototype.toString.call(H).slice(8,-1);if(W==="Object"&&H.constructor&&(W=H.constructor.name),W==="Map"||W==="Set")return Array.from(H);if(W==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(W))return C(H,B)}}function C(H,B){(B==null||B>H.length)&&(B=H.length);for(var W=0,F=new Array(B);W<B;W++)F[W]=H[W];return F}function S(H,B){var W=H==null?null:typeof Symbol<"u"&&H[Symbol.iterator]||H["@@iterator"];if(W!=null){var F=[],K=!0,fe=!1,se,ee;try{for(W=W.call(H);!(K=(se=W.next()).done)&&(F.push(se.value),!(B&&F.length===B));K=!0);}catch(ie){fe=!0,ee=ie}finally{try{!K&&W.return!=null&&W.return()}finally{if(fe)throw ee}}return F}}function T(H){if(Array.isArray(H))return H}function M(H,B){if(!(H instanceof B))throw new TypeError("Cannot call a class as a function")}function D(H,B){for(var W=0;W<B.length;W++){var F=B[W];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(H,F.key,F)}}function k(H,B,W){return B&&D(H.prototype,B),W&&D(H,W),Object.defineProperty(H,"prototype",{writable:!1}),H}function R(H,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function");H.prototype=Object.create(B&&B.prototype,{constructor:{value:H,writable:!0,configurable:!0}}),Object.defineProperty(H,"prototype",{writable:!1}),B&&P(H,B)}function P(H,B){return P=Object.setPrototypeOf||function(F,K){return F.__proto__=K,F},P(H,B)}function E(H){var B=U();return function(){var F=V(H),K;if(B){var fe=V(this).constructor;K=Reflect.construct(F,arguments,fe)}else K=F.apply(this,arguments);return O(this,K)}}function O(H,B){if(B&&(t(B)==="object"||typeof B=="function"))return B;if(B!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return I(H)}function I(H){if(H===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return H}function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function V(H){return V=Object.setPrototypeOf?Object.getPrototypeOf:function(W){return W.__proto__||Object.getPrototypeOf(W)},V(H)}function Z(H,B,W){return B in H?Object.defineProperty(H,B,{value:W,enumerable:!0,configurable:!0,writable:!0}):H[B]=W,H}var z=function(H){R(W,H);var B=E(W);function W(F){var K;return M(this,W),K=B.call(this,F),Z(I(K),"onDragStart",function(fe,se){(0,c.default)("Draggable: onDragStart: %j",se);var ee=K.props.onStart(fe,(0,s.createDraggableData)(I(K),se));if(ee===!1)return!1;K.setState({dragging:!0,dragged:!0})}),Z(I(K),"onDrag",function(fe,se){if(!K.state.dragging)return!1;(0,c.default)("Draggable: onDrag: %j",se);var ee=(0,s.createDraggableData)(I(K),se),ie={x:ee.x,y:ee.y};if(K.props.bounds){var J=ie.x,te=ie.y;ie.x+=K.state.slackX,ie.y+=K.state.slackY;var L=(0,s.getBoundPosition)(I(K),ie.x,ie.y),N=y(L,2),G=N[0],Y=N[1];ie.x=G,ie.y=Y,ie.slackX=K.state.slackX+(J-ie.x),ie.slackY=K.state.slackY+(te-ie.y),ee.x=ie.x,ee.y=ie.y,ee.deltaX=ie.x-K.state.x,ee.deltaY=ie.y-K.state.y}var j=K.props.onDrag(fe,ee);if(j===!1)return!1;K.setState(ie)}),Z(I(K),"onDragStop",function(fe,se){if(!K.state.dragging)return!1;var ee=K.props.onStop(fe,(0,s.createDraggableData)(I(K),se));if(ee===!1)return!1;(0,c.default)("Draggable: onDragStop: %j",se);var ie={dragging:!1,slackX:0,slackY:0},J=!!K.props.position;if(J){var te=K.props.position,L=te.x,N=te.y;ie.x=L,ie.y=N}K.setState(ie)}),K.state={dragging:!1,dragged:!1,x:F.position?F.position.x:F.defaultPosition.x,y:F.position?F.position.y:F.defaultPosition.y,prevPropsPosition:b({},F.position),slackX:0,slackY:0,isElementSVG:!1},F.position&&!(F.onDrag||F.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),K}return k(W,[{key:"componentDidMount",value:function(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){var K,fe,se;return(K=(fe=this.props)===null||fe===void 0||(se=fe.nodeRef)===null||se===void 0?void 0:se.current)!==null&&K!==void 0?K:o.default.findDOMNode(this)}},{key:"render",value:function(){var K,fe=this.props;fe.axis,fe.bounds;var se=fe.children,ee=fe.defaultPosition,ie=fe.defaultClassName,J=fe.defaultClassNameDragging,te=fe.defaultClassNameDragged,L=fe.position,N=fe.positionOffset;fe.scale;var G=g(fe,h),Y={},j=null,Q=!!L,q=!Q||this.state.dragging,re=L||ee,ue={x:(0,s.canDragX)(this)&&q?this.state.x:re.x,y:(0,s.canDragY)(this)&&q?this.state.y:re.y};this.state.isElementSVG?j=(0,a.createSVGTransform)(ue,N):Y=(0,a.createCSSTransform)(ue,N);var de=(0,n.default)(se.props.className||"",ie,(K={},Z(K,J,this.state.dragging),Z(K,te,this.state.dragged),K));return r.createElement(u.default,_({},G,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),r.cloneElement(r.Children.only(se),{className:de,style:b(b({},se.props.style),Y),transform:j}))}}],[{key:"getDerivedStateFromProps",value:function(K,fe){var se=K.position,ee=fe.prevPropsPosition;return se&&(!ee||se.x!==ee.x||se.y!==ee.y)?((0,c.default)("Draggable: getDerivedStateFromProps %j",{position:se,prevPropsPosition:ee}),{x:se.x,y:se.y,prevPropsPosition:b({},se)}):null}}]),W}(r.Component);e.default=z,Z(z,"displayName","Draggable"),Z(z,"propTypes",b(b({},u.default.propTypes),{},{axis:i.default.oneOf(["both","x","y","none"]),bounds:i.default.oneOfType([i.default.shape({left:i.default.number,right:i.default.number,top:i.default.number,bottom:i.default.number}),i.default.string,i.default.oneOf([!1])]),defaultClassName:i.default.string,defaultClassNameDragging:i.default.string,defaultClassNameDragged:i.default.string,defaultPosition:i.default.shape({x:i.default.number,y:i.default.number}),positionOffset:i.default.shape({x:i.default.oneOfType([i.default.number,i.default.string]),y:i.default.oneOfType([i.default.number,i.default.string])}),position:i.default.shape({x:i.default.number,y:i.default.number}),className:l.dontSetMe,style:l.dontSetMe,transform:l.dontSetMe})),Z(z,"defaultProps",b(b({},u.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1}))})(I4);var V4=I4,G4=V4.default,$G=V4.DraggableCore;wv.exports=G4;wv.exports.default=G4;wv.exports.DraggableCore=$G;var Y4=wv.exports,Tv={exports:{}},Af={},hb={};hb.__esModule=!0;hb.cloneElement=jG;var zG=HG(ot);function HG(e){return e&&e.__esModule?e:{default:e}}function tS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,i)}return r}function rS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tS(Object(r),!0).forEach(function(i){BG(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tS(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function BG(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jG(e,t){return t.style&&e.props.style&&(t.style=rS(rS({},e.props.style),t.style)),t.className&&e.props.className&&(t.className=e.props.className+" "+t.className),zG.default.cloneElement(e,t)}var kf={};kf.__esModule=!0;kf.resizableProps=void 0;var qr=UG(co);function UG(e){return e&&e.__esModule?e:{default:e}}var WG={axis:qr.default.oneOf(["both","x","y","none"]),className:qr.default.string,children:qr.default.element.isRequired,draggableOpts:qr.default.shape({allowAnyClick:qr.default.bool,cancel:qr.default.string,children:qr.default.node,disabled:qr.default.bool,enableUserSelectHack:qr.default.bool,offsetParent:qr.default.node,grid:qr.default.arrayOf(qr.default.number),handle:qr.default.string,nodeRef:qr.default.object,onStart:qr.default.func,onDrag:qr.default.func,onStop:qr.default.func,onMouseDown:qr.default.func,scale:qr.default.number}),height:qr.default.number.isRequired,handle:qr.default.oneOfType([qr.default.node,qr.default.func]),handleSize:qr.default.arrayOf(qr.default.number),lockAspectRatio:qr.default.bool,maxConstraints:qr.default.arrayOf(qr.default.number),minConstraints:qr.default.arrayOf(qr.default.number),onResizeStop:qr.default.func,onResizeStart:qr.default.func,onResize:qr.default.func,resizeHandles:qr.default.arrayOf(qr.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:qr.default.number,width:qr.default.number.isRequired};kf.resizableProps=WG;Af.__esModule=!0;Af.default=void 0;var oc=XG(ot),VG=Y4,GG=hb,YG=kf,KG=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function K4(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(K4=function(o){return o?r:t})(e)}function XG(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=K4(t);if(r&&r.has(e))return r.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if(n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)){var a=o?Object.getOwnPropertyDescriptor(e,n):null;a&&(a.get||a.set)?Object.defineProperty(i,n,a):i[n]=e[n]}return i.default=e,r&&r.set(e,i),i}function hy(){return hy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},hy.apply(this,arguments)}function ZG(e,t){if(e==null)return{};var r={},i=Object.keys(e),o,n;for(n=0;n<i.length;n++)o=i[n],!(t.indexOf(o)>=0)&&(r[o]=e[o]);return r}function nS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,i)}return r}function x0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nS(Object(r),!0).forEach(function(i){JG(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nS(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function JG(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QG(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,py(e,t)}function py(e,t){return py=Object.setPrototypeOf||function(i,o){return i.__proto__=o,i},py(e,t)}var pb=function(e){QG(t,e);function t(){for(var i,o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];return i=e.call.apply(e,[this].concat(n))||this,i.handleRefs={},i.lastHandleRect=null,i.slack=null,i}var r=t.prototype;return r.componentWillUnmount=function(){this.resetData()},r.resetData=function(){this.lastHandleRect=this.slack=null},r.runConstraints=function(o,n){var a=this.props,s=a.minConstraints,l=a.maxConstraints,u=a.lockAspectRatio;if(!s&&!l&&!u)return[o,n];if(u){var c=this.props.width/this.props.height,h=o-this.props.width,v=n-this.props.height;Math.abs(h)>Math.abs(v*c)?n=o/c:o=n*c}var f=o,m=n,_=this.slack||[0,0],g=_[0],p=_[1];return o+=g,n+=p,s&&(o=Math.max(s[0],o),n=Math.max(s[1],n)),l&&(o=Math.min(l[0],o),n=Math.min(l[1],n)),this.slack=[g+(f-o),p+(m-n)],[o,n]},r.resizeHandler=function(o,n){var a=this;return function(s,l){var u=l.node,c=l.deltaX,h=l.deltaY;o==="onResizeStart"&&a.resetData();var v=(a.props.axis==="both"||a.props.axis==="x")&&n!=="n"&&n!=="s",f=(a.props.axis==="both"||a.props.axis==="y")&&n!=="e"&&n!=="w";if(!(!v&&!f)){var m=n[0],_=n[n.length-1],g=u.getBoundingClientRect();if(a.lastHandleRect!=null){if(_==="w"){var p=g.left-a.lastHandleRect.left;c+=p}if(m==="n"){var d=g.top-a.lastHandleRect.top;h+=d}}a.lastHandleRect=g,_==="w"&&(c=-c),m==="n"&&(h=-h);var b=a.props.width+(v?c/a.props.transformScale:0),y=a.props.height+(f?h/a.props.transformScale:0),x=a.runConstraints(b,y);b=x[0],y=x[1];var w=b!==a.props.width||y!==a.props.height,C=typeof a.props[o]=="function"?a.props[o]:null,S=o==="onResize"&&!w;C&&!S&&(s.persist==null||s.persist(),C(s,{node:u,size:{width:b,height:y},handle:n})),o==="onResizeStop"&&a.resetData()}}},r.renderResizeHandle=function(o,n){var a=this.props.handle;if(!a)return oc.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+o,ref:n});if(typeof a=="function")return a(o,n);var s=typeof a.type=="string",l=x0({ref:n},s?{}:{handleAxis:o});return oc.cloneElement(a,l)},r.render=function(){var o=this,n=this.props,a=n.children,s=n.className,l=n.draggableOpts;n.width,n.height,n.handle,n.handleSize,n.lockAspectRatio,n.axis,n.minConstraints,n.maxConstraints,n.onResize,n.onResizeStop,n.onResizeStart;var u=n.resizeHandles;n.transformScale;var c=ZG(n,KG);return(0,GG.cloneElement)(a,x0(x0({},c),{},{className:(s?s+" ":"")+"react-resizable",children:[].concat(a.props.children,u.map(function(h){var v,f=(v=o.handleRefs[h])!=null?v:o.handleRefs[h]=oc.createRef();return oc.createElement(VG.DraggableCore,hy({},l,{nodeRef:f,key:"resizableHandle-"+h,onStop:o.resizeHandler("onResizeStop",h),onStart:o.resizeHandler("onResizeStart",h),onDrag:o.resizeHandler("onResize",h)}),o.renderResizeHandle(h,f))}))}))},t}(oc.Component);Af.default=pb;pb.propTypes=YG.resizableProps;pb.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1};var Av={};Av.__esModule=!0;Av.default=void 0;var S0=nY(ot),qG=X4(co),eY=X4(Af),tY=kf,rY=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function X4(e){return e&&e.__esModule?e:{default:e}}function Z4(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(Z4=function(o){return o?r:t})(e)}function nY(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=Z4(t);if(r&&r.has(e))return r.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if(n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)){var a=o?Object.getOwnPropertyDescriptor(e,n):null;a&&(a.get||a.set)?Object.defineProperty(i,n,a):i[n]=e[n]}return i.default=e,r&&r.set(e,i),i}function vy(){return vy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},vy.apply(this,arguments)}function iS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,i)}return r}function ep(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iS(Object(r),!0).forEach(function(i){iY(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iS(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function iY(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aY(e,t){if(e==null)return{};var r={},i=Object.keys(e),o,n;for(n=0;n<i.length;n++)o=i[n],!(t.indexOf(o)>=0)&&(r[o]=e[o]);return r}function oY(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,my(e,t)}function my(e,t){return my=Object.setPrototypeOf||function(i,o){return i.__proto__=o,i},my(e,t)}var J4=function(e){oY(t,e);function t(){for(var i,o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];return i=e.call.apply(e,[this].concat(n))||this,i.state={width:i.props.width,height:i.props.height,propsWidth:i.props.width,propsHeight:i.props.height},i.onResize=function(s,l){var u=l.size;i.props.onResize?(s.persist==null||s.persist(),i.setState(u,function(){return i.props.onResize&&i.props.onResize(s,l)})):i.setState(u)},i}t.getDerivedStateFromProps=function(o,n){return n.propsWidth!==o.width||n.propsHeight!==o.height?{width:o.width,height:o.height,propsWidth:o.width,propsHeight:o.height}:null};var r=t.prototype;return r.render=function(){var o=this.props,n=o.handle,a=o.handleSize;o.onResize;var s=o.onResizeStart,l=o.onResizeStop,u=o.draggableOpts,c=o.minConstraints,h=o.maxConstraints,v=o.lockAspectRatio,f=o.axis;o.width,o.height;var m=o.resizeHandles,_=o.style,g=o.transformScale,p=aY(o,rY);return S0.createElement(eY.default,{axis:f,draggableOpts:u,handle:n,handleSize:a,height:this.state.height,lockAspectRatio:v,maxConstraints:h,minConstraints:c,onResizeStart:s,onResize:this.onResize,onResizeStop:l,resizeHandles:m,transformScale:g,width:this.state.width},S0.createElement("div",vy({},p,{style:ep(ep({},_),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},t}(S0.Component);Av.default=J4;J4.propTypes=ep(ep({},tY.resizableProps),{},{children:qG.default.element});Tv.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")};Tv.exports.Resizable=Af.default;Tv.exports.ResizableBox=Av.default;var sY=Tv.exports,To={};Object.defineProperty(To,"__esModule",{value:!0});To.resizeHandleType=To.resizeHandleAxesType=To.default=void 0;var Gr=Q4(co),lY=Q4(ot);function Q4(e){return e&&e.__esModule?e:{default:e}}var q4=Gr.default.arrayOf(Gr.default.oneOf(["s","w","e","n","sw","nw","se","ne"]));To.resizeHandleAxesType=q4;var eM=Gr.default.oneOfType([Gr.default.node,Gr.default.func]);To.resizeHandleType=eM;var uY={className:Gr.default.string,style:Gr.default.object,width:Gr.default.number,autoSize:Gr.default.bool,cols:Gr.default.number,draggableCancel:Gr.default.string,draggableHandle:Gr.default.string,verticalCompact:function(t){t.verticalCompact},compactType:Gr.default.oneOf(["vertical","horizontal"]),layout:function(t){var r=t.layout;r!==void 0&&tn.validateLayout(r,"layout")},margin:Gr.default.arrayOf(Gr.default.number),containerPadding:Gr.default.arrayOf(Gr.default.number),rowHeight:Gr.default.number,maxRows:Gr.default.number,isBounded:Gr.default.bool,isDraggable:Gr.default.bool,isResizable:Gr.default.bool,allowOverlap:Gr.default.bool,preventCollision:Gr.default.bool,useCSSTransforms:Gr.default.bool,transformScale:Gr.default.number,isDroppable:Gr.default.bool,resizeHandles:q4,resizeHandle:eM,onLayoutChange:Gr.default.func,onDragStart:Gr.default.func,onDrag:Gr.default.func,onDragStop:Gr.default.func,onResizeStart:Gr.default.func,onResize:Gr.default.func,onResizeStop:Gr.default.func,onDrop:Gr.default.func,droppingItem:Gr.default.shape({i:Gr.default.string.isRequired,w:Gr.default.number.isRequired,h:Gr.default.number.isRequired}),children:function(t,r){var i=t[r],o={};lY.default.Children.forEach(i,function(n){if((n==null?void 0:n.key)!=null){if(o[n.key])throw new Error('Duplicate child key "'+n.key+'" found! This will cause problems in ReactGridLayout.');o[n.key]=!0}})},innerRef:Gr.default.any};To.default=uY;function gy(e){return gy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gy(e)}Object.defineProperty(bv,"__esModule",{value:!0});bv.default=void 0;var Tl=vb(ot),dn=vb(co),cY=Y4,fY=sY,sc=tn,li=Oo,aS=To,dY=vb(gv);function vb(e){return e&&e.__esModule?e:{default:e}}function oS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,i)}return r}function C0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oS(Object(r),!0).forEach(function(i){Ia(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oS(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function hY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sS(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function pY(e,t,r){return t&&sS(e.prototype,t),r&&sS(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function vY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yy(e,t)}function yy(e,t){return yy=Object.setPrototypeOf||function(i,o){return i.__proto__=o,i},yy(e,t)}function mY(e){var t=yY();return function(){var i=tp(e),o;if(t){var n=tp(this).constructor;o=Reflect.construct(i,arguments,n)}else o=i.apply(this,arguments);return gY(this,o)}}function gY(e,t){if(t&&(gy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ga(e)}function ga(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yY(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function tp(e){return tp=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},tp(e)}function Ia(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var mb=function(e){vY(r,e);var t=mY(r);function r(){var i;hY(this,r);for(var o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];return i=t.call.apply(t,[this].concat(n)),Ia(ga(i),"state",{resizing:null,dragging:null,className:""}),Ia(ga(i),"elementRef",Tl.default.createRef()),Ia(ga(i),"onDragStart",function(s,l){var u=l.node,c=i.props,h=c.onDragStart,v=c.transformScale;if(h){var f={top:0,left:0},m=u.offsetParent;if(m){var _=m.getBoundingClientRect(),g=u.getBoundingClientRect(),p=g.left/v,d=_.left/v,b=g.top/v,y=_.top/v;f.left=p-d+m.scrollLeft,f.top=b-y+m.scrollTop,i.setState({dragging:f});var x=(0,li.calcXY)(i.getPositionParams(),f.top,f.left,i.props.w,i.props.h),w=x.x,C=x.y;return h.call(ga(i),i.props.i,w,C,{e:s,node:u,newPosition:f})}}}),Ia(ga(i),"onDrag",function(s,l){var u=l.node,c=l.deltaX,h=l.deltaY,v=i.props.onDrag;if(v){if(!i.state.dragging)throw new Error("onDrag called before onDragStart.");var f=i.state.dragging.top+h,m=i.state.dragging.left+c,_=i.props,g=_.isBounded,p=_.i,d=_.w,b=_.h,y=_.containerWidth,x=i.getPositionParams();if(g){var w=u.offsetParent;if(w){var C=i.props,S=C.margin,T=C.rowHeight,M=w.clientHeight-(0,li.calcGridItemWHPx)(b,T,S[1]);f=(0,li.clamp)(f,0,M);var D=(0,li.calcGridColWidth)(x),k=y-(0,li.calcGridItemWHPx)(d,D,S[0]);m=(0,li.clamp)(m,0,k)}}var R={top:f,left:m};i.setState({dragging:R});var P=(0,li.calcXY)(x,f,m,d,b),E=P.x,O=P.y;return v.call(ga(i),p,E,O,{e:s,node:u,newPosition:R})}}),Ia(ga(i),"onDragStop",function(s,l){var u=l.node,c=i.props.onDragStop;if(c){if(!i.state.dragging)throw new Error("onDragEnd called before onDragStart.");var h=i.props,v=h.w,f=h.h,m=h.i,_=i.state.dragging,g=_.left,p=_.top,d={top:p,left:g};i.setState({dragging:null});var b=(0,li.calcXY)(i.getPositionParams(),p,g,v,f),y=b.x,x=b.y;return c.call(ga(i),m,y,x,{e:s,node:u,newPosition:d})}}),Ia(ga(i),"onResizeStop",function(s,l){i.onResizeHandler(s,l,"onResizeStop")}),Ia(ga(i),"onResizeStart",function(s,l){i.onResizeHandler(s,l,"onResizeStart")}),Ia(ga(i),"onResize",function(s,l){i.onResizeHandler(s,l,"onResize")}),i}return pY(r,[{key:"shouldComponentUpdate",value:function(o,n){if(this.props.children!==o.children||this.props.droppingPosition!==o.droppingPosition)return!0;var a=(0,li.calcGridItemPosition)(this.getPositionParams(this.props),this.props.x,this.props.y,this.props.w,this.props.h,this.state),s=(0,li.calcGridItemPosition)(this.getPositionParams(o),o.x,o.y,o.w,o.h,n);return!(0,sc.fastPositionEqual)(a,s)||this.props.useCSSTransforms!==o.useCSSTransforms}},{key:"componentDidMount",value:function(){this.moveDroppingItem({})}},{key:"componentDidUpdate",value:function(o){this.moveDroppingItem(o)}},{key:"moveDroppingItem",value:function(o){var n=this.props.droppingPosition;if(n){var a=this.elementRef.current;if(a){var s=o.droppingPosition||{left:0,top:0},l=this.state.dragging,u=l&&n.left!==s.left||n.top!==s.top;if(!l)this.onDragStart(n.e,{node:a,deltaX:n.left,deltaY:n.top});else if(u){var c=n.left-l.left,h=n.top-l.top;this.onDrag(n.e,{node:a,deltaX:c,deltaY:h})}}}}},{key:"getPositionParams",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props;return{cols:o.cols,containerPadding:o.containerPadding,containerWidth:o.containerWidth,margin:o.margin,maxRows:o.maxRows,rowHeight:o.rowHeight}}},{key:"createStyle",value:function(o){var n=this.props,a=n.usePercentages,s=n.containerWidth,l=n.useCSSTransforms,u;return l?u=(0,sc.setTransform)(o):(u=(0,sc.setTopLeft)(o),a&&(u.left=(0,sc.perc)(o.left/s),u.width=(0,sc.perc)(o.width/s))),u}},{key:"mixinDraggable",value:function(o,n){return Tl.default.createElement(cY.DraggableCore,{disabled:!n,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,handle:this.props.handle,cancel:".react-resizable-handle"+(this.props.cancel?","+this.props.cancel:""),scale:this.props.transformScale,nodeRef:this.elementRef},o)}},{key:"mixinResizable",value:function(o,n,a){var s=this.props,l=s.cols,u=s.x,c=s.minW,h=s.minH,v=s.maxW,f=s.maxH,m=s.transformScale,_=s.resizeHandles,g=s.resizeHandle,p=this.getPositionParams(),d=(0,li.calcGridItemPosition)(p,0,0,l-u,0).width,b=(0,li.calcGridItemPosition)(p,0,0,c,h),y=(0,li.calcGridItemPosition)(p,0,0,v,f),x=[b.width,b.height],w=[Math.min(y.width,d),Math.min(y.height,1/0)];return Tl.default.createElement(fY.Resizable,{draggableOpts:{disabled:!a},className:a?void 0:"react-resizable-hide",width:n.width,height:n.height,minConstraints:x,maxConstraints:w,onResizeStop:this.onResizeStop,onResizeStart:this.onResizeStart,onResize:this.onResize,transformScale:m,resizeHandles:_,handle:g},o)}},{key:"onResizeHandler",value:function(o,n,a){var s=n.node,l=n.size,u=this.props[a];if(u){var c=this.props,h=c.cols,v=c.x,f=c.y,m=c.i,_=c.maxH,g=c.minH,p=this.props,d=p.minW,b=p.maxW,y=(0,li.calcWH)(this.getPositionParams(),l.width,l.height,v,f),x=y.w,w=y.h;d=Math.max(d,1),b=Math.min(b,h-v),x=(0,li.clamp)(x,d,b),w=(0,li.clamp)(w,g,_),this.setState({resizing:a==="onResizeStop"?null:l}),u.call(this,m,x,w,{e:o,node:s,size:l})}}},{key:"render",value:function(){var o=this.props,n=o.x,a=o.y,s=o.w,l=o.h,u=o.isDraggable,c=o.isResizable,h=o.droppingPosition,v=o.useCSSTransforms,f=(0,li.calcGridItemPosition)(this.getPositionParams(),n,a,s,l,this.state),m=Tl.default.Children.only(this.props.children),_=Tl.default.cloneElement(m,{ref:this.elementRef,className:(0,dY.default)("react-grid-item",m.props.className,this.props.className,{static:this.props.static,resizing:!!this.state.resizing,"react-draggable":u,"react-draggable-dragging":!!this.state.dragging,dropping:!!h,cssTransforms:v}),style:C0(C0(C0({},this.props.style),m.props.style),this.createStyle(f))});return _=this.mixinResizable(_,f,c),_=this.mixinDraggable(_,u),_}}]),r}(Tl.default.Component);bv.default=mb;Ia(mb,"propTypes",{children:dn.default.element,cols:dn.default.number.isRequired,containerWidth:dn.default.number.isRequired,rowHeight:dn.default.number.isRequired,margin:dn.default.array.isRequired,maxRows:dn.default.number.isRequired,containerPadding:dn.default.array.isRequired,x:dn.default.number.isRequired,y:dn.default.number.isRequired,w:dn.default.number.isRequired,h:dn.default.number.isRequired,minW:function(t,r){var i=t[r];if(typeof i!="number")return new Error("minWidth not Number");if(i>t.w||i>t.maxW)return new Error("minWidth larger than item width/maxWidth")},maxW:function(t,r){var i=t[r];if(typeof i!="number")return new Error("maxWidth not Number");if(i<t.w||i<t.minW)return new Error("maxWidth smaller than item width/minWidth")},minH:function(t,r){var i=t[r];if(typeof i!="number")return new Error("minHeight not Number");if(i>t.h||i>t.maxH)return new Error("minHeight larger than item height/maxHeight")},maxH:function(t,r){var i=t[r];if(typeof i!="number")return new Error("maxHeight not Number");if(i<t.h||i<t.minH)return new Error("maxHeight smaller than item height/minHeight")},i:dn.default.string.isRequired,resizeHandles:aS.resizeHandleAxesType,resizeHandle:aS.resizeHandleType,onDragStop:dn.default.func,onDragStart:dn.default.func,onDrag:dn.default.func,onResizeStop:dn.default.func,onResizeStart:dn.default.func,onResize:dn.default.func,isDraggable:dn.default.bool.isRequired,isResizable:dn.default.bool.isRequired,isBounded:dn.default.bool.isRequired,static:dn.default.bool,useCSSTransforms:dn.default.bool.isRequired,transformScale:dn.default.number,className:dn.default.string,handle:dn.default.string,cancel:dn.default.string,droppingPosition:dn.default.shape({e:dn.default.object.isRequired,left:dn.default.number.isRequired,top:dn.default.number.isRequired})});Ia(mb,"defaultProps",{className:"",cancel:"",handle:"",minH:1,minW:1,maxH:1/0,maxW:1/0,transformScale:1});function rp(e){return rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rp(e)}Object.defineProperty(Tf,"__esModule",{value:!0});Tf.default=void 0;var Rs=xY(ot),T0=kv(ab),_Y=kv(gv),Fr=tn,bY=Oo,lS=kv(bv),wY=kv(To);function kv(e){return e&&e.__esModule?e:{default:e}}function tM(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(tM=function(o){return o?r:t})(e)}function xY(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||rp(e)!=="object"&&typeof e!="function")return{default:e};var r=tM(t);if(r&&r.has(e))return r.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if(n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)){var a=o?Object.getOwnPropertyDescriptor(e,n):null;a&&(a.get||a.set)?Object.defineProperty(i,n,a):i[n]=e[n]}return i.default=e,r&&r.set(e,i),i}function SY(e){return AY(e)||TY(e)||rM(e)||CY()}function CY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TY(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function AY(e){if(Array.isArray(e))return _y(e)}function uS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,i)}return r}function Os(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uS(Object(r),!0).forEach(function(i){ci(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uS(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function kY(e,t){return LY(e)||EY(e,t)||rM(e,t)||MY()}function MY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rM(e,t){if(e){if(typeof e=="string")return _y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _y(e,t)}}function _y(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}function EY(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var i=[],o=!0,n=!1,a,s;try{for(r=r.call(e);!(o=(a=r.next()).done)&&(i.push(a.value),!(t&&i.length===t));o=!0);}catch(l){n=!0,s=l}finally{try{!o&&r.return!=null&&r.return()}finally{if(n)throw s}}return i}}function LY(e){if(Array.isArray(e))return e}function DY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cS(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function PY(e,t,r){return t&&cS(e.prototype,t),r&&cS(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function RY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&by(e,t)}function by(e,t){return by=Object.setPrototypeOf||function(i,o){return i.__proto__=o,i},by(e,t)}function OY(e){var t=NY();return function(){var i=np(e),o;if(t){var n=np(this).constructor;o=Reflect.construct(i,arguments,n)}else o=i.apply(this,arguments);return IY(this,o)}}function IY(e,t){if(t&&(rp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bi(e)}function Bi(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NY(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function np(e){return np=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},np(e)}function ci(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var fS="react-grid-layout",nM=!1;try{nM=/firefox/i.test(navigator.userAgent)}catch{}var Mv=function(e){RY(r,e);var t=OY(r);function r(){var i;DY(this,r);for(var o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];return i=t.call.apply(t,[this].concat(n)),ci(Bi(i),"state",{activeDrag:null,layout:(0,Fr.synchronizeLayoutWithChildren)(i.props.layout,i.props.children,i.props.cols,(0,Fr.compactType)(i.props),i.props.allowOverlap),mounted:!1,oldDragItem:null,oldLayout:null,oldResizeItem:null,droppingDOMNode:null,children:[]}),ci(Bi(i),"dragEnterCounter",0),ci(Bi(i),"onDragStart",function(s,l,u,c){var h=c.e,v=c.node,f=i.state.layout,m=(0,Fr.getLayoutItem)(f,s);if(m)return i.setState({oldDragItem:(0,Fr.cloneLayoutItem)(m),oldLayout:f}),i.props.onDragStart(f,m,m,null,h,v)}),ci(Bi(i),"onDrag",function(s,l,u,c){var h=c.e,v=c.node,f=i.state.oldDragItem,m=i.state.layout,_=i.props,g=_.cols,p=_.allowOverlap,d=_.preventCollision,b=(0,Fr.getLayoutItem)(m,s);if(b){var y={w:b.w,h:b.h,x:b.x,y:b.y,placeholder:!0,i:s},x=!0;m=(0,Fr.moveElement)(m,b,l,u,x,d,(0,Fr.compactType)(i.props),g,p),i.props.onDrag(m,f,b,y,h,v),i.setState({layout:p?m:(0,Fr.compact)(m,(0,Fr.compactType)(i.props),g),activeDrag:y})}}),ci(Bi(i),"onDragStop",function(s,l,u,c){var h=c.e,v=c.node;if(i.state.activeDrag){var f=i.state.oldDragItem,m=i.state.layout,_=i.props,g=_.cols,p=_.preventCollision,d=_.allowOverlap,b=(0,Fr.getLayoutItem)(m,s);if(b){var y=!0;m=(0,Fr.moveElement)(m,b,l,u,y,p,(0,Fr.compactType)(i.props),g,d),i.props.onDragStop(m,f,b,null,h,v);var x=d?m:(0,Fr.compact)(m,(0,Fr.compactType)(i.props),g),w=i.state.oldLayout;i.setState({activeDrag:null,layout:x,oldDragItem:null,oldLayout:null}),i.onLayoutMaybeChanged(x,w)}}}),ci(Bi(i),"onResizeStart",function(s,l,u,c){var h=c.e,v=c.node,f=i.state.layout,m=(0,Fr.getLayoutItem)(f,s);m&&(i.setState({oldResizeItem:(0,Fr.cloneLayoutItem)(m),oldLayout:i.state.layout}),i.props.onResizeStart(f,m,m,null,h,v))}),ci(Bi(i),"onResize",function(s,l,u,c){var h=c.e,v=c.node,f=i.state,m=f.layout,_=f.oldResizeItem,g=i.props,p=g.cols,d=g.preventCollision,b=g.allowOverlap,y=(0,Fr.withLayoutItem)(m,s,function(T){var M;if(d&&!b){var D=(0,Fr.getAllCollisions)(m,Os(Os({},T),{},{w:l,h:u})).filter(function(P){return P.i!==T.i});if(M=D.length>0,M){var k=1/0,R=1/0;D.forEach(function(P){P.x>T.x&&(k=Math.min(k,P.x)),P.y>T.y&&(R=Math.min(R,P.y))}),Number.isFinite(k)&&(T.w=k-T.x),Number.isFinite(R)&&(T.h=R-T.y)}}return M||(T.w=l,T.h=u),T}),x=kY(y,2),w=x[0],C=x[1];if(C){var S={w:C.w,h:C.h,x:C.x,y:C.y,static:!0,i:s};i.props.onResize(w,_,C,S,h,v),i.setState({layout:b?w:(0,Fr.compact)(w,(0,Fr.compactType)(i.props),p),activeDrag:S})}}),ci(Bi(i),"onResizeStop",function(s,l,u,c){var h=c.e,v=c.node,f=i.state,m=f.layout,_=f.oldResizeItem,g=i.props,p=g.cols,d=g.allowOverlap,b=(0,Fr.getLayoutItem)(m,s);i.props.onResizeStop(m,_,b,null,h,v);var y=d?m:(0,Fr.compact)(m,(0,Fr.compactType)(i.props),p),x=i.state.oldLayout;i.setState({activeDrag:null,layout:y,oldResizeItem:null,oldLayout:null}),i.onLayoutMaybeChanged(y,x)}),ci(Bi(i),"onDragOver",function(s){var l;if(s.preventDefault(),s.stopPropagation(),nM&&!((l=s.nativeEvent.target)!==null&&l!==void 0&&l.classList.contains(fS)))return!1;var u=i.props,c=u.droppingItem,h=u.onDropDragOver,v=u.margin,f=u.cols,m=u.rowHeight,_=u.maxRows,g=u.width,p=u.containerPadding,d=u.transformScale,b=h==null?void 0:h(s);if(b===!1)return i.state.droppingDOMNode&&i.removeDroppingPlaceholder(),!1;var y=Os(Os({},c),b),x=i.state.layout,w=s.nativeEvent,C=w.layerX,S=w.layerY,T={left:C/d,top:S/d,e:s};if(i.state.droppingDOMNode){if(i.state.droppingPosition){var k=i.state.droppingPosition,R=k.left,P=k.top,E=R!=C||P!=S;E&&i.setState({droppingPosition:T})}}else{var M={cols:f,margin:v,maxRows:_,rowHeight:m,containerWidth:g,containerPadding:p||v},D=(0,bY.calcXY)(M,S,C,y.w,y.h);i.setState({droppingDOMNode:Rs.createElement("div",{key:y.i}),droppingPosition:T,layout:[].concat(SY(x),[Os(Os({},y),{},{x:D.x,y:D.y,static:!1,isDraggable:!0})])})}}),ci(Bi(i),"removeDroppingPlaceholder",function(){var s=i.props,l=s.droppingItem,u=s.cols,c=i.state.layout,h=(0,Fr.compact)(c.filter(function(v){return v.i!==l.i}),(0,Fr.compactType)(i.props),u);i.setState({layout:h,droppingDOMNode:null,activeDrag:null,droppingPosition:void 0})}),ci(Bi(i),"onDragLeave",function(s){s.preventDefault(),s.stopPropagation(),i.dragEnterCounter--,i.dragEnterCounter===0&&i.removeDroppingPlaceholder()}),ci(Bi(i),"onDragEnter",function(s){s.preventDefault(),s.stopPropagation(),i.dragEnterCounter++}),ci(Bi(i),"onDrop",function(s){s.preventDefault(),s.stopPropagation();var l=i.props.droppingItem,u=i.state.layout,c=u.find(function(h){return h.i===l.i});i.dragEnterCounter=0,i.removeDroppingPlaceholder(),i.props.onDrop(u,c,s)}),i}return PY(r,[{key:"componentDidMount",value:function(){this.setState({mounted:!0}),this.onLayoutMaybeChanged(this.state.layout,this.props.layout)}},{key:"shouldComponentUpdate",value:function(o,n){return this.props.children!==o.children||!(0,Fr.fastRGLPropsEqual)(this.props,o,T0.default)||this.state.activeDrag!==n.activeDrag||this.state.mounted!==n.mounted||this.state.droppingPosition!==n.droppingPosition}},{key:"componentDidUpdate",value:function(o,n){if(!this.state.activeDrag){var a=this.state.layout,s=n.layout;this.onLayoutMaybeChanged(a,s)}}},{key:"containerHeight",value:function(){if(this.props.autoSize){var o=(0,Fr.bottom)(this.state.layout),n=this.props.containerPadding?this.props.containerPadding[1]:this.props.margin[1];return o*this.props.rowHeight+(o-1)*this.props.margin[1]+n*2+"px"}}},{key:"onLayoutMaybeChanged",value:function(o,n){n||(n=this.state.layout),(0,T0.default)(n,o)||this.props.onLayoutChange(o)}},{key:"placeholder",value:function(){var o=this.state.activeDrag;if(!o)return null;var n=this.props,a=n.width,s=n.cols,l=n.margin,u=n.containerPadding,c=n.rowHeight,h=n.maxRows,v=n.useCSSTransforms,f=n.transformScale;return Rs.createElement(lS.default,{w:o.w,h:o.h,x:o.x,y:o.y,i:o.i,className:"react-grid-placeholder",containerWidth:a,cols:s,margin:l,containerPadding:u||l,maxRows:h,rowHeight:c,isDraggable:!1,isResizable:!1,isBounded:!1,useCSSTransforms:v,transformScale:f},Rs.createElement("div",null))}},{key:"processGridItem",value:function(o,n){if(!(!o||!o.key)){var a=(0,Fr.getLayoutItem)(this.state.layout,String(o.key));if(!a)return null;var s=this.props,l=s.width,u=s.cols,c=s.margin,h=s.containerPadding,v=s.rowHeight,f=s.maxRows,m=s.isDraggable,_=s.isResizable,g=s.isBounded,p=s.useCSSTransforms,d=s.transformScale,b=s.draggableCancel,y=s.draggableHandle,x=s.resizeHandles,w=s.resizeHandle,C=this.state,S=C.mounted,T=C.droppingPosition,M=typeof a.isDraggable=="boolean"?a.isDraggable:!a.static&&m,D=typeof a.isResizable=="boolean"?a.isResizable:!a.static&&_,k=a.resizeHandles||x,R=M&&g&&a.isBounded!==!1;return Rs.createElement(lS.default,{containerWidth:l,cols:u,margin:c,containerPadding:h||c,maxRows:f,rowHeight:v,cancel:b,handle:y,onDragStop:this.onDragStop,onDragStart:this.onDragStart,onDrag:this.onDrag,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,isDraggable:M,isResizable:D,isBounded:R,useCSSTransforms:p&&S,usePercentages:!S,transformScale:d,w:a.w,h:a.h,x:a.x,y:a.y,i:a.i,minH:a.minH,minW:a.minW,maxH:a.maxH,maxW:a.maxW,static:a.static,droppingPosition:n?T:void 0,resizeHandles:k,resizeHandle:w},o)}}},{key:"render",value:function(){var o=this,n=this.props,a=n.className,s=n.style,l=n.isDroppable,u=n.innerRef,c=(0,_Y.default)(fS,a),h=Os({height:this.containerHeight()},s);return Rs.createElement("div",{ref:u,className:c,style:h,onDrop:l?this.onDrop:Fr.noop,onDragLeave:l?this.onDragLeave:Fr.noop,onDragEnter:l?this.onDragEnter:Fr.noop,onDragOver:l?this.onDragOver:Fr.noop},Rs.Children.map(this.props.children,function(v){return o.processGridItem(v)}),l&&this.state.droppingDOMNode&&this.processGridItem(this.state.droppingDOMNode,!0),this.placeholder())}}],[{key:"getDerivedStateFromProps",value:function(o,n){var a;if(n.activeDrag)return null;if(!(0,T0.default)(o.layout,n.propsLayout)||o.compactType!==n.compactType?a=o.layout:(0,Fr.childrenEqual)(o.children,n.children)||(a=n.layout),a){var s=(0,Fr.synchronizeLayoutWithChildren)(a,o.children,o.cols,(0,Fr.compactType)(o),o.allowOverlap);return{layout:s,compactType:o.compactType,children:o.children,propsLayout:o.layout}}return null}}]),r}(Rs.Component);Tf.default=Mv;ci(Mv,"displayName","ReactGridLayout");ci(Mv,"propTypes",wY.default);ci(Mv,"defaultProps",{autoSize:!0,cols:12,className:"",style:{},draggableHandle:"",draggableCancel:"",containerPadding:null,rowHeight:150,maxRows:1/0,layout:[],margin:[10,10],isBounded:!1,isDraggable:!0,isResizable:!0,allowOverlap:!1,isDroppable:!1,useCSSTransforms:!0,transformScale:1,verticalCompact:!0,compactType:"vertical",preventCollision:!1,droppingItem:{i:"__dropping-elem__",h:1,w:1},resizeHandles:["se"],onLayoutChange:Fr.noop,onDragStart:Fr.noop,onDrag:Fr.noop,onDragStop:Fr.noop,onResizeStart:Fr.noop,onResize:Fr.noop,onResizeStop:Fr.noop,onDrop:Fr.noop,onDropDragOver:Fr.noop});var Ev={},ml={};Object.defineProperty(ml,"__esModule",{value:!0});ml.findOrGenerateResponsiveLayout=zY;ml.getBreakpointFromWidth=FY;ml.getColsFromBreakpoint=$Y;ml.sortBreakpoints=gb;var Ad=tn;function FY(e,t){for(var r=gb(e),i=r[0],o=1,n=r.length;o<n;o++){var a=r[o];t>e[a]&&(i=a)}return i}function $Y(e,t){if(!t[e])throw new Error("ResponsiveReactGridLayout: `cols` entry for breakpoint "+e+" is missing!");return t[e]}function zY(e,t,r,i,o,n){if(e[r])return(0,Ad.cloneLayout)(e[r]);for(var a=e[i],s=gb(t),l=s.slice(s.indexOf(r)),u=0,c=l.length;u<c;u++){var h=l[u];if(e[h]){a=e[h];break}}return a=(0,Ad.cloneLayout)(a||[]),(0,Ad.compact)((0,Ad.correctBounds)(a,{cols:o}),n,o)}function gb(e){var t=Object.keys(e);return t.sort(function(r,i){return e[r]-e[i]})}function ip(e){return ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ip(e)}Object.defineProperty(Ev,"__esModule",{value:!0});Ev.default=void 0;var dS=jY(ot),Hi=yb(co),A0=yb(ab),ql=tn,Is=ml,HY=yb(Tf),BY=["breakpoint","breakpoints","cols","layouts","margin","containerPadding","onBreakpointChange","onLayoutChange","onWidthChange"];function yb(e){return e&&e.__esModule?e:{default:e}}function iM(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(iM=function(o){return o?r:t})(e)}function jY(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||ip(e)!=="object"&&typeof e!="function")return{default:e};var r=iM(t);if(r&&r.has(e))return r.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if(n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)){var a=o?Object.getOwnPropertyDescriptor(e,n):null;a&&(a.get||a.set)?Object.defineProperty(i,n,a):i[n]=e[n]}return i.default=e,r&&r.set(e,i),i}function wy(){return wy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},wy.apply(this,arguments)}function UY(e,t){if(e==null)return{};var r=WY(e,t),i,o;if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}function WY(e,t){if(e==null)return{};var r={},i=Object.keys(e),o,n;for(n=0;n<i.length;n++)o=i[n],!(t.indexOf(o)>=0)&&(r[o]=e[o]);return r}function hS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,i)}return r}function k0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hS(Object(r),!0).forEach(function(i){eu(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hS(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function VY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pS(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function GY(e,t,r){return t&&pS(e.prototype,t),r&&pS(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function YY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xy(e,t)}function xy(e,t){return xy=Object.setPrototypeOf||function(i,o){return i.__proto__=o,i},xy(e,t)}function KY(e){var t=ZY();return function(){var i=ap(e),o;if(t){var n=ap(this).constructor;o=Reflect.construct(i,arguments,n)}else o=i.apply(this,arguments);return XY(this,o)}}function XY(e,t){if(t&&(ip(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sy(e)}function Sy(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZY(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ap(e){return ap=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},ap(e)}function eu(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var vS=function(t){return Object.prototype.toString.call(t)};function kd(e,t){return e==null?null:Array.isArray(e)?e:e[t]}var _b=function(e){YY(r,e);var t=KY(r);function r(){var i;VY(this,r);for(var o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];return i=t.call.apply(t,[this].concat(n)),eu(Sy(i),"state",i.generateInitialState()),eu(Sy(i),"onLayoutChange",function(s){i.props.onLayoutChange(s,k0(k0({},i.props.layouts),{},eu({},i.state.breakpoint,s)))}),i}return GY(r,[{key:"generateInitialState",value:function(){var o=this.props,n=o.width,a=o.breakpoints,s=o.layouts,l=o.cols,u=(0,Is.getBreakpointFromWidth)(a,n),c=(0,Is.getColsFromBreakpoint)(u,l),h=this.props.verticalCompact===!1?null:this.props.compactType,v=(0,Is.findOrGenerateResponsiveLayout)(s,a,u,u,c,h);return{layout:v,breakpoint:u,cols:c}}},{key:"componentDidUpdate",value:function(o){(this.props.width!=o.width||this.props.breakpoint!==o.breakpoint||!(0,A0.default)(this.props.breakpoints,o.breakpoints)||!(0,A0.default)(this.props.cols,o.cols))&&this.onWidthChange(o)}},{key:"onWidthChange",value:function(o){var n=this.props,a=n.breakpoints,s=n.cols,l=n.layouts,u=n.compactType,c=this.props.breakpoint||(0,Is.getBreakpointFromWidth)(this.props.breakpoints,this.props.width),h=this.state.breakpoint,v=(0,Is.getColsFromBreakpoint)(c,s),f=k0({},l);if(h!==c||o.breakpoints!==a||o.cols!==s){h in f||(f[h]=(0,ql.cloneLayout)(this.state.layout));var m=(0,Is.findOrGenerateResponsiveLayout)(f,a,c,h,v,u);m=(0,ql.synchronizeLayoutWithChildren)(m,this.props.children,v,u,this.props.allowOverlap),f[c]=m,this.props.onLayoutChange(m,f),this.props.onBreakpointChange(c,v),this.setState({breakpoint:c,layout:m,cols:v})}var _=kd(this.props.margin,c),g=kd(this.props.containerPadding,c);this.props.onWidthChange(this.props.width,_,v,g)}},{key:"render",value:function(){var o=this.props;o.breakpoint,o.breakpoints,o.cols,o.layouts;var n=o.margin,a=o.containerPadding;o.onBreakpointChange,o.onLayoutChange,o.onWidthChange;var s=UY(o,BY);return dS.createElement(HY.default,wy({},s,{margin:kd(n,this.state.breakpoint),containerPadding:kd(a,this.state.breakpoint),onLayoutChange:this.onLayoutChange,layout:this.state.layout,cols:this.state.cols}))}}],[{key:"getDerivedStateFromProps",value:function(o,n){if(!(0,A0.default)(o.layouts,n.layouts)){var a=n.breakpoint,s=n.cols,l=(0,Is.findOrGenerateResponsiveLayout)(o.layouts,o.breakpoints,a,a,s,o.compactType);return{layout:l,layouts:o.layouts}}return null}}]),r}(dS.Component);Ev.default=_b;eu(_b,"propTypes",{breakpoint:Hi.default.string,breakpoints:Hi.default.object,allowOverlap:Hi.default.bool,cols:Hi.default.object,margin:Hi.default.oneOfType([Hi.default.array,Hi.default.object]),containerPadding:Hi.default.oneOfType([Hi.default.array,Hi.default.object]),layouts:function(t,r){if(vS(t[r])!=="[object Object]")throw new Error("Layout property must be an object. Received: "+vS(t[r]));Object.keys(t[r]).forEach(function(i){if(!(i in t.breakpoints))throw new Error("Each key in layouts must align with a key in breakpoints.");(0,ql.validateLayout)(t.layouts[i],"layouts."+i)})},width:Hi.default.number.isRequired,onBreakpointChange:Hi.default.func,onLayoutChange:Hi.default.func,onWidthChange:Hi.default.func});eu(_b,"defaultProps",{breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},containerPadding:{lg:null,md:null,sm:null,xs:null,xxs:null},layouts:{},margin:[10,10],allowOverlap:!1,onBreakpointChange:ql.noop,onLayoutChange:ql.noop,onWidthChange:ql.noop});var bb={};function op(e){return op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},op(e)}Object.defineProperty(bb,"__esModule",{value:!0});bb.default=cK;var Md=eK(ot),JY=aM(co),QY=aM(gv),qY=["measureBeforeMount"];function aM(e){return e&&e.__esModule?e:{default:e}}function oM(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(oM=function(o){return o?r:t})(e)}function eK(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||op(e)!=="object"&&typeof e!="function")return{default:e};var r=oM(t);if(r&&r.has(e))return r.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if(n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)){var a=o?Object.getOwnPropertyDescriptor(e,n):null;a&&(a.get||a.set)?Object.defineProperty(i,n,a):i[n]=e[n]}return i.default=e,r&&r.set(e,i),i}function Cy(){return Cy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Cy.apply(this,arguments)}function tK(e,t){if(e==null)return{};var r=rK(e,t),i,o;if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}function rK(e,t){if(e==null)return{};var r={},i=Object.keys(e),o,n;for(n=0;n<i.length;n++)o=i[n],!(t.indexOf(o)>=0)&&(r[o]=e[o]);return r}function nK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mS(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function iK(e,t,r){return t&&mS(e.prototype,t),r&&mS(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function aK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ty(e,t)}function Ty(e,t){return Ty=Object.setPrototypeOf||function(i,o){return i.__proto__=o,i},Ty(e,t)}function oK(e){var t=lK();return function(){var i=sp(e),o;if(t){var n=sp(this).constructor;o=Reflect.construct(i,arguments,n)}else o=i.apply(this,arguments);return sK(this,o)}}function sK(e,t){if(t&&(op(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vc(e)}function vc(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lK(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function sp(e){return sp=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},sp(e)}function Al(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var uK="react-grid-layout";function cK(e){var t;return t=function(r){aK(o,r);var i=oK(o);function o(){var n;nK(this,o);for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];return n=i.call.apply(i,[this].concat(s)),Al(vc(n),"state",{width:1280}),Al(vc(n),"elementRef",Md.createRef()),Al(vc(n),"mounted",!1),Al(vc(n),"onWindowResize",function(){if(n.mounted){var u=n.elementRef.current;u instanceof HTMLElement&&u.offsetWidth&&n.setState({width:u.offsetWidth})}}),n}return iK(o,[{key:"componentDidMount",value:function(){this.mounted=!0,window.addEventListener("resize",this.onWindowResize),this.onWindowResize()}},{key:"componentWillUnmount",value:function(){this.mounted=!1,window.removeEventListener("resize",this.onWindowResize)}},{key:"render",value:function(){var a=this.props,s=a.measureBeforeMount,l=tK(a,qY);return s&&!this.mounted?Md.createElement("div",{className:(0,QY.default)(this.props.className,uK),style:this.props.style,ref:this.elementRef}):Md.createElement(e,Cy({innerRef:this.elementRef},l,this.state))}}]),o}(Md.Component),Al(t,"defaultProps",{measureBeforeMount:!1}),Al(t,"propTypes",{measureBeforeMount:JY.default.bool}),t}(function(e){e.exports=Tf.default,e.exports.utils=tn,e.exports.Responsive=Ev.default,e.exports.Responsive.utils=ml,e.exports.WidthProvider=bb.default})(C4);var Yn=C4.exports;const fK=Yn.WidthProvider(Yn.Responsive);let dK=function(e){const t=an(i=>i.channels),r=an(i=>i.settings);return Je.jsxs(fK,{className:"layout",breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:24,md:20,sm:12,xs:8,xxs:4},rowHeight:30,useCSSTransforms:!1,children:[Je.jsx(Mi,{"data-grid":{x:0,y:0,w:3,h:10,static:!0},level:"level_2",children:Je.jsx(Vi,{name:"Channel Selector",content:Je.jsx(JU,{channels:t})})},"ch_selector"),Je.jsx(Mi,{"data-grid":{x:3,y:0,w:21,h:10,static:!0},level:"level_2",children:Je.jsx(Vi,{name:"Scope",content:Je.jsx(nW,{palette:{colorway:Hr.plot_palette},refreshRate:r.refreshRate})})},"scope"),Je.jsx(Mi,{"data-grid":{x:0,y:10,w:4,h:7,static:!0},level:"level_2",children:Je.jsx(Vi,{name:"Parameters",content:Je.jsx(TV,{})})},"parameters"),Je.jsx(Mi,{"data-grid":{x:4,y:10,w:20,h:7,static:!0},level:"level_2",children:Je.jsx(Vi,{name:"Macro",content:Je.jsx(kV,{})})},"macro"),Je.jsx(Mi,{"data-grid":{x:1,y:17,w:20,h:8,static:!0},level:"level_2",children:Je.jsx(Vi,{name:"Terminal",content:Je.jsx(MV,{})})},"terminal")]})};const hK=Fn.lazy(()=>ku(()=>import("./ScriptManager-8dceb287.js"),["assets/ScriptManager-8dceb287.js","assets/index-f664ec04.js"])),pK=Fn.lazy(()=>ku(()=>import("./PeripheralsManager-cf753ccc.js"),["assets/PeripheralsManager-cf753ccc.js","assets/ManagerToolbar-f6f5af79.js"])),vK=Fn.lazy(()=>ku(()=>import("./ApplicationsManager-b4e3f000.js"),["assets/ApplicationsManager-b4e3f000.js","assets/TabbedContent-c09055d6.js","assets/ManagerToolbar-f6f5af79.js"])),mK=Fn.lazy(()=>ku(()=>import("./ProgramsManager-96799cb7.js"),["assets/ProgramsManager-96799cb7.js","assets/TabbedContent-c09055d6.js","assets/index-f664ec04.js","assets/ProgramsManager-cca67129.css"])),gK=Fn.lazy(()=>ku(()=>Promise.resolve().then(()=>GK),void 0)),yK=Fn.lazy(()=>ku(()=>import("./BitstreamManager-7244dc70.js"),[]));let Ns=e=>e.tab.type==="Scope"?Je.jsx(ot.Suspense,{fallback:Je.jsx("div",{children:"Loading..."}),children:Je.jsx(dK,{content:e.tab})}):e.tab.type==="bitstream_manager"?Je.jsx(ot.Suspense,{fallback:Je.jsx("div",{children:"Loading..."}),children:Je.jsx(yK,{})}):e.tab.type==="script_manager"?Je.jsx(ot.Suspense,{fallback:Je.jsx("div",{children:"Loading..."}),children:Je.jsx(hK,{})}):e.tab.type==="peripherals_manager"?Je.jsx(ot.Suspense,{fallback:Je.jsx("div",{children:"Loading..."}),children:Je.jsx(pK,{})}):e.tab.type==="applications_manager"?Je.jsx(ot.Suspense,{fallback:Je.jsx("div",{children:"Loading..."}),children:Je.jsx(vK,{selected_item:e.selected_item})}):e.tab.type==="program_manager"?Je.jsx(ot.Suspense,{fallback:Je.jsx("div",{children:"Loading..."}),children:Je.jsx(mK,{})}):e.tab.type==="platform_manager"?Je.jsx(ot.Suspense,{fallback:Je.jsx("div",{children:"Loading..."}),children:Je.jsx(gK,{})}):null;const _K=Xr.div`
    display: flex;   
    flex-direction: column;
    
`;let bK=e=>{let t=({isActive:r})=>r?{display:"block",backgroundColor:Hr.background.accents,color:"white",textDecoration:"none",marginTop:"0.5rem",borderRadius:"0.5rem",paddingLeft:"0.5rem"}:{display:"block",backgroundColor:Hr.background.level_2,color:"white",textDecoration:"none",marginTop:"0.5rem",borderRadius:"0.5rem",paddingLeft:"0.5rem"};return Je.jsxs(_K,{children:[Je.jsx(Hg,{src:"assets/logo.svg",alt:"µScope Logo"}),Je.jsx(Hg,{src:"assets/name.svg",alt:"µScope Name"}),Je.jsx(Ls,{style:t,to:"/",className:"nav-link",children:"MAIN"},"plot"),Je.jsx(Ls,{style:t,to:"/script_manager",className:"nav-link",children:"SCRIPTS"},"script_manager"),Je.jsx(Ls,{style:t,to:"/applications_manager",className:"nav-link",children:"APPLICATIONS"},"applications_manager"),Je.jsx(Ls,{style:t,to:"/program_manager",className:"nav-link",children:"PROGRAMS"},"program_manager"),Je.jsx(Ls,{style:t,to:"/bitstream_manager",className:"nav-link",children:"BITSTREAMS"},"bitstream_manager"),Je.jsx(Ls,{style:t,to:"/peripherals_manager",className:"nav-link",children:"PERIPHERALS"},"peripherals_manager"),Je.jsx(Ls,{style:t,to:"/platform_manager",className:"nav-link",children:"PLATFORM"},"platform_manager")]})};const wK=Xr.div`
display: flex;
flex-direction: column;

`,xK=Xr.div`
  margin-left: auto;
  margin-right: auto;  
`;let SK=e=>{const t=an(l=>l.applications);let r=Object.entries(t).map((l,u)=>({value:l[0],label:l[0]}));const i=localStorage.getItem("last_selected_application"),o=i?{value:i,label:i}:r[0],[n,a]=ot.useState(o);let s=l=>{l.preventDefault(),localStorage.setItem("last_selected_application",n.value),e.done(n.value)};return Je.jsx(wK,{children:Je.jsxs(xK,{children:[Je.jsx(rf,{name:"application_selector",label:"Chose An Application",onChange:a,value:n,options:r}),Je.jsx(xs,{style:{margin:"1rem 1rem"},onClick:s,children:"Save changes"})]})})},CK=e=>{const t=an(n=>n.applications),r=ka();let i=n=>{let a=new Ri(t[n]);r(kn(["selected_application",n])),a.set_active().then(()=>{r(kn(["application",n])),o(t[n]),e.choice_done()}).catch(s=>{console.log("Error: error while choosing application")})},o=n=>{let a=[];if(n.channel_groups&&n.channel_groups.length>0)for(let u of n.channel_groups)u.default&&(r(kn(["default_ch_group",u])),a=Tk(u,n.channels));else a=n.channels;let s=[];for(let u of a)s.push(Ck(u));r(wk(s));let l=parseInt(n.scope_mux_address);if(l){for(let u of a)if(u){let c=l+4*(parseInt(u.number)+1);Qn.direct_register_write([[c,parseInt(u.mux_setting)]]).then()}Qn.direct_register_write([[l,16777216]]).then()}if(a.length!==0){let u=[];for(let c of a)u.push(parseInt(c.phys_width));xk(u).then()}if(a.length!==0){let u=[];for(let c of a)u.push(parseFloat(c.scaling_factor));Sk(u).then()}};return Je.jsx("div",{className:"App",children:Je.jsx(SK,{done:i})})};var Qs={exports:{}},Ed={};(function(){var e=Fn,t=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),n=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),c=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),f=Symbol.for("react.offscreen"),m=Symbol.iterator,_=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function g(Le){for(var De=arguments.length,Se=new Array(De>1?De-1:0),ze=1;ze<De;ze++)Se[ze-1]=arguments[ze];p("error",Le,Se)}function p(Le,De,Se){var ze=_.ReactDebugCurrentFrame.getStackAddendum();ze!==""&&(De+="%s",Se=Se.concat([ze]));var Ke=Se.map(function(_t){return String(_t)});Ke.unshift("Warning: "+De),Function.prototype.apply.call(console[Le],console,Ke)}var d;function b(Le){return Le.displayName||"Context"}function y(Le){if(Le==null)return null;if(typeof Le.tag=="number"&&g("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof Le=="function")return Le.displayName||Le.name||null;if(typeof Le=="string")return Le;switch(Le){case i:return"Fragment";case r:return"Portal";case n:return"Profiler";case o:return"StrictMode";case u:return"Suspense";case c:return"SuspenseList"}if(typeof Le=="object")switch(Le.$$typeof){case s:return b(Le)+".Consumer";case a:return b(Le._context)+".Provider";case l:return function(_t,Qe,et){var rt=_t.displayName;if(rt)return rt;var ft=Qe.displayName||Qe.name||"";return ft!==""?et+"("+ft+")":et}(Le,Le.render,"ForwardRef");case h:var De=Le.displayName||null;return De!==null?De:y(Le.type)||"Memo";case v:var Se=Le,ze=Se._payload,Ke=Se._init;try{return y(Ke(ze))}catch{return null}}return null}d=Symbol.for("react.module.reference");var x,w,C,S,T,M,D,k=Object.assign,R=0;function P(){}P.__reactDisabledLog=!0;var E,O=_.ReactCurrentDispatcher;function I(Le,De,Se){if(E===void 0)try{throw Error()}catch(Ke){var ze=Ke.stack.trim().match(/\n( *(at )?)/);E=ze&&ze[1]||""}return`
`+E+Le}var U,V=!1,Z=typeof WeakMap=="function"?WeakMap:Map;function z(Le,De){if(!Le||V)return"";var Se,ze=U.get(Le);if(ze!==void 0)return ze;V=!0;var Ke,_t=Error.prepareStackTrace;Error.prepareStackTrace=void 0,Ke=O.current,O.current=null,function(){if(R===0){x=console.log,w=console.info,C=console.warn,S=console.error,T=console.group,M=console.groupCollapsed,D=console.groupEnd;var at={configurable:!0,enumerable:!0,value:P,writable:!0};Object.defineProperties(console,{info:at,log:at,warn:at,error:at,group:at,groupCollapsed:at,groupEnd:at})}R++}();try{if(De){var Qe=function(){throw Error()};if(Object.defineProperty(Qe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Qe,[])}catch(at){Se=at}Reflect.construct(Le,[],Qe)}else{try{Qe.call()}catch(at){Se=at}Le.call(Qe.prototype)}}else{try{throw Error()}catch(at){Se=at}Le()}}catch(at){if(at&&Se&&typeof at.stack=="string"){for(var et=at.stack.split(`
`),rt=Se.stack.split(`
`),ft=et.length-1,bt=rt.length-1;ft>=1&&bt>=0&&et[ft]!==rt[bt];)bt--;for(;ft>=1&&bt>=0;ft--,bt--)if(et[ft]!==rt[bt]){if(ft!==1||bt!==1)do if(ft--,--bt<0||et[ft]!==rt[bt]){var Ft=`
`+et[ft].replace(" at new "," at ");return Le.displayName&&Ft.includes("<anonymous>")&&(Ft=Ft.replace("<anonymous>",Le.displayName)),typeof Le=="function"&&U.set(Le,Ft),Ft}while(ft>=1&&bt>=0);break}}}finally{V=!1,O.current=Ke,function(){if(--R==0){var at={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:k({},at,{value:x}),info:k({},at,{value:w}),warn:k({},at,{value:C}),error:k({},at,{value:S}),group:k({},at,{value:T}),groupCollapsed:k({},at,{value:M}),groupEnd:k({},at,{value:D})})}R<0&&g("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}(),Error.prepareStackTrace=_t}var ct=Le?Le.displayName||Le.name:"",nt=ct?I(ct):"";return typeof Le=="function"&&U.set(Le,nt),nt}function H(Le,De,Se){if(Le==null)return"";if(typeof Le=="function")return z(Le,!(!(ze=Le.prototype)||!ze.isReactComponent));var ze;if(typeof Le=="string")return I(Le);switch(Le){case u:return I("Suspense");case c:return I("SuspenseList")}if(typeof Le=="object")switch(Le.$$typeof){case l:return z(Le.render,!1);case h:return H(Le.type,De,Se);case v:var Ke=Le,_t=Ke._payload,Qe=Ke._init;try{return H(Qe(_t),De,Se)}catch{}}return""}U=new Z;var B=Object.prototype.hasOwnProperty,W={},F=_.ReactDebugCurrentFrame;function K(Le){if(Le){var De=Le._owner,Se=H(Le.type,Le._source,De?De.type:null);F.setExtraStackFrame(Se)}else F.setExtraStackFrame(null)}var fe=Array.isArray;function se(Le){return fe(Le)}function ee(Le){return""+Le}function ie(Le){if(function(De){try{return ee(De),!1}catch{return!0}}(Le))return g("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",function(De){return typeof Symbol=="function"&&Symbol.toStringTag&&De[Symbol.toStringTag]||De.constructor.name||"Object"}(Le)),ee(Le)}var J,te,L,N=_.ReactCurrentOwner,G={key:!0,ref:!0,__self:!0,__source:!0};L={};function Y(Le,De,Se,ze,Ke){var _t,Qe={},et=null,rt=null;for(_t in Se!==void 0&&(ie(Se),et=""+Se),function(Ft){if(B.call(Ft,"key")){var ct=Object.getOwnPropertyDescriptor(Ft,"key").get;if(ct&&ct.isReactWarning)return!1}return Ft.key!==void 0}(De)&&(ie(De.key),et=""+De.key),function(Ft){if(B.call(Ft,"ref")){var ct=Object.getOwnPropertyDescriptor(Ft,"ref").get;if(ct&&ct.isReactWarning)return!1}return Ft.ref!==void 0}(De)&&(rt=De.ref,function(Ft,ct){if(typeof Ft.ref=="string"&&N.current&&ct&&N.current.stateNode!==ct){var nt=y(N.current.type);L[nt]||(g('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',y(N.current.type),Ft.ref),L[nt]=!0)}}(De,Ke)),De)B.call(De,_t)&&!G.hasOwnProperty(_t)&&(Qe[_t]=De[_t]);if(Le&&Le.defaultProps){var ft=Le.defaultProps;for(_t in ft)Qe[_t]===void 0&&(Qe[_t]=ft[_t])}if(et||rt){var bt=typeof Le=="function"?Le.displayName||Le.name||"Unknown":Le;et&&function(Ft,ct){var nt=function(){J||(J=!0,g("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",ct))};nt.isReactWarning=!0,Object.defineProperty(Ft,"key",{get:nt,configurable:!0})}(Qe,bt),rt&&function(Ft,ct){var nt=function(){te||(te=!0,g("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",ct))};nt.isReactWarning=!0,Object.defineProperty(Ft,"ref",{get:nt,configurable:!0})}(Qe,bt)}return function(Ft,ct,nt,at,It,zt,be){var Me={$$typeof:t,type:Ft,key:ct,ref:nt,props:be,_owner:zt,_store:{}};return Object.defineProperty(Me._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(Me,"_self",{configurable:!1,enumerable:!1,writable:!1,value:at}),Object.defineProperty(Me,"_source",{configurable:!1,enumerable:!1,writable:!1,value:It}),Object.freeze&&(Object.freeze(Me.props),Object.freeze(Me)),Me}(Le,et,rt,Ke,ze,N.current,Qe)}var j,Q=_.ReactCurrentOwner,q=_.ReactDebugCurrentFrame;function re(Le){if(Le){var De=Le._owner,Se=H(Le.type,Le._source,De?De.type:null);q.setExtraStackFrame(Se)}else q.setExtraStackFrame(null)}function ue(Le){return typeof Le=="object"&&Le!==null&&Le.$$typeof===t}function de(){if(Q.current){var Le=y(Q.current.type);if(Le)return`

Check the render method of \``+Le+"`."}return""}j=!1;var me={};function pe(Le,De){if(Le._store&&!Le._store.validated&&Le.key==null){Le._store.validated=!0;var Se=function(Ke){var _t=de();if(!_t){var Qe=typeof Ke=="string"?Ke:Ke.displayName||Ke.name;Qe&&(_t=`

Check the top-level render call using <`+Qe+">.")}return _t}(De);if(!me[Se]){me[Se]=!0;var ze="";Le&&Le._owner&&Le._owner!==Q.current&&(ze=" It was passed a child from "+y(Le._owner.type)+"."),re(Le),g('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',Se,ze),re(null)}}}function ge(Le,De){if(typeof Le=="object"){if(se(Le))for(var Se=0;Se<Le.length;Se++){var ze=Le[Se];ue(ze)&&pe(ze,De)}else if(ue(Le))Le._store&&(Le._store.validated=!0);else if(Le){var Ke=function(et){if(et===null||typeof et!="object")return null;var rt=m&&et[m]||et["@@iterator"];return typeof rt=="function"?rt:null}(Le);if(typeof Ke=="function"&&Ke!==Le.entries)for(var _t,Qe=Ke.call(Le);!(_t=Qe.next()).done;)ue(_t.value)&&pe(_t.value,De)}}}function Te(Le){var De,Se=Le.type;if(Se!=null&&typeof Se!="string"){if(typeof Se=="function")De=Se.propTypes;else{if(typeof Se!="object"||Se.$$typeof!==l&&Se.$$typeof!==h)return;De=Se.propTypes}if(De){var ze=y(Se);(function(Ke,_t,Qe,et,rt){var ft=Function.call.bind(B);for(var bt in Ke)if(ft(Ke,bt)){var Ft=void 0;try{if(typeof Ke[bt]!="function"){var ct=Error((et||"React class")+": "+Qe+" type `"+bt+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof Ke[bt]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw ct.name="Invariant Violation",ct}Ft=Ke[bt](_t,bt,et,Qe,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(nt){Ft=nt}!Ft||Ft instanceof Error||(K(rt),g("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",et||"React class",Qe,bt,typeof Ft),K(null)),Ft instanceof Error&&!(Ft.message in W)&&(W[Ft.message]=!0,K(rt),g("Failed %s type: %s",Qe,Ft.message),K(null))}})(De,Le.props,"prop",ze,Le)}else Se.PropTypes!==void 0&&!j&&(j=!0,g("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",y(Se)||"Unknown"));typeof Se.getDefaultProps!="function"||Se.getDefaultProps.isReactClassApproved||g("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function He(Le,De,Se,ze,Ke,_t){var Qe=function(nt){return typeof nt=="string"||typeof nt=="function"||nt===i||nt===n||nt===o||nt===u||nt===c||nt===f||typeof nt=="object"&&nt!==null&&(nt.$$typeof===v||nt.$$typeof===h||nt.$$typeof===a||nt.$$typeof===s||nt.$$typeof===l||nt.$$typeof===d||nt.getModuleId!==void 0)}(Le);if(!Qe){var et="";(Le===void 0||typeof Le=="object"&&Le!==null&&Object.keys(Le).length===0)&&(et+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var rt,ft=function(nt){return nt!==void 0?`

Check your code at `+nt.fileName.replace(/^.*[\\\/]/,"")+":"+nt.lineNumber+".":""}(Ke);et+=ft||de(),Le===null?rt="null":se(Le)?rt="array":Le!==void 0&&Le.$$typeof===t?(rt="<"+(y(Le.type)||"Unknown")+" />",et=" Did you accidentally export a JSX literal instead of a component?"):rt=typeof Le,g("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",rt,et)}var bt=Y(Le,De,Se,Ke,_t);if(bt==null)return bt;if(Qe){var Ft=De.children;if(Ft!==void 0)if(ze)if(se(Ft)){for(var ct=0;ct<Ft.length;ct++)ge(Ft[ct],Le);Object.freeze&&Object.freeze(Ft)}else g("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else ge(Ft,Le)}return Le===i?function(nt){for(var at=Object.keys(nt.props),It=0;It<at.length;It++){var zt=at[It];if(zt!=="children"&&zt!=="key"){re(nt),g("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",zt),re(null);break}}nt.ref!==null&&(re(nt),g("Invalid attribute `ref` supplied to `React.Fragment`."),re(null))}(bt):Te(bt),bt}var Oe=function(Le,De,Se){return He(Le,De,Se,!1)},tt=function(Le,De,Se){return He(Le,De,Se,!0)};Ed.Fragment=i,Ed.jsx=Oe,Ed.jsxs=tt})(),Qs.exports=Ed;var M0,sM={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/M0=sM,function(){var e={}.hasOwnProperty;function t(){for(var r=[],i=0;i<arguments.length;i++){var o=arguments[i];if(o){var n=typeof o;if(n==="string"||n==="number")r.push(o);else if(Array.isArray(o)){if(o.length){var a=t.apply(null,o);a&&r.push(a)}}else if(n==="object"){if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]")){r.push(o.toString());continue}for(var s in o)e.call(o,s)&&o[s]&&r.push(s)}}}return r.join(" ")}M0.exports?(t.default=t,M0.exports=t):window.classNames=t}();var gS=sM.exports;const yS=(e,t,r)=>{let i=null;return function(...o){i&&clearTimeout(i),i=setTimeout(()=>{i=null,r||e.apply(this,o)},t)}},TK=({content:e})=>Qs.exports.jsx("span",{dangerouslySetInnerHTML:{__html:e}}),_S={anchorRefs:new Set,activeAnchor:{current:null},attach:()=>{},detach:()=>{},setActiveAnchor:()=>{}},AK=ot.createContext(Object.assign(()=>_S,_S));function lM(){return ot.useContext(AK)}function Mf(e){return e.split("-")[0]}function Lv(e){return e.split("-")[1]}function cf(e){return["top","bottom"].includes(Mf(e))?"x":"y"}function wb(e){return e==="y"?"height":"width"}function bS(e,t,r){let{reference:i,floating:o}=e;const n=i.x+i.width/2-o.width/2,a=i.y+i.height/2-o.height/2,s=cf(t),l=wb(s),u=i[l]/2-o[l]/2,c=s==="x";let h;switch(Mf(t)){case"top":h={x:n,y:i.y-o.height};break;case"bottom":h={x:n,y:i.y+i.height};break;case"right":h={x:i.x+i.width,y:a};break;case"left":h={x:i.x-o.width,y:a};break;default:h={x:i.x,y:i.y}}switch(Lv(t)){case"start":h[s]-=u*(r&&c?-1:1);break;case"end":h[s]+=u*(r&&c?-1:1)}return h}function uM(e){return typeof e!="number"?function(t){return{top:0,right:0,bottom:0,left:0,...t}}(e):{top:e,right:e,bottom:e,left:e}}function lp(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}async function cM(e,t){var r;t===void 0&&(t={});const{x:i,y:o,platform:n,rects:a,elements:s,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:h="floating",altBoundary:v=!1,padding:f=0}=t,m=uM(f),_=s[v?h==="floating"?"reference":"floating":h],g=lp(await n.getClippingRect({element:(r=await(n.isElement==null?void 0:n.isElement(_)))==null||r?_:_.contextElement||await(n.getDocumentElement==null?void 0:n.getDocumentElement(s.floating)),boundary:u,rootBoundary:c,strategy:l})),p=lp(n.convertOffsetParentRelativeRectToViewportRelativeRect?await n.convertOffsetParentRelativeRectToViewportRelativeRect({rect:h==="floating"?{...a.floating,x:i,y:o}:a.reference,offsetParent:await(n.getOffsetParent==null?void 0:n.getOffsetParent(s.floating)),strategy:l}):a[h]);return{top:g.top-p.top+m.top,bottom:p.bottom-g.bottom+m.bottom,left:g.left-p.left+m.left,right:p.right-g.right+m.right}}const kK=Math.min,MK=Math.max;function E0(e,t,r){return MK(e,kK(t,r))}const EK={left:"right",right:"left",bottom:"top",top:"bottom"};function Ld(e){return e.replace(/left|right|bottom|top/g,t=>EK[t])}const LK={start:"end",end:"start"};function wS(e){return e.replace(/start|end/g,t=>LK[t])}const DK=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r;const{placement:i,middlewareData:o,rects:n,initialPlacement:a,platform:s,elements:l}=t,{mainAxis:u=!0,crossAxis:c=!0,fallbackPlacements:h,fallbackStrategy:v="bestFit",flipAlignment:f=!0,...m}=e,_=Mf(i),g=h||(_===a||!f?[Ld(a)]:function(S){const T=Ld(S);return[wS(S),T,wS(T)]}(a)),p=[a,...g],d=await cM(t,m),b=[];let y=((r=o.flip)==null?void 0:r.overflows)||[];if(u&&b.push(d[_]),c){const{main:S,cross:T}=function(M,D,k){k===void 0&&(k=!1);const R=Lv(M),P=cf(M),E=wb(P);let O=P==="x"?R===(k?"end":"start")?"right":"left":R==="start"?"bottom":"top";return D.reference[E]>D.floating[E]&&(O=Ld(O)),{main:O,cross:Ld(O)}}(i,n,await(s.isRTL==null?void 0:s.isRTL(l.floating)));b.push(d[S],d[T])}if(y=[...y,{placement:i,overflows:b}],!b.every(S=>S<=0)){var x,w;const S=((x=(w=o.flip)==null?void 0:w.index)!=null?x:0)+1,T=p[S];if(T)return{data:{index:S,overflows:y},reset:{placement:T}};let M="bottom";switch(v){case"bestFit":{var C;const D=(C=y.map(k=>[k,k.overflows.filter(R=>R>0).reduce((R,P)=>R+P,0)]).sort((k,R)=>k[1]-R[1])[0])==null?void 0:C[0].placement;D&&(M=D);break}case"initialPlacement":M=a}if(i!==M)return{reset:{placement:M}}}return{}}}},PK=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){const{x:r,y:i}=t,o=await async function(n,a){const{placement:s,platform:l,elements:u}=n,c=await(l.isRTL==null?void 0:l.isRTL(u.floating)),h=Mf(s),v=Lv(s),f=cf(s)==="x",m=["left","top"].includes(h)?-1:1,_=c&&f?-1:1,g=typeof a=="function"?a(n):a;let{mainAxis:p,crossAxis:d,alignmentAxis:b}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...g};return v&&typeof b=="number"&&(d=v==="end"?-1*b:b),f?{x:d*_,y:p*m}:{x:p*m,y:d*_}}(t,e);return{x:r+o.x,y:i+o.y,data:o}}}};function fM(e){return e&&e.document&&e.location&&e.alert&&e.setInterval}function Io(e){if(e==null)return window;if(!fM(e)){const t=e.ownerDocument;return t&&t.defaultView||window}return e}function gs(e){return Io(e).getComputedStyle(e)}function ys(e){return fM(e)?"":e?(e.nodeName||"").toLowerCase():""}function dM(){const e=navigator.userAgentData;return e!=null&&e.brands?e.brands.map(t=>t.brand+"/"+t.version).join(" "):navigator.userAgent}function Po(e){return e instanceof Io(e).HTMLElement}function tu(e){return e instanceof Io(e).Element}function xS(e){return typeof ShadowRoot>"u"?!1:e instanceof Io(e).ShadowRoot||e instanceof ShadowRoot}function Dv(e){const{overflow:t,overflowX:r,overflowY:i,display:o}=gs(e);return/auto|scroll|overlay|hidden/.test(t+i+r)&&!["inline","contents"].includes(o)}function RK(e){return["table","td","th"].includes(ys(e))}function Ay(e){const t=/firefox/i.test(dM()),r=gs(e),i=r.backdropFilter||r.WebkitBackdropFilter;return r.transform!=="none"||r.perspective!=="none"||!!i&&i!=="none"||t&&r.willChange==="filter"||t&&!!r.filter&&r.filter!=="none"||["transform","perspective"].some(o=>r.willChange.includes(o))||["paint","layout","strict","content"].some(o=>{const n=r.contain;return n!=null&&n.includes(o)})}function hM(){return!/^((?!chrome|android).)*safari/i.test(dM())}function xb(e){return["html","body","#document"].includes(ys(e))}const SS=Math.min,Pc=Math.max,up=Math.round;function qs(e,t,r){var i,o,n,a;t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect();let l=1,u=1;t&&Po(e)&&(l=e.offsetWidth>0&&up(s.width)/e.offsetWidth||1,u=e.offsetHeight>0&&up(s.height)/e.offsetHeight||1);const c=tu(e)?Io(e):window,h=!hM()&&r,v=(s.left+(h&&(i=(o=c.visualViewport)==null?void 0:o.offsetLeft)!=null?i:0))/l,f=(s.top+(h&&(n=(a=c.visualViewport)==null?void 0:a.offsetTop)!=null?n:0))/u,m=s.width/l,_=s.height/u;return{width:m,height:_,top:f,right:v+m,bottom:f+_,left:v,x:v,y:f}}function ds(e){return(t=e,(t instanceof Io(t).Node?e.ownerDocument:e.document)||window.document).documentElement;var t}function Pv(e){return tu(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function pM(e){return qs(ds(e)).left+Pv(e).scrollLeft}function OK(e,t,r){const i=Po(t),o=ds(t),n=qs(e,i&&function(l){const u=qs(l);return up(u.width)!==l.offsetWidth||up(u.height)!==l.offsetHeight}(t),r==="fixed");let a={scrollLeft:0,scrollTop:0};const s={x:0,y:0};if(i||!i&&r!=="fixed")if((ys(t)!=="body"||Dv(o))&&(a=Pv(t)),Po(t)){const l=qs(t,!0);s.x=l.x+t.clientLeft,s.y=l.y+t.clientTop}else o&&(s.x=pM(o));return{x:n.left+a.scrollLeft-s.x,y:n.top+a.scrollTop-s.y,width:n.width,height:n.height}}function cp(e){if(ys(e)==="html")return e;const t=e.assignedSlot||e.parentNode||(xS(e)?e.host:null)||ds(e);return xS(t)?t.host:t}function CS(e){return Po(e)&&gs(e).position!=="fixed"?e.offsetParent:null}function TS(e){const t=Io(e);let r=CS(e);for(;r&&RK(r)&&gs(r).position==="static";)r=CS(r);return r&&(ys(r)==="html"||ys(r)==="body"&&gs(r).position==="static"&&!Ay(r))?t:r||function(i){let o=cp(i);for(;Po(o)&&!xb(o);){if(Ay(o))return o;o=cp(o)}return null}(e)||t}function AS(e){if(Po(e))return{width:e.offsetWidth,height:e.offsetHeight};const t=qs(e);return{width:t.width,height:t.height}}function vM(e){const t=cp(e);return xb(t)?e.ownerDocument.body:Po(t)&&Dv(t)?t:vM(t)}function mM(e,t){var r;t===void 0&&(t=[]);const i=vM(e),o=i===((r=e.ownerDocument)==null?void 0:r.body),n=Io(i),a=o?[n].concat(n.visualViewport||[],Dv(i)?i:[]):i,s=t.concat(a);return o?s:s.concat(mM(a))}function kS(e,t,r){return t==="viewport"?lp(function(i,o){const n=Io(i),a=ds(i),s=n.visualViewport;let l=a.clientWidth,u=a.clientHeight,c=0,h=0;if(s){l=s.width,u=s.height;const v=hM();(v||!v&&o==="fixed")&&(c=s.offsetLeft,h=s.offsetTop)}return{width:l,height:u,x:c,y:h}}(e,r)):tu(t)?function(i,o){const n=qs(i,!1,o==="fixed"),a=n.top+i.clientTop,s=n.left+i.clientLeft;return{top:a,left:s,x:s,y:a,right:s+i.clientWidth,bottom:a+i.clientHeight,width:i.clientWidth,height:i.clientHeight}}(t,r):lp(function(i){var o;const n=ds(i),a=Pv(i),s=(o=i.ownerDocument)==null?void 0:o.body,l=Pc(n.scrollWidth,n.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),u=Pc(n.scrollHeight,n.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0);let c=-a.scrollLeft+pM(i);const h=-a.scrollTop;return gs(s||n).direction==="rtl"&&(c+=Pc(n.clientWidth,s?s.clientWidth:0)-l),{width:l,height:u,x:c,y:h}}(ds(e)))}const IK={getClippingRect:function(e){let{element:t,boundary:r,rootBoundary:i,strategy:o}=e;const n=r==="clippingAncestors"?function(u){let c=mM(u).filter(f=>tu(f)&&ys(f)!=="body"),h=u,v=null;for(;tu(h)&&!xb(h);){const f=gs(h);f.position==="static"&&v&&["absolute","fixed"].includes(v.position)&&!Ay(h)?c=c.filter(m=>m!==h):v=f,h=cp(h)}return c}(t):[].concat(r),a=[...n,i],s=a[0],l=a.reduce((u,c)=>{const h=kS(t,c,o);return u.top=Pc(h.top,u.top),u.right=SS(h.right,u.right),u.bottom=SS(h.bottom,u.bottom),u.left=Pc(h.left,u.left),u},kS(t,s,o));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{rect:t,offsetParent:r,strategy:i}=e;const o=Po(r),n=ds(r);if(r===n)return t;let a={scrollLeft:0,scrollTop:0};const s={x:0,y:0};if((o||!o&&i!=="fixed")&&((ys(r)!=="body"||Dv(n))&&(a=Pv(r)),Po(r))){const l=qs(r,!0);s.x=l.x+r.clientLeft,s.y=l.y+r.clientTop}return{...t,x:t.x-a.scrollLeft+s.x,y:t.y-a.scrollTop+s.y}},isElement:tu,getDimensions:AS,getOffsetParent:TS,getDocumentElement:ds,getElementRects:e=>{let{reference:t,floating:r,strategy:i}=e;return{reference:OK(t,TS(r),i),floating:{...AS(r),x:0,y:0}}},getClientRects:e=>Array.from(e.getClientRects()),isRTL:e=>gs(e).direction==="rtl"},MS=(e,t,r)=>(async(i,o,n)=>{const{placement:a="bottom",strategy:s="absolute",middleware:l=[],platform:u}=n,c=l.filter(Boolean),h=await(u.isRTL==null?void 0:u.isRTL(o));if(u==null&&console.error(["Floating UI: `platform` property was not passed to config. If you","want to use Floating UI on the web, install @floating-ui/dom","instead of the /core package. Otherwise, you can create your own","`platform`: https://floating-ui.com/docs/platform"].join(" ")),c.filter(d=>{let{name:b}=d;return b==="autoPlacement"||b==="flip"}).length>1)throw new Error(["Floating UI: duplicate `flip` and/or `autoPlacement` middleware","detected. This will lead to an infinite loop. Ensure only one of","either has been passed to the `middleware` array."].join(" "));i&&o||console.error(["Floating UI: The reference and/or floating element was not defined","when `computePosition()` was called. Ensure that both elements have","been created and can be measured."].join(" "));let v=await u.getElementRects({reference:i,floating:o,strategy:s}),{x:f,y:m}=bS(v,a,h),_=a,g={},p=0;for(let d=0;d<c.length;d++){const{name:b,fn:y}=c[d],{x,y:w,data:C,reset:S}=await y({x:f,y:m,initialPlacement:a,placement:_,strategy:s,middlewareData:g,rects:v,platform:u,elements:{reference:i,floating:o}});f=x??f,m=w??m,g={...g,[b]:{...g[b],...C}},p>50&&console.warn(["Floating UI: The middleware lifecycle appears to be running in an","infinite loop. This is usually caused by a `reset` continually","being returned without a break condition."].join(" ")),S&&p<=50&&(p++,typeof S=="object"&&(S.placement&&(_=S.placement),S.rects&&(v=S.rects===!0?await u.getElementRects({reference:i,floating:o,strategy:s}):S.rects),{x:f,y:m}=bS(v,_,h)),d=-1)}return{x:f,y:m,placement:_,strategy:s,middlewareData:g}})(e,t,{platform:IK,...r}),ES=async({elementReference:e=null,tooltipReference:t=null,tooltipArrowReference:r=null,place:i="top",offset:o=10,strategy:n="absolute"})=>{if(!e)return{tooltipStyles:{},tooltipArrowStyles:{}};if(t===null)return{tooltipStyles:{},tooltipArrowStyles:{}};const a=[PK(Number(o)),DK(),(s={padding:5},s===void 0&&(s={}),{name:"shift",options:s,async fn(l){const{x:u,y:c,placement:h}=l,{mainAxis:v=!0,crossAxis:f=!1,limiter:m={fn:C=>{let{x:S,y:T}=C;return{x:S,y:T}}},..._}=s,g={x:u,y:c},p=await cM(l,_),d=cf(Mf(h)),b=d==="x"?"y":"x";let y=g[d],x=g[b];if(v){const C=d==="y"?"bottom":"right";y=E0(y+p[d==="y"?"top":"left"],y,y-p[C])}if(f){const C=b==="y"?"bottom":"right";x=E0(x+p[b==="y"?"top":"left"],x,x-p[C])}const w=m.fn({...l,[d]:y,[b]:x});return{...w,data:{x:w.x-u,y:w.y-c}}}})];var s;return r?(a.push((l=>({name:"arrow",options:l,async fn(u){const{element:c,padding:h=0}=l??{},{x:v,y:f,placement:m,rects:_,platform:g}=u;if(c==null)return console.warn("Floating UI: No `element` was passed to the `arrow` middleware."),{};const p=uM(h),d={x:v,y:f},b=cf(m),y=Lv(m),x=wb(b),w=await g.getDimensions(c),C=b==="y"?"top":"left",S=b==="y"?"bottom":"right",T=_.reference[x]+_.reference[b]-d[b]-_.floating[x],M=d[b]-_.reference[b],D=await(g.getOffsetParent==null?void 0:g.getOffsetParent(c));let k=D?b==="y"?D.clientHeight||0:D.clientWidth||0:0;k===0&&(k=_.floating[x]);const R=T/2-M/2,P=p[C],E=k-w[x]-p[S],O=k/2-w[x]/2+R,I=E0(P,O,E),U=(y==="start"?p[C]:p[S])>0&&O!==I&&_.reference[x]<=_.floating[x];return{[b]:d[b]-(U?O<P?P-O:E-O:0),data:{[b]:I,centerOffset:O-I}}}}))({element:r,padding:5})),MS(e,t,{placement:i,strategy:n,middleware:a}).then(({x:l,y:u,placement:c,middlewareData:h})=>{var v,f;const m={left:`${l}px`,top:`${u}px`},{x:_,y:g}=(v=h.arrow)!==null&&v!==void 0?v:{x:0,y:0};return{tooltipStyles:m,tooltipArrowStyles:{left:_!=null?`${_}px`:"",top:g!=null?`${g}px`:"",right:"",bottom:"",[(f={top:"bottom",right:"left",bottom:"top",left:"right"}[c.split("-")[0]])!==null&&f!==void 0?f:"bottom"]:"-4px"}}})):MS(e,t,{placement:"bottom",strategy:n,middleware:a}).then(({x:l,y:u})=>({tooltipStyles:{left:`${l}px`,top:`${u}px`},tooltipArrowStyles:{}}))};var Fs={tooltip:"styles-module_tooltip__mnnfp",fixed:"styles-module_fixed__7ciUi",arrow:"styles-module_arrow__K0L3T","no-arrow":"styles-module_no-arrow__KcFZN",clickable:"styles-module_clickable__Bv9o7",show:"styles-module_show__2NboJ",dark:"styles-module_dark__xNqje",light:"styles-module_light__Z6W-X",success:"styles-module_success__A2AKt",warning:"styles-module_warning__SCK0X",error:"styles-module_error__JvumD",info:"styles-module_info__BWdHW"};const LS=({id:e,className:t,classNameArrow:r,variant:i="dark",anchorId:o,place:n="top",offset:a=10,events:s=["hover"],positionStrategy:l="absolute",wrapper:u="div",children:c=null,delayShow:h=0,delayHide:v=0,float:f=!1,noArrow:m=!1,clickable:_=!1,style:g,position:p,isHtmlContent:d=!1,content:b,isOpen:y,setIsOpen:x})=>{const w=ot.useRef(null),C=ot.useRef(null),S=ot.useRef(null),T=ot.useRef(null),[M,D]=ot.useState({}),[k,R]=ot.useState({}),[P,E]=ot.useState(!1),[O,I]=ot.useState(!1),U=ot.useRef(null),{anchorRefs:V,setActiveAnchor:Z}=lM()(e),[z,H]=ot.useState({current:null}),B=ot.useRef(!1),W=G=>{x?x(G):y===void 0&&E(G)},F=(G=v)=>{T.current&&clearTimeout(T.current),T.current=setTimeout(()=>{B.current||W(!1)},G)},K=G=>{var Y;if(!G)return;h?(S.current&&clearTimeout(S.current),S.current=setTimeout(()=>{W(!0)},h)):W(!0);const j=(Y=G.currentTarget)!==null&&Y!==void 0?Y:G.target;H(Q=>Q.current===j?Q:{current:j}),Z({current:j}),T.current&&clearTimeout(T.current)},fe=()=>{_?F(v||50):v?F():W(!1),S.current&&clearTimeout(S.current)},se=({x:G,y:Y})=>{const j={getBoundingClientRect:()=>({x:G,y:Y,width:0,height:0,top:Y,left:G,right:G,bottom:Y})};I(!0),ES({place:n,offset:a,elementReference:j,tooltipReference:w.current,tooltipArrowReference:C.current,strategy:l}).then(Q=>{I(!1),Object.keys(Q.tooltipStyles).length&&D(Q.tooltipStyles),Object.keys(Q.tooltipArrowStyles).length&&R(Q.tooltipArrowStyles)})},ee=G=>{if(!G)return;const Y=G,j={x:Y.clientX,y:Y.clientY};se(j),U.current=j},ie=G=>{K(G),v&&F()},J=G=>{var Y;!((Y=z.current)===null||Y===void 0)&&Y.contains(G.target)||E(!1)},te=yS(K,50),L=yS(fe,50);ot.useEffect(()=>{var G,Y;const j=new Set(V),Q=document.querySelector(`[id='${o}']`);if(Q&&(H(de=>de.current===Q?de:{current:Q}),j.add({current:Q})),!j.size)return()=>null;const q=[];s.find(de=>de==="click")&&(window.addEventListener("click",J),q.push({event:"click",listener:ie})),s.find(de=>de==="hover")&&(q.push({event:"mouseenter",listener:te},{event:"mouseleave",listener:L},{event:"focus",listener:te},{event:"blur",listener:L}),f&&q.push({event:"mousemove",listener:ee}));const re=()=>{B.current=!0},ue=()=>{B.current=!1,fe()};return _&&((G=w.current)===null||G===void 0||G.addEventListener("mouseenter",re),(Y=w.current)===null||Y===void 0||Y.addEventListener("mouseleave",ue)),q.forEach(({event:de,listener:me})=>{j.forEach(pe=>{var ge;(ge=pe.current)===null||ge===void 0||ge.addEventListener(de,me)})}),()=>{var de,me;window.removeEventListener("click",J),_&&((de=w.current)===null||de===void 0||de.removeEventListener("mouseenter",re),(me=w.current)===null||me===void 0||me.removeEventListener("mouseleave",ue)),q.forEach(({event:pe,listener:ge})=>{j.forEach(Te=>{var He;(He=Te.current)===null||He===void 0||He.removeEventListener(pe,ge)})})}},[V,z,o,s,v,h]),ot.useEffect(()=>{if(p)return se(p),()=>null;if(f)return U.current&&se(U.current),()=>null;let G=z.current;o&&(G=document.querySelector(`[id='${o}']`)),I(!0);let Y=!0;return ES({place:n,offset:a,elementReference:G,tooltipReference:w.current,tooltipArrowReference:C.current,strategy:l}).then(j=>{Y&&(I(!1),Object.keys(j.tooltipStyles).length&&D(j.tooltipStyles),Object.keys(j.tooltipArrowStyles).length&&R(j.tooltipArrowStyles))}),()=>{Y=!1}},[P,y,o,z,b,n,a,l,p]),ot.useEffect(()=>()=>{S.current&&clearTimeout(S.current),T.current&&clearTimeout(T.current)},[]);const N=!!(b||c);return Qs.exports.jsxs(u,{id:e,role:"tooltip",className:gS("react-tooltip",Fs.tooltip,Fs[i],t,{[Fs.show]:N&&!O&&(y||P),[Fs.fixed]:l==="fixed",[Fs.clickable]:_}),style:{...g,...M},ref:w,children:[c||(d?Qs.exports.jsx(TK,{content:b}):b),Qs.exports.jsx("div",{className:gS("react-tooltip-arrow",Fs.arrow,r,{[Fs["no-arrow"]]:m}),style:k,ref:C})]})},Rc=({id:e,anchorId:t,content:r,html:i,className:o,classNameArrow:n,variant:a="dark",place:s="top",offset:l=10,wrapper:u="div",children:c=null,events:h=["hover"],positionStrategy:v="absolute",delayShow:f=0,delayHide:m=0,float:_=!1,noArrow:g=!1,clickable:p=!1,style:d,position:b,isOpen:y,setIsOpen:x})=>{const[w,C]=ot.useState(r||i),[S,T]=ot.useState(s),[M,D]=ot.useState(a),[k,R]=ot.useState(l),[P,E]=ot.useState(f),[O,I]=ot.useState(m),[U,V]=ot.useState(_),[Z,z]=ot.useState(u),[H,B]=ot.useState(h),[W,F]=ot.useState(v),[K,fe]=ot.useState(!!i),{anchorRefs:se,activeAnchor:ee}=lM()(e),ie=L=>L==null?void 0:L.getAttributeNames().reduce((N,G)=>{var Y;return G.startsWith("data-tooltip-")&&(N[G.replace(/^data-tooltip-/,"")]=(Y=L==null?void 0:L.getAttribute(G))!==null&&Y!==void 0?Y:null),N},{}),J=L=>{const N={place:G=>{var Y;T((Y=G)!==null&&Y!==void 0?Y:s)},content:G=>{C(G??r)},html:G=>{var Y;fe(!!(G??i)),C((Y=G??i)!==null&&Y!==void 0?Y:r)},variant:G=>{var Y;D((Y=G)!==null&&Y!==void 0?Y:a)},offset:G=>{R(G===null?l:Number(G))},wrapper:G=>{var Y;z((Y=G)!==null&&Y!==void 0?Y:"div")},events:G=>{const Y=G==null?void 0:G.split(" ");B(Y??h)},"position-strategy":G=>{var Y;F((Y=G)!==null&&Y!==void 0?Y:v)},"delay-show":G=>{E(G===null?f:Number(G))},"delay-hide":G=>{I(G===null?m:Number(G))},float:G=>{V(G===null?_:!!G)}};Object.values(N).forEach(G=>G(null)),Object.entries(L).forEach(([G,Y])=>{var j;(j=N[G])===null||j===void 0||j.call(N,Y)})};ot.useEffect(()=>{fe(!1),C(r),i&&(fe(!0),C(i))},[r,i]),ot.useEffect(()=>{var L;const N=new Set(se),G=document.querySelector(`[id='${t}']`);if(G&&N.add({current:G}),!N.size)return()=>null;const Y=new MutationObserver(q=>{q.forEach(re=>{var ue;if(!ee.current||re.type!=="attributes"||!(!((ue=re.attributeName)===null||ue===void 0)&&ue.startsWith("data-tooltip-")))return;const de=ie(ee.current);J(de)})}),j={attributes:!0,childList:!1,subtree:!1},Q=(L=ee.current)!==null&&L!==void 0?L:G;if(Q){const q=ie(Q);J(q),Y.observe(Q,j)}return()=>{Y.disconnect()}},[se,ee,t]);const te={id:e,anchorId:t,className:o,classNameArrow:n,content:w,isHtmlContent:K,place:S,variant:M,offset:k,wrapper:Z,events:H,positionStrategy:W,delayShow:P,delayHide:O,float:U,noArrow:g,clickable:p,style:d,position:b,isOpen:y,setIsOpen:x};return c?Qs.exports.jsx(LS,{...te,children:c}):Qs.exports.jsx(LS,{...te})};let Ef=e=>{let t=e.exportEnabled?Hr.icons_color:"gray",r=e.exportEnabled?e.onExport:null,i=e.exportEnabled?Je.jsx(Rc,{anchorId:"export_icon",content:"Export "+e.contentName,place:"top"}):null;return Je.jsxs("div",{style:{display:"flex",marginRight:"0.5em",justifyContent:"right"},children:[Je.jsxs("div",{id:"add_icon",children:[Je.jsx(sI,{onClick:e.onAdd,size:Hr.icons_size,style:{marginLeft:"0.3em"},color:Hr.icons_color}),Je.jsx(Rc,{anchorId:"add_icon",content:"Add "+e.contentName,place:"top"})]}),Je.jsxs("div",{id:"import_icon",children:[Je.jsx(AA,{onClick:e.onImport,size:Hr.icons_size,style:{marginLeft:"0.3em"},color:Hr.icons_color}),Je.jsx(Rc,{anchorId:"import_icon",content:"Import "+e.contentName,place:"top"})]}),Je.jsxs("div",{id:"export_icon",children:[Je.jsx(TA,{onClick:r,size:Hr.icons_size,style:{marginLeft:"0.3em"},color:t}),i]})]})},NK=e=>{const t=Yn.WidthProvider(Yn.Responsive),r=an(f=>f.peripherals),i=an(f=>f.settings),o=ka();ot.useEffect(()=>()=>{o(kn(["current_peripheral",null]))},[o]);let n=f=>{i.current_peripheral!==f&&o(kn(["current_peripheral",f]))},a=f=>{o(kn(["current_peripheral",null])),Qn.delete_periperal(f).then()},s=f=>{let m=i.current_peripheral,_={[m]:r[m]};mv(_,m)},l=()=>{Sf().then(f=>{IU(f).then(m=>{for(let _ of m);}).catch(m=>{alert(m)})})},u=f=>{let m=Object.values(r).map(g=>{const p=/new_peripheral_(\d+)/g;let d=Array.from(g.peripheral_name.matchAll(p),b=>b[1]);if(d.length>0)return d});m=m.filter(Boolean);let _=Nu(m.sort());Qn.construct_empty("new_peripheral_"+_).add_remote().then()},c=()=>{let f=[];return[Object.values(r).map(_=>(f.push("generic"),_.peripheral_name)),f]};const[h,v]=c();return Je.jsx(t,{className:"layout",breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:24,md:20,sm:12,xs:8,xxs:4},useCSSTransforms:!1,children:Je.jsx(Mi,{"data-grid":{x:0,y:0,w:24,h:7,static:!0},level:"level_2",children:Je.jsx(Vi,{name:"Peripherals List",content:Je.jsxs("div",{children:[Je.jsx(Ef,{onAdd:u,onImport:l,onExport:s,contentName:"Peripherals",exportEnabled:i.current_peripheral}),Je.jsx(Lu,{items:h,types:v,selected_item:i.current_peripheral,onRemove:a,onSelect:n})]})})},"peripherals_list")})};let FK=e=>{const t=an(f=>f.applications),r=an(f=>f.settings),i=ka();let o=f=>{i(kn(["selected_application",null])),Ri.delete_application(f).then()},n=f=>{mv(t[r.selected_application],r.selected_application)},a=f=>{Sf().then(m=>{OU(m).then(()=>{})})},s=f=>{let m=Object.values(t).map(g=>{const p=/new_application_(\d+)/g;let d=Array.from(g.application_name.matchAll(p),b=>b[1]);if(d.length>0)return d});m=m.filter(Boolean);let _=Nu(m.sort());Ri.construct_empty("new_application_"+_).add_remote().then()},l=()=>{let f=[];return[Object.values(t).map(_=>(f.push("generic"),_.application_name)),f]};const[u,c]=l();let h=f=>{r.selected_application!==f&&i(kn(["selected_application",f]))};const v=Yn.WidthProvider(Yn.Responsive);return Je.jsx(v,{className:"layout",breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:24,md:20,sm:12,xs:8,xxs:4},useCSSTransforms:!1,children:Je.jsx(Mi,{"data-grid":{x:0,y:0,w:24,h:3,static:!0},level:"level_2",children:Je.jsx(Vi,{name:"Applications List",content:Je.jsxs("div",{children:[Je.jsx(Ef,{onAdd:s,onImport:a,onExport:n,contentName:"Applications",exportEnabled:r.selected_application}),Je.jsx(Lu,{items:u,types:c,selected_item:r.selected_application,onRemove:o,onSelect:h})]})})},"app_props")})},$K=e=>{const t=ka(),r=an(g=>g.settings),i=an(g=>g.applications),o=an(g=>g.plot.data),[n]=ot.useState(i[r.application]),[a]=ot.useState(i[r.application].timebase_address),[s]=ot.useState(i[r.application].channel_groups),[l]=ot.useState(parseInt(i[r.application].scope_mux_address)),u=an(g=>g.peripherals);let c=g=>{let p=0;if(isNaN(parseFloat(g[g.length-1])))switch(p=g.slice(0,g.length-1),g[g.length-1]){case"M":p=p*1e6;break;case"k":case"K":p=p*1e3;break;case"m":p=p*.001;break;case"u":case"U":p=p*1e-6;break}else p=parseFloat(g);let d=Math.round(Math.ceil(6e4/p)),b=6e4/d;return t(kn(["sampling_period",b])),d},h=g=>{g.preventDefault();let p=c(g.target.frequency.value),d=Math.round(1),b=[],y=u.enable_generator_1.registers.filter(w=>w.ID==="freq")[0].offset,x=parseInt(a)+parseInt(y);b.push([x,p]),y=u.enable_generator_1.registers.filter(w=>w.ID==="pha_1")[0].offset,x=parseInt(a)+parseInt(y),b.push([x,d]),Qn.direct_register_write(b).then()},v=g=>{let p=g.value;_(g.target);let d=[];for(let S of n.channel_groups)S.group_name===p&&(d=S);let b=Tk(d,n.channels),y=[];for(let S of b)y.push(Ck(S));if(t(wk(y)),l){for(let S of b)if(S){let T=l+4*(parseInt(S.number)+1);Qn.direct_register_write([[T,parseInt(S.mux_setting)]]).then()}Qn.direct_register_write([[l,16777216]]).then()}let x=[];for(let S of b)x.push(parseInt(S.phys_width));xk(x).then();let w=[];for(let S of b)w.push(parseFloat(S.scaling_factor));Sk(w).then();let C={};o.map(S=>(C[S.spec.number]=S.visible,0)),Vg(C)},f=s.map((g,p)=>({label:g.group_name,value:g.group_name}));const[m,_]=ot.useState({label:r.default_ch_group.group_name,value:r.default_ch_group.group_name});return Je.jsx("div",{style:{padding:"1rem"},children:Je.jsx("form",{onSubmit:h,children:Je.jsxs(nv,{children:[Je.jsx(Gn,{inline:!0,name:"frequency",label:"Frequency"}),Je.jsx(Gn,{inline:!0,name:"phase",label:"Phase"}),Je.jsx(rf,{label:"Channel Group",name:"channel_group",onChange:v,options:f,value:m}),Je.jsxs(Lo,{children:["Effective Sampling frequency: ",r.sampling_period]}),Je.jsx(xs,{type:"submit",children:"Submit changes"})]})})})},zK=e=>{const t=an(n=>n.settings),r=an(n=>n.plot);let i=n=>{},o=n=>{let a=r.data.map(p=>p.y),s=`time,${r.data[0].name},${r.data[1].name},${r.data[2].name},${r.data[3].name},${r.data[4].name},${r.data[5].name}
`;for(let p=0;p<a[0].length;p++)s+=`${r.data[0].x[p]/t.sampling_period},${a[0][p]},${a[1][p]},${a[2][p]},${a[3][p]},${a[4][p]},${a[5][p]}
`;let[l,u,c]=new Date().toLocaleDateString("en-US").split("/"),[h,v,f]=new Date().toLocaleTimeString("en-US").split(/:| /),m=t.default_ch_group.group_name.replace(" ","_")+"_"+u+l+c+h+v+f;var _=encodeURI("data:text/csv;charset=utf-8,"+s),g=document.createElement("a");g.setAttribute("href",_),g.setAttribute("download",m),g.setAttribute("id","csv_download_link"),document.body.appendChild(g),g.click(),g.remove()};return Je.jsx("div",{style:{padding:"1rem"},children:Je.jsxs(nv,{children:[Je.jsx(Gn,{inline:!0,name:"n_buffers",onChange:i,label:"Number of buffers"}),Je.jsx(xs,{onClick:o,children:"Submit changes"})]})})},HK=e=>{const t=Yn.WidthProvider(Yn.Responsive);return Je.jsxs(t,{className:"layout",breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:24,md:20,sm:12,xs:8,xxs:4},useCSSTransforms:!1,children:[Je.jsx(Mi,{"data-grid":{x:0,y:0,w:24,h:2,static:!0},level:"level_2",children:Je.jsx(Vi,{name:"Scope Properties",content:Je.jsx($K,{})})},"scope_props"),Je.jsx(Mi,{"data-grid":{x:2,y:2,w:24,h:1.15,static:!0},level:"level_2",children:Je.jsx(Vi,{name:"Capture",content:Je.jsx(zK,{})})},"capture")]})},BK=e=>{const t=an(m=>m.scripts),r=an(m=>m.settings),i=ka();ot.useEffect(()=>()=>{i(kn(["selected_script",null]))},[i]);const o=Yn.WidthProvider(Yn.Responsive);let n={name:""};r.selected_script&&(n=t[r.selected_script]);let a=()=>{let m=Nu(Object.values(t).map(g=>g.id).sort());Zl.construct_empty(m).add_remote().then()},s=m=>{let _=Object.values(t).filter(g=>g.name===m)[0];i(kn(["selected_script",null])),Zl.delete_script(_).then()},l=()=>{let m=[];return[Object.values(t).map(g=>(m.push("generic"),g.name)),m]};const[u,c]=l();let h=m=>{if(r.selected_script!==m){let _=Object.values(t).filter(g=>g.name===m)[0];i(kn(["selected_script",_.id]))}},v=()=>{mv(n,n.name)},f=()=>{Sf().then(m=>{new Zl(JSON.parse(m)).add_remote().then()}).catch(m=>{alert(m)})};return Je.jsx(o,{className:"layout",breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:24,md:20,sm:12,xs:8,xxs:4},useCSSTransforms:!1,children:Je.jsx(Mi,{"data-grid":{x:0,y:0,w:24,h:5,static:!0},level:"level_2",children:Je.jsx(Vi,{name:"Script List",content:Je.jsxs("div",{children:[Je.jsx(Ef,{onAdd:a,onImport:f,onExport:v,contentName:"Script",exportEnabled:r.selected_script}),Je.jsx(Lu,{items:u,types:c,selected_item:n.name,onRemove:s,onSelect:h})]})})},"script_props")})},jK=e=>{const t=an(_=>_.programs),r=an(_=>_.settings),i=Yn.WidthProvider(Yn.Responsive),o=ka();ot.useEffect(()=>()=>{o(kn(["selected_program",null]))},[o]);let n=t[r.selected_program],a=new Qo(n),s=()=>{let _=Nu(Object.values(t).map(p=>p.id).sort());Qo.construct_empty(_).add_remote().then()},l=_=>{let g=Object.values(t).filter(p=>p.name===_)[0];o(kn(["selected_program",null])),Qo.delete_program(g).then()},u=()=>{let _=[];return[Object.values(t).map(p=>(_.push(p.program_type),p.name)),_]};const[c,h]=u();let v=_=>{if(r.selected_program!==_){let g=Object.values(t).filter(p=>p.name===_)[0];o(kn(["selected_program",g.id]))}},f=()=>{mv(n,n.name)},m=()=>{Sf().then(_=>{new Qo(JSON.parse(_)).add_remote().then()}).catch(_=>{alert(_)})};return Je.jsx(i,{className:"layout",breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:24,md:20,sm:12,xs:8,xxs:4},useCSSTransforms:!1,children:Je.jsx(Mi,{"data-grid":{x:0,y:0,w:24,h:3,static:!0},level:"level_2",children:Je.jsx(Vi,{name:"Program List",content:Je.jsxs("div",{children:[Je.jsx(Ef,{onAdd:s,onImport:m,onExport:f,contentName:"Program",exportEnabled:r.selected_program}),Je.jsx(Lu,{items:c,types:h,selected_item:a.name,onRemove:l,onSelect:v})]})})},"program_props")})},UK=e=>{const t=Yn.WidthProvider(Yn.Responsive),r=hl(),i=an(m=>m.settings),o=ka(),[n,a]=ot.useState([]),[s,l]=ot.useState(!1);ot.useEffect(()=>{_F().then(m=>{a(m)})},[o,r,i.refresh_user_view,s]);let u=m=>{mF({user:m}).then(_=>{l(!s)})},c=()=>{let m=[];return[Object.values(n).map(g=>{let p="";return g.role==="admin"?p="green":g.role==="user"?p="blue":g.role==="operator"&&(p="red"),m.push(Je.jsx(mI,{size:Hr.icons_size,color:p})),g.username}),m]};const[h,v]=c();let f=m=>{i.selected_user!==m&&o(kn(["selected_user",m]))};return Je.jsx(t,{className:"layout",breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:24,md:20,sm:12,xs:8,xxs:4},useCSSTransforms:!1,children:Je.jsx(Mi,{"data-grid":{x:0,y:0,w:24,h:3,static:!0},level:"level_2",children:Je.jsx(Vi,{name:"Users List",content:Je.jsx(Lu,{items:h,types:v,selected_item:i.selected_user,onRemove:u,onSelect:f})})},"users_list")})},WK=e=>{const t=an(g=>g.bitstreams),r=an(g=>g.settings),[i,o]=ot.useState({}),n=ka(),a=new Ks(t[r.selected_bitstream]),s=Yn.WidthProvider(Yn.Responsive);let l=g=>{if(r.selected_bitstream!==g){let p=Object.values(t).filter(d=>d.name===g)[0];n(kn(["selected_bitstream",p.id]))}},u=()=>{let g=Object.values(t).map(d=>d.id).sort(),p=Nu(g);o({id:p,name:"new_bitstream_"+p}),NU().then(d=>{Ks.get_file_content(d).then(b=>{i.content=b.content,i.name=b.name.replace(".bit",""),new Ks(i).add_remote().then()})})},c=g=>{let p=Object.values(t).filter(d=>d.name===g)[0];n(kn(["selected_bitstream",null])),Ks.delete_bitstream(p).then()},h=()=>{let g=[];return[Object.values(t).map(d=>(g.push("generic"),d.name)),g]};const[v,f]=h();let m=()=>{},_=()=>{};return Je.jsx(s,{className:"layout",breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:24,md:20,sm:12,xs:8,xxs:4},useCSSTransforms:!1,children:Je.jsx(Mi,{"data-grid":{x:0,y:0,w:24,h:3,static:!0},level:"level_2",children:Je.jsx(Vi,{name:"Bitstream List",content:Je.jsxs("div",{children:[Je.jsx(Ef,{onAdd:u,onImport:m,onExport:_,contentName:"Bitstream",exportEnabled:r.selected_bitstream}),Je.jsx(Lu,{items:v,types:f,selected_item:a.name,onRemove:c,onSelect:l})]})})},"bitstream_list")})},VK=e=>{switch(hl().pathname){case"/peripherals_manager":return Je.jsx(NK,{});case"/applications_manager":return Je.jsx(FK,{});case"/script_manager":return Je.jsx(BK,{});case"/program_manager":return Je.jsx(jK,{});case"/":return Je.jsx(HK,{});case"/platform_manager":return Je.jsx(UK,{});case"/bitstream_manager":return Je.jsx(WK,{});default:return null}};let gM=e=>{const t=Yn.WidthProvider(Yn.Responsive),r=an(l=>l.settings),i=ka();let o=l=>{l.preventDefault();let u=l.target.user.value,c=l.target.pass.value,h=l.target.role.value;e.onboarding?(yF({user:u,password:c,role:h}).then(v=>{i(kn(["refresh_user_view",!r.refresh_user_view]))}),e.onboarding_done()):vF({user:u,password:c,role:h}).then(v=>{i(kn(["refresh_user_view",!r.refresh_user_view]))})},n=()=>{bF().then(l=>{let u=encodeURI("data:text/json;charset=utf-8,"+JSON.stringify(l)),c=document.createElement("a");c.setAttribute("href",u),c.setAttribute("download","dump.db"),c.setAttribute("id","csv_download_link"),document.body.appendChild(c),c.click(),c.remove()})},a=()=>{Sf().then(l=>{let u=JSON.parse(l);wF(u).then()}).catch(l=>{alert(l.message)})},s=()=>Je.jsxs("div",{style:{display:"flex",marginRight:"0.5em",justifyContent:"right"},children:[Je.jsxs("div",{id:"import_icon",children:[Je.jsx(AA,{onClick:a,size:"2em",style:{marginLeft:"0.3em"},color:Hr.icons_color}),Je.jsx(Rc,{anchorId:"import_icon",content:"Restore Database",place:"top"})]}),Je.jsxs("div",{id:"export_icon",children:[Je.jsx(TA,{onClick:n,size:"2em",style:{marginLeft:"0.3em"},color:Hr.icons_color}),Je.jsx(Rc,{anchorId:"export_icon",content:"Dump Database",place:"top"})]})]});return Je.jsx(t,{className:"layout",breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:24,md:20,sm:12,xs:8,xxs:4},rowHeight:30,useCSSTransforms:!1,children:Je.jsx(Mi,{"data-grid":{x:0,y:0,w:24,h:7,static:!0},level:"level_2",children:Je.jsx(Vi,{name:"Platform Management",content:Je.jsxs("div",{children:[s(),Je.jsx("form",{onSubmit:o,children:Je.jsxs(nv,{children:[Je.jsx(Gn,{inline:!0,name:"user",label:"Username"}),Je.jsx(Gn,{inline:!0,name:"pass",label:"Password"}),Je.jsx(rf,{label:"Role",defaultValue:"role",name:"role",placeholder:"Role",options:[{value:"admin",label:"admin"},{value:"user",label:"user"},{value:"operator",label:"operator"}]}),Je.jsx(xs,{children:" Add User "})]})})]})})},"platform_management")})};const GK=Object.freeze(Object.defineProperty({__proto__:null,default:gM},Symbol.toStringTag,{value:"Module"})),YK=Yn.WidthProvider(Yn.Responsive);let KK=e=>{const t=an(c=>c.settings),r=an(c=>c.peripherals),i=an(c=>c.applications),[o,n]=ot.useState([]),[a,s]=ot.useState("WAITING");let l=()=>{u(),s("NORMAL")};ot.useEffect(()=>{e.needs_onboarding?s("ONBOARDING"):(tF().then(c=>{c[0].status==="valid"||Object.keys(c[0].data).length!==0?s("APP_CHOICE"):Ri.construct_empty("default").add_remote().then(()=>{s("APP_CHOICE")})}),s("RESOURCE_LOADING"))},[e.needs_onboarding]),ot.useEffect(()=>{t.application&&jN(i[t.application],r)},[t.application,r,i]);let u=()=>{let c=[],v={admin:1,user:2,operator:3}[t.user_role];v<=3&&c.push({name:"Plot",peripheral_id:"plot",type:"Scope"}),v<=2&&(c.push({name:"Scripts",peripheral_id:"script_manager",type:"script_manager"}),c.push({name:"Applications",peripheral_id:"applications_manager",type:"applications_manager"}),c.push({name:"Programs",peripheral_id:"program_manager",type:"program_manager"}),c.push({name:"Bitstreams",peripheral_id:"bitstream_manager",type:"bitstream_manager"})),v<=1&&(c.push({name:"Peripherals",peripheral_id:"peripherals_manager",type:"peripherals_manager"}),c.push({name:"Platform",peripheral_id:"platform_manager",type:"platform_manager"})),n(c)};switch(a){case"ONBOARDING":return Je.jsx("div",{className:"App",children:Je.jsx(gM,{onboarding:!0,onboarding_done:e.onboarding_done})});case"RESOURCE LOADING":return Je.jsx(Je.Fragment,{});case"APP_CHOICE":return Je.jsx("div",{className:"App",children:Je.jsx(CK,{choice_done:l})});case"NORMAL":return Je.jsx("div",{className:"App",children:Je.jsxs(YK,{className:"layout",breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:24,md:20,sm:12,xs:8,xxs:4},rowHeight:30,compactType:"horizontal",useCSSTransforms:!1,children:[Je.jsx("div",{"data-grid":{x:0,y:0,w:3,h:26,static:!0},children:Je.jsx(bK,{views:o})},"nav"),Je.jsx(Mi,{"data-grid":{x:3,y:0,w:16,h:26,static:!0},level:"level_1",children:Je.jsxs(kP,{children:[Je.jsx(Uo,{path:"/",element:Je.jsx(Ns,{className:"main_content_tab",tab:o[0]})},"plot"),Je.jsx(Uo,{path:"/script_manager",element:Je.jsx(Ns,{className:"main_content_tab",tab:o[1]})},"script_manager"),Je.jsx(Uo,{path:"/applications_manager",element:Je.jsx(Ns,{className:"main_content_tab",tab:o[2]})},"applications_manager"),Je.jsx(Uo,{path:"/program_manager",element:Je.jsx(Ns,{className:"main_content_tab",tab:o[3]})},"program_manager"),Je.jsx(Uo,{path:"/bitstream_manager",element:Je.jsx(Ns,{className:"main_content_tab",tab:o[4]})},"bitstream_manager"),Je.jsx(Uo,{path:"/peripherals_manager",element:Je.jsx(Ns,{className:"main_content_tab",tab:o[5]})},"peripherals_manager"),Je.jsx(Uo,{path:"/platform_manager",element:Je.jsx(Ns,{className:"main_content_tab",tab:o[6]})},"platform_manager")]})},"main"),Je.jsx(Mi,{"data-grid":{x:19,y:0,w:5,h:26,static:!0},level:"level_1",children:Je.jsx(VK,{})},"props")]})});default:return Je.jsx(Je.Fragment,{})}};const XK=Xr.div`
  display: grid;
  grid-template-columns: auto;
  grid-auto-rows: auto;
  grid-column-gap: 0.5rem;
  grid-row-gap: 2rem;
  margin-left: auto;
  margin-right: auto;
`,ZK=Xr.div`
  display: grid;
  grid-template-columns: auto;
  grid-auto-rows: auto;
  grid-column-gap: 0.5rem;
  grid-row-gap: 1rem;
  width: 20rem;
  margin-left: auto;
  margin-right: auto;  
`,DS=Xr.div`
  margin-left: auto;
  margin-right: auto;  
`;let JK=e=>{const[t,r]=ot.useState(""),[i,o]=ot.useState(""),[n,a]=ot.useState(!1);let s=u=>{switch(u.target.name){case"username":r(u.target.value);break;case"password":o(u.target.value);break;case"remember_me":a(u.target.checked);break}},l=()=>{let u={user:t,password:i,remember_me:n,login_type:"user"};e.done(u)};return Je.jsxs(XK,{children:[Je.jsx(DS,{children:Je.jsx("h1",{id:"login_page_title",children:"Please Sign In"})}),Je.jsxs(ZK,{children:[Je.jsx(Gn,{name:"username",compact:!0,onChange:s,label:"Username"}),Je.jsx(Gn,{name:"password",type:"password",compact:!0,onChange:s,label:"Password"}),Je.jsx(jh,{name:"remember_me",onChange:s,value:n,label:"Remember Me"})]}),Je.jsx(DS,{children:Je.jsx(xs,{name:"sign_in_button",onClick:l,children:"Sign In"})})]})},QK=e=>{const[t,r]=ot.useState(!1),[i,o]=ot.useState(!0),n=ka(),a=ot.useCallback(u=>{pF(u).then(c=>{c.login_token&&localStorage.setItem("login_token",JSON.stringify(c.login_token)),n(kn(["user_role",c.role])),n(kn(["access_token",c.access_token])),n(kn(["auth_config",{headers:{Authorization:`Bearer ${c.access_token}`}}])),LN({headers:{Authorization:`Bearer ${c.access_token}`}}),r(!0)}).catch(()=>{localStorage.removeItem("login_token")})},[]);ot.useEffect(()=>{n(kn(["server_url","https://uscope_0.local/uscope/"])),EN("https://uscope_0.local/uscope/"),FU(bu),gF().then(u=>{o(u.onboarding_needed),u.onboarding_needed?r(!0):s()})},[]);let s=()=>{let u=JSON.parse(localStorage.getItem("login_token"));u&&(Date.now()>u.expiry?(u.login_type="automated",a(u)):localStorage.removeItem("login_token"))},l=()=>{r(!1),o(!1)};return Je.jsx(n8,{theme:Hr,children:Je.jsx("div",{className:"App",children:Je.jsx(Fn.StrictMode,{children:t?Je.jsx(KK,{onboarding_done:l,needs_onboarding:i}):Je.jsx(JK,{done:a})})})})};var yM=void 0,qK=eX(ot);function eX(e){if(e&&e.__esModule)return e;var t={};if(e!=null){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};i.get||i.set?Object.defineProperty(t,r,i):t[r]=e[r]}}return t.default=e,t}function nh(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?nh=function(r){return typeof r}:nh=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},nh(e)}function tX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PS(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function rX(e,t,r){return t&&PS(e.prototype,t),r&&PS(e,r),e}function nX(e,t){return t&&(nh(t)==="object"||typeof t=="function")?t:ih(e)}function ky(e){return ky=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},ky(e)}function ih(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&My(e,t)}function My(e,t){return My=Object.setPrototypeOf||function(i,o){return i.__proto__=o,i},My(e,t)}function ah(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var _M=function(e){iX(t,e);function t(){var r,i;tX(this,t);for(var o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];return i=nX(this,(r=ky(t)).call.apply(r,[this].concat(n))),ah(ih(i),"state",{bootstrapped:!1}),ah(ih(i),"_unsubscribe",void 0),ah(ih(i),"handlePersistorState",function(){var s=i.props.persistor,l=s.getState(),u=l.bootstrapped;u&&(i.props.onBeforeLift?Promise.resolve(i.props.onBeforeLift()).finally(function(){return i.setState({bootstrapped:!0})}):i.setState({bootstrapped:!0}),i._unsubscribe&&i._unsubscribe())}),i}return rX(t,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),t}(qK.PureComponent);yM=_M;ah(_M,"defaultProps",{children:null,loading:null});const aX=document.getElementById("root"),oX=Y5(aX);oX.render(Je.jsx(ER,{store:bu,children:Je.jsx(yM,{loading:null,persistor:CV,children:Je.jsx(PP,{children:Je.jsx(QK,{})})})}));export{vX as A,GU as B,Hr as C,Ks as D,xs as E,nv as F,Gn as I,pX as L,fX as M,VU as P,mX as R,Vi as S,Mi as U,sR as _,Zl as a,VN as b,Yn as c,Qn as d,gX as e,HU as f,Nu as g,rf as h,Ri as i,Je as j,jh as k,uX as l,fI as m,Fn as n,Y3 as o,lX as p,dX as q,ot as r,kA as s,hX as t,an as u,Rc as v,cX as w,Qo as x,Xr as y,Ir as z};
